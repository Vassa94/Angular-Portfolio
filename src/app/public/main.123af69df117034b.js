(self.webpackChunkAng_Portfolio=self.webpackChunkAng_Portfolio||[]).push([[179],{2011:(St,Ve,j)=>{"use strict";j.d(Ve,{Dh:()=>Ce,GT:()=>Se,cc:()=>We,hO:()=>st,on:()=>ee,pX:()=>be,xv:()=>Ae});var o=j(4650),q=j(127),V=j(5813);St=j.hmd(St);const ge=["ngOnDestroy"],be=(Ie,ht,ft,Ke={})=>new Proxy(Ie,{get:(ze,Be)=>ft.runOutsideAngular(()=>{var lt;if(Ie[Be])return!(null===(lt=Ke?.spy)||void 0===lt)&&lt.get&&Ke.spy.get(Be,Ie[Be]),Ie[Be];if(ge.indexOf(Be)>-1)return()=>{};const G=ht.toPromise().then(ve=>{const Ee=ve&&ve[Be];return"function"==typeof Ee?Ee.bind(ve):Ee&&Ee.then?Ee.then(ae=>ft.run(()=>ae)):ft.run(()=>Ee)});return new Proxy(()=>{},{get:(ve,Ee)=>G[Ee],apply:(ve,Ee,ae)=>G.then(le=>{var he;const me=le&&le(...ae);return!(null===(he=Ke?.spy)||void 0===he)&&he.apply&&Ke.spy.apply(Be,ae,me),me})})})}),Se=(Ie,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Ke=>{Object.defineProperty(Ie.prototype,Ke,Object.getOwnPropertyDescriptor(ft.prototype||ft,Ke))})})};class _e{constructor(ht){return ht}}const Ce=new o.OlP("angularfire2.app.options"),Ae=new o.OlP("angularfire2.app.name");function ee(Ie,ht,ft){const ze="object"==typeof ft&&ft||{};ze.name=ze.name||"string"==typeof ft&&ft||"[DEFAULT]";const lt=q.Z.apps.filter(G=>G&&G.name===ze.name)[0]||ht.runOutsideAngular(()=>q.Z.initializeApp(Ie,ze));try{JSON.stringify(Ie)!==JSON.stringify(lt.options)&&ne("error",`${lt.name} Firebase App already initialized with different options${St.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(lt)}const ne=(Ie,...ht)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...ht)},ce={provide:_e,useFactory:ee,deps:[Ce,o.R0b,[new o.FiY,Ae]]};let st=(()=>{class Ie{constructor(ft){q.Z.registerVersion("angularfire",V.q4.full,"core"),q.Z.registerVersion("angularfire",V.q4.full,"app-compat"),q.Z.registerVersion("angular",o.q4F.full,ft.toString())}static initializeApp(ft,Ke){return{ngModule:Ie,providers:[{provide:Ce,useValue:ft},{provide:Ae,useValue:Ke}]}}}return Ie.\u0275fac=function(ft){return new(ft||Ie)(o.LFG(o.Lbi))},Ie.\u0275mod=o.oAB({type:Ie}),Ie.\u0275inj=o.cJS({providers:[ce]}),Ie})();function We(Ie,ht,ft,Ke,ze){const[,Be,lt]=globalThis.\u0275AngularfireInstanceCache.find(G=>G[0]===Ie)||[];if(Be)return function Le(Ie,ht){try{return Ie.toString()===ht.toString()}catch{return Ie===ht}}(ze,lt)||(Ne("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:ze,was:lt})),Be;{const G=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Ie,G,ze]),G}}const _t=!!St.hot,Ne=(Ie,...ht)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(St,Ve,j)=>{"use strict";j.d(Ve,{q4:()=>zd,iC:()=>Yc,fc:()=>dl,HU:()=>Kc,vb:()=>Zh,JM:()=>Bs});var o=j(4650),q=j(5867),V=j(5861),ge=j(9681),be=j(2090),Se=j(4859),_e=j(1877),Ce=j(8766);const Ae="@firebase/installations",ee="0.5.12",ce=`w:${ee}`,st="FIS_v2",ht=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(x){return x instanceof be.ZR&&x.code.includes("request-failed")}function Ke({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ze(x){return{token:x.token,requestStatus:2,expiresIn:le(x.expiresIn),creationTime:Date.now()}}function Be(x,k){return lt.apply(this,arguments)}function lt(){return(lt=(0,V.Z)(function*(x,k){const K=(yield k.json()).error;return ht.create("request-failed",{requestName:x,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function G({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ve(x,{refreshToken:k}){const F=G(x);return F.append("Authorization",function he(x){return`${st} ${x}`}(k)),F}function Ee(x){return ae.apply(this,arguments)}function ae(){return(ae=(0,V.Z)(function*(x){const k=yield x();return k.status>=500&&k.status<600?x():k})).apply(this,arguments)}function le(x){return Number(x.replace("s","000"))}function me(x,k){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*({appConfig:x,heartbeatServiceProvider:k},{fid:F}){const K=Ke(x),ue=G(x),we=k.getImmediate({optional:!0});if(we){const Kt=yield we.getHeartbeatsHeader();Kt&&ue.append("x-firebase-client",Kt)}const ut={method:"POST",headers:ue,body:JSON.stringify({fid:F,authVersion:st,appId:x.appId,sdkVersion:ce})},Rt=yield Ee(()=>fetch(K,ut));if(Rt.ok){const Kt=yield Rt.json();return{fid:Kt.fid||F,registrationStatus:2,refreshToken:Kt.refreshToken,authToken:ze(Kt.authToken)}}throw yield Be("Create Installation",Rt)})).apply(this,arguments)}function Ye(x){return new Promise(k=>{setTimeout(k,x)})}const mn=/^[cdef][\w-]{21}$/;function tt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const F=function vn(x){return function Nt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return mn.test(F)?F:""}catch{return""}}function ii(x){return`${x.appName}!${x.appId}`}const hn=new Map;function ln(x,k){const F=ii(x);Di(F,k),function ns(x,k){const F=function Hn(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=x=>{Di(x.data.key,x.data.fid)}),Ji}();F&&F.postMessage({key:x,fid:k}),function Sr(){0===hn.size&&Ji&&(Ji.close(),Ji=null)}()}(F,k)}function Di(x,k){const F=hn.get(x);if(F)for(const K of F)K(k)}let Ji=null;const Gn="firebase-installations-store";let Kn=null;function wt(){return Kn||(Kn=(0,Ce.X3)("firebase-installations-database",1,{upgrade:(x,k)=>{0===k&&x.createObjectStore(Gn)}})),Kn}function Pn(x,k){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,V.Z)(function*(x,k){const F=ii(x),ue=(yield wt()).transaction(Gn,"readwrite"),we=ue.objectStore(Gn),Ze=yield we.get(F);return yield we.put(k,F),yield ue.done,(!Ze||Ze.fid!==k.fid)&&ln(x,k.fid),k})).apply(this,arguments)}function bn(x){return fi.apply(this,arguments)}function fi(){return(fi=(0,V.Z)(function*(x){const k=ii(x),K=(yield wt()).transaction(Gn,"readwrite");yield K.objectStore(Gn).delete(k),yield K.done})).apply(this,arguments)}function Gi(x,k){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,V.Z)(function*(x,k){const F=ii(x),ue=(yield wt()).transaction(Gn,"readwrite"),we=ue.objectStore(Gn),Ze=yield we.get(F),ut=k(Ze);return void 0===ut?yield we.delete(F):yield we.put(ut,F),yield ue.done,ut&&(!Ze||Ze.fid!==ut.fid)&&ln(x,ut.fid),ut})).apply(this,arguments)}function fn(x){return ri.apply(this,arguments)}function ri(){return(ri=(0,V.Z)(function*(x){let k;const F=yield Gi(x.appConfig,K=>{const ue=In(K),we=ct(x,ue);return k=we.registrationPromise,we.installationEntry});return""===F.fid?{installationEntry:yield k}:{installationEntry:F,registrationPromise:k}})).apply(this,arguments)}function In(x){return Yn(x||{fid:tt(),registrationStatus:0})}function ct(x,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(ht.create("app-offline"))};const F={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},K=function at(x,k){return $n.apply(this,arguments)}(x,F);return{installationEntry:F,registrationPromise:K}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:Pi(x)}:{installationEntry:k}}function $n(){return($n=(0,V.Z)(function*(x,k){try{const F=yield me(x,k);return Pn(x.appConfig,F)}catch(F){throw ft(F)&&409===F.customData.serverCode?yield bn(x.appConfig):yield Pn(x.appConfig,{fid:k.fid,registrationStatus:0}),F}})).apply(this,arguments)}function Pi(x){return _n.apply(this,arguments)}function _n(){return(_n=(0,V.Z)(function*(x){let k=yield en(x.appConfig);for(;1===k.registrationStatus;)yield Ye(100),k=yield en(x.appConfig);if(0===k.registrationStatus){const{installationEntry:F,registrationPromise:K}=yield fn(x);return K||F}return k})).apply(this,arguments)}function en(x){return Gi(x,k=>{if(!k)throw ht.create("installation-not-found");return Yn(k)})}function Yn(x){return function er(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Zt(x,k){return xr.apply(this,arguments)}function xr(){return(xr=(0,V.Z)(function*({appConfig:x,heartbeatServiceProvider:k},F){const K=qt(x,F),ue=ve(x,F),we=k.getImmediate({optional:!0});if(we){const Kt=yield we.getHeartbeatsHeader();Kt&&ue.append("x-firebase-client",Kt)}const ut={method:"POST",headers:ue,body:JSON.stringify({installation:{sdkVersion:ce,appId:x.appId}})},Rt=yield Ee(()=>fetch(K,ut));if(Rt.ok)return ze(yield Rt.json());throw yield Be("Generate Auth Token",Rt)})).apply(this,arguments)}function qt(x,{fid:k}){return`${Ke(x)}/${k}/authTokens:generate`}function oe(x){return W.apply(this,arguments)}function W(){return(W=(0,V.Z)(function*(x,k=!1){let F;const K=yield Gi(x.appConfig,we=>{if(!Ft(we))throw ht.create("not-registered");const Ze=we.authToken;if(!k&&kn(Ze))return we;if(1===Ze.requestStatus)return F=Q(x,k),we;{if(!navigator.onLine)throw ht.create("app-offline");const ut=pi(we);return F=Ue(x,ut),ut}});return F?yield F:K.authToken})).apply(this,arguments)}function Q(x,k){return ie.apply(this,arguments)}function ie(){return(ie=(0,V.Z)(function*(x,k){let F=yield re(x.appConfig);for(;1===F.authToken.requestStatus;)yield Ye(100),F=yield re(x.appConfig);const K=F.authToken;return 0===K.requestStatus?oe(x,k):K})).apply(this,arguments)}function re(x){return Gi(x,k=>{if(!Ft(k))throw ht.create("not-registered");return function de(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Ue(x,k){return nt.apply(this,arguments)}function nt(){return(nt=(0,V.Z)(function*(x,k){try{const F=yield Zt(x,k),K=Object.assign(Object.assign({},k),{authToken:F});return yield Pn(x.appConfig,K),F}catch(F){if(!ft(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const K=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Pn(x.appConfig,K)}else yield bn(x.appConfig);throw F}})).apply(this,arguments)}function Ft(x){return void 0!==x&&2===x.registrationStatus}function kn(x){return 2===x.requestStatus&&!function Sn(x){const k=Date.now();return k<x.creationTime||x.creationTime+x.expiresIn<k+36e5}(x)}function pi(x){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:k})}function X(){return(X=(0,V.Z)(function*(x){const k=x,{installationEntry:F,registrationPromise:K}=yield fn(k);return K?K.catch(console.error):oe(k).catch(console.error),F.fid})).apply(this,arguments)}function et(){return(et=(0,V.Z)(function*(x,k=!1){const F=x;return yield Pt(F),(yield oe(F,k)).token})).apply(this,arguments)}function Pt(x){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,V.Z)(function*(x){const{registrationPromise:k}=yield fn(x);k&&(yield k)})).apply(this,arguments)}function Js(x){return ht.create("missing-app-config-values",{valueName:x})}const tn="installations",Ds=x=>{const k=x.getProvider("app").getImmediate(),F=function $t(x){if(!x||!x.options)throw Js("App Configuration");if(!x.name)throw Js("App Name");const k=["projectId","apiKey","appId"];for(const F of k)if(!x.options[F])throw Js(F);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(k);return{app:k,appConfig:F,heartbeatServiceProvider:(0,ge._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Dc=x=>{const k=x.getProvider("app").getImmediate(),F=(0,ge._getProvider)(k,tn).getImmediate();return{getId:()=>function J(x){return X.apply(this,arguments)}(F),getToken:ue=>function Me(x){return et.apply(this,arguments)}(F,ue)}};(function Xs(){(0,ge._registerComponent)(new Se.wA(tn,Ds,"PUBLIC")),(0,ge._registerComponent)(new Se.wA("installations-internal",Dc,"PRIVATE"))})(),(0,ge.registerVersion)(Ae,ee),(0,ge.registerVersion)(Ae,ee,"esm2017");const li="@firebase/remote-config",$i=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ac{constructor(k,F,K,ue){this.client=k,this.storage=F,this.storageCache=K,this.logger=ue}isCachedDataFresh(k,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-F,ue=K<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${ue}.`),ue}fetch(k){var F=this;return(0,V.Z)(function*(){const[K,ue]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ue&&F.isCachedDataFresh(k.cacheMaxAgeMillis,K))return ue;k.eTag=ue&&ue.eTag;const we=yield F.client.fetch(k),Ze=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Ze.push(F.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Ze),we})()}}function As(x=navigator){return x.languages&&x.languages[0]||x.language}class eo{constructor(k,F,K,ue,we,Ze){this.firebaseInstallations=k,this.sdkVersion=F,this.namespace=K,this.projectId=ue,this.apiKey=we,this.appId=Ze}fetch(k){var F=this;return(0,V.Z)(function*(){var K,ue,we;const[Ze,ut]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Mt={sdk_version:F.sdkVersion,app_instance_id:Ze,app_instance_id_token:ut,app_id:F.appId,language_code:As()},bi={method:"POST",headers:cn,body:JSON.stringify(Mt)},Rr=fetch(Kt,bi),Vo=new Promise((Uo,fl)=>{k.signal.addEventListener(()=>{const Zu=new Error("The operation was aborted.");Zu.name="AbortError",fl(Zu)})});let Wl;try{yield Promise.race([Rr,Vo]),Wl=yield Rr}catch(Uo){let fl="fetch-client-network";throw"AbortError"===(null===(K=Uo)||void 0===K?void 0:K.name)&&(fl="fetch-timeout"),$i.create(fl,{originalErrorMessage:null===(ue=Uo)||void 0===ue?void 0:ue.message})}let Vs=Wl.status;const Aa=Wl.headers.get("ETag")||void 0;let Kl,Qc;if(200===Wl.status){let Uo;try{Uo=yield Wl.json()}catch(fl){throw $i.create("fetch-client-parse",{originalErrorMessage:null===(we=fl)||void 0===we?void 0:we.message})}Kl=Uo.entries,Qc=Uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Qc?Vs=500:"NO_CHANGE"===Qc?Vs=304:("NO_TEMPLATE"===Qc||"EMPTY_CONFIG"===Qc)&&(Kl={}),304!==Vs&&200!==Vs)throw $i.create("fetch-status",{httpStatus:Vs});return{status:Vs,eTag:Aa,config:Kl}})()}}class xs{constructor(k,F){this.client=k,this.storage=F}fetch(k){var F=this;return(0,V.Z)(function*(){const K=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(k,K)})()}attemptFetch(k,{throttleEndTimeMillis:F,backoffCount:K}){var ue=this;return(0,V.Z)(function*(){yield function Nr(x,k){return new Promise((F,K)=>{const ue=Math.max(k-Date.now(),0),we=setTimeout(F,ue);x.addEventListener(()=>{clearTimeout(we),K($i.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,F);try{const we=yield ue.client.fetch(k);return yield ue.storage.deleteThrottleMetadata(),we}catch(we){if(!function Fh(x){if(!(x instanceof be.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}(we))throw we;const Ze={throttleEndTimeMillis:Date.now()+(0,be.$s)(K),backoffCount:K+1};return yield ue.storage.setThrottleMetadata(Ze),ue.attemptFetch(k,Ze)}})()}}class Bh{constructor(k,F,K,ue,we){this.app=k,this._client=F,this._storageCache=K,this._storage=ue,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qa(x,k){var F;const K=x.target.error||void 0;return $i.create(k,{originalErrorMessage:K&&(null===(F=K)||void 0===F?void 0:F.message)})}const oa="app_namespace_store";class Ru{constructor(k,F,K,ue=function Vh(){return new Promise((x,k)=>{var F;try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ue=>{k(qa(ue,"storage-open"))},K.onsuccess=ue=>{x(ue.target.result)},K.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(oa,{keyPath:"compositeKey"})}}catch(K){k($i.create("storage-open",{originalErrorMessage:null===(F=K)||void 0===F?void 0:F.message}))}})}()){this.appId=k,this.appName=F,this.namespace=K,this.openDbPromise=ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var F=this;return(0,V.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ue,we)=>{var Ze;const Rt=K.transaction([oa],"readonly").objectStore(oa),Kt=F.createCompositeKey(k);try{const cn=Rt.get(Kt);cn.onerror=Mt=>{we(qa(Mt,"storage-get"))},cn.onsuccess=Mt=>{const bi=Mt.target.result;ue(bi?bi.value:void 0)}}catch(cn){we($i.create("storage-get",{originalErrorMessage:null===(Ze=cn)||void 0===Ze?void 0:Ze.message}))}})})()}set(k,F){var K=this;return(0,V.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((we,Ze)=>{var ut;const Kt=ue.transaction([oa],"readwrite").objectStore(oa),cn=K.createCompositeKey(k);try{const Mt=Kt.put({compositeKey:cn,value:F});Mt.onerror=bi=>{Ze(qa(bi,"storage-set"))},Mt.onsuccess=()=>{we()}}catch(Mt){Ze($i.create("storage-set",{originalErrorMessage:null===(ut=Mt)||void 0===ut?void 0:ut.message}))}})})()}delete(k){var F=this;return(0,V.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ue,we)=>{var Ze;const Rt=K.transaction([oa],"readwrite").objectStore(oa),Kt=F.createCompositeKey(k);try{const cn=Rt.delete(Kt);cn.onerror=Mt=>{we(qa(Mt,"storage-delete"))},cn.onsuccess=()=>{ue()}}catch(cn){we($i.create("storage-delete",{originalErrorMessage:null===(Ze=cn)||void 0===Ze?void 0:Ze.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class no{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,V.Z)(function*(){const F=k.storage.getLastFetchStatus(),K=k.storage.getLastSuccessfulFetchTimestampMillis(),ue=k.storage.getActiveConfig(),we=yield F;we&&(k.lastFetchStatus=we);const Ze=yield K;Ze&&(k.lastSuccessfulFetchTimestampMillis=Ze);const ut=yield ue;ut&&(k.activeConfig=ut)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Tp(){return $r.apply(this,arguments)}function $r(){return($r=(0,V.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function xc(){(0,ge._registerComponent)(new Se.wA("remote-config",function x(k,{instanceIdentifier:F}){const K=k.getProvider("app").getImmediate(),ue=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $i.create("registration-window");if(!(0,be.hl)())throw $i.create("indexed-db-unavailable");const{projectId:we,apiKey:Ze,appId:ut}=K.options;if(!we)throw $i.create("registration-project-id");if(!Ze)throw $i.create("registration-api-key");if(!ut)throw $i.create("registration-app-id");const Rt=new Ru(ut,K.name,F=F||"firebase"),Kt=new no(Rt),cn=new _e.Yd(li);cn.logLevel=_e.in.ERROR;const Mt=new eo(ue,ge.SDK_VERSION,F,we,Ze,ut),bi=new xs(Mt,Rt),Rr=new Ac(bi,Rt,Kt,cn),Vo=new Bh(K,Rr,Kt,Rt,cn);return function zi(x){const k=(0,be.m9)(x);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(Vo),Vo},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(li,"0.3.11"),(0,ge.registerVersion)(li,"0.3.11","esm2017")}();const is="/firebase-messaging-sw.js",io="/firebase-cloud-messaging-push-scope",ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rl="google.c.a.c_id",Wa="google.c.a.c_l",Pu="google.c.a.ts",la="google.c.a.e";var rs=(()=>{return(x=rs||(rs={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",rs;var x})();function ui(x){const k=new Uint8Array(x);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ks(x){const F=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(F),ue=new Uint8Array(K.length);for(let we=0;we<K.length;++we)ue[we]=K.charCodeAt(we);return ue}const Ka="fcm_token_details_db",Pl="fcm_token_object_Store";function Ip(x){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,V.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(Ka))return null;let k=null;return(yield(0,Ce.X3)(Ka,5,{upgrade:(K=(0,V.Z)(function*(ue,we,Ze,ut){var Rt;if(we<2||!ue.objectStoreNames.contains(Pl))return;const Kt=ut.objectStore(Pl),cn=yield Kt.index("fcmSenderId").get(x);if(yield Kt.clear(),cn)if(2===we){const Mt=cn;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;k={token:Mt.fcmToken,createTime:null!==(Rt=Mt.createTime)&&void 0!==Rt?Rt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ui(Mt.vapidKey)}}}else if(3===we){const Mt=cn;k={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ui(Mt.auth),p256dh:ui(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ui(Mt.vapidKey)}}}else if(4===we){const Mt=cn;k={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ui(Mt.auth),p256dh:ui(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ui(Mt.vapidKey)}}}}),function(we,Ze,ut,Rt){return K.apply(this,arguments)})})).close(),yield(0,Ce.Lj)(Ka),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),kc(k)?k:null;var K}),Qn.apply(this,arguments)}function kc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:k}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const _i="firebase-messaging-store";let Io=null;function So(){return Io||(Io=(0,Ce.X3)("firebase-messaging-database",1,{upgrade:(x,k)=>{0===k&&x.createObjectStore(_i)}})),Io}function zr(x){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,V.Z)(function*(x){const k=ca(x),K=yield(yield So()).transaction(_i).objectStore(_i).get(k);if(K)return K;{const ue=yield Ip(x.appConfig.senderId);if(ue)return yield so(x,ue),ue}})).apply(this,arguments)}function so(x,k){return dr.apply(this,arguments)}function dr(){return(dr=(0,V.Z)(function*(x,k){const F=ca(x),ue=(yield So()).transaction(_i,"readwrite");return yield ue.objectStore(_i).put(k,F),yield ue.done,k})).apply(this,arguments)}function Nc(x){return nr.apply(this,arguments)}function nr(){return(nr=(0,V.Z)(function*(x){const k=ca(x),K=(yield So()).transaction(_i,"readwrite");yield K.objectStore(_i).delete(k),yield K.done})).apply(this,arguments)}function ca({appConfig:x}){return x.appId}const Ct=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mc(x,k){return ua.apply(this,arguments)}function ua(){return(ua=(0,V.Z)(function*(x,k){var F;const K=yield Ns(x),ue=sn(k),we={method:"POST",headers:K,body:JSON.stringify(ue)};let Ze;try{Ze=yield(yield fetch(Fl(x.appConfig),we)).json()}catch(ut){throw Ct.create("token-subscribe-failed",{errorInfo:null===(F=ut)||void 0===F?void 0:F.toString()})}if(Ze.error)throw Ct.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw Ct.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Oc(x,k){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(x,k){var F;const K=yield Ns(x),ue=sn(k.subscriptionOptions),we={method:"PATCH",headers:K,body:JSON.stringify(ue)};let Ze;try{Ze=yield(yield fetch(`${Fl(x.appConfig)}/${k.token}`,we)).json()}catch(ut){throw Ct.create("token-update-failed",{errorInfo:null===(F=ut)||void 0===F?void 0:F.toString()})}if(Ze.error)throw Ct.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw Ct.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function Qa(x,k){return xo.apply(this,arguments)}function xo(){return(xo=(0,V.Z)(function*(x,k){var F;const ue={method:"DELETE",headers:yield Ns(x)};try{const Ze=yield(yield fetch(`${Fl(x.appConfig)}/${k}`,ue)).json();if(Ze.error)throw Ct.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(we){throw Ct.create("token-unsubscribe-failed",{errorInfo:null===(F=we)||void 0===F?void 0:F.toString()})}})).apply(this,arguments)}function Fl({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ns(x){return $e.apply(this,arguments)}function $e(){return($e=(0,V.Z)(function*({appConfig:x,installations:k}){const F=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function sn({p256dh:x,auth:k,endpoint:F,vapidKey:K}){const ue={web:{endpoint:F,auth:k,p256dh:x}};return K!==ro&&(ue.web.applicationPubKey=K),ue}const ko=6048e5;function da(x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,V.Z)(function*(x){const k=yield Md(x.swRegistration,x.vapidKey),F={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:k.endpoint,auth:ui(k.getKey("auth")),p256dh:ui(k.getKey("p256dh"))},K=yield zr(x.firebaseDependencies);if(K){if(Mo(K.subscriptionOptions,F))return Date.now()>=K.createTime+ko?hr(x,{token:K.token,createTime:Date.now(),subscriptionOptions:F}):K.token;try{yield Qa(x.firebaseDependencies,K.token)}catch(ue){console.warn(ue)}return ao(x.firebaseDependencies,F)}return ao(x.firebaseDependencies,F)})).apply(this,arguments)}function Rc(x){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,V.Z)(function*(x){const k=yield zr(x.firebaseDependencies);k&&(yield Qa(x.firebaseDependencies,k.token),yield Nc(x.firebaseDependencies));const F=yield x.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function hr(x,k){return No.apply(this,arguments)}function No(){return(No=(0,V.Z)(function*(x,k){try{const F=yield Oc(x.firebaseDependencies,k),K=Object.assign(Object.assign({},k),{token:F,createTime:Date.now()});return yield so(x.firebaseDependencies,K),F}catch(F){throw yield Rc(x),F}})).apply(this,arguments)}function ao(x,k){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,V.Z)(function*(x,k){const K={token:yield Mc(x,k),createTime:Date.now(),subscriptionOptions:k};return yield so(x,K),K.token})).apply(this,arguments)}function Md(x,k){return lo.apply(this,arguments)}function lo(){return(lo=(0,V.Z)(function*(x,k){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ks(k)})})).apply(this,arguments)}function Mo(x,k){return k.vapidKey===x.vapidKey&&k.endpoint===x.endpoint&&k.auth===x.auth&&k.p256dh===x.p256dh}function Si(x){const k={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function ss(x,k){if(!k.notification)return;x.notification={};const F=k.notification.title;F&&(x.notification.title=F);const K=k.notification.body;K&&(x.notification.body=K);const ue=k.notification.image;ue&&(x.notification.image=ue)}(k,x),function Pc(x,k){!k.data||(x.data=k.data)}(k,x),function co(x,k){var F,K,ue,we,Ze;if(!(k.fcmOptions||null!==(F=k.notification)&&void 0!==F&&F.click_action))return;x.fcmOptions={};const ut=null!==(ue=null===(K=k.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==ue?ue:null===(we=k.notification)||void 0===we?void 0:we.click_action;ut&&(x.fcmOptions.link=ut);const Rt=null===(Ze=k.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;Rt&&(x.fcmOptions.analyticsLabel=Rt)}(k,x),k}function Os(x){return"object"==typeof x&&!!x&&Rl in x}function Fu(x,k){const F=[];for(let K=0;K<x.length;K++)F.push(x.charAt(K)),K<k.length&&F.push(k.charAt(K));return F.join("")}function Fc(x){return Ct.create("missing-app-config-values",{valueName:x})}Fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lc{constructor(k,F,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ue=function Xa(x){if(!x||!x.options)throw Fc("App Configuration Object");if(!x.name)throw Fc("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:F}=x;for(const K of k)if(!F[K])throw Fc(K);return{appName:x.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:ue,installations:F,analyticsProvider:K}}_delete(){return Promise.resolve()}}function el(x){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,V.Z)(function*(x){var k;try{x.swRegistration=yield navigator.serviceWorker.register(is,{scope:io}),x.swRegistration.update().catch(()=>{})}catch(F){throw Ct.create("failed-service-worker-registration",{browserErrorMessage:null===(k=F)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function Bc(x,k){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,V.Z)(function*(x,k){if(!k&&!x.swRegistration&&(yield el(x)),k||!x.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Ct.create("invalid-sw-registration");x.swRegistration=k}})).apply(this,arguments)}function Ll(x,k){return tl.apply(this,arguments)}function tl(){return(tl=(0,V.Z)(function*(x,k){k?x.vapidKey=k:x.vapidKey||(x.vapidKey=ro)})).apply(this,arguments)}function ha(){return(ha=(0,V.Z)(function*(x,k){if(!navigator)throw Ct.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ct.create("permission-blocked");return yield Ll(x,k?.vapidKey),yield Bc(x,k?.serviceWorkerRegistration),da(x)})).apply(this,arguments)}function Uc(x,k,F){return fa.apply(this,arguments)}function fa(){return(fa=(0,V.Z)(function*(x,k,F){const K=nl(k);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:F[Rl],message_name:F[Wa],message_time:F[Pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nl(x){switch(x){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pa(){return(pa=(0,V.Z)(function*(x,k){const F=k.data;if(!F.isFirebaseMessaging)return;x.onMessageHandler&&F.messageType===rs.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Si(F)):x.onMessageHandler.next(Si(F)));const K=F.data;Os(K)&&"1"===K[la]&&(yield Uc(x,F.messageType,K))})).apply(this,arguments)}const Ro="@firebase/messaging",fr=x=>{const k=new Lc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Bl(x,k){return pa.apply(this,arguments)}(k,F)),k},Xn=x=>{const k=x.getProvider("messaging").getImmediate();return{getToken:K=>function Vc(x,k){return ha.apply(this,arguments)}(k,K)}};function Od(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,V.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function il(){(0,ge._registerComponent)(new Se.wA("messaging",fr,"PUBLIC")),(0,ge._registerComponent)(new Se.wA("messaging-internal",Xn,"PRIVATE")),(0,ge.registerVersion)(Ro,"0.9.16"),(0,ge.registerVersion)(Ro,"0.9.16","esm2017")}();const Ul="analytics",Ps="firebase_id",Hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Po="https://www.googletagmanager.com/gtag/js",yi=new _e.Yd("@firebase/analytics");function Bd(x){return Promise.all(x.map(k=>k.catch(F=>F)))}function Uh(x,k){const F=document.createElement("script");F.src=`${Po}?l=${x}&id=${k}`,F.async=!0,document.head.appendChild(F)}function _a(x,k,F,K,ue,we){return rl.apply(this,arguments)}function rl(){return(rl=(0,V.Z)(function*(x,k,F,K,ue,we){const Ze=K[ue];try{if(Ze)yield k[Ze];else{const Rt=(yield Bd(F)).find(Kt=>Kt.measurementId===ue);Rt&&(yield k[Rt.appId])}}catch(ut){yi.error(ut)}x("config",ue,we)})).apply(this,arguments)}function sl(x,k,F,K,ue){return jl.apply(this,arguments)}function jl(){return(jl=(0,V.Z)(function*(x,k,F,K,ue){try{let we=[];if(ue&&ue.send_to){let Ze=ue.send_to;Array.isArray(Ze)||(Ze=[Ze]);const ut=yield Bd(F);for(const Rt of Ze){const Kt=ut.find(Mt=>Mt.measurementId===Rt),cn=Kt&&k[Kt.appId];if(!cn){we=[];break}we.push(cn)}}0===we.length&&(we=Object.values(k)),yield Promise.all(we),x("event",K,ue||{})}catch(we){yi.error(we)}})).apply(this,arguments)}function Ud(){const x=window.document.getElementsByTagName("script");for(const k of Object.values(x))if(k.src&&k.src.includes(Po))return k;return null}const qi=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Y=new class O{constructor(k={},F=1e3){this.throttleMetadata=k,this.intervalMillis=F}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,F){this.throttleMetadata[k]=F}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function Oe(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function ke(x){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,V.Z)(function*(x){var k;const{appId:F,apiKey:K}=x,ue={method:"GET",headers:Oe(K)},we=Hc.replace("{app-id}",F),Ze=yield fetch(we,ue);if(200!==Ze.status&&304!==Ze.status){let ut="";try{const Rt=yield Ze.json();null!==(k=Rt.error)&&void 0!==k&&k.message&&(ut=Rt.error.message)}catch{}throw qi.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:ut})}return Ze.json()})).apply(this,arguments)}function Jn(x){return vi.apply(this,arguments)}function vi(){return(vi=(0,V.Z)(function*(x,k=Y,F){const{appId:K,apiKey:ue,measurementId:we}=x.options;if(!K)throw qi.create("no-app-id");if(!ue){if(we)return{measurementId:we,appId:K};throw qi.create("no-api-key")}const Ze=k.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ut=new ya;return setTimeout((0,V.Z)(function*(){ut.abort()}),void 0!==F?F:6e4),Mr({appId:K,apiKey:ue,measurementId:we},Ze,ut,k)})).apply(this,arguments)}function Mr(x,k,F){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,V.Z)(function*(x,{throttleEndTimeMillis:k,backoffCount:F},K,ue=Y){var we,Ze;const{appId:ut,measurementId:Rt}=x;try{yield jd(K,k)}catch(Kt){if(Rt)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${null===(we=Kt)||void 0===we?void 0:we.message}]`),{appId:ut,measurementId:Rt};throw Kt}try{const Kt=yield ke(x);return ue.deleteThrottleMetadata(ut),Kt}catch(Kt){const cn=Kt;if(!Bu(cn)){if(ue.deleteThrottleMetadata(ut),Rt)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${cn?.message}]`),{appId:ut,measurementId:Rt};throw Kt}const Mt=503===Number(null===(Ze=cn?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,be.$s)(F,ue.intervalMillis,30):(0,be.$s)(F,ue.intervalMillis),bi={throttleEndTimeMillis:Date.now()+Mt,backoffCount:F+1};return ue.setThrottleMetadata(ut,bi),yi.debug(`Calling attemptFetch again in ${Mt} millis`),Mr(x,bi,K,ue)}})).apply(this,arguments)}function jd(x,k){return new Promise((F,K)=>{const ue=Math.max(k-Date.now(),0),we=setTimeout(F,ue);x.addEventListener(()=>{clearTimeout(we),K(qi.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function Bu(x){if(!(x instanceof be.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}class ya{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let $c,Ls;function zc(){return(zc=(0,V.Z)(function*(x,k,F,K,ue){if(ue&&ue.global)x("event",F,K);else{const we=yield k;x("event",F,Object.assign(Object.assign({},K),{send_to:we}))}})).apply(this,arguments)}function Hd(x){Ls=x}function Vu(x){$c=x}function Gd(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,V.Z)(function*(){var x;if(!(0,be.hl)())return yi.warn(qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(k){return yi.warn(qi.create("indexeddb-unavailable",{errorInfo:null===(x=k)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function $l(){return($l=(0,V.Z)(function*(x,k,F,K,ue,we,Ze){var ut;const Rt=Jn(x);Rt.then(Rr=>{F[Rr.measurementId]=Rr.appId,x.options.measurementId&&Rr.measurementId!==x.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rr=>yi.error(Rr)),k.push(Rt);const Kt=Gd().then(Rr=>{if(Rr)return K.getId()}),[cn,Mt]=yield Promise.all([Rt,Kt]);Ud()||Uh(we,cn.measurementId),Ls&&(ue("consent","default",Ls),Hd(void 0)),ue("js",new Date);const bi=null!==(ut=Ze?.config)&&void 0!==ut?ut:{};return bi.origin="firebase",bi.update=!0,null!=Mt&&(bi[Ps]=Mt),ue("config",cn.measurementId,bi),$c&&(ue("set",$c),Vu(void 0)),cn.measurementId})).apply(this,arguments)}class Zr{constructor(k){this.app=k}_delete(){return delete un[this.app.options.appId],Promise.resolve()}}let un={},wa=[];const ll={};let Hh,Ai,zl="dataLayer",On=!1;function Ca(x,k,F){!function Ap(){const x=[];if((0,be.ru)()&&x.push("This is a browser extension environment."),(0,be.zI)()||x.push("Cookies are not available."),x.length>0){const k=x.map((K,ue)=>`(${ue+1}) ${K}`).join(" "),F=qi.create("invalid-analytics-context",{errorInfo:k});yi.warn(F.message)}}();const K=x.options.appId;if(!K)throw qi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw qi.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=un[K])throw qi.create("already-exists",{id:K});if(!On){!function os(x){let k=[];Array.isArray(window[x])?k=window[x]:window[x]=k}(zl);const{wrappedGtag:we,gtagCore:Ze}=function Vd(x,k,F,K,ue){let we=function(...Ze){window[K].push(arguments)};return window[ue]&&"function"==typeof window[ue]&&(we=window[ue]),window[ue]=function Gc(x,k,F,K){function we(){return(we=(0,V.Z)(function*(Ze,ut,Rt){try{"event"===Ze?yield sl(x,k,F,ut,Rt):"config"===Ze?yield _a(x,k,F,K,ut,Rt):"consent"===Ze?x("consent","update",Rt):x("set",ut)}catch(Kt){yi.error(Kt)}})).apply(this,arguments)}return function ue(Ze,ut,Rt){return we.apply(this,arguments)}}(we,x,k,F),{gtagCore:we,wrappedGtag:window[ue]}}(un,wa,ll,zl,"gtag");Ai=we,Hh=Ze,On=!0}return un[K]=function $d(x,k,F,K,ue,we,Ze){return $l.apply(this,arguments)}(x,wa,ll,k,Hh,zl,F),new Zr(x)}function Gh(){return ju.apply(this,arguments)}function ju(){return(ju=(0,V.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const Gu="@firebase/analytics";!function as(){(0,ge._registerComponent)(new Se.wA(Ul,(k,{options:F})=>Ca(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ge._registerComponent)(new Se.wA("analytics-internal",function x(k){try{const F=k.getProvider(Ul).getImmediate();return{logEvent:(K,ue,we)=>function fo(x,k,F,K){x=(0,be.m9)(x),function va(x,k,F,K,ue){return zc.apply(this,arguments)}(Ai,un[x.app.options.appId],k,F,K).catch(ue=>yi.error(ue))}(F,K,ue,we)}}catch(F){throw qi.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ge.registerVersion)(Gu,"0.8.0"),(0,ge.registerVersion)(Gu,"0.8.0","esm2017")}();var $h=j(4408),Lo=j(7565);const kp=new class $u extends Lo.v{}(class Zl extends $h.o{constructor(k,F){super(k,F),this.scheduler=k,this.work=F}schedule(k,F=0){return F>0?super.schedule(k,F):(this.delay=F,this.state=k,this.scheduler.flush(this),this)}execute(k,F){return F>0||this.closed?super.execute(k,F):this._execute(k,F)}requestAsyncId(k,F,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(k,F,K):k.flush(this)}});var Pm=j(4986),cl=j(8505),Wc=j(5363),qr=j(9468);const zd=new o.GfV("7.4.1"),Da="__angularfire_symbol__analyticsIsSupportedValue",Ta="__angularfire_symbol__analyticsIsSupported",Ot="__angularfire_symbol__remoteConfigIsSupportedValue",ql="__angularfire_symbol__remoteConfigIsSupported",Zd="__angularfire_symbol__messagingIsSupportedValue",ls="__angularfire_symbol__messagingIsSupported";function Bs(x,k,F){if(k){if(1===k.length)return k[0];const we=k.filter(Ze=>Ze.app===F);if(1===we.length)return we[0]}return F.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ta]||(globalThis[Ta]=Gh().then(x=>globalThis[Da]=x).catch(()=>globalThis[Da]=!1)),globalThis[ls]||(globalThis[ls]=Od().then(x=>globalThis[Zd]=x).catch(()=>globalThis[Zd]=!1)),globalThis[ql]||(globalThis[ql]=Tp().then(x=>globalThis[Ot]=x).catch(()=>globalThis[Ot]=!1));const Zh=(x,k)=>{const F=k?[k]:(0,q.C6)(),K=[];return F.forEach(ue=>{ue.container.getProvider(x).instances.forEach(Ze=>{K.includes(Ze)||K.push(Ze)})}),K};function Cr(){}class zu{constructor(k,F=kp){this.zone=k,this.delegate=F}now(){return this.delegate.now()}schedule(k,F,K){const ue=this.zone;return this.delegate.schedule(function(Ze){ue.runGuarded(()=>{k.apply(this,[Ze])})},F,K)}}class ul{constructor(k){this.zone=k,this.task=null}call(k,F){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cr,{},Cr,Cr)),F.pipe((0,cl.b)({next:K,complete:K,error:K})).subscribe(k).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kc=(()=>{class x{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new zu(Zone.current)),this.insideAngular=F.run(()=>new zu(Zone.current,Pm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(F){return new(F||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Bo(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function dl(x){return x.pipe((0,Wc.Q)(Bo().outsideAngular))}function Yc(x){return Bo(),function xi(x){return function(F){return(F=F.lift(new ul(x.ngZone))).pipe((0,qr.R)(x.outsideAngular),(0,Wc.Q)(x.insideAngular))}}(Bo())(x)}},6457:(St,Ve,j)=>{"use strict";j.d(Ve,{$:()=>Fl,A:()=>ne,B:()=>We,G:()=>Dc,H:()=>si,J:()=>xs,L:()=>kn,M:()=>$r,N:()=>kd,P:()=>Pm,Q:()=>Rl,R:()=>Vi,T:()=>Wa,U:()=>ro,V:()=>rs,W:()=>ui,X:()=>Ip,Y:()=>Ao,Z:()=>Mc,_:()=>Oc,a:()=>I,a0:()=>da,a1:()=>Rc,a2:()=>hr,a3:()=>ao,a4:()=>Md,a5:()=>Mo,a6:()=>ss,a7:()=>Pc,a8:()=>Os,a9:()=>Fu,aA:()=>Rr,aB:()=>Rt,aC:()=>dl,aD:()=>Sa,aE:()=>gi,aI:()=>Oe,aL:()=>la,aa:()=>el,ab:()=>Bc,ac:()=>Ll,af:()=>Uc,ag:()=>nl,ah:()=>Bl,ak:()=>_i,al:()=>jc,an:()=>Po,ao:()=>rl,ap:()=>Fn,aq:()=>Ee,ar:()=>Ut,as:()=>Pt,at:()=>ft,au:()=>Yh,av:()=>Aa,aw:()=>Ke,ax:()=>G,ay:()=>le,az:()=>Sn,b:()=>qi,c:()=>Zd,d:()=>Fm,e:()=>cs,f:()=>xi,g:()=>K,h:()=>x,i:()=>Uu,j:()=>Ze,k:()=>Vm,l:()=>Or,m:()=>Qd,o:()=>Ce,r:()=>$h,s:()=>Rm,u:()=>kp});var o=j(5861),q=j(2090),V=j(9681),ge=j(655),be=j(1877),Se=j(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new be.Yd("@firebase/auth");function ht(w,..._){Ie.logLevel<=be.in.ERROR&&Ie.error(`Auth (${V.SDK_VERSION}): ${w}`,..._)}function ft(w,..._){throw lt(w,..._)}function Ke(w,..._){return lt(w,..._)}function ze(w,_,y){const D=Object.assign(Object.assign({},Le()),{[_]:y});return new q.LL("auth","Firebase",D).create(_,{appName:w.name})}function Be(w,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&ft(w,"argument-error"),ze(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(w,..._){if("string"!=typeof w){const y=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return _t.create(w,..._)}function G(w,_,...y){if(!w)throw lt(_,...y)}function ve(w){const _="INTERNAL ASSERTION FAILED: "+w;throw ht(_),new Error(_)}function Ee(w,_){w||ve(_)}const ae=new Map;function le(w){Ee(w instanceof Function,"Expected a class definition");let _=ae.get(w);return _?(Ee(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,ae.set(w,_),_)}function Qe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ye(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class tt{constructor(_,y){this.shortDelay=_,this.longDelay=y,Ee(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(w,_){Ee(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class ii{static initialize(_,y,D){this.fetchImpl=_,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ln=new tt(3e4,6e4);function Qt(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Jt(w,_,y,D){return Di.apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(w,_,y,D,P={}){return ns(w,P,(0,o.Z)(function*(){let H={},fe={};D&&("GET"===_?fe=D:H={body:JSON.stringify(D)});const je=(0,q.xO)(Object.assign({key:w.config.apiKey},fe)).slice(1),gt=yield w._getAdditionalHeaders();return gt["Content-Type"]="application/json",w.languageCode&&(gt["X-Firebase-Locale"]=w.languageCode),ii.fetch()(Xi(w,w.config.apiHost,y,je),Object.assign({method:_,headers:gt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function ns(w,_,y){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,o.Z)(function*(w,_,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},hn),_);try{const P=new Ar(w),H=yield Promise.race([y(),P.promise]);P.clearNetworkTimeout();const fe=yield H.json();if("needConfirmation"in fe)throw Gn(w,"account-exists-with-different-credential",fe);if(H.ok&&!("errorMessage"in fe))return fe;{const je=H.ok?fe.errorMessage:fe.error.message,[gt,Dt]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Gn(w,"credential-already-in-use",fe);if("EMAIL_EXISTS"===gt)throw Gn(w,"email-already-in-use",fe);if("USER_DISABLED"===gt)throw Gn(w,"user-disabled",fe);const on=D[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw ze(w,on,Dt);ft(w,on)}}catch(P){if(P instanceof q.ZR)throw P;ft(w,"network-request-failed")}})).apply(this,arguments)}function Hn(w,_,y,D){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(w,_,y,D,P={}){const H=yield Jt(w,_,y,D,P);return"mfaPendingCredential"in H&&ft(w,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Xi(w,_,y,D){const P=`${_}${y}?${D}`;return w.config.emulator?vn(w.config,P):`${w.config.apiScheme}://${P}`}class Ar{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(Ke(this.auth,"network-request-failed")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(w,_,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const P=Ke(w,_,D);return P.customData._tokenResponse=y,P}function wt(){return(wt=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Pn(w,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function bn(w,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Gi(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ri(){return(ri=(0,o.Z)(function*(w,_=!1){const y=(0,q.m9)(w),D=yield y.getIdToken(_),P=ct(D);G(P&&P.exp&&P.auth_time&&P.iat,y.auth,"internal-error");const H="object"==typeof P.firebase?P.firebase:void 0,fe=H?.sign_in_provider;return{claims:P,token:D,authTime:Gi(In(P.auth_time)),issuedAtTime:Gi(In(P.iat)),expirationTime:Gi(In(P.exp)),signInProvider:fe||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function In(w){return 1e3*Number(w)}function ct(w){var _;const[y,D,P]=w.split(".");if(void 0===y||void 0===D||void 0===P)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,q.tV)(D);return H?JSON.parse(H):(ht("Failed to decode base64 JWT payload"),null)}catch(H){return ht("Caught error parsing JWT payload as JSON",null===(_=H)||void 0===_?void 0:_.toString()),null}}function $n(w,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(w,_,y=!1){if(y)return _;try{return yield _}catch(D){throw D instanceof q.ZR&&_n(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function _n({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class en{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const P=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),D)}iteration(){var _=this;return(0,o.Z)(function*(){var y;try{yield _.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(y=D)||void 0===y?void 0:y.code)&&_.schedule(!0))}_.schedule()})()}}class Yn{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,o.Z)(function*(w){var _;const y=w.auth,D=yield w.getIdToken(),P=yield $n(w,bn(y,{idToken:D}));G(P?.users.length,y,"internal-error");const H=P.users[0];w._notifyReloadListener(H);const fe=null!==(_=H.providerUserInfo)&&void 0!==_&&_.length?W(H.providerUserInfo):[],je=oe(w.providerData,fe),on=!!w.isAnonymous&&!(w.email&&H.passwordHash||je?.length),oi={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:je,metadata:new Yn(H.createdAt,H.lastLoginAt),isAnonymous:on};Object.assign(w,oi)})).apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(w){const _=(0,q.m9)(w);yield er(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function oe(w,_){return[...w.filter(D=>!_.some(P=>P.providerId===D.providerId)),..._]}function W(w){return w.map(_=>{var{providerId:y}=_,D=(0,ge._T)(_,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function ie(){return(ie=(0,o.Z)(function*(w,_){const y=yield ns(w,{},(0,o.Z)(function*(){const D=(0,q.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:P,apiKey:H}=w.config,fe=Xi(w,P,"/v1/token",`key=${H}`),je=yield w._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",ii.fetch()(fe,{method:"POST",headers:je,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){G(_.idToken,"internal-error"),G(typeof _.idToken<"u","internal-error"),G(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function at(w){const _=ct(w);return G(_,"internal-error"),G(typeof _.exp<"u","internal-error"),G(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var D=this;return(0,o.Z)(function*(){return G(!D.accessToken||D.refreshToken,_,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var D=this;return(0,o.Z)(function*(){const{accessToken:P,refreshToken:H,expiresIn:fe}=yield function Q(w,_){return ie.apply(this,arguments)}(_,y);D.updateTokensAndExpiration(P,H,Number(fe))})()}updateTokensAndExpiration(_,y,D){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,y){const{refreshToken:D,accessToken:P,expirationTime:H}=y,fe=new re;return D&&(G("string"==typeof D,"internal-error",{appName:_}),fe.refreshToken=D),P&&(G("string"==typeof P,"internal-error",{appName:_}),fe.accessToken=P),H&&(G("number"==typeof H,"internal-error",{appName:_}),fe.expirationTime=H),fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Ue(w,_){G("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class nt{constructor(_){var{uid:y,auth:D,stsTokenManager:P}=_,H=(0,ge._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Yn(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,o.Z)(function*(){const D=yield $n(y,y.stsTokenManager.getToken(y.auth,_));return G(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(_){return function fn(w){return ri.apply(this,arguments)}(this,_)}reload(){return function xr(w){return qt.apply(this,arguments)}(this)}_assign(_){this!==_&&(G(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new nt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var D=this;return(0,o.Z)(function*(){let P=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),P=!0),y&&(yield er(D)),yield D.auth._persistUserIfCurrent(D),P&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,o.Z)(function*(){const y=yield _.getIdToken();return yield $n(_,function Kn(w,_){return wt.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var D,P,H,fe,je,gt,Dt,on;const oi=null!==(D=y.displayName)&&void 0!==D?D:void 0,Ho=null!==(P=y.email)&&void 0!==P?P:void 0,gl=null!==(H=y.phoneNumber)&&void 0!==H?H:void 0,Op=null!==(fe=y.photoURL)&&void 0!==fe?fe:void 0,Gm=null!==(je=y.tenantId)&&void 0!==je?je:void 0,$m=null!==(gt=y._redirectEventId)&&void 0!==gt?gt:void 0,nu=null!==(Dt=y.createdAt)&&void 0!==Dt?Dt:void 0,Jd=null!==(on=y.lastLoginAt)&&void 0!==on?on:void 0,{uid:Ku,emailVerified:Rp,isAnonymous:zm,providerData:Yu,stsTokenManager:Xd}=y;G(Ku&&Xd,_,"internal-error");const Zm=re.fromJSON(this.name,Xd);G("string"==typeof Ku,_,"internal-error"),Ue(oi,_.name),Ue(Ho,_.name),G("boolean"==typeof Rp,_,"internal-error"),G("boolean"==typeof zm,_,"internal-error"),Ue(gl,_.name),Ue(Op,_.name),Ue(Gm,_.name),Ue($m,_.name),Ue(nu,_.name),Ue(Jd,_.name);const Pp=new nt({uid:Ku,auth:_,email:Ho,emailVerified:Rp,displayName:oi,isAnonymous:zm,photoURL:Op,phoneNumber:gl,tenantId:Gm,stsTokenManager:Zm,createdAt:nu,lastLoginAt:Jd});return Yu&&Array.isArray(Yu)&&(Pp.providerData=Yu.map(kv=>Object.assign({},kv))),$m&&(Pp._redirectEventId=$m),Pp}static _fromIdTokenResponse(_,y,D=!1){return(0,o.Z)(function*(){const P=new re;P.updateFromServerResponse(y);const H=new nt({uid:y.localId,auth:_,stsTokenManager:P,isAnonymous:D});return yield er(H),H})()}}const kn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,D){var P=this;return(0,o.Z)(function*(){P.storage[y]=D})()}_get(y){var D=this;return(0,o.Z)(function*(){const P=D.storage[y];return void 0===P?null:P})()}_remove(y){var D=this;return(0,o.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function Sn(w,_,y){return`firebase:${w}:${_}:${y}`}class pi{constructor(_,y,D){this.persistence=_,this.auth=y,this.userKey=D;const{config:P,name:H}=this.auth;this.fullUserKey=Sn(this.userKey,P.apiKey,H),this.fullPersistenceKey=Sn("persistence",P.apiKey,H),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?nt._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,o.Z)(function*(){if(y.persistence===_)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,D="authUser"){return(0,o.Z)(function*(){if(!y.length)return new pi(le(kn),_,D);const P=(yield Promise.all(y.map(function(){var Dt=(0,o.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let H=P[0]||le(kn);const fe=Sn(D,_.config.apiKey,_.name);let je=null;for(const Dt of y)try{const on=yield Dt._get(fe);if(on){const oi=nt._fromJSON(_,on);Dt!==H&&(je=oi),H=Dt;break}}catch{}const gt=P.filter(Dt=>Dt._shouldAllowMigration);return H._shouldAllowMigration&&gt.length?(H=gt[0],je&&(yield H._set(fe,je.toJSON())),yield Promise.all(y.map(function(){var Dt=(0,o.Z)(function*(on){if(on!==H)try{yield on._remove(fe)}catch{}});return function(on){return Dt.apply(this,arguments)}}())),new pi(H,_,D)):new pi(H,_,D)})()}}function de(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(et(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(J(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ge(_))return"Blackberry";if(dt(_))return"Webos";if(X(_))return"Safari";if((_.includes("chrome/")||Me(_))&&!_.includes("edge/"))return"Chrome";if(Pt(_))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function J(w=(0,q.z$)()){return/firefox\//i.test(w)}function X(w=(0,q.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Me(w=(0,q.z$)()){return/crios\//i.test(w)}function et(w=(0,q.z$)()){return/iemobile/i.test(w)}function Pt(w=(0,q.z$)()){return/android/i.test(w)}function Ge(w=(0,q.z$)()){return/blackberry/i.test(w)}function dt(w=(0,q.z$)()){return/webos/i.test(w)}function Ut(w=(0,q.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Fn(w=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Li(w=(0,q.z$)()){return Ut(w)||Pt(w)||dt(w)||Ge(w)||/windows phone/i.test(w)||et(w)}function $t(w,_=[]){let y;switch(w){case"Browser":y=de((0,q.z$)());break;case"Worker":y=`${de((0,q.z$)())}-${w}`;break;default:y=w}const D=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${V.SDK_VERSION}/${D}`}class Js{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const D=H=>new Promise((fe,je)=>{try{fe(_(H))}catch(gt){je(gt)}});D.onAbort=y,this.queue.push(D);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,o.Z)(function*(){var D;if(y.auth.currentUser===_)return;const P=[];try{for(const H of y.queue)yield H(_),H.onAbort&&P.push(H.onAbort)}catch(H){P.reverse();for(const fe of P)try{fe()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=H)||void 0===D?void 0:D.message})}})()}}class tn{constructor(_,y,D){this.app=_,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ds(this),this.idTokenSubscription=new Ds(this),this.beforeStateQueue=new Js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(_,y){var D=this;return y&&(this._popupRedirectResolver=le(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var P,H;if(!D._deleted&&(D.persistenceManager=yield pi.create(D,_),!D._deleted)){if(null!==(P=D._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(H=D.currentUser)||void 0===H?void 0:H.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,o.Z)(function*(){var D;const P=yield y.assertedPersistence.getCurrentUser();let H=P,fe=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const je=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,gt=H?._redirectEventId,Dt=yield y.tryRedirectSignIn(_);(!je||je===gt)&&Dt?.user&&(H=Dt.user,fe=!0)}if(!H)return y.directlySetCurrentUser(null);if(!H._redirectEventId){if(fe)try{yield y.beforeStateQueue.runMiddleware(H)}catch(je){H=P,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(je))}return H?y.reloadAndSetCurrentUserOrClear(H):y.directlySetCurrentUser(null)}return G(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===H._redirectEventId?y.directlySetCurrentUser(H):y.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(_){var y=this;return(0,o.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,o.Z)(function*(){var D;try{yield er(_)}catch(P){if("auth/network-request-failed"!==(null===(D=P)||void 0===D?void 0:D.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Xt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,o.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,o.Z)(function*(){const D=_?(0,q.m9)(_):null;return D&&G(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(_,y=!1){var D=this;return(0,o.Z)(function*(){if(!D._deleted)return _&&G(D.tenantId===_.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(_)),D.queue((0,o.Z)(function*(){yield D.directlySetCurrentUser(_),D.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(le(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new q.LL("auth","Firebase",_())}onAuthStateChanged(_,y,D){return this.registerStateListener(this.authStateSubscription,_,y,D)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,D){return this.registerStateListener(this.idTokenSubscription,_,y,D)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var D=this;return(0,o.Z)(function*(){const P=yield D.getOrInitRedirectPersistenceManager(y);return null===_?P.removeCurrentUser():P.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const D=_&&le(_)||y._popupRedirectResolver;G(D,y,"argument-error"),y.redirectPersistenceManager=yield pi.create(y,[le(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,o.Z)(function*(){var D,P;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===_?y._currentUser:(null===(P=y.redirectUser)||void 0===P?void 0:P._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,o.Z)(function*(){if(_===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,D,P){if(this._deleted)return()=>{};const H="function"==typeof y?y:y.next.bind(y),fe=this._isInitialized?Promise.resolve():this._initializationPromise;return G(fe,this,"internal-error"),fe.then(()=>H(this.currentUser)),"function"==typeof y?_.addObserver(y,D,P):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==_&&(y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh()),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.Z)(function*(){var y;const D={"X-Client-Version":_.clientVersion};_.app.options.appId&&(D["X-Firebase-gmpid"]=_.app.options.appId);const P=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return P&&(D["X-Firebase-Client"]=P),D})()}}function gi(w){return(0,q.m9)(w)}class Ds{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,q.ne)(y=>this.observer=y)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dc(w,_,y){const D=gi(w);G(D._canInitEmulator,D,"emulator-config-failed"),G(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const P=!!y?.disableWarnings,H=Xs(_),{host:fe,port:je}=function li(w){const _=Xs(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(D);if(P){const H=P[1];return{host:H,port:br(D.substr(H.length+1))}}{const[H,fe]=D.split(":");return{host:H,port:br(fe)}}}(_);D.config.emulator={url:`${H}//${fe}${null===je?"":`:${je}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:fe,port:je,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Ts(){function w(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Xs(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function br(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class si{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return ve("not implemented")}_getIdTokenResponse(_){return ve("not implemented")}_linkToIdToken(_,y){return ve("not implemented")}_getReauthenticationResolver(_){return ve("not implemented")}}function ci(w,_){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:resetPassword",Qt(w,_))})).apply(this,arguments)}function Rn(w,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ad(w,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:update",Qt(w,_))})).apply(this,arguments)}function Ss(){return(Ss=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithPassword",Qt(w,_))})).apply(this,arguments)}function cr(w,_){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:sendOobCode",Qt(w,_))})).apply(this,arguments)}function Ti(w,_){return zi.apply(this,arguments)}function zi(){return(zi=(0,o.Z)(function*(w,_){return cr(w,_)})).apply(this,arguments)}function ur(w,_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(w,_){return cr(w,_)})).apply(this,arguments)}function Ol(w,_){return To.apply(this,arguments)}function To(){return(To=(0,o.Z)(function*(w,_){return cr(w,_)})).apply(this,arguments)}function Tc(w,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(w,_){return cr(w,_)})).apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",Qt(w,_))})).apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",Qt(w,_))})).apply(this,arguments)}class As extends si{constructor(_,y,D,P=null){super("password",D),this._email=_,this._password=y,this._tenantId=P}static _fromEmailAndPassword(_,y){return new As(_,y,"password")}static _fromEmailAndCode(_,y,D=null){return new As(_,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function Ml(w,_){return Ss.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ic(w,_){return Sc.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ft(_,"internal-error")}})()}_linkToIdToken(_,y){var D=this;return(0,o.Z)(function*(){switch(D.signInMethod){case"password":return Rn(_,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function sa(w,_){return Ac.apply(this,arguments)}(_,{idToken:y,email:D._email,oobCode:D._password});default:ft(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function eo(w,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithIdp",Qt(w,_))})).apply(this,arguments)}class xs extends si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new xs(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):ft("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:P}=y,H=(0,ge._T)(y,["providerId","signInMethod"]);if(!D||!P)return null;const fe=new xs(D,P);return fe.idToken=H.idToken||void 0,fe.accessToken=H.accessToken||void 0,fe.secret=H.secret,fe.nonce=H.nonce,fe.pendingToken=H.pendingToken||null,fe}_getIdTokenResponse(_){return eo(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,eo(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,eo(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,q.xO)(y)}return _}}function Lh(w,_){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:sendVerificationCode",Qt(w,_))})).apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Qt(w,_))})).apply(this,arguments)}function to(){return(to=(0,o.Z)(function*(w,_){const y=yield Hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Qt(w,_));if(y.temporaryProof)throw Gn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const xd={USER_NOT_FOUND:"user-not-found"};function Ru(){return(Ru=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithPhoneNumber",Qt(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),xd)})).apply(this,arguments)}class no extends si{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new no({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new no({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Bh(w,_){return qa.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function oa(w,_){return to.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Vh(w,_){return Ru.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:D,verificationCode:P}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:D,code:P}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:D,phoneNumber:P,temporaryProof:H}=_;return D||y||P||H?new no({verificationId:y,verificationCode:D,phoneNumber:P,temporaryProof:H}):null}}class aa{constructor(_){var y,D,P,H,fe,je;const gt=(0,q.zd)((0,q.pd)(_)),Dt=null!==(y=gt.apiKey)&&void 0!==y?y:null,on=null!==(D=gt.oobCode)&&void 0!==D?D:null,oi=function xc(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=gt.mode)&&void 0!==P?P:null);G(Dt&&on&&oi,"argument-error"),this.apiKey=Dt,this.operation=oi,this.code=on,this.continueUrl=null!==(H=gt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(fe=gt.languageCode)&&void 0!==fe?fe:null,this.tenantId=null!==(je=gt.tenantId)&&void 0!==je?je:null}static parseLink(_){const y=function Dp(w){const _=(0,q.zd)((0,q.pd)(w)).link,y=_?(0,q.zd)((0,q.pd)(_)).deep_link_id:null,D=(0,q.zd)((0,q.pd)(w)).deep_link_id;return(D?(0,q.zd)((0,q.pd)(D)).link:null)||D||y||_||w}(_);try{return new aa(y)}catch{return null}}}let $r=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return As._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const P=aa.parseLink(D);return G(P,"argument-error"),As._fromEmailAndCode(y,P.code,P.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class is{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class io extends is{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ro extends io{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return G("providerId"in y&&"signInMethod"in y,"argument-error"),xs._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return G(_.idToken||_.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ro.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ro.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:P,pendingToken:H,nonce:fe,providerId:je}=_;if(!D&&!P&&!y&&!H||!je)return null;try{return new ro(je)._credential({idToken:y,accessToken:D,nonce:fe,pendingToken:H})}catch{return null}}}let kd=(()=>{class w extends io{constructor(){super("facebook.com")}static credential(y){return xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Rl=(()=>{class w extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:P}=y;if(!D&&!P)return null;try{return w.credential(D,P)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Wa=(()=>{class w extends io{constructor(){super("github.com")}static credential(y){return xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class la extends si{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return eo(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,eo(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,eo(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:P,pendingToken:H}=y;return D&&P&&H&&D===P?new la(D,H):null}static _create(_,y){return new la(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends is{constructor(_){G(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return rs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return rs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=la.fromJSON(_);return G(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:D}=_;if(!y||!D)return null;try{return la._create(D,y)}catch{return null}}}let ui=(()=>{class w extends io{constructor(){super("twitter.com")}static credential(y,D){return xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:P}=y;if(!D||!P)return null;try{return w.credential(D,P)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ks(w,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signUp",Qt(w,_))})).apply(this,arguments)}class tr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,D,P=!1){return(0,o.Z)(function*(){const H=yield nt._fromIdTokenResponse(_,D,P),fe=Pl(D);return new tr({user:H,providerId:fe,_tokenResponse:D,operationType:y})})()}static _forOperation(_,y,D){return(0,o.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const P=Pl(D);return new tr({user:_,providerId:P,_tokenResponse:D,operationType:y})})()}}function Pl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ip(w){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,o.Z)(function*(w){var _;const y=gi(w);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new tr({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield ks(y,{returnSecureToken:!0}),P=yield tr._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class kc extends q.ZR{constructor(_,y,D,P){var H;super(y.code,y.message),this.operationType=D,this.user=P,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:_.name,tenantId:null!==(H=_.tenantId)&&void 0!==H?H:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(_,y,D,P){return new kc(_,y,D,P)}}function Nd(w,_,y,D){return("reauthenticate"===_?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?kc._fromErrorAndOperation(w,H,_,D):H})}function Ya(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function _i(w,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(w,_){const y=(0,q.m9)(w);yield Ii(!0,y,_);const{providerUserInfo:D}=yield Pn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),P=Ya(D||[]);return y.providerData=y.providerData.filter(H=>P.has(H.providerId)),P.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function So(w,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,o.Z)(function*(w,_,y=!1){const D=yield $n(w,_._linkToIdToken(w.auth,yield w.getIdToken()),y);return tr._forOperation(w,"link",D)})).apply(this,arguments)}function Ii(w,_,y){return so.apply(this,arguments)}function so(){return(so=(0,o.Z)(function*(w,_,y){yield er(_);const P=!1===w?"provider-already-linked":"no-such-provider";G(Ya(_.providerData).has(y)===w,_.auth,P)})).apply(this,arguments)}function dr(w,_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(w,_,y=!1){var D;const{auth:P}=w,H="reauthenticate";try{const fe=yield $n(w,Nd(P,H,_,w),y);G(fe.idToken,P,"internal-error");const je=ct(fe.idToken);G(je,P,"internal-error");const{sub:gt}=je;return G(w.uid===gt,P,"user-mismatch"),tr._forOperation(w,H,fe)}catch(fe){throw"auth/user-not-found"===(null===(D=fe)||void 0===D?void 0:D.code)&&ft(P,"user-mismatch"),fe}})).apply(this,arguments)}function nr(w,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(w,_,y=!1){const D="signIn",P=yield Nd(w,D,_),H=yield tr._fromIdTokenResponse(w,D,P);return y||(yield w._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Ao(w,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(w,_){return nr(gi(w),_)})).apply(this,arguments)}function Mc(w,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,o.Z)(function*(w,_){const y=(0,q.m9)(w);return yield Ii(!1,y,_.providerId),So(y,_)})).apply(this,arguments)}function Oc(w,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,o.Z)(function*(w,_){return dr((0,q.m9)(w),_)})).apply(this,arguments)}function Qa(w,_){return xo.apply(this,arguments)}function xo(){return(xo=(0,o.Z)(function*(w,_){return Hn(w,"POST","/v1/accounts:signInWithCustomToken",Qt(w,_))})).apply(this,arguments)}function Fl(w,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(w,_){const y=gi(w),D=yield Qa(y,{token:_,returnSecureToken:!0}),P=yield tr._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class $e{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?sn._fromServerResponse(_,y):ft(_,"internal-error")}}class sn extends $e{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new sn(y)}}function ko(w,_,y){var D;G((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),G(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(G(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(G(y.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function da(w,_,y){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w),P={requestType:"PASSWORD_RESET",email:_};y&&ko(D,P,y),yield ur(D,P)})).apply(this,arguments)}function Rc(w,_,y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,o.Z)(function*(w,_,y){yield ci((0,q.m9)(w),{oobCode:_,newPassword:y})})).apply(this,arguments)}function hr(w,_){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(w,_){yield Ad((0,q.m9)(w),{oobCode:_})})).apply(this,arguments)}function ao(w,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,o.Z)(function*(w,_){const y=(0,q.m9)(w),D=yield ci(y,{oobCode:_}),P=D.requestType;switch(G(P,y,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(D.mfaInfo,y,"internal-error");default:G(D.email,y,"internal-error")}let H=null;return D.mfaInfo&&(H=$e._fromServerResponse(gi(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:H},operation:P}})).apply(this,arguments)}function Md(w,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,o.Z)(function*(w,_){const{data:y}=yield ao((0,q.m9)(w),_);return y.email})).apply(this,arguments)}function Mo(w,_,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,o.Z)(function*(w,_,y){const D=gi(w),P=yield ks(D,{returnSecureToken:!0,email:_,password:y}),H=yield tr._fromIdTokenResponse(D,"signIn",P);return yield D._updateCurrentUser(H.user),H})).apply(this,arguments)}function ss(w,_,y){return Ao((0,q.m9)(w),$r.credential(_,y))}function Pc(w,_,y){return co.apply(this,arguments)}function co(){return(co=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w),P={requestType:"EMAIL_SIGNIN",email:_};G(y.handleCodeInApp,D,"argument-error"),y&&ko(D,P,y),yield Ol(D,P)})).apply(this,arguments)}function Os(w,_){return"EMAIL_SIGNIN"===aa.parseLink(_)?.operation}function Fu(w,_,y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w),P=$r.credentialWithLink(_,y||Qe());return G(P._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ao(D,P)})).apply(this,arguments)}function Fc(w,_){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:createAuthUri",Qt(w,_))})).apply(this,arguments)}function el(w,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(function*(w,_){const D={identifier:_,continueUri:Ye()?Qe():"http://localhost"},{signinMethods:P}=yield Fc((0,q.m9)(w),D);return P||[]})).apply(this,arguments)}function Bc(w,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,o.Z)(function*(w,_){const y=(0,q.m9)(w),P={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&ko(y.auth,P,_);const{email:H}=yield Ti(y.auth,P);H!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ll(w,_,y){return tl.apply(this,arguments)}function tl(){return(tl=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};y&&ko(D.auth,H,y);const{email:fe}=yield Tc(D.auth,H);fe!==w.email&&(yield w.reload())})).apply(this,arguments)}function Vc(w,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,o.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Uc(w,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(w,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const D=(0,q.m9)(w),H={idToken:yield D.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},fe=yield $n(D,Vc(D.auth,H));D.displayName=fe.displayName||null,D.photoURL=fe.photoUrl||null;const je=D.providerData.find(({providerId:gt})=>"password"===gt);je&&(je.displayName=D.displayName,je.photoURL=D.photoURL),yield D._updateTokensIfNecessary(fe)})).apply(this,arguments)}function nl(w,_){return pa((0,q.m9)(w),_,null)}function Bl(w,_){return pa((0,q.m9)(w),null,_)}function pa(w,_,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(w,_,y){const{auth:D}=w,H={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(H.email=_),y&&(H.password=y);const fe=yield $n(w,Rn(D,H));yield w._updateTokensIfNecessary(fe,!0)})).apply(this,arguments)}class fr{constructor(_,y,D={}){this.isNewUser=_,this.providerId=y,this.profile=D}}class Xn extends fr{constructor(_,y,D,P){super(_,y,D),this.username=P}}class il extends fr{constructor(_,y){super(_,"facebook.com",y)}}class Od extends Xn{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Vl extends fr{constructor(_,y){super(_,"google.com",y)}}class Lu extends Xn{constructor(_,y,D){super(_,"twitter.com",y,D)}}function jc(w){const{user:_,_tokenResponse:y}=w;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Bi(w){var _,y;if(!w)return null;const{providerId:D}=w,P=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},H=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&w?.idToken){const fe=null===(y=null===(_=ct(w.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(fe)return new fr(H,"anonymous"!==fe&&"custom"!==fe?fe:null)}if(!D)return null;switch(D){case"facebook.com":return new il(H,P);case"github.com":return new Od(H,P);case"google.com":return new Vl(H,P);case"twitter.com":return new Lu(H,P,w.screenName||null);case"custom":case"anonymous":return new fr(H,null);default:return new fr(H,D,P)}}(y)}class ma{constructor(_,y){this.type=_,this.credential=y}static _fromIdtoken(_){return new ma("enroll",_)}static _fromMfaPendingCredential(_){return new ma("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,D;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ma._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(D=_.multiFactorSession)&&void 0!==D&&D.idToken)return ma._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Hc{constructor(_,y,D){this.session=_,this.hints=y,this.signInResolver=D}static _fromError(_,y){const D=gi(_),P=y.customData._serverResponse,H=(P.mfaInfo||[]).map(je=>$e._fromServerResponse(D,je));G(P.mfaPendingCredential,D,"internal-error");const fe=ma._fromMfaPendingCredential(P.mfaPendingCredential);return new Hc(fe,H,function(){var je=(0,o.Z)(function*(gt){const Dt=yield gt._process(D,fe);delete P.mfaInfo,delete P.mfaPendingCredential;const on=Object.assign(Object.assign({},P),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(y.operationType){case"signIn":const oi=yield tr._fromIdTokenResponse(D,y.operationType,on);return yield D._updateCurrentUser(oi.user),oi;case"reauthenticate":return G(y.user,D,"internal-error"),tr._forOperation(y.user,y.operationType,on);default:ft(D,"internal-error")}});return function(gt){return je.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,o.Z)(function*(){return y.signInResolver(_)})()}}function Po(w,_){var y;const D=(0,q.m9)(w),P=_;return G(_.customData.operationType,D,"argument-error"),G(null===(y=P.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Hc._fromError(D,P)}function yi(w,_){return Jt(w,"POST","/v2/accounts/mfaEnrollment:start",Qt(w,_))}class os{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>$e._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new os(_)}getSession(){var _=this;return(0,o.Z)(function*(){return ma._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,y){var D=this;return(0,o.Z)(function*(){const P=_,H=yield D.getSession(),fe=yield $n(D.user,P._process(D.user.auth,H,y));return yield D.user._updateTokensIfNecessary(fe),D.user.reload()})()}unenroll(_){var y=this;return(0,o.Z)(function*(){var D;const P="string"==typeof _?_:_.uid,H=yield y.user.getIdToken(),fe=yield $n(y.user,function Uh(w,_){return Jt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(w,_))}(y.user.auth,{idToken:H,mfaEnrollmentId:P}));y.enrolledFactors=y.enrolledFactors.filter(({uid:je})=>je!==P),yield y.user._updateTokensIfNecessary(fe);try{yield y.user.reload()}catch(je){if("auth/user-token-expired"!==(null===(D=je)||void 0===D?void 0:D.code))throw je}})()}}const _a=new WeakMap;function rl(w){const _=(0,q.m9)(w);return _a.has(_)||_a.set(_,os._fromUser(_)),_a.get(_)}const sl="__sak";class jl{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(sl,"1"),this.storage.removeItem(sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const qi=(()=>{class w extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gc(){const w=(0,q.z$)();return X(w)||Ut(w)}()&&function zn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Li(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const P=this.storage.getItem(D),H=this.localCache[D];P!==H&&y(D,H,P)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((je,gt,Dt)=>{this.notifyListeners(je,Dt)});const P=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(P);if(y.newValue!==je)null!==y.newValue?this.storage.setItem(P,y.newValue):this.storage.removeItem(P);else if(this.localCache[P]===y.newValue&&!D)return}const H=()=>{const je=this.storage.getItem(P);!D&&this.localCache[P]===je||this.notifyListeners(P,je)},fe=this.storage.getItem(P);!function Lt(){return(0,q.w1)()&&10===document.documentMode}()||fe===y.newValue||y.newValue===y.oldValue?H():setTimeout(H,10)}notifyListeners(y,D){this.localCache[y]=D;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var P=()=>super._set,H=this;return(0,o.Z)(function*(){yield P().call(H,y,D),H.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,P=this;return(0,o.Z)(function*(){const H=yield D().call(P,y);return P.localCache[y]=JSON.stringify(H),H})()}_remove(y){var D=()=>super._remove,P=this;return(0,o.Z)(function*(){yield D().call(P,y),delete P.localCache[y]})()}}return w.type="LOCAL",w})(),I=(()=>{class w extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let Y=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(H=>H.isListeningto(y));if(D)return D;const P=new w(y);return this.receivers.push(P),P}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,o.Z)(function*(){const P=y,{eventId:H,eventType:fe,data:je}=P.data,gt=D.handlersMap[fe];if(!gt?.size)return;P.ports[0].postMessage({status:"ack",eventId:H,eventType:fe});const Dt=Array.from(gt).map(function(){var oi=(0,o.Z)(function*(Ho){return Ho(P.origin,je)});return function(Ho){return oi.apply(this,arguments)}}()),on=yield function O(w){return Promise.all(w.map(function(){var _=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return _.apply(this,arguments)}}()))}(Dt);P.ports[0].postMessage({status:"done",eventId:H,eventType:fe,response:on})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Oe(w="",_=10){let y="";for(let D=0;D<_;D++)y+=Math.floor(10*Math.random());return w+y}class ke{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,D=50){var P=this;return(0,o.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let fe,je;return new Promise((gt,Dt)=>{const on=Oe("",20);H.port1.start();const oi=setTimeout(()=>{Dt(new Error("unsupported_event"))},D);je={messageChannel:H,onMessage(Ho){const gl=Ho;if(gl.data.eventId===on)switch(gl.data.status){case"ack":clearTimeout(oi),fe=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(fe),gt(gl.data.response);break;default:clearTimeout(oi),clearTimeout(fe),Dt(new Error("invalid_response"))}}},P.handlers.add(je),H.port1.addEventListener("message",je.onMessage),P.target.postMessage({eventType:_,eventId:on,data:y},[H.port2])}).finally(()=>{je&&P.removeMessageHandler(je)})})()}}function Wt(){return window}function vi(){return typeof Wt().WorkerGlobalScope<"u"&&"function"==typeof Wt().importScripts}function Fs(){return(Fs=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ya="firebaseLocalStorageDb",va="firebaseLocalStorage",zc="fbase_key";class Gl{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ol(w,_){return w.transaction([va],_?"readwrite":"readonly").objectStore(va)}function Fo(){const w=indexedDB.open(ya,1);return new Promise((_,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(va,{keyPath:zc})}catch(P){y(P)}}),w.addEventListener("success",(0,o.Z)(function*(){const D=w.result;D.objectStoreNames.contains(va)?_(D):(D.close(),yield function Sp(){const w=indexedDB.deleteDatabase(ya);return new Gl(w).toPromise()}(),_(yield Fo()))}))})}function ba(w,_,y){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,o.Z)(function*(w,_,y){const D=ol(w,!0).put({[zc]:_,value:y});return new Gl(D).toPromise()})).apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(w,_){const y=ol(w,!1).get(_),D=yield new Gl(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ls(w,_){const y=ol(w,!0).delete(_);return new Gl(y).toPromise()}const Uu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Fo()),y.db})()}_withRetries(y){var D=this;return(0,o.Z)(function*(){let P=0;for(;;)try{const H=yield D._openDb();return yield y(H)}catch(H){if(P++>3)throw H;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return vi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Y._getInstance(function Bu(){return vi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,o.Z)(function*(P,H){return{keyProcessed:(yield y._poll()).includes(H.key)}});return function(P,H){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,o.Z)(function*(P,H){return["keyChanged"]});return function(P,H){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var D,P;if(y.activeServiceWorker=yield function Mr(){return Fs.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ke(y.activeServiceWorker);const H=yield y.sender._send("ping",{},800);!H||(null===(D=H[0])||void 0===D?void 0:D.fulfilled)&&(null===(P=H[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,o.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function jd(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Fo();return yield ba(y,sl,"1"),yield Ls(y,sl),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,o.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var P=this;return(0,o.Z)(function*(){return P._withPendingWrite((0,o.Z)(function*(){return yield P._withRetries(H=>ba(H,y,D)),P.localCache[y]=D,P.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,o.Z)(function*(){const P=yield D._withRetries(H=>function jh(w,_){return al.apply(this,arguments)}(H,y));return D.localCache[y]=P,P})()}_remove(y){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(P=>Ls(P,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const D=yield y._withRetries(fe=>{const je=ol(fe,!1).getAll();return new Gl(je).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const P=[],H=new Set;for(const{fbase_key:fe,value:je}of D)H.add(fe),JSON.stringify(y.localCache[fe])!==JSON.stringify(je)&&(y.notifyListeners(fe,je),P.push(fe));for(const fe of Object.keys(y.localCache))y.localCache[fe]&&!H.has(fe)&&(y.notifyListeners(fe,null),P.push(fe));return P})()}notifyListeners(y,D){this.localCache[y]=D;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function $d(w,_){return Jt(w,"POST","/v2/accounts/mfaSignIn:start",Qt(w,_))}function un(){return(un=(0,o.Z)(function*(w){return(yield Jt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ll(w){return new Promise((_,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=_,D.onerror=P=>{const H=Ke("internal-error");H.customData=P,y(H)},D.type="text/javascript",D.charset="UTF-8",function wa(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(D)})}function zl(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Ai=1e12;class On{constructor(_){this.auth=_,this.counter=Ai,this._widgets=new Map}render(_,y){const D=this.counter;return this._widgets.set(D,new Nm(_,this.auth.name,y||{})),this.counter++,D}reset(_){var y;const D=_||Ai;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(_){var y;return(null===(y=this._widgets.get(_||Ai))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,o.Z)(function*(){var D;return null===(D=y._widgets.get(_||Ai))||void 0===D||D.execute(),""})()}}class Nm{constructor(_,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof _?document.getElementById(_):_;G(P,"argument-error",{appName:y}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ap(w){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ca=zl("rcb"),xp=new tt(3e4,6e4);class Gh{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Wt().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return G(function ju(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Wt().grecaptcha):new Promise((D,P)=>{const H=Wt().setTimeout(()=>{P(Ke(_,"network-request-failed"))},xp.get());Wt()[Ca]=()=>{Wt().clearTimeout(H),delete Wt()[Ca];const je=Wt().grecaptcha;if(!je)return void P(Ke(_,"internal-error"));const gt=je.render;je.render=(Dt,on)=>{const oi=gt(Dt,on);return this.counter++,oi},this.hostLanguage=y,D(je)},ll(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Ca,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(H),P(Ke(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=Wt().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qc{load(_){return(0,o.Z)(function*(){return new On(_)})()}clearedOneInstance(){}}const Om="recaptcha",Ev={theme:"light",type:"image"};class Vi{constructor(_,y=Object.assign({},Ev),D){this.parameters=y,this.type=Om,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gi(D),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof _?document.getElementById(_):_;G(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qc:new Gh,this.validateStartingState()}verify(){var _=this;return(0,o.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(y)||new Promise(H=>{const fe=je=>{!je||(_.tokenChangeListeners.delete(fe),H(je))};_.tokenChangeListeners.add(fe),_.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof _)_(y);else if("string"==typeof _){const D=Wt()[_];"function"==typeof D&&D(y)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.Z)(function*(){G(Ye()&&!vi(),_.auth,"internal-error"),yield function Hu(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function Zr(w){return un.apply(this,arguments)}(_.auth);G(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fo{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=no._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function Rm(w,_,y){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,o.Z)(function*(w,_,y){const D=gi(w),P=yield Lo(D,_,(0,q.m9)(y));return new fo(P,H=>Ao(D,H))})).apply(this,arguments)}function Or(w,_,y){return as.apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w);yield Ii(!1,D,"phone");const P=yield Lo(D.auth,_,(0,q.m9)(y));return new fo(P,H=>Mc(D,H))})).apply(this,arguments)}function $h(w,_,y){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w),P=yield Lo(D.auth,_,(0,q.m9)(y));return new fo(P,H=>Oc(D,H))})).apply(this,arguments)}function Lo(w,_,y){return $u.apply(this,arguments)}function $u(){return($u=(0,o.Z)(function*(w,_,y){var D;const P=yield y.verify();try{let H;if(G("string"==typeof P,w,"argument-error"),G(y.type===Om,w,"argument-error"),H="string"==typeof _?{phoneNumber:_}:_,"session"in H){const fe=H.session;if("phoneNumber"in H)return G("enroll"===fe.type,w,"internal-error"),(yield yi(w,{idToken:fe.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{G("signin"===fe.type,w,"internal-error");const je=(null===(D=H.multiFactorHint)||void 0===D?void 0:D.uid)||H.multiFactorUid;return G(je,w,"missing-multi-factor-info"),(yield $d(w,{mfaPendingCredential:fe.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:fe}=yield Lh(w,{phoneNumber:H.phoneNumber,recaptchaToken:P});return fe}}finally{y._reset()}})).apply(this,arguments)}function kp(w,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,_){yield So((0,q.m9)(w),_)})).apply(this,arguments)}let Pm=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=gi(y)}verifyPhoneNumber(y,D){return Lo(this.auth,y,(0,q.m9)(D))}static credential(y,D){return no._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:P}=y;return D&&P?no._fromTokenResponse(D,P):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function cl(w,_){return _?le(_):(G(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Wc extends si{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return eo(_,this._buildIdpRequest())}_linkToIdToken(_,y){return eo(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return eo(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function qr(w){return nr(w.auth,new Wc(w),w.bypassAuthState)}function zd(w){const{auth:_,user:y}=w;return G(y,_,"internal-error"),dr(y,new Wc(w),w.bypassAuthState)}function Da(w){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(w){const{auth:_,user:y}=w;return G(y,_,"internal-error"),So(y,new Wc(w),w.bypassAuthState)})).apply(this,arguments)}class Ot{constructor(_,y,D,P,H=!1){this.auth=_,this.resolver=D,this.user=P,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,o.Z)(function*(D,P){_.pendingPromise={resolve:D,reject:P};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(H){_.reject(H)}});return function(D,P){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,o.Z)(function*(){const{urlResponse:D,sessionId:P,postBody:H,tenantId:fe,error:je,type:gt}=_;if(je)return void y.reject(je);const Dt={auth:y.auth,requestUri:D,sessionId:P,tenantId:fe||void 0,postBody:H||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(gt)(Dt))}catch(on){y.reject(on)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return qr;case"linkViaPopup":case"linkViaRedirect":return Da;case"reauthViaPopup":case"reauthViaRedirect":return zd;default:ft(this.auth,"internal-error")}}resolve(_){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ql=new tt(2e3,1e4);function Zd(w,_,y){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(w,_,y){const D=gi(w);Be(w,_,is);const P=cl(D,y);return new Bs(D,"signInViaPopup",_,P).executeNotNull()})).apply(this,arguments)}function cs(w,_,y){return zh.apply(this,arguments)}function zh(){return(zh=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w);Be(D.auth,_,is);const P=cl(D.auth,y);return new Bs(D.auth,"reauthViaPopup",_,P,D).executeNotNull()})).apply(this,arguments)}function Fm(w,_,y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w);Be(D.auth,_,is);const P=cl(D.auth,y);return new Bs(D.auth,"linkViaPopup",_,P,D).executeNotNull()})).apply(this,arguments)}let Bs=(()=>{class w extends Ot{constructor(y,D,P,H,fe){super(y,D,H,fe),this.provider=P,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const D=yield y.execute();return G(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,o.Z)(function*(){Ee(1===y.filter.length,"Popup operations only handle one event");const D=Oe();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(P=>{y.reject(P)}),y.resolver._isIframeWebStorageSupported(y.auth,P=>{P||y.reject(Ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,P;this.pollId=null!==(P=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,ql.get())};y()}}return w.currentPopupAction=null,w})();const Cr=new Map;class zu extends Ot{constructor(_,y,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,o.Z)(function*(){let D=Cr.get(y.auth._key());if(!D){try{const H=(yield function ul(w,_){return Kc.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;D=()=>Promise.resolve(H)}catch(P){D=()=>Promise.reject(P)}Cr.set(y.auth._key(),D)}return y.bypassAuthState||Cr.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,D=this;return(0,o.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(D,_);if("unknown"!==_.type){if(_.eventId){const P=yield D.auth._redirectUserForId(_.eventId);if(P)return D.user=P,y().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Kc(){return(Kc=(0,o.Z)(function*(w,_){const y=Yc(_),D=hl(w);if(!(yield D._isAvailable()))return!1;const P="true"===(yield D._get(y));return yield D._remove(y),P})).apply(this,arguments)}function Bo(w,_){return qd.apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(w,_){return hl(w)._set(Yc(_),"true")})).apply(this,arguments)}function Sa(){Cr.clear()}function dl(w,_){Cr.set(w._key(),_)}function hl(w){return le(w._redirectPersistence)}function Yc(w){return Sn("pendingRedirect",w.config.apiKey,w.name)}function xi(w,_,y){return function po(w,_,y){return Wr.apply(this,arguments)}(w,_,y)}function Wr(){return(Wr=(0,o.Z)(function*(w,_,y){const D=gi(w);Be(w,_,is);const P=cl(D,y);return yield Bo(P,D),P._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function x(w,_,y){return function k(w,_,y){return F.apply(this,arguments)}(w,_,y)}function F(){return(F=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w);Be(D.auth,_,is);const P=cl(D.auth,y);yield Bo(P,D.auth);const H=yield cn(D);return P._openRedirect(D.auth,_,"reauthViaRedirect",H)})).apply(this,arguments)}function K(w,_,y){return function ue(w,_,y){return we.apply(this,arguments)}(w,_,y)}function we(){return(we=(0,o.Z)(function*(w,_,y){const D=(0,q.m9)(w);Be(D.auth,_,is);const P=cl(D.auth,y);yield Ii(!1,D,_.providerId),yield Bo(P,D.auth);const H=yield cn(D);return P._openRedirect(D.auth,_,"linkViaRedirect",H)})).apply(this,arguments)}function Ze(w,_){return ut.apply(this,arguments)}function ut(){return(ut=(0,o.Z)(function*(w,_){return yield gi(w)._initializationPromise,Rt(w,_,!1)})).apply(this,arguments)}function Rt(w,_){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(w,_,y=!1){const D=gi(w),P=cl(D,_),fe=yield new zu(D,P,y).execute();return fe&&!y&&(delete fe.user._redirectEventId,yield D._persistUserIfCurrent(fe.user),yield D._setRedirectUser(null,_)),fe})).apply(this,arguments)}function cn(w){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,o.Z)(function*(w){const _=Oe(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Rr{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(y=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Vs(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wl(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var D;if(_.error&&!Wl(_)){const P=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(Ke(this.auth,P))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const D=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vo(_))}saveEventToCache(_){this.cachedEventUids.add(Vo(_)),this.lastProcessedEventTime=Date.now()}}function Vo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function Wl({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function Aa(w){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(w,_={}){return Jt(w,"GET","/v1/projects",_)})).apply(this,arguments)}const Qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uo=/^https?/;function Zu(){return(Zu=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield Aa(w);for(const y of _)try{if(Dv(y))return}catch{}ft(w,"unauthorized-domain")})).apply(this,arguments)}function Dv(w){const _=Qe(),{protocol:y,hostname:D}=new URL(_);if(w.startsWith("chrome-extension://")){const fe=new URL(w);return""===fe.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&fe.hostname===D}if(!Uo.test(y))return!1;if(Qc.test(w))return D===w;const P=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(D)}const Tv=new tt(3e4,6e4);function Lm(){const w=Wt().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Jc=null;function Iv(w){return Jc=Jc||function Wd(w){return new Promise((_,y)=>{var D,P,H;function fe(){Lm(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Lm(),y(Ke(w,"network-request-failed"))},timeout:Tv.get()})}if(null!==(P=null===(D=Wt().gapi)||void 0===D?void 0:D.iframes)&&void 0!==P&&P.Iframe)_(gapi.iframes.getContext());else{if(null===(H=Wt().gapi)||void 0===H||!H.load){const je=zl("iframefcb");return Wt()[je]=()=>{gapi.load?fe():y(Ke(w,"network-request-failed"))},ll(`https://apis.google.com/js/api.js?onload=${je}`).catch(gt=>y(gt))}fe()}}).catch(_=>{throw Jc=null,_})}(w),Jc}const Xc=new tt(5e3,15e3),eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qh(w){const _=w.config;G(_.authDomain,w,"auth-domain-config-required");const y=_.emulator?vn(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:_.apiKey,appName:w.name,v:V.SDK_VERSION},P=Kd.get(w.config.apiHost);P&&(D.eid=P);const H=w._getFrameworks();return H.length&&(D.fw=H.join(",")),`${y}?${(0,q.xO)(D).slice(1)}`}function qu(){return qu=(0,o.Z)(function*(w){const _=yield Iv(w),y=Wt().gapi;return G(y,w,"internal-error"),_.open({where:document.body,url:qh(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eu,dontclear:!0},D=>new Promise(function(){var P=(0,o.Z)(function*(H,fe){yield D.restyle({setHideOnLeave:!1});const je=Ke(w,"network-request-failed"),gt=Wt().setTimeout(()=>{fe(je)},Xc.get());function Dt(){Wt().clearTimeout(gt),H(D)}D.ping(Dt).then(Dt,()=>{fe(je)})});return function(H,fe){return P.apply(this,arguments)}}()))}),qu.apply(this,arguments)}const Wh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tu{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yh(w,_,y,D,P,H){G(w.config.authDomain,w,"auth-domain-config-required"),G(w.config.apiKey,w,"invalid-api-key");const fe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:V.SDK_VERSION,eventId:P};if(_ instanceof is){_.setDefaultLanguage(w.languageCode),fe.providerId=_.providerId||"",(0,q.xb)(_.getCustomParameters())||(fe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[gt,Dt]of Object.entries(H||{}))fe[gt]=Dt}if(_ instanceof io){const gt=_.getScopes().filter(Dt=>""!==Dt);gt.length>0&&(fe.scopes=gt.join(","))}w.tenantId&&(fe.tid=w.tenantId);const je=fe;for(const gt of Object.keys(je))void 0===je[gt]&&delete je[gt];return`${function xv({config:w}){return w.emulator?vn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,q.xO)(je).slice(1)}`}const Mp="webStorageSupport",Vm=class Us{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I,this._completeRedirectFn=Rt,this._overrideRedirectResult=dl}_openPopup(_,y,D,P){var H=this;return(0,o.Z)(function*(){var fe;Ee(null===(fe=H.eventManagers[_._key()])||void 0===fe?void 0:fe.manager,"_initialize() not called before _openPopup()");const je=Yh(_,y,D,Qe(),P);return function pl(w,_,y,D=500,P=600){const H=Math.max((window.screen.availHeight-P)/2,0).toString(),fe=Math.max((window.screen.availWidth-D)/2,0).toString();let je="";const gt=Object.assign(Object.assign({},Wh),{width:D.toString(),height:P.toString(),top:H,left:fe}),Dt=(0,q.z$)().toLowerCase();y&&(je=Me(Dt)?"_blank":y),J(Dt)&&(_=_||"http://localhost",gt.scrollbars="yes");const on=Object.entries(gt).reduce((Ho,[gl,Op])=>`${Ho}${gl}=${Op},`,"");if(function Fi(w=(0,q.z$)()){var _;return Ut(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Dt)&&"_self"!==je)return function xa(w,_){const y=document.createElement("a");y.href=w,y.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(_||"",je),new tu(null);const oi=window.open(_||"",je,on);G(oi,w,"popup-blocked");try{oi.focus()}catch{}return new tu(oi)}(_,je,Oe())})()}_openRedirect(_,y,D,P){var H=this;return(0,o.Z)(function*(){return yield H._originValidation(_),function Jn(w){Wt().location.href=w}(Yh(_,y,D,Qe(),P)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:P,promise:H}=this.eventManagers[y];return P?Promise.resolve(P):(Ee(H,"If manager is not set, promise should be"),H)}const D=this.initAndGetManager(_);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(_){var y=this;return(0,o.Z)(function*(){const D=yield function Yd(w){return qu.apply(this,arguments)}(_),P=new Rr(_);return D.register("authEvent",H=>(G(H?.authEvent,_,"invalid-auth-event"),{status:P.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:P},y.iframes[_._key()]=D,P})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Mp,{type:Mp},P=>{var H;const fe=null===(H=P?.[0])||void 0===H?void 0:H[Mp];void 0!==fe&&y(!!fe),ft(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function fl(w){return Zu.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Li()||X()||Ut()}};class ka extends class Qh{constructor(_){this.factorId=_}_process(_,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,D);case"signin":return this._finalizeSignIn(_,y.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ka(_)}_finalizeEnroll(_,y,D){return function Bd(w,_){return Jt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(w,_))}(_,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function $l(w,_){return Jt(w,"POST","/v2/accounts/mfaSignIn:finalize",Qt(w,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qd=(()=>{class w{constructor(){}static assertion(y){return ka._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Jh="@firebase/auth";class XC{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(D=>{var P;_((null===(P=D)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Hm(w){(0,V._registerComponent)(new Se.wA("auth",(_,{options:y})=>{const D=_.getProvider("app").getImmediate(),P=_.getProvider("heartbeat"),{apiKey:H,authDomain:fe}=D.options;return((je,gt)=>{G(H&&!H.includes(":"),"invalid-api-key",{appName:je.name}),G(!fe?.includes(":"),"argument-error",{appName:je.name});const Dt={apiKey:H,authDomain:fe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(w)},on=new tn(je,gt,Dt);return function me(w,_){const y=_?.persistence||[],D=(Array.isArray(y)?y:[y]).map(le);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(D,_?.popupRedirectResolver)}(on,y),on})(D,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,D)=>{_.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new Se.wA("auth-internal",_=>{const y=gi(_.getProvider("auth").getImmediate());return new XC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Jh,"0.20.5",function jm(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,V.registerVersion)(Jh,"0.20.5","esm2017")}("Browser")},2090:(St,Ve,j)=>{"use strict";j.d(Ve,{$s:()=>er,BH:()=>st,DV:()=>Jt,Dv:()=>Gi,G6:()=>G,GJ:()=>ln,L:()=>Ce,LL:()=>Qe,Mn:()=>Be,Pz:()=>Xt,Sg:()=>We,UG:()=>Ne,UI:()=>ns,US:()=>Se,Wj:()=>ri,Yr:()=>lt,ZB:()=>ne,ZR:()=>me,b$:()=>ft,cI:()=>mn,d:()=>Ke,dS:()=>ct,eu:()=>Ee,g5:()=>V,gK:()=>Vt,gQ:()=>Kn,h$:()=>_e,hl:()=>ve,hu:()=>q,jU:()=>Ie,lb:()=>In,m9:()=>qt,ne:()=>wt,p$:()=>ee,pd:()=>Gn,r3:()=>Qt,ru:()=>ht,tV:()=>Ae,uI:()=>_t,ug:()=>at,vZ:()=>Ji,w1:()=>ze,w9:()=>hn,xO:()=>Xi,xb:()=>Di,z$:()=>Le,zI:()=>ae,zd:()=>Ar});const q=function(oe,W){if(!oe)throw V(W)},V=function(oe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+oe)},ge=function(oe){const W=[];let Q=0;for(let ie=0;ie<oe.length;ie++){let re=oe.charCodeAt(ie);re<128?W[Q++]=re:re<2048?(W[Q++]=re>>6|192,W[Q++]=63&re|128):55296==(64512&re)&&ie+1<oe.length&&56320==(64512&oe.charCodeAt(ie+1))?(re=65536+((1023&re)<<10)+(1023&oe.charCodeAt(++ie)),W[Q++]=re>>18|240,W[Q++]=re>>12&63|128,W[Q++]=re>>6&63|128,W[Q++]=63&re|128):(W[Q++]=re>>12|224,W[Q++]=re>>6&63|128,W[Q++]=63&re|128)}return W},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,W){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let re=0;re<oe.length;re+=3){const Ue=oe[re],nt=re+1<oe.length,Ft=nt?oe[re+1]:0,kn=re+2<oe.length,Sn=kn?oe[re+2]:0;let J=(15&Ft)<<2|Sn>>6,X=63&Sn;kn||(X=64,nt||(J=64)),ie.push(Q[Ue>>2],Q[(3&Ue)<<4|Ft>>4],Q[J],Q[X])}return ie.join("")},encodeString(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(oe):this.encodeByteArray(ge(oe),W)},decodeString(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(oe):function(oe){const W=[];let Q=0,ie=0;for(;Q<oe.length;){const re=oe[Q++];if(re<128)W[ie++]=String.fromCharCode(re);else if(re>191&&re<224){const Ue=oe[Q++];W[ie++]=String.fromCharCode((31&re)<<6|63&Ue)}else if(re>239&&re<365){const kn=((7&re)<<18|(63&oe[Q++])<<12|(63&oe[Q++])<<6|63&oe[Q++])-65536;W[ie++]=String.fromCharCode(55296+(kn>>10)),W[ie++]=String.fromCharCode(56320+(1023&kn))}else{const Ue=oe[Q++],nt=oe[Q++];W[ie++]=String.fromCharCode((15&re)<<12|(63&Ue)<<6|63&nt)}}return W.join("")}(this.decodeStringToByteArray(oe,W))},decodeStringToByteArray(oe,W){this.init_();const Q=W?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let re=0;re<oe.length;){const Ue=Q[oe.charAt(re++)],Ft=re<oe.length?Q[oe.charAt(re)]:0;++re;const Sn=re<oe.length?Q[oe.charAt(re)]:64;++re;const de=re<oe.length?Q[oe.charAt(re)]:64;if(++re,null==Ue||null==Ft||null==Sn||null==de)throw Error();ie.push(Ue<<2|Ft>>4),64!==Sn&&(ie.push(Ft<<4&240|Sn>>2),64!==de&&ie.push(Sn<<6&192|de))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},_e=function(oe){const W=ge(oe);return Se.encodeByteArray(W,!0)},Ce=function(oe){return _e(oe).replace(/\./g,"")},Ae=function(oe){try{return Se.decodeString(oe,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function ee(oe){return ne(void 0,oe)}function ne(oe,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return W}for(const Q in W)!W.hasOwnProperty(Q)||!ce(Q)||(oe[Q]=ne(oe[Q],W[Q]));return oe}function ce(oe){return"__proto__"!==oe}class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Q)=>{this.resolve=W,this.reject=Q})}wrapCallback(W){return(Q,ie)=>{Q?this.reject(Q):this.resolve(ie),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Q):W(Q,ie))}}}function We(oe,W){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=W||"demo-project",re=oe.iat||0,Ue=oe.sub||oe.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:re,exp:re+3600,auth_time:re,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(nt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ie(){return"object"==typeof self&&self.self===self}function ht(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return Le().indexOf("Electron/")>=0}function ze(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Be(){return Le().indexOf("MSAppHost/")>=0}function lt(){return!1}function G(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){return"object"==typeof indexedDB}function Ee(){return new Promise((oe,W)=>{try{let Q=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ie);re.onsuccess=()=>{re.result.close(),Q||self.indexedDB.deleteDatabase(ie),oe(!0)},re.onupgradeneeded=()=>{Q=!1},re.onerror=()=>{var Ue;W((null===(Ue=re.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(Q){W(Q)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(W,Q,ie){super(Q),this.code=W,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(W,Q,ie){this.service=W,this.serviceName=Q,this.errors=ie}create(W,...Q){const ie=Q[0]||{},re=`${this.service}/${W}`,Ue=this.errors[W],nt=Ue?function Ye(oe,W){return oe.replace(Nt,(Q,ie)=>{const re=W[ie];return null!=re?String(re):`<${ie}?>`})}(Ue,ie):"Error";return new me(re,`${this.serviceName}: ${nt} (${re}).`,ie)}}const Nt=/\{\$([^}]+)}/g;function mn(oe){return JSON.parse(oe)}function Xt(oe){return JSON.stringify(oe)}const tt=function(oe){let W={},Q={},ie={},re="";try{const Ue=oe.split(".");W=mn(Ae(Ue[0])||""),Q=mn(Ae(Ue[1])||""),re=Ue[2],ie=Q.d||{},delete Q.d}catch{}return{header:W,claims:Q,data:ie,signature:re}},hn=function(oe){const Q=tt(oe).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},ln=function(oe){const W=tt(oe).claims;return"object"==typeof W&&!0===W.admin};function Qt(oe,W){return Object.prototype.hasOwnProperty.call(oe,W)}function Jt(oe,W){if(Object.prototype.hasOwnProperty.call(oe,W))return oe[W]}function Di(oe){for(const W in oe)if(Object.prototype.hasOwnProperty.call(oe,W))return!1;return!0}function ns(oe,W,Q){const ie={};for(const re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&(ie[re]=W.call(Q,oe[re],re,oe));return ie}function Ji(oe,W){if(oe===W)return!0;const Q=Object.keys(oe),ie=Object.keys(W);for(const re of Q){if(!ie.includes(re))return!1;const Ue=oe[re],nt=W[re];if(Hn(Ue)&&Hn(nt)){if(!Ji(Ue,nt))return!1}else if(Ue!==nt)return!1}for(const re of ie)if(!Q.includes(re))return!1;return!0}function Hn(oe){return null!==oe&&"object"==typeof oe}function Xi(oe){const W=[];for(const[Q,ie]of Object.entries(oe))Array.isArray(ie)?ie.forEach(re=>{W.push(encodeURIComponent(Q)+"="+encodeURIComponent(re))}):W.push(encodeURIComponent(Q)+"="+encodeURIComponent(ie));return W.length?"&"+W.join("&"):""}function Ar(oe){const W={};return oe.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[re,Ue]=ie.split("=");W[decodeURIComponent(re)]=decodeURIComponent(Ue)}}),W}function Gn(oe){const W=oe.indexOf("?");if(!W)return"";const Q=oe.indexOf("#",W);return oe.substring(W,Q>0?Q:void 0)}class Kn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,Q){Q||(Q=0);const ie=this.W_;if("string"==typeof W)for(let de=0;de<16;de++)ie[de]=W.charCodeAt(Q)<<24|W.charCodeAt(Q+1)<<16|W.charCodeAt(Q+2)<<8|W.charCodeAt(Q+3),Q+=4;else for(let de=0;de<16;de++)ie[de]=W[Q]<<24|W[Q+1]<<16|W[Q+2]<<8|W[Q+3],Q+=4;for(let de=16;de<80;de++){const J=ie[de-3]^ie[de-8]^ie[de-14]^ie[de-16];ie[de]=4294967295&(J<<1|J>>>31)}let Sn,pi,re=this.chain_[0],Ue=this.chain_[1],nt=this.chain_[2],Ft=this.chain_[3],kn=this.chain_[4];for(let de=0;de<80;de++){de<40?de<20?(Sn=Ft^Ue&(nt^Ft),pi=1518500249):(Sn=Ue^nt^Ft,pi=1859775393):de<60?(Sn=Ue&nt|Ft&(Ue|nt),pi=2400959708):(Sn=Ue^nt^Ft,pi=3395469782);const J=(re<<5|re>>>27)+Sn+kn+pi+ie[de]&4294967295;kn=Ft,Ft=nt,nt=4294967295&(Ue<<30|Ue>>>2),Ue=re,re=J}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ue&4294967295,this.chain_[2]=this.chain_[2]+nt&4294967295,this.chain_[3]=this.chain_[3]+Ft&4294967295,this.chain_[4]=this.chain_[4]+kn&4294967295}update(W,Q){if(null==W)return;void 0===Q&&(Q=W.length);const ie=Q-this.blockSize;let re=0;const Ue=this.buf_;let nt=this.inbuf_;for(;re<Q;){if(0===nt)for(;re<=ie;)this.compress_(W,re),re+=this.blockSize;if("string"==typeof W){for(;re<Q;)if(Ue[nt]=W.charCodeAt(re),++nt,++re,nt===this.blockSize){this.compress_(Ue),nt=0;break}}else for(;re<Q;)if(Ue[nt]=W[re],++nt,++re,nt===this.blockSize){this.compress_(Ue),nt=0;break}}this.inbuf_=nt,this.total_+=Q}digest(){const W=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&Q,Q/=256;this.compress_(this.buf_);let ie=0;for(let re=0;re<5;re++)for(let Ue=24;Ue>=0;Ue-=8)W[ie]=this.chain_[re]>>Ue&255,++ie;return W}}function wt(oe,W){const Q=new Pn(oe,W);return Q.subscribe.bind(Q)}class Pn{constructor(W,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{W(this)}).catch(ie=>{this.error(ie)})}next(W){this.forEachObserver(Q=>{Q.next(W)})}error(W){this.forEachObserver(Q=>{Q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Q,ie){let re;if(void 0===W&&void 0===Q&&void 0===ie)throw new Error("Missing Observer.");re=function bn(oe,W){if("object"!=typeof oe||null===oe)return!1;for(const Q of W)if(Q in oe&&"function"==typeof oe[Q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Q,complete:ie},void 0===re.next&&(re.next=fi),void 0===re.error&&(re.error=fi),void 0===re.complete&&(re.complete=fi);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ue}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,W)}sendOne(W,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Q(this.observers[W])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const Gi=function(oe,W,Q,ie){let re;if(ie<W?re="at least "+W:ie>Q&&(re=0===Q?"none":"no more than "+Q),re)throw new Error(oe+" failed: Was called with "+ie+(1===ie?" argument.":" arguments.")+" Expects "+re+".")};function Vt(oe,W){return`${oe} failed: ${W} argument `}function ri(oe,W,Q,ie){if((!ie||Q)&&"function"!=typeof Q)throw new Error(Vt(oe,W)+"must be a valid function.")}function In(oe,W,Q,ie){if((!ie||Q)&&("object"!=typeof Q||null===Q))throw new Error(Vt(oe,W)+"must be a valid context object.")}const ct=function(oe){const W=[];let Q=0;for(let ie=0;ie<oe.length;ie++){let re=oe.charCodeAt(ie);if(re>=55296&&re<=56319){const Ue=re-55296;ie++,q(ie<oe.length,"Surrogate pair missing trail surrogate."),re=65536+(Ue<<10)+(oe.charCodeAt(ie)-56320)}re<128?W[Q++]=re:re<2048?(W[Q++]=re>>6|192,W[Q++]=63&re|128):re<65536?(W[Q++]=re>>12|224,W[Q++]=re>>6&63|128,W[Q++]=63&re|128):(W[Q++]=re>>18|240,W[Q++]=re>>12&63|128,W[Q++]=re>>6&63|128,W[Q++]=63&re|128)}return W},at=function(oe){let W=0;for(let Q=0;Q<oe.length;Q++){const ie=oe.charCodeAt(Q);ie<128?W++:ie<2048?W+=2:ie>=55296&&ie<=56319?(W+=4,Q++):W+=3}return W};function er(oe,W=1e3,Q=2){const ie=W*Math.pow(Q,oe),re=Math.round(.5*ie*(Math.random()-.5)*2);return Math.min(144e5,ie+re)}function qt(oe){return oe&&oe._delegate?oe._delegate:oe}},9577:(St,Ve,j)=>{"use strict";var o=j(4650);let q=null;function V(){return q}const _e=new o.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return(0,o.LFG)(ne)}()},providedIn:"platform"}),n})();const ee=new o.OlP("Location Initialized");let ne=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ce()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ce()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function st(){return new ne((0,o.LFG)(_e))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function We(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _t(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ht)},providedIn:"root"}),n})();const Ie=new o.OlP("appBaseHref");let ht=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return We(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+_t(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+_t(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+_t(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ce),o.LFG(Ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=We(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+_t(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+_t(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ce),o.LFG(Ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(lt(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+_t(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,lt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_t(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_t(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=_t,n.joinWithSlash=We,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ze(){return new Ke((0,o.LFG)(Ne))}()},providedIn:"root"}),n})();function lt(n){return n.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Percent=1]="Percent",ve[ve.Currency=2]="Currency",ve[ve.Scientific=3]="Scientific",ve))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function Jt(n,e){const t=(0,o.cg1)(n),i=t[o.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===me.CurrencyDecimal)return t[o.wAp.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return t[o.wAp.NumberSymbols][me.Group]}return i}const Pt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function br(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Rn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Nl=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ss{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cr=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ss(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Gr(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Gr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gr(n,e){n.context.$implicit=e.item}let zi=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Zi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}let ro=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function Rl(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function tn(n,e,t){return function $t(n,e,t,i,r,s,c=!1){let d="",f=!1;if(isFinite(n)){let g=function Xs(n){let i,r,s,c,d,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(d=e.length))i=[0],r=1;else{for(d--;"0"===e.charAt(d);)d--;for(r-=s,i=[],c=0;s<=d;s++,c++)i[c]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);c&&(g=function Dc(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(g));let b=e.minInt,C=e.minFrac,N=e.maxFrac;if(s){const Te=s.match(Pt);if(null===Te)throw new Error(`${s} is not a valid digit info`);const Fe=Te[1],Re=Te[3],Je=Te[5];null!=Fe&&(b=br(Fe)),null!=Re&&(C=br(Re)),null!=Je?N=br(Je):null!=Re&&C>N&&(N=C)}!function li(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let c=s+n.integerLen,d=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let C=c;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=s+1),i[0]=0;for(let C=1;C<c;C++)i[C]=0}if(d>=5)if(c-1<0){for(let C=0;C>c;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,s);r++)i.push(0);let f=0!==s;const g=e+n.integerLen,b=i.reduceRight(function(C,N,R,B){return B[R]=(N+=C)<10?N:N-10,f&&(0===B[R]&&R>=g?B.pop():f=!1),N>=10?1:0},0);b&&(i.unshift(b),n.integerLen++)}(g,C,N);let R=g.digits,B=g.integerLen;const z=g.exponent;let te=[];for(f=R.every(Te=>!Te);B<b;B++)R.unshift(0);for(;B<0;B++)R.unshift(0);B>0?te=R.splice(B,R.length):(te=R,R=[0]);const ye=[];for(R.length>=e.lgSize&&ye.unshift(R.splice(-e.lgSize,R.length).join(""));R.length>e.gSize;)ye.unshift(R.splice(-e.gSize,R.length).join(""));R.length&&ye.unshift(R.join("")),d=ye.join(Jt(t,i)),te.length&&(d+=Jt(t,r)+te.join("")),z&&(d+=Jt(t,me.Exponential)+"+"+z)}else d=Jt(t,me.Infinity);return d=n<0&&!f?e.negPre+d+e.negSuf:e.posPre+d+e.posSuf,d}(n,function Ds(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],c=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],d=c[0],f=c[1]||"";t.posPre=d.substring(0,d.indexOf("#"));for(let b=0;b<f.length;b++){const C=f.charAt(b);"0"===C?t.minFrac=t.maxFrac=b+1:"#"===C?t.maxFrac=b+1:t.posSuf+=C}const g=d.split(",");if(t.gSize=g[1]?g[1].length:0,t.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,s){const b=r.length-t.posPre.length-t.posSuf.length,C=s.indexOf("#");t.negPre=s.substring(0,C).replace(/'/g,""),t.negSuf=s.slice(C+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Di(n,e){return(0,o.cg1)(n)[o.wAp.NumberFormats][e]}(e,ve.Percent),Jt(e,me.MinusSign)),e,me.Group,me.Decimal,t,!0).replace(new RegExp("%","g"),Jt(e,me.PercentSign))}(function Wa(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(s){throw function Nr(n,e){return new o.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const rs="browser";function Pl(n){return"server"===n}let Nd=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Ya((0,o.LFG)(_e),window)}),n})();class Ya{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Io(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_i(this.window.history)||_i(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _i(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zr{}class so extends class Ii extends class Se{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function be(n){q||(q=n)}(new so)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Nc(){return dr=dr||document.querySelector("base"),dr?dr.getAttribute("href"):null}();return null==t?null:function ca(n){nr=nr||document.createElement("a"),nr.setAttribute("href",n);const e=nr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rn(document.cookie,e)}}let nr,dr=null;const Ao=new o.OlP("TRANSITION_ID"),Mc=[{provide:o.ip1,useFactory:function Ct(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=V(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ao,_e,o.zs3],multi:!0}];let Oc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new o.OlP("EventManagerPlugins");let Qa=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(oo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class xo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=V().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Fl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends Fl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach($e),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($e))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function $e(n){V().remove(n)}const sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ko=/%COMP%/g;function ao(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ao(n,r,t):(r=r.replace(ko,n),t.push(r))}return t}function Ja(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let lo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Mo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new co(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case o.ifc.ShadowDom:return new Os(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=ao(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Qa),o.LFG(Ns),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Mo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(sn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Pc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Pc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=sn[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=sn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ja(i)):this.eventManager.addEventListener(e,t,Ja(i))}}function Pc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class co extends Mo{constructor(e,t,i,r){super(e),this.component=i;const s=ao(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function hr(n){return"_ngcontent-%COMP%".replace(ko,n)}(r+"-"+i.id),this.hostAttr=function No(n){return"_nghost-%COMP%".replace(ko,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Os extends Mo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ao(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fu=(()=>{class n extends xo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=["alt","control","meta","shift"],Lc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},el={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bc=(()=>{class n extends xo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(Xa.forEach(f=>{const g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(t){let i="",r=function Rs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&el.hasOwnProperty(e)&&(e=el[e]))}return Lc[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xa.forEach(s=>{s!=r&&(0,Oo[s])(t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:rs},{provide:o.g9A,useValue:function ha(){so.makeCurrent()},multi:!0},{provide:_e,useFactory:function fa(){return(0,o.RDi)(document),document},deps:[]}]),pa=new o.OlP(""),Ro=[{provide:o.rWj,useClass:class ua{addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(f){c=c||f,s--,0==s&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Bi=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Uc(){return new o.qLn},deps:[]},{provide:oo,useClass:Fu,multi:!0,deps:[_e,o.R0b,o.Lbi]},{provide:oo,useClass:Bc,multi:!0,deps:[_e]},{provide:lo,useClass:lo,deps:[Qa,Ns,o.AFp]},{provide:o.FYo,useExisting:lo},{provide:Fl,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[_e]},{provide:Qa,useClass:Qa,deps:[oo,o.R0b]},{provide:zr,useClass:Oc,deps:[]},[]];let fr=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:Ao,useExisting:o.AFp},Mc]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(pa,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Bi,...Ro],imports:[mi,o.hGG]}),n})(),Lu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Vl(){return new Lu((0,o.LFG)(_e))}(),i},providedIn:"root"}),n})();function Oe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(t),!0).forEach(function(i){jd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Wt(n){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Mr(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function jd(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $c(n,e){return function Gl(n){if(Array.isArray(n))return n}(n)||function Sp(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var c,d,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(c=t.next()).done)&&(i.push(c.value),!e||i.length!==e);r=!0);}catch(f){s=!0,d=f}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw d}}return i}}(n,e)||Fo(n,e)||function jh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(n){return function zc(n){if(Array.isArray(n))return ba(n)}(n)||function ol(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Fo(n)||function Zc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(n,e){if(n){if("string"==typeof n)return ba(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ba(n,e)}}function ba(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}typeof window<"u"&&window;var al=function(){},Ls={},Hd={},Vu=null,Gd={mark:al,measure:al};try{typeof window<"u"&&(Ls=window),typeof document<"u"&&(Hd=document),typeof MutationObserver<"u"&&(Vu=MutationObserver),typeof performance<"u"&&(Gd=performance)}catch{}var $d=(Ls.navigator||{}).userAgent,$l=void 0===$d?"":$d,Zr=Ls,un=Hd,wa=Vu,ll=Gd,wr=!!un.documentElement&&!!un.head&&"function"==typeof un.addEventListener&&"function"==typeof un.createElement,Hh=~$l.indexOf("MSIE")||~$l.indexOf("Trident/"),Ai="___FONT_AWESOME___",Ap="svg-inline--fa",Ca="data-fa-i2svg",xp="data-fa-pseudo-element",Gh="data-prefix",ju="data-icon",qc="fontawesome-i2svg",Ev=["HTML","HEAD","STYLE","SCRIPT"],Vi=function(){try{return!0}catch{return!1}}(),Hu={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},fo={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Rm={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Gu={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Or=/fa[srltdbk]?[\-\ ]/,as="fa-layers-text",$h=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Zl={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Lo=[1,2,3,4,5,6,7,8,9,10],$u=Lo.concat([11,12,13,14,15,16,17,18,19,20]),kp=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Pm=[].concat(va(Object.keys(fo)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(Lo.map(function(n){return"".concat(n,"x")})).concat($u.map(function(n){return"w-".concat(n)})),cl=Zr.FontAwesomeConfig||{};un&&"function"==typeof un.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=$c(n,2),i=e[1],r=function qr(n){return""===n||"false"!==n&&("true"===n||n)}(function Wc(n){var e=un.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(cl[i]=r)});var Ta=ke(ke({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Ap,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),cl);Ta.autoReplaceSvg||(Ta.observeMutations=!1);var Ot={};Object.keys(Ta).forEach(function(n){Object.defineProperty(Ot,n,{enumerable:!0,set:function(t){Ta[n]=t,ql.forEach(function(i){return i(Ot)})},get:function(){return Ta[n]}})}),Zr.FontAwesomeConfig=Ot;var ql=[],cs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ia(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Bs(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Zh(n){return n.classList?Bs(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Cr(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ul(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function Kc(n){return n.size!==cs.size||n.x!==cs.x||n.y!==cs.y||n.rotate!==cs.rotate||n.flipX||n.flipY}function dl(){var n="fa",e=Ap,t=Ot.familyPrefix,i=Ot.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),c=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(c,"--".concat(t,"-")).replace(d,".".concat(i))}return r}var hl=!1;function Yc(){Ot.autoAddCss&&!hl&&(function zh(n){if(n&&wr){var e=un.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=un.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],c=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=s)}un.head.insertBefore(e,i)}}(dl()),hl=!0)}var xi={mixout:function(){return{dom:{css:dl,insertCss:Yc}}},hooks:function(){return{beforeDOMElementCreation:function(){Yc()},beforeI2svg:function(){Yc()}}}},po=Zr||{};po[Ai]||(po[Ai]={}),po[Ai].styles||(po[Ai].styles={}),po[Ai].hooks||(po[Ai].hooks={}),po[Ai].shims||(po[Ai].shims=[]);var Wr=po[Ai],x=[],F=!1;function K(n){!wr||(F?setTimeout(n,0):x.push(n))}function ue(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?Cr(n):"<".concat(e," ").concat(function zu(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(Cr(n[t]),'" ')},"").trim()}(i),">").concat(s.map(ue).join(""),"</").concat(e,">")}function we(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}wr&&((F=(un.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(un.readyState))||un.addEventListener("DOMContentLoaded",function n(){un.removeEventListener("DOMContentLoaded",n),F=1,x.map(function(e){return e()})}));var ut=function(e,t,i,r){var f,g,b,s=Object.keys(e),c=s.length,d=void 0!==r?function(e,t){return function(i,r,s,c){return e.call(t,i,r,s,c)}}(t,r):t;for(void 0===i?(f=1,b=e[s[0]]):(f=0,b=i);f<c;f++)b=d(b,e[g=s[f]],g,e);return b};function Kt(n){var e=function Rt(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function Mt(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function bi(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.skipHooks,r=void 0!==i&&i,s=Mt(e);"function"!=typeof Wr.hooks.addPack||r?Wr.styles[n]=ke(ke({},Wr.styles[n]||{}),s):Wr.hooks.addPack(n,Mt(e)),"fas"===n&&bi("fa",e)}var Vo=Wr.styles,Wl=Wr.shims,Vs=Object.values(Rm),Aa=null,Kl={},Qc={},Uo={},fl={},Zu={},Dv=Object.keys(Hu);function Lm(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function Tv(n){return~Pm.indexOf(n)}(r)?null:r}var Wd=function(){var e=function(s){return ut(Vo,function(c,d,f){return c[f]=ut(d,s,{}),c},{})};Kl=e(function(r,s,c){return s[3]&&(r[s[3]]=c),s[2]&&s[2].filter(function(f){return"number"==typeof f}).forEach(function(f){r[f.toString(16)]=c}),r}),Qc=e(function(r,s,c){return r[c]=c,s[2]&&s[2].filter(function(f){return"string"==typeof f}).forEach(function(f){r[f]=c}),r}),Zu=e(function(r,s,c){var d=s[2];return r[c]=c,d.forEach(function(f){r[f]=c}),r});var t="far"in Vo||Ot.autoFetchSvg,i=ut(Wl,function(r,s){var c=s[0],d=s[1],f=s[2];return"far"===d&&!t&&(d="fas"),"string"==typeof c&&(r.names[c]={prefix:d,iconName:f}),"number"==typeof c&&(r.unicodes[c.toString(16)]={prefix:d,iconName:f}),r},{names:{},unicodes:{}});Uo=i.names,fl=i.unicodes,Aa=qh(Ot.styleDefault)};function Jc(n,e){return(Kl[n]||{})[e]}function Xc(n,e){return(Zu[n]||{})[e]}function Sv(n){return Uo[n]||{prefix:null,iconName:null}}function eu(){return Aa}function qh(n){return fo[n]||fo[Hu[n]]||(n in Wr.styles?n:null)||null}function Yd(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,i=void 0!==t&&t,r=null,s=n.reduce(function(c,d){var f=Lm(Ot.familyPrefix,d);if(Vo[d]?(d=Vs.includes(d)?Gu[d]:d,r=d,c.prefix=d):Dv.indexOf(d)>-1?(r=d,c.prefix=qh(d)):f?c.iconName=f:d!==Ot.replacementClass&&c.rest.push(d),!i&&c.prefix&&c.iconName){var g="fa"===r?Sv(c.iconName):{},b=Xc(c.prefix,c.iconName);g.prefix&&(r=null),c.iconName=g.iconName||b||c.iconName,c.prefix=g.prefix||c.prefix,"far"===c.prefix&&!Vo.far&&Vo.fas&&!Ot.autoFetchSvg&&(c.prefix="fas")}return c},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===r)&&(s.prefix=eu()||"fas"),s}(function Zd(n){ql.push(n)})(function(n){Aa=qh(n.styleDefault)}),Wd();var qu=function(){function n(){(function vi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Fs(n,e,t){e&&Mr(n.prototype,e),t&&Mr(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var c=r.reduce(this._pullDefinitions,{});Object.keys(c).forEach(function(d){t.definitions[d]=ke(ke({},t.definitions[d]||{}),c[d]),bi(d,c[d]);var f=Rm[d];f&&bi(f,c[d]),Wd()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var c=r[s],d=c.prefix,f=c.iconName,g=c.icon,b=g[2];t[d]||(t[d]={}),b.length>0&&b.forEach(function(C){"string"==typeof C&&(t[d][C]=g)}),t[d][f]=g}),t}}]),n}(),Wh=[],jo={},Wu={},Av=Object.keys(Wu);function tu(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=jo[n]||[];return s.forEach(function(c){e=c.apply(null,[e].concat(i))}),e}function pl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=jo[n]||[];r.forEach(function(s){s.apply(null,t)})}function xa(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Wu[n]?Wu[n].apply(null,e):void 0}function Kh(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||eu();if(e)return e=Xc(t,e)||e,we(Np.definitions,t,e)||we(Wr.styles,t,e)}var Np=new qu,xv={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wr?(pl("beforeI2svg",e),xa("pseudoElements2svg",e),xa("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Ot.autoReplaceSvg&&(Ot.autoReplaceSvg=!0),Ot.observeMutations=!0,K(function(){Vm({autoReplaceSvgRoot:t}),pl("watch",e)})}},Us={noAuto:function(){Ot.autoReplaceSvg=!1,Ot.observeMutations=!1,pl("noAuto")},config:Ot,dom:xv,parse:{icon:function(e){if(null===e)return null;if("object"===Wt(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=qh(e[0]);return{prefix:i,iconName:Xc(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Ot.familyPrefix,"-"))>-1||e.match(Or))){var r=Yd(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||eu(),iconName:Xc(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=eu();return{prefix:s,iconName:Xc(s,e)||e}}}},library:Np,findIconDefinition:Kh,toHtml:ue},Vm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=void 0===t?un:t;(Object.keys(Wr.styles).length>0||Ot.autoFetchSvg)&&wr&&Ot.autoReplaceSvg&&Us.dom.i2svg({node:i})};function Qh(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return ue(i)})}}),Object.defineProperty(n,"node",{get:function(){if(wr){var i=un.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function Jh(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,c=n.transform,d=n.symbol,f=n.title,g=n.maskId,b=n.titleId,C=n.extra,N=n.watchable,R=void 0!==N&&N,B=i.found?i:t,z=B.width,te=B.height,ye="fak"===r,Te=[Ot.replacementClass,s?"".concat(Ot.familyPrefix,"-").concat(s):""].filter(function(Mn){return-1===C.classes.indexOf(Mn)}).filter(function(Mn){return""!==Mn||!!Mn}).concat(C.classes).join(" "),Fe={children:[],attributes:ke(ke({},C.attributes),{},{"data-prefix":r,"data-icon":s,class:Te,role:C.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(z," ").concat(te)})},Re=ye&&!~C.classes.indexOf("fa-fw")?{width:"".concat(z/te*16*.0625,"em")}:{};R&&(Fe.attributes[Ca]=""),f&&(Fe.children.push({tag:"title",attributes:{id:Fe.attributes["aria-labelledby"]||"title-".concat(b||Ia())},children:[f]}),delete Fe.attributes.title);var Je=ke(ke({},Fe),{},{prefix:r,iconName:s,main:t,mask:i,maskId:g,transform:c,symbol:d,styles:ke(ke({},Re),C.styles)}),rt=i.found&&t.found?xa("generateAbstractMask",Je)||{children:[],attributes:{}}:xa("generateAbstractIcon",Je)||{children:[],attributes:{}},Ht=rt.attributes;return Je.children=rt.children,Je.attributes=Ht,d?function Qd(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,c=!0===s?"".concat(n.prefix,"-").concat(Ot.familyPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ke(ke({},r),{},{id:c}),children:i}]}]}(Je):function ka(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,c=n.transform;if(Kc(c)&&t.found&&!i.found){var g={x:t.width/t.height/2,y:.5};r.style=ul(ke(ke({},s),{},{"transform-origin":"".concat(g.x+c.x/16,"em ").concat(g.y+c.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(Je)}function Um(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,c=n.extra,d=n.watchable,f=void 0!==d&&d,g=ke(ke(ke({},c.attributes),s?{title:s}:{}),{},{class:c.classes.join(" ")});f&&(g[Ca]="");var b=ke({},c.styles);Kc(r)&&(b.transform=function qd(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?16:r,c=n.startCentered,d=void 0!==c&&c,f="";return f+=d&&Hh?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(f+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),b["-webkit-transform"]=b.transform);var C=ul(b);C.length>0&&(g.style=C);var N=[];return N.push({tag:"span",attributes:g,children:[e]}),s&&N.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),N}function XC(n){var e=n.content,t=n.title,i=n.extra,r=ke(ke(ke({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=ul(i.styles);s.length>0&&(r.style=s);var c=[];return c.push({tag:"span",attributes:r,children:[e]}),t&&c.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),c}var jm=Wr.styles;function Hm(n){var e=n[0],t=n[1],s=$c(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ot.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var TA={found:!1,width:512,height:512};function _(n,e){var t=e;return"fa"===e&&null!==Ot.styleDefault&&(e=eu()),new Promise(function(i,r){if(xa("missingIconAbstract"),"fa"===t){var c=Sv(n)||{};n=c.iconName||n,e=c.prefix||e}if(n&&e&&jm[e]&&jm[e][n])return i(Hm(jm[e][n]));(function w(n,e){!Vi&&!Ot.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(ke(ke({},TA),{},{icon:Ot.showMissingIcons&&n&&xa("missingIconAbstract")||{}}))})}var y=function(){},D=Ot.measurePerformance&&ll&&ll.mark&&ll.measure?ll:{mark:y,measure:y},P='FA "6.1.2"',je_begin=function(e){return D.mark("".concat(P," ").concat(e," begins")),function(){return function(e){D.mark("".concat(P," ").concat(e," ends")),D.measure("".concat(P," ").concat(e),"".concat(P," ").concat(e," begins"),"".concat(P," ").concat(e," ends"))}(e)}},gt=function(){};function Dt(n){return"string"==typeof(n.getAttribute?n.getAttribute(Ca):null)}function gl(n){return un.createElementNS("http://www.w3.org/2000/svg",n)}function Op(n){return un.createElement(n)}function Gm(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,i=void 0===t?"svg"===n.tag?gl:Op:t;if("string"==typeof n)return un.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(c){r.setAttribute(c,n.attributes[c])});var s=n.children||[];return s.forEach(function(c){r.appendChild(Gm(c,{ceFn:i}))}),r}var nu={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(Gm(r),t)}),null===t.getAttribute(Ca)&&Ot.keepOriginalSource){var i=un.createComment(function $m(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~Zh(t).indexOf(Ot.replacementClass))return nu.replace(e);var r=new RegExp("".concat(Ot.familyPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,f){return f===Ot.replacementClass||f.match(r)?d.toSvg.push(f):d.toNode.push(f),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var c=i.map(function(d){return ue(d)}).join("\n");t.setAttribute(Ca,""),t.innerHTML=c}};function Jd(n){n()}function Ku(n,e){var t="function"==typeof e?e:gt;if(0===n.length)t();else{var i=Jd;"async"===Ot.mutateApproach&&(i=Zr.requestAnimationFrame||Jd),i(function(){var r=function Ho(){return!0===Ot.autoReplaceSvg?nu.replace:nu[Ot.autoReplaceSvg]||nu.replace}(),s=je_begin("mutate");n.map(r),s(),t()})}}var Rp=!1;function zm(){Rp=!0}function Yu(){Rp=!1}var Xd=null;function Zm(n){if(wa&&Ot.observeMutations){var e=n.treeCallback,t=void 0===e?gt:e,i=n.nodeCallback,r=void 0===i?gt:i,s=n.pseudoElementsCallback,c=void 0===s?gt:s,d=n.observeMutationsRoot,f=void 0===d?un:d;Xd=new wa(function(g){if(!Rp){var b=eu();Bs(g).forEach(function(C){if("childList"===C.type&&C.addedNodes.length>0&&!Dt(C.addedNodes[0])&&(Ot.searchPseudoElements&&c(C.target),t(C.target)),"attributes"===C.type&&C.target.parentNode&&Ot.searchPseudoElements&&c(C.target.parentNode),"attributes"===C.type&&Dt(C.target)&&~kp.indexOf(C.attributeName))if("class"===C.attributeName&&function on(n){var e=n.getAttribute?n.getAttribute(Gh):null,t=n.getAttribute?n.getAttribute(ju):null;return e&&t}(C.target)){var N=Yd(Zh(C.target)),B=N.iconName;C.target.setAttribute(Gh,N.prefix||b),B&&C.target.setAttribute(ju,B)}else(function oi(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ot.replacementClass)})(C.target)&&r(C.target)})}}),wr&&Xd.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function kv(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),c=s[0],d=s.slice(1);return c&&d.length>0&&(i[c]=d.join(":").trim()),i},{})),t}function e1(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=Yd(Zh(n));return r.prefix||(r.prefix=eu()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function Iv(n,e){return(Qc[n]||{})[e]}(r.prefix,n.innerText)||Jc(r.prefix,Kt(n.innerText))),!r.iconName&&Ot.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function qm(n){var e=Bs(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Ot.autoA11y&&(t?e["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(i||Ia()):(e["aria-hidden"]="true",e.focusable="false")),e}function Wm(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=e1(n),i=t.iconName,r=t.prefix,s=t.rest,c=qm(n),d=tu("parseNodeAttributes",{},n),f=e.styleParser?kv(n):[];return ke({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:cs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:c}},d)}var SA=Wr.styles;function ir(n){var e="nest"===Ot.autoReplaceSvg?Wm(n,{styleParser:!1}):Wm(n);return~e.extra.classes.indexOf(as)?xa("generateLayersText",n,e):xa("generateSvgReplacementMutation",n,e)}function t1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!wr)return Promise.resolve();var t=un.documentElement.classList,i=function(C){return t.add("".concat(qc,"-").concat(C))},r=function(C){return t.remove("".concat(qc,"-").concat(C))},s=Object.keys(Ot.autoFetchSvg?Hu:SA);s.includes("fa")||s.push("fa");var c=[".".concat(as,":not([").concat(Ca,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(Ca,"])")})).join(", ");if(0===c.length)return Promise.resolve();var d=[];try{d=Bs(n.querySelectorAll(c))}catch{}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var f=je_begin("onTree"),g=d.reduce(function(b,C){try{var N=ir(C);N&&b.push(N)}catch(R){Vi||"MissingIcon"===R.name&&console.error(R)}return b},[]);return new Promise(function(b,C){Promise.all(g).then(function(N){Ku(N,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),f(),b()})}).catch(function(N){f(),C(N)})})}function AA(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ir(n).then(function(t){t&&Ku([t],e)})}var n1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?cs:i,s=t.symbol,c=void 0!==s&&s,d=t.mask,f=void 0===d?null:d,g=t.maskId,b=void 0===g?null:g,C=t.title,N=void 0===C?null:C,R=t.titleId,B=void 0===R?null:R,z=t.classes,te=void 0===z?[]:z,ye=t.attributes,Te=void 0===ye?{}:ye,Fe=t.styles,Re=void 0===Fe?{}:Fe;if(e){var Je=e.prefix,rt=e.iconName,bt=e.icon;return Qh(ke({type:"icon"},e),function(){return pl("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ot.autoA11y&&(N?Te["aria-labelledby"]="".concat(Ot.replacementClass,"-title-").concat(B||Ia()):(Te["aria-hidden"]="true",Te.focusable="false")),Jh({icons:{main:Hm(bt),mask:f?Hm(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Je,iconName:rt,transform:ke(ke({},cs),r),symbol:c,title:N,maskId:b,titleId:B,extra:{attributes:Te,styles:Re,classes:te}})})}},xA={mixout:function(){return{icon:(n=n1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:Kh(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Kh(r||{})),n(i,ke(ke({},t),{},{mask:r}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=t1,t.nodeCallback=AA,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return t1(void 0===i?un:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,c=i.titleId,d=i.prefix,f=i.transform,g=i.symbol,b=i.mask,C=i.maskId,N=i.extra;return new Promise(function(R,B){Promise.all([_(r,d),b.iconName?_(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(z){var te=$c(z,2);R([t,Jh({icons:{main:te[0],mask:te[1]},prefix:d,iconName:r,transform:f,symbol:g,maskId:C,title:s,titleId:c,extra:N,watchable:!0})])}).catch(B)})},e.generateAbstractIcon=function(t){var g,i=t.children,r=t.attributes,s=t.main,c=t.transform,f=ul(t.styles);return f.length>0&&(r.style=f),Kc(c)&&(g=xa("generateAbstractTransformGrouping",{main:s,transform:c,containerWidth:s.width,iconWidth:s.width})),i.push(g||s.icon),{children:i,attributes:r}}}},kA={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return Qh({type:"layer"},function(){pl("beforeDOMElementCreation",{assembler:t,params:i});var c=[];return t(function(d){Array.isArray(d)?d.map(function(f){c=c.concat(f.abstract)}):c=c.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(Ot.familyPrefix,"-layers")].concat(va(s)).join(" ")},children:c}]})}}}},NA={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,c=i.classes,d=void 0===c?[]:c,f=i.attributes,g=void 0===f?{}:f,b=i.styles,C=void 0===b?{}:b;return Qh({type:"counter",content:t},function(){return pl("beforeDOMElementCreation",{content:t,params:i}),XC({content:t.toString(),title:s,extra:{attributes:g,styles:C,classes:["".concat(Ot.familyPrefix,"-layers-counter")].concat(va(d))}})})}}}},MA={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?cs:r,c=i.title,d=void 0===c?null:c,f=i.classes,g=void 0===f?[]:f,b=i.attributes,C=void 0===b?{}:b,N=i.styles,R=void 0===N?{}:N;return Qh({type:"text",content:t},function(){return pl("beforeDOMElementCreation",{content:t,params:i}),Um({content:t,transform:ke(ke({},cs),s),title:d,extra:{attributes:C,styles:R,classes:["".concat(Ot.familyPrefix,"-layers-text")].concat(va(g))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,c=i.extra,d=null,f=null;if(Hh){var g=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();d=b.width/g,f=b.height/g}return Ot.autoA11y&&!r&&(c.attributes["aria-hidden"]="true"),Promise.resolve([t,Um({content:t.innerHTML,width:d,height:f,transform:s,title:r,extra:c,watchable:!0})])}}},OA=new RegExp('"',"ug"),RA=[1105920,1112319];function Xh(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var c=Bs(n.children).filter(function(rt){return rt.getAttribute(xp)===e})[0],d=Zr.getComputedStyle(n,e),f=d.getPropertyValue("font-family").match($h),g=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(c&&!f)return n.removeChild(c),i();if(f&&"none"!==b&&""!==b){var C=d.getPropertyValue("content"),N=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?fo[f[2].toLowerCase()]:Zl[g],R=function DL(n){var e=n.replace(OA,""),t=function cn(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=RA[0]&&t<=RA[1],r=2===e.length&&e[0]===e[1];return{value:Kt(r?e[0]:e),isSecondary:i||r}}(C),B=R.value,z=R.isSecondary,te=f[0].startsWith("FontAwesome"),ye=Jc(N,B),Te=ye;if(te){var Fe=function Bm(n){var e=fl[n],t=Jc("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(B);Fe.iconName&&Fe.prefix&&(ye=Fe.iconName,N=Fe.prefix)}if(!ye||z||c&&c.getAttribute(Gh)===N&&c.getAttribute(ju)===Te)i();else{n.setAttribute(t,Te),c&&n.removeChild(c);var Re=function IA(){return{iconName:null,title:null,titleId:null,prefix:null,transform:cs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Je=Re.extra;Je.attributes[xp]=e,_(ye,N).then(function(rt){var bt=Jh(ke(ke({},Re),{},{icons:{main:rt,mask:{prefix:null,iconName:null,rest:[]}},prefix:N,iconName:Te,extra:Je,watchable:!0})),Ht=un.createElement("svg");"::before"===e?n.insertBefore(Ht,n.firstChild):n.appendChild(Ht),Ht.outerHTML=bt.map(function(Mn){return ue(Mn)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function Mv(n){return Promise.all([Xh(n,"::before"),Xh(n,"::after")])}function r1(n){return!(n.parentNode===document.head||~Ev.indexOf(n.tagName.toUpperCase())||n.getAttribute(xp)||n.parentNode&&"svg"===n.parentNode.tagName)}function Ov(n){if(wr)return new Promise(function(e,t){var i=Bs(n.querySelectorAll("*")).filter(r1).map(Mv),r=je_begin("searchPseudoElements");zm(),Promise.all(i).then(function(){r(),Yu(),e()}).catch(function(){r(),Yu(),t()})})}var o1=!1,Rv=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),c=s[0],d=s.slice(1).join("-");if(c&&"h"===d)return i.flipX=!0,i;if(c&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(c){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},l1={x:0,y:0,width:"100%",height:"100%"};function c1(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}var u1={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?Yd(r.split(" ").map(function(c){return c.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=eu()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,i=t.children,r=t.attributes,s=t.main,c=t.mask,d=t.maskId,b=s.icon,N=c.icon,R=function Bo(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),c="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(c," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:c.width,iconWidth:s.width}),B={tag:"rect",attributes:ke(ke({},l1),{},{fill:"white"})},z=b.children?{children:b.children.map(c1)}:{},te={tag:"g",attributes:ke({},R.inner),children:[c1(ke({tag:b.tag,attributes:ke(ke({},b.attributes),R.path)},z))]},ye={tag:"g",attributes:ke({},R.outer),children:[te]},Te="mask-".concat(d||Ia()),Fe="clip-".concat(d||Ia()),Re={tag:"mask",attributes:ke(ke({},l1),{},{id:Te,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[B,ye]},Je={tag:"defs",children:[{tag:"clipPath",attributes:{id:Fe},children:(n=N,"g"===n.tag?n.children:[n])},Re]};return i.push(Je,{tag:"rect",attributes:ke({fill:"currentColor","clip-path":"url(#".concat(Fe,")"),mask:"url(#".concat(Te,")")},l1)}),{children:i,attributes:r}}}};!function JC(n,e){var t=e.mixoutsTo;Wh=n,jo={},Object.keys(Wu).forEach(function(i){-1===Av.indexOf(i)&&delete Wu[i]}),Wh.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(c){"function"==typeof r[c]&&(t[c]=r[c]),"object"===Wt(r[c])&&Object.keys(r[c]).forEach(function(d){t[c]||(t[c]={}),t[c][d]=r[c][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(c){jo[c]||(jo[c]=[]),jo[c].push(s[c])})}i.provides&&i.provides(Wu)})}([xi,xA,kA,NA,MA,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Ov,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;Ot.searchPseudoElements&&Ov(void 0===i?un:i)}}},{mixout:function(){return{dom:{unwatch:function(){zm(),o1=!0}}}},hooks:function(){return{bootstrap:function(){Zm(tu("mutationObserverCallbacks",{}))},noAuto:function(){!function Pp(){!Xd||Xd.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;o1?Yu():Zm(tu("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return Rv(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=Rv(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,c=t.iconWidth,d={transform:"translate(".concat(t.containerWidth/2," 256)")},f="translate(".concat(32*r.x,", ").concat(32*r.y,") "),g="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),b="rotate(".concat(r.rotate," 0 0)"),R={outer:d,inner:{transform:"".concat(f," ").concat(g," ").concat(b)},path:{transform:"translate(".concat(c/2*-1," -256)")}};return{tag:"g",attributes:ke({},R.outer),children:[{tag:"g",attributes:ke({},R.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ke(ke({},i.icon.attributes),R.path)}]}]}}}},u1,{provides:function(e){var t=!1;Zr.matchMedia&&(t=Zr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ke(ke({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var c=ke(ke({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:ke(ke({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||d.children.push({tag:"animate",attributes:ke(ke({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ke(ke({},c),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:ke(ke({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ke(ke({},c),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:ke(ke({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ke(ke({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:Us});let jA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var ei=j(8996),iu=j(3269);function It(...n){const e=(0,iu.yG)(n);return(0,ei.D)(n,e)}var Yt=j(7579);class Er extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var ki=j(9751);const{isArray:m1}=Array,{getPrototypeOf:Vv,prototype:HA,keys:GA}=Object;function Qm(n){if(1===n.length){const e=n[0];if(m1(e))return{args:e,keys:null};if(function PL(n){return n&&"object"==typeof n&&Vv(n)===HA}(e)){const t=GA(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Bp=j(4671),Et=j(4004);const{isArray:FL}=Array;function _1(n){return(0,Et.U)(e=>function LL(n,e){return FL(e)?n(...e):n(e)}(n,e))}function $A(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var wi=j(5403),zA=j(9672);function tf(...n){const e=(0,iu.yG)(n),t=(0,iu.jO)(n),{args:i,keys:r}=Qm(n);if(0===i.length)return(0,ei.D)([],e);const s=new ki.y(function Uv(n,e,t=Bp.y){return i=>{jv(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)jv(e,()=>{const g=(0,ei.D)(n[f],e);let b=!1;g.subscribe((0,wi.x)(i,C=>{s[f]=C,b||(b=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>$A(r,c):Bp.y));return t?s.pipe(_1(t)):s}function jv(n,e,t){n?(0,zA.f)(t,n,e):e()}var nf=j(8189);function Qu(...n){return function y1(){return(0,nf.J)(1)}()((0,ei.D)(n,(0,iu.yG)(n)))}var ml=j(8421);function Jm(n){return new ki.y(e=>{(0,ml.Xf)(n()).subscribe(e)})}var Vp=j(9635),Yl=j(576);function Up(n,e){const t=(0,Yl.m)(n)?n:()=>n,i=r=>r.error(t());return new ki.y(e?r=>e.schedule(i,0,r):i)}const th=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ru=j(515),Ju=j(727),rr=j(4482);function Hv(){return(0,rr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,wi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Xm extends ki.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ju.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ju.w0.EMPTY)}return e}refCount(){return Hv()(this)}}function Ni(n,e){return(0,rr.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,wi.x)(i,f=>{r?.unsubscribe();let g=0;const b=s++;(0,ml.Xf)(n(f,b)).subscribe(r=(0,wi.x)(i,C=>i.next(e?e(f,C,b,g++):C),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function pr(n){return n<=0?()=>ru.E:(0,rr.e)((e,t)=>{let i=0;e.subscribe((0,wi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function _l(...n){const e=(0,iu.yG)(n);return(0,rr.e)((t,i)=>{(e?Qu(n,t,e):Qu(n,t)).subscribe(i)})}function sr(n,e){return(0,rr.e)((t,i)=>{let r=0;t.subscribe((0,wi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Kr=j(5577);function e_(n){return(0,rr.e)((e,t)=>{let i=!1;e.subscribe((0,wi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function us(n=Gv){return(0,rr.e)((e,t)=>{let i=!1;e.subscribe((0,wi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gv(){return new th}function Ql(n,e){const t=arguments.length>=2;return i=>i.pipe(n?sr((r,s)=>n(r,s,i)):Bp.y,pr(1),t?e_(e):us(()=>new th))}function Jl(n,e){return(0,Yl.m)(e)?(0,Kr.z)(n,e,1):(0,Kr.z)(n,1)}var nn=j(8505);function Na(n){return(0,rr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,wi.x)(t,void 0,void 0,c=>{s=(0,ml.Xf)(n(c,Na(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function $v(n,e,t,i,r){return(s,c)=>{let d=t,f=e,g=0;s.subscribe((0,wi.x)(c,b=>{const C=g++;f=d?n(f,b,C):(d=!0,b),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function nh(n,e){return(0,rr.e)($v(n,e,arguments.length>=2,!0))}function zv(n){return n<=0?()=>ru.E:(0,rr.e)((e,t)=>{let i=[];e.subscribe((0,wi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Zv(n,e){const t=arguments.length>=2;return i=>i.pipe(n?sr((r,s)=>n(r,s,i)):Bp.y,zv(1),t?e_(e):us(()=>new th))}function Wv(n){return(0,rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const wn="primary";class WA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function rf(n){return new WA(n)}function KA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Xl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!v1(n[r],e[r]))return!1;return!0}function v1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function ih(n){return Array.prototype.concat.apply([],n)}function ec(n){return n.length>0?n[n.length-1]:null}function Yr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xu(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,ei.D)(Promise.resolve(n)):It(n)}const VL={exact:function C1(n,e,t){if(!af(n.segments,e.segments)||!n_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!C1(n.children[i],e.children[i],t))return!1;return!0},subset:D1},yl={exact:function Kv(n,e){return Xl(n,e)},subset:function E1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>v1(n[t],e[t]))},ignored:()=>!0};function t_(n,e,t){return VL[t.paths](n.root,e.root,t.matrixParams)&&yl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function D1(n,e,t){return sf(n,e,e.segments,t)}function sf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!af(r,t)||e.hasChildren()||!n_(r,t,i))}if(n.segments.length===t.length){if(!af(n.segments,t)||!n_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!D1(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(af(n.segments,r)&&n_(n.segments,r,i)&&n.children[wn])&&sf(n.children[wn],e,s,i)}}function n_(n,e,t){return e.every((i,r)=>yl[t](n[r].parameters,i.parameters))}class ed{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rf(this.queryParams)),this._queryParamMap}toString(){return QA.serialize(this)}}class Cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class rh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=rf(this.parameters)),this._parameterMap}toString(){return o_(this)}}function af(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class i_{}class Yv{parse(e){const t=new N1(e);return new ed(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jp(e.root,!0)}`,i=function Xv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${r_(t)}=${r_(r)}`).join("&"):`${r_(t)}=${r_(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function JA(n){return encodeURI(n)}(e.fragment)}`:""}`}}const QA=new Yv;function cf(n){return n.segments.map(e=>o_(e)).join("/")}function jp(n,e){if(!n.hasChildren())return cf(n);if(e){const t=n.children[wn]?jp(n.children[wn],!1):"",i=[];return Yr(n.children,(r,s)=>{s!==wn&&i.push(`${s}:${jp(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function lf(n,e){let t=[];return Yr(n.children,(i,r)=>{r===wn&&(t=t.concat(e(i,r)))}),Yr(n.children,(i,r)=>{r!==wn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===wn?[jp(n.children[wn],!1)]:[`${r}:${jp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wn]?`${cf(n)}/${t[0]}`:`${cf(n)}/(${t.join("//")})`}}function I1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r_(n){return I1(n).replace(/%3B/gi,";")}function Qv(n){return I1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s_(n){return decodeURIComponent(n)}function Jv(n){return s_(n.replace(/\+/g,"%20"))}function o_(n){return`${Qv(n.path)}${function S1(n){return Object.keys(n).map(e=>`;${Qv(e)}=${Qv(n[e])}`).join("")}(n.parameters)}`}const XA=/^[^\/()?;=#]+/;function a_(n){const e=n.match(XA);return e?e[0]:""}const A1=/^[^=?&#]+/,sh=/^[^&#]+/;class N1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[wn]=new Cn(e,t)),i}parseSegment(){const e=a_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(e),new rh(s_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=a_(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=a_(this.remaining);r&&(i=r,this.capture(i))}e[s_(t)]=s_(i)}parseQueryParam(e){const t=function x1(n){const e=n.match(A1);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function k1(n){const e=n.match(sh);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Jv(t),s=Jv(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=a_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=wn);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[wn]:new Cn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,!1)}}function e0(n){return n.segments.length>0?new Cn([],{[wn]:n}):n}function t0(n){const e={};for(const i of Object.keys(n.children)){const s=t0(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function l_(n){if(1===n.numberOfChildren&&n.children[wn]){const e=n.children[wn];return new Cn(n.segments.concat(e.segments),e.children)}return n}(new Cn(n.segments,e))}function oh(n){return n instanceof ed}function O1(n,e,t,i,r){if(0===t.length)return ah(e.root,e.root,e.root,i,r);const s=function d_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new r0(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Yr(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new r0(t,e,i)}(t);return s.toRoot()?ah(e.root,e.root,new Cn([],{}),i,r):function c(f){const g=function R1(n,e,t,i){if(n.isAbsolute)return new tc(e.root,!0,0);if(-1===i)return new tc(t,t===e.root,0);return function P1(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new tc(i,!1,r-s)}(t,i+(td(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),b=g.processChildren?lh(g.segmentGroup,g.index,s.commands):h_(g.segmentGroup,g.index,s.commands);return ah(e.root,g.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function td(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nd(n){return"object"==typeof n&&null!=n&&n.outlets}function ah(n,e,t,i,r){let c,s={};i&&Yr(i,(f,g)=>{s[g]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),c=n===e?t:u_(n,e,t);const d=e0(t0(c));return new ed(d,s,r)}function u_(n,e,t){const i={};return Yr(n.children,(r,s)=>{i[s]=r===e?t:u_(r,e,t)}),new Cn(n.segments,i)}class r0{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&td(i[0]))throw new o.vHH(4003,!1);const r=i.find(nd);if(r&&r!==ec(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function h_(n,e,t){if(n||(n=new Cn([],{})),0===n.segments.length&&n.hasChildren())return lh(n,e,t);const i=function F1(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(nd(d))break;const f=`${d}`,g=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!s0(f,g,c))return s;i+=2}else{if(!s0(f,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Cn(n.segments.slice(0,i.pathIndex),{});return s.children[wn]=new Cn(n.segments.slice(i.pathIndex),n.children),lh(s,0,r)}return i.match&&0===r.length?new Cn(n.segments,{}):i.match&&!n.hasChildren()?L1(n,e,t):i.match?lh(n,0,r):L1(n,e,t)}function lh(n,e,t){if(0===t.length)return new Cn(n.segments,{});{const i=function nx(n){return nd(n[0])?n[0].outlets:{[wn]:n}}(t),r={};return Yr(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=h_(n.children[c],e,s))}),Yr(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Cn(n.segments,r)}}function L1(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(nd(s)){const f=B1(s.outlets);return new Cn(i,f)}if(0===r&&td(t[0])){i.push(new rh(n.segments[e].path,V1(t[0]))),r++;continue}const c=nd(s)?s.outlets[wn]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&td(d)?(i.push(new rh(c,V1(d))),r+=2):(i.push(new rh(c,{})),r++)}return new Cn(i,{})}function B1(n){const e={};return Yr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=L1(new Cn([],{}),0,t))}),e}function V1(n){const e={};return Yr(n,(t,i)=>e[i]=`${t}`),e}function s0(n,e,t){return n==t.path&&Xl(e,t.parameters)}class su{constructor(e,t){this.id=e,this.url=t}}class o0 extends su{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qr extends su{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class f_ extends su{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a0 extends su{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ix extends su{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rx extends su{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sx extends su{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ox extends su{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U1 extends su{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ax{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class G1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=p_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=p_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=c0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return c0(e,this._root).map(t=>t.value)}}function p_(n,e){if(n===e.value)return e;for(const t of e.children){const i=p_(n,t);if(i)return i}return null}function c0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=c0(n,t);if(i.length)return i.unshift(e),i}return[]}class nc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $1 extends G1{constructor(e,t){super(e),this.snapshot=t,u0(this,e)}toString(){return this.snapshot.toString()}}function dx(n,e){const t=function z1(n,e){const c=new df([],{},{},"",{},wn,e,null,n.root,-1,{});return new g_("",new nc(c,[]))}(n,e),i=new Er([new rh("",{})]),r=new Er({}),s=new Er({}),c=new Er({}),d=new Er(""),f=new ch(i,r,c,d,s,wn,e,t.root);return f.snapshot=t.root,new $1(new nc(f,[]),t)}class ch{constructor(e,t,i,r,s,c,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>rf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>rf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function id(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function hx(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class df{constructor(e,t,i,r,s,c,d,f,g,b,C,N){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=b,this._correctedLastPathIndex=N??b,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g_ extends G1{constructor(e,t){super(t),this.url=e,u0(this,t)}toString(){return fx(this._root)}}function u0(n,e){e.value._routerState=n,e.children.forEach(t=>u0(n,t))}function fx(n){const e=n.children.length>0?` { ${n.children.map(fx).join(", ")} } `:"";return`${n.value}${e}`}function Z1(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xl(e.params,t.params)||n.params.next(t.params),function YA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function q1(n,e){const t=Xl(n.params,e.params)&&function T1(n,e){return af(n,e)&&n.every((t,i)=>Xl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||q1(n.parent,e.parent))}function hf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function UL(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hf(n,i,r);return hf(n,i)})}(n,e,t);return new nc(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>hf(n,d)),c}}const i=function gx(n){return new ch(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>hf(n,s));return new nc(i,r)}}const rd="ngNavigationCancelingError";function W1(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=oh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=d0(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function d0(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[rd]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Hp(n){return K1(n)&&oh(n.url)}function K1(n){return n&&n[rd]}class Y1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gp,this.attachRef=null}}class Gp{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Y1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const m_=!1;let h0=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||wn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,m_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,m_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,m_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new o.vHH(4013,m_);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new mx(t,d,r.injector);if(i&&function _x(n){return!!n.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(c);this.activated=r.createComponent(g,r.length,f)}else this.activated=r.createComponent(c,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Gp),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class mx{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ch?this.route:e===Gp?this.childContexts:this.parent.get(e,t)}}let f0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},dependencies:[h0],encapsulation:2}),n})();function Q1(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function __(n){const e=n.children&&n.children.map(__),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wn&&(t.component=f0),t}function Go(n){return n.outlet||wn}function zp(n,e){const t=n.filter(i=>Go(i)===e);return t.push(...n.filter(i=>Go(i)!==e)),t}function Ma(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wx{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Z1(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=uf(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Yr(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uf(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uf(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=uf(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new H1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dn(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Z1(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Z1(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=Ma(r.snapshot),f=d?.get(o._Vd)??null;c.attachRef=null,c.route=r,c.resolver=f,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class y_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Oa{constructor(e,t){this.component=e,this.route=t}}function p0(n,e,t){const i=n._root;return v_(i,e?e._root:null,t,[i.value])}function pf(n,e,t){return(Ma(e)??t).get(n)}function v_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=uf(e);return n.children.forEach(c=>{(function tE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function HL(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!af(n.url,e.url);case"pathParamsOrQueryParamsChange":return!af(n.url,e.url)||!Xl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q1(n,e)||!Xl(n.queryParams,e.queryParams);default:return!q1(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new y_(i)):(s.data=c.data,s._resolvedData=c._resolvedData),v_(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Oa(d.outlet.component,c))}else c&&sd(e,d,r),r.canActivateChecks.push(new y_(i)),v_(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Yr(s,(c,d)=>sd(c,t.getContext(d),r)),r}function sd(n,e,t){const i=uf(n),r=n.value;Yr(i,(s,c)=>{sd(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Oa(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function od(n){return"function"==typeof n}const Zp=Symbol("INITIAL_VALUE");function qp(){return Ni(n=>tf(n.map(e=>e.pipe(pr(1),_l(Zp)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===Zp)return Zp;if(!1===t||t instanceof ed)return t}return!0}),sr(e=>e!==Zp),pr(1)))}function Sx(n){return(0,Vp.z)((0,nn.b)(e=>{if(oh(e))throw W1(0,e)}),(0,Et.U)(e=>!0===e))}const rE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ax(n,e,t,i,r){const s=sE(n,e,t);return s.matched?function KL(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?It(r.map(c=>{const d=n.get(c),f=function Ex(n){return n&&od(n.canMatch)}(d)?d.canMatch(e,t):d(e,t);return Xu(f)})).pipe(qp(),Sx()):It(!0)}(i=Q1(e,i),e,t).pipe((0,Et.U)(c=>!0===c?s:{...rE})):It(s)}function sE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||KA)(t,n,e);if(!r)return{...rE};const s={};Yr(r.posParams,(d,f)=>{s[f]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function v0(n,e,t,i,r="corrected"){if(t.length>0&&function b0(n,e,t){return t.some(i=>Wp(n,e,i)&&Go(i)!==wn)}(n,t,i)){const c=new Cn(e,function ad(n,e,t,i){const r={};r[wn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Go(s)!==wn){const c=new Cn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Go(s)]=c}return r}(n,e,i,new Cn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function xx(n,e,t){return t.some(i=>Wp(n,e,i))}(n,t,i)){const c=new Cn(n.segments,function YL(n,e,t,i,r,s){const c={};for(const d of i)if(Wp(n,t,d)&&!r[Go(d)]){const f=new Cn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Go(d)]=f}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Cn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Wp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function b_(n,e,t,i){return!!(Go(n)===i||i!==wn&&Wp(e,t,n))&&("**"===n.path||sE(e,n,t).matched)}function w0(n,e,t){return 0===e.length&&!n.children[t]}const gf=!1;class w_{constructor(e){this.segmentGroup=e||null}}class ou{constructor(e){this.urlTree=e}}function mf(n){return Up(new w_(n))}function oE(n){return Up(new ou(n))}class Nx{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=v0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Cn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,wn).pipe((0,Et.U)(s=>this.createUrlTree(t0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Na(s=>{if(s instanceof ou)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof w_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,wn).pipe((0,Et.U)(r=>this.createUrlTree(t0(r),e.queryParams,e.fragment))).pipe(Na(r=>{throw r instanceof w_?this.noMatchError(r):r}))}noMatchError(e){return new o.vHH(4002,gf)}createUrlTree(e,t,i){const r=e0(e);return new ed(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Et.U)(s=>new Cn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,ei.D)(r).pipe(Jl(s=>{const c=i.children[s],d=zp(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,Et.U)(f=>({segment:f,outlet:s})))}),nh((s,c)=>(s[c.outlet]=c.segment,s),{}),Zv())}expandSegment(e,t,i,r,s,c){return(0,ei.D)(i).pipe(Jl(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(Na(g=>{if(g instanceof w_)return It(null);throw g}))),Ql(d=>!!d),Na((d,f)=>{if(d instanceof th||"EmptyError"===d.name)return w0(t,r,s)?It(new Cn([],{})):mf(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return b_(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):mf(t):mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oE(s):this.lineralizeSegments(i,s).pipe((0,Kr.z)(c=>{const d=new Cn(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:b}=sE(t,r,s);if(!d)return mf(t);const C=this.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?oE(C):this.lineralizeSegments(r,C).pipe((0,Kr.z)(N=>this.expandSegment(e,t,i,N.concat(g),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=Q1(i,e),i.loadChildren?(i._loadedRoutes?It({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Et.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Cn(r,{})))):It(new Cn(r,{}))):Ax(t,i,r,e).pipe(Ni(({matched:c,consumedSegments:d,remainingSegments:f})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Kr.z)(b=>{const C=b.injector??e,N=b.routes,{segmentGroup:R,slicedSegments:B}=v0(t,d,f,N),z=new Cn(R.segments,R.children);if(0===B.length&&z.hasChildren())return this.expandChildren(C,N,z).pipe((0,Et.U)(Fe=>new Cn(d,Fe)));if(0===N.length&&0===B.length)return It(new Cn(d,{}));const te=Go(i)===s;return this.expandSegment(C,z,N,B,te?wn:s,!0).pipe((0,Et.U)(Te=>new Cn(d.concat(Te.segments),Te.children)))})):mf(t)))}getChildConfig(e,t,i){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function WL(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?It(!0):It(r.map(c=>{const d=n.get(c),f=function m0(n){return n&&od(n.canLoad)}(d)?d.canLoad(e,t):d(e,t);return Xu(f)})).pipe(qp(),Sx())}(e,t,i).pipe((0,Kr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,nn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function kx(n){return Up(d0(gf,3))}())):It({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return It(i);if(r.numberOfChildren>1||!r.children[wn])return Up(new o.vHH(4e3,gf));r=r.children[wn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ed(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Yr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Yr(t.children,(d,f)=>{c[f]=this.createSegmentGroup(e,d,i,r)}),new Cn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new o.vHH(4001,gf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class _f{}class C_{constructor(e,t,i,r,s,c,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=v0(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,wn).pipe((0,Et.U)(t=>{if(null===t)return null;const i=new df([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nc(i,t),s=new g_(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=id(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,ei.D)(Object.keys(i.children)).pipe(Jl(r=>{const s=i.children[r],c=zp(t,r);return this.processSegmentGroup(e,c,s,r)}),nh((r,s)=>r&&s?(r.push(...s),r):null),function qA(n,e=!1){return(0,rr.e)((t,i)=>{let r=0;t.subscribe((0,wi.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}(r=>null!==r),e_(null),Zv(),(0,Et.U)(r=>{if(null===r)return null;const s=D0(r);return function Kp(n){n.sort((e,t)=>e.value.outlet===wn?-1:t.value.outlet===wn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,ei.D)(t).pipe(Jl(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,s)),Ql(c=>!!c),Na(c=>{if(c instanceof th)return w0(i,r,s)?It([]):It(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!b_(t,i,r,s))return It(null);let c;if("**"===t.path){const d=r.length>0?ec(r).parameters:{},f=I0(i)+r.length;c=It({snapshot:new df(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cE(t),Go(t),t.component??t._loadedComponent??null,t,E_(i),f,Rx(t),f),consumedSegments:[],remainingSegments:[]})}else c=Ax(i,t,r,e).pipe((0,Et.U)(({matched:d,consumedSegments:f,remainingSegments:g,parameters:b})=>{if(!d)return null;const C=I0(i)+f.length;return{snapshot:new df(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cE(t),Go(t),t.component??t._loadedComponent??null,t,E_(i),C,Rx(t),C),consumedSegments:f,remainingSegments:g}}));return c.pipe(Ni(d=>{if(null===d)return It(null);const{snapshot:f,consumedSegments:g,remainingSegments:b}=d;e=t._injector??e;const C=t._loadedInjector??e,N=function Ox(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:R,slicedSegments:B}=v0(i,g,b,N.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===B.length&&R.hasChildren())return this.processChildren(C,N,R).pipe((0,Et.U)(te=>null===te?null:[new nc(f,te)]));if(0===N.length&&0===B.length)return It([new nc(f,[])]);const z=Go(t)===s;return this.processSegment(C,N,R,B,z?wn:s).pipe((0,Et.U)(te=>null===te?null:[new nc(f,te)]))}))}}function lE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function D0(n){const e=[],t=new Set;for(const i of n){if(!lE(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=D0(i.children);e.push(new nc(i.value,r))}return e.filter(i=>!t.has(i))}function E_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function I0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function cE(n){return n.data||{}}function Rx(n){return n.resolve||{}}const T_=Symbol("RouteTitle");function Fx(n,e){return(0,Kr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return It(t);let s=0;return(0,ei.D)(r).pipe(Jl(c=>function uE(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!S0(r)&&(s[T_]=r.title),function dE(n,e,t,i){const r=function Lx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return It({});const s={};return(0,ei.D)(r).pipe((0,Kr.z)(c=>function $o(n,e,t,i){const r=pf(n,e,i);return Xu(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe(Ql(),(0,nn.b)(d=>{s[c]=d}))),zv(1),function qv(n){return(0,Et.U)(()=>n)}(s),Na(c=>c instanceof th?ru.E:Up(c)))}(s,n,e,i).pipe((0,Et.U)(c=>(n._resolvedData=c,n.data=id(n,t).resolve,r&&S0(r)&&(n.data[T_]=r.title),null)))}(c.route,i,n,e)),(0,nn.b)(()=>s++),zv(1),(0,Kr.z)(c=>s===r.length?It(t):ru.E))})}function S0(n){return"string"==typeof n.title||null===n.title}function A0(n){return Ni(e=>{const t=n(e);return t?(0,ei.D)(t).pipe((0,Et.U)(()=>e)):It(e)})}let Bx=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===wn);return i}getResolvedTitleForRoute(t){return t.data[T_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(hE)},providedIn:"root"}),n})(),hE=(()=>{class n extends Bx{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Lu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class x0{}class Vx extends class fE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const k0=new o.OlP("",{providedIn:"root",factory:()=>({})}),M0=new o.OlP("ROUTES");let I_=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Xu(t.loadComponent()).pipe((0,nn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Wv(()=>{this.componentLoaders.delete(t)})),r=new Xm(i,()=>new Yt.x).pipe(Hv());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return It({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,b=!1;Array.isArray(d)?g=d:(f=d.create(t).injector,g=ih(f.get(M0,[],o.XFs.Self|o.XFs.Optional)));return{routes:g.map(__),injector:f}}),Wv(()=>{this.childrenLoaders.delete(i)})),c=new Xm(s,()=>new Yt.x).pipe(Hv());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return Xu(t()).pipe((0,Kr.z)(i=>i instanceof o.YKP||Array.isArray(i)?It(i):(0,ei.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class jx{}class Hx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function pE(n){throw n}function Gx(n,e,t){return e.parse("/")}const ic={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function gE(){const n=(0,o.f3M)(i_),e=(0,o.f3M)(Gp),t=(0,o.f3M)(Ke),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(M0,{optional:!0})??[],c=(0,o.f3M)(k0,{optional:!0})??{},d=(0,o.f3M)(hE),f=(0,o.f3M)(Bx,{optional:!0}),g=(0,o.f3M)(jx,{optional:!0}),b=(0,o.f3M)(x0,{optional:!0}),C=new js(null,n,e,t,i,r,ih(s));return g&&(C.urlHandlingStrategy=g),b&&(C.routeReuseStrategy=b),C.titleStrategy=f??d,function $x(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,C),C}let js=(()=>{class n{constructor(t,i,r,s,c,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=pE,this.malformedUriErrorHandler=Gx,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>It(void 0),this.urlHandlingStrategy=new Hx,this.routeReuseStrategy=new Vx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(I_),this.configLoader.onLoadEndListener=N=>this.triggerEvent(new lx(N)),this.configLoader.onLoadStartListener=N=>this.triggerEvent(new ax(N)),this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const C=c.get(o.R0b);this.isNgZoneEnabled=C instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function w1(){return new ed(new Cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dx(this.currentUrlTree,this.rootComponentType),this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(sr(r=>0!==r.id),(0,Et.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ni(r=>{let s=!1,c=!1;return It(r).pipe((0,nn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ni(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return _E(d.source)&&(this.browserUrlTree=d.extractedUrl),It(d).pipe(Ni(C=>{const N=this.transitions.getValue();return i.next(new o0(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),N!==this.transitions.getValue()?ru.E:Promise.resolve(C)}),function Mx(n,e,t,i){return Ni(r=>function aE(n,e,t,i,r){return new Nx(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Et.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,nn.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function Px(n,e,t,i,r,s){return(0,Kr.z)(c=>function yf(n,e,t,i,r,s,c="emptyOnly",d="legacy"){return new C_(n,e,t,i,r,c,d,s).recognize().pipe(Ni(f=>null===f?function E0(n){return new ki.y(e=>e.error(n))}(new _f):It(f)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,Et.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,nn.b)(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(R,C)}this.browserUrlTree=C.urlAfterRedirects}const N=new ix(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(N)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:R,source:B,restoredState:z,extras:te}=d,ye=new o0(N,this.serializeUrl(R),B,z);i.next(ye);const Te=dx(R,this.rootComponentType).snapshot;return It(r={...d,targetSnapshot:Te,urlAfterRedirects:R,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),ru.E}),(0,nn.b)(d=>{const f=new rx(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Et.U)(d=>r={...d,guards:p0(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Tx(n,e){return(0,Kr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?It({...t,guardsResult:!0}):function zL(n,e,t,i){return(0,ei.D)(n).pipe((0,Kr.z)(r=>function qL(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?It(s.map(d=>{const f=pf(d,e,r);return Xu(function Cx(n){return n&&od(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,i):f(n,e,t,i)).pipe(Ql())})).pipe(qp()):It(!0)}(r.component,r.route,t,e,i)),Ql(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Kr.z)(d=>d&&function g0(n){return"boolean"==typeof n}(d)?function nE(n,e,t,i){return(0,ei.D)(e).pipe(Jl(r=>Qu(function Ix(n,e){return null!==n&&e&&e(new cx(n)),It(!0)}(r.route.parent,i),function iE(n,e){return null!==n&&e&&e(new j1(n)),It(!0)}(r.route,i),function ZL(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function eE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Jm(()=>It(c.guards.map(f=>{const g=pf(f,c.node,t);return Xu(function GL(n){return n&&od(n.canActivateChild)}(g)?g.canActivateChild(i,n):g(i,n)).pipe(Ql())})).pipe(qp())));return It(s).pipe(qp())}(n,r.path,t),function y0(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const r=i.map(s=>Jm(()=>{const c=pf(s,e,t);return Xu(function _0(n){return n&&od(n.canActivate)}(c)?c.canActivate(e,n):c(e,n)).pipe(Ql())}));return It(r).pipe(qp())}(n,r.route,t))),Ql(r=>!0!==r,!0))}(i,s,n,e):It(d)),(0,Et.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,nn.b)(d=>{if(r.guardsResult=d.guardsResult,oh(d.guardsResult))throw W1(0,d.guardsResult);const f=new sx(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),sr(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),A0(d=>{if(d.guards.canActivateChecks.length)return It(d).pipe((0,nn.b)(f=>{const g=new ox(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),Ni(f=>{let g=!1;return It(f).pipe(Fx(this.paramsInheritanceStrategy,this.ngModule.injector),(0,nn.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,nn.b)(f=>{const g=new U1(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),A0(d=>{const f=g=>{const b=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,nn.b)(C=>{g.component=C}),(0,Et.U)(()=>{})));for(const C of g.children)b.push(...f(C));return b};return tf(f(d.targetSnapshot.root)).pipe(e_(),pr(1))}),A0(()=>this.afterPreactivation()),(0,Et.U)(d=>{const f=function px(n,e,t){const i=hf(n,e._root,t?t._root:void 0);return new $1(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,nn.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(i=>(new wx(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,nn.b)({next(){s=!0},complete(){s=!0}}),Wv(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Na(d=>{if(c=!0,K1(d)){Hp(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new f_(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),Hp(d)){const g=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_E(r.source)};this.scheduleNavigation(g,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new a0(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(g){r.reject(g)}}return ru.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(__),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,b=f?this.currentUrlTree.fragment:c;let C=null;switch(d){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),O1(g,this.currentUrlTree,t,C,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=oh(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function mE(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...ic}:!1===i?{...O0}:i,oh(t))return t_(this.currentUrlTree,t,r);const s=this.parseUrl(t);return t_(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,f,g;c?(d=c.resolve,f=c.reject,g=c.promise):g=new Promise((N,R)=>{d=N,f=R});const b=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),C=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:b,targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(N=>Promise.reject(N))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new f_(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return gE()},providedIn:"root"}),n})();function _E(n){return"imperative"!==n}let S_=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,o.D6c)(this.skipLocationChange),replaceUrl:(0,o.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,o.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(js),o.Y36(ch),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),A_=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(s=>{s instanceof Qr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:(0,o.D6c)(this.skipLocationChange),replaceUrl:(0,o.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,o.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(js),o.Y36(ch),o.Y36(Ne))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),x_=(()=>{class n{constructor(t,i,r,s,c,d){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Qr&&this.update()})}ngAfterContentInit(){It(this.links.changes,this.linksWithHrefs.changes,It(null)).pipe((0,nf.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,ei.D)(t).pipe((0,nf.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function zx(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(js),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(S_,8),o.Y36(A_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,S_,5),o.Suo(r,A_,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class yE{}let bE=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(sr(t=>t instanceof Qr),Jl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,ei.D)(r).pipe((0,nf.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):It(null);const s=r.pipe((0,Kr.z)(c=>null===c?It(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,ei.D)([s,c]).pipe((0,nf.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(js),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(yE),o.LFG(I_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const P0=new o.OlP("");let F0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof o0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof l0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new l0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Zx=new o.OlP("ROUTER_FORROOT_GUARD"),k_=new o.OlP(""),QL=[Ke,{provide:i_,useClass:Yv},{provide:js,useFactory:gE},Gp,{provide:ch,useFactory:function qx(n){return n.routerState.root},deps:[js]},I_];function wE(){return new o.PXZ("Router",js)}let N_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[QL,[],Qp(t),{provide:Zx,useFactory:lu,deps:[[js,new o.FiY,new o.tp0]]},{provide:k0,useValue:i||{}},i?.useHash?{provide:Ne,useClass:ft}:{provide:Ne,useClass:ht},{provide:P0,useFactory:()=>{const n=(0,o.f3M)(js),e=(0,o.f3M)(Nd),t=(0,o.f3M)(k0);return t.scrollOffset&&e.setOffset(t.scrollOffset),new F0(n,e,t)}},i?.preloadingStrategy?JL(i.preloadingStrategy):[],{provide:o.PXZ,multi:!0,useFactory:wE},i?.initialNavigation?Wx(i):[],[{provide:vf,useFactory:M_},{provide:o.tb,multi:!0,useExisting:vf}]]}}static forChild(t){return{ngModule:n,providers:[Qp(t)]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Zx,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function lu(n){return"guarded"}function Qp(n){return[{provide:M0,multi:!0,useValue:n}]}function M_(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const i=n.get(js),r=n.get(V0);1===n.get(U0)&&i.initialNavigation(),n.get(k_,null,o.XFs.Optional)?.setUpPreloading(),n.get(P0,null,o.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const vf=new o.OlP("");function Wx(n){return["disabled"===n.initialNavigation?[{provide:o.ip1,multi:!0,useFactory:()=>{const n=(0,o.f3M)(js);return()=>{n.setUpLocationChangeListener()}}},{provide:U0,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:U0,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:n=>{const e=n.get(ee,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const s=n.get(js),c=n.get(V0);(function i(r){n.get(js).events.pipe(sr(c=>c instanceof Qr||c instanceof f_||c instanceof a0),(0,Et.U)(c=>c instanceof Qr||c instanceof f_&&(0===c.code||1===c.code)&&null),sr(c=>null!==c),pr(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),s.afterPreactivation=()=>(r(!0),t||c.closed?It(void 0):c),s.initialNavigation()}))}}]:[]]}const V0=new o.OlP("",{factory:()=>new Yt.x}),U0=new o.OlP("",{providedIn:"root",factory:()=>1});function JL(n){return[bE,{provide:k_,useExisting:bE},{provide:yE,useExisting:n}]}var eB=j(1144);const Qx=["addListener","removeListener"],Jx=["addEventListener","removeEventListener"],Xx=["on","off"];function ds(n,e,t,i){if((0,Yl.m)(t)&&(i=t,t=void 0),i)return ds(n,e,t).pipe(_1(i));const[r,s]=function tk(n){return(0,Yl.m)(n.addEventListener)&&(0,Yl.m)(n.removeEventListener)}(n)?Jx.map(c=>d=>n[c](e,d,t)):function DE(n){return(0,Yl.m)(n.addListener)&&(0,Yl.m)(n.removeListener)}(n)?Qx.map(ek(n,e)):function j0(n){return(0,Yl.m)(n.on)&&(0,Yl.m)(n.off)}(n)?Xx.map(ek(n,e)):[];if(!r&&(0,eB.z)(n))return(0,Kr.z)(c=>ds(c,e,t))((0,ml.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ki.y(c=>{const d=(...f)=>c.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function ek(n,e){return t=>i=>n[t](e,i)}var cu=j(4986),nk=j(3532);function Xp(n=0,e,t=cu.P){let i=-1;return null!=e&&((0,nk.K)(e)?t=e:i=e),new ki.y(r=>{let s=function ik(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:rk}=Array;function TE(n){return 1===n.length&&rk(n[0])?n[0]:n}var rc=j(5032);function P_(...n){const e=(0,iu.jO)(n),t=TE(n);return t.length?new ki.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<t.length;c++)(0,ml.Xf)(t[c]).subscribe((0,wi.x)(i,d=>{if(r[c].push(d),r.every(f=>f.length)){const f=r.map(g=>g.shift());i.next(e?e(...f):f),r.some((g,b)=>!g.length&&s[b])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):ru.E}function ai(n){return(0,rr.e)((e,t)=>{(0,ml.Xf)(n).subscribe((0,wi.x)(t,()=>t.complete(),rc.Z)),!t.closed&&e.subscribe(t)})}function bf(n,e=Bp.y){return n=n??sc,(0,rr.e)((t,i)=>{let r,s=!0;t.subscribe((0,wi.x)(i,c=>{const d=e(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function sc(n,e){return n===e}function ld(...n){const e=(0,iu.jO)(n);return(0,rr.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,ml.Xf)(n[f]).subscribe((0,wi.x)(i,g=>{s[f]=g,!d&&!c[f]&&(c[f]=!0,(d=c.every(Bp.y))&&(c=null))},rc.Z));t.subscribe((0,wi.x)(i,f=>{if(d){const g=[f,...s];i.next(e?e(...g):g)}}))})}new ki.y(rc.Z);let dh=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Ra=(()=>{class n extends dh{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const fs=new o.OlP("NgValueAccessor"),wf={provide:fs,useExisting:(0,o.Gpc)(()=>uu),multi:!0};let uu=(()=>{class n extends Ra{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([wf]),o.qOj]}),n})();const Cf={provide:fs,useExisting:(0,o.Gpc)(()=>Hs),multi:!0},Df=new o.OlP("CompositionEventMode");let Hs=(()=>{class n extends dh{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ef(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Df,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([Cf]),o.qOj]}),n})();function du(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function G0(n){return null!=n&&"number"==typeof n.length}const Pr=new o.OlP("NgValidators"),hu=new o.OlP("NgAsyncValidators"),AE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hh{static min(e){return function $0(n){return e=>{if(du(e.value)||du(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function z0(n){return e=>{if(du(e.value)||du(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function xE(n){return du(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function kE(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function NE(n){return du(n.value)||AE.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Z0(n){return e=>du(e.value)||!G0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ME(n){return e=>G0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function q0(n){if(!n)return Tf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(du(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return ng(e)}static composeAsync(e){return K0(e)}}function Tf(n){return null}function L_(n){return null!=n}function OE(n){return(0,o.QGY)(n)?(0,ei.D)(n):n}function eg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function tg(n,e){return e.map(t=>t(n))}function RE(n){return n.map(e=>function W0(n){return!n.validate}(e)?e:t=>e.validate(t))}function ng(n){if(!n)return null;const e=n.filter(L_);return 0==e.length?null:function(t){return eg(tg(t,e))}}function If(n){return null!=n?ng(RE(n)):null}function K0(n){if(!n)return null;const e=n.filter(L_);return 0==e.length?null:function(t){return function H0(...n){const e=(0,iu.jO)(n),{args:t,keys:i}=Qm(n),r=new ki.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let f=c,g=c;for(let b=0;b<c;b++){let C=!1;(0,ml.Xf)(t[b]).subscribe((0,wi.x)(s,N=>{C||(C=!0,g--),d[b]=N},()=>f--,void 0,()=>{(!f||!C)&&(g||s.next(i?$A(i,d):d),s.complete())}))}});return e?r.pipe(_1(e)):r}(tg(t,e).map(OE)).pipe((0,Et.U)(eg))}}function B_(n){return null!=n?K0(RE(n)):null}function V_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Y0(n){return n._rawValidators}function Q0(n){return n._rawAsyncValidators}function ig(n){return n?Array.isArray(n)?n:[n]:[]}function rg(n,e){return Array.isArray(n)?n.includes(e):n===e}function PE(n,e){const t=ig(e);return ig(n).forEach(r=>{rg(t,r)||t.push(r)}),t}function J0(n,e){return ig(e).filter(t=>!rg(n,t))}class X0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=If(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ps extends X0{get formDirective(){return null}get path(){return null}}class fu extends X0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oc=(()=>{class n extends FE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(fu,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),Pa=(()=>{class n extends FE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ps,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const og="VALID",ag="INVALID",fh="PENDING",ac="DISABLED";function eb(n){return(lg(n)?n.validators:n)||null}function UE(n){return Array.isArray(n)?If(n):n||null}function G_(n,e){return(lg(e)?e.asyncValidators:n)||null}function jE(n){return Array.isArray(n)?B_(n):n||null}function lg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class z_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=UE(this._rawValidators),this._composedAsyncValidatorFn=jE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===og}get invalid(){return this.status===ag}get pending(){return this.status==fh}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=UE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jE(e)}addValidators(e){this.setValidators(PE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(J0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(J0(e,this._rawAsyncValidators))}hasValidator(e){return rg(this._rawValidators,e)}hasAsyncValidator(e){return rg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ac,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=og,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===og||this.status===fh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:og}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fh,this._hasOwnPendingAsyncValidator=!0;const t=OE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?ag:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fh)?fh:this._anyControlsHaveStatus(ag)?ag:og}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Fr extends z_{constructor(e,t,i){super(eb(t),G_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function $_(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function mk(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function mo(n,e){return[...e.path,n]}function Sf(n,e){tb(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function nb(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HE(n,e)})}(n,e),function GE(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ug(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yk(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cg(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),q_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Z_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tb(n,e){const t=Y0(n);null!==e.validator?n.setValidators(V_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Q0(n);null!==e.asyncValidator?n.setAsyncValidators(V_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Z_(e._rawValidators,r),Z_(e._rawAsyncValidators,r)}function q_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Y0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Q0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Z_(e._rawValidators,i),Z_(e._rawAsyncValidators,i),t}function HE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $E(n,e){tb(n,e)}function K_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function dg(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function hg(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Hs?t=s:function ib(n){return Object.getPrototypeOf(n.constructor)===Ra}(s)?i=s:r=s}),r||i||t||null}const WE={provide:ps,useExisting:(0,o.Gpc)(()=>xf)},Af=(()=>Promise.resolve(null))();let xf=(()=>{class n extends ps{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Fr({},If(t),B_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Af.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Af.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Af.then(()=>{const i=this._findContainer(t.path),r=new Fr({});$E(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Af.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Af.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,dg(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Pr,10),o.Y36(hu,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([WE]),o.qOj]}),n})();function rb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vn=class extends z_{constructor(e=null,t,i){super(eb(t),G_(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sb(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Dk={provide:fu,useExisting:(0,o.Gpc)(()=>ab)},YE=(()=>Promise.resolve(null))();let ab=(()=>{class n extends fu{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Vn,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hg(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),K_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){YE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);YE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mo(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ps,9),o.Y36(Pr,10),o.Y36(hu,10),o.Y36(fs,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Dk]),o.qOj,o.TTD]}),n})(),pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const XE={provide:fs,useExisting:(0,o.Gpc)(()=>Y_),multi:!0};let Y_=(()=>{class n extends Ra{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([XE]),o.qOj]}),n})();const Q_=new o.OlP("NgModelWithFormControlWarning"),tD={provide:ps,useExisting:(0,o.Gpc)(()=>vl)};let vl=(()=>{class n extends ps{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(q_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Sf(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){cg(t.control||null,t,!1),function qE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,dg(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(cg(i||null,t),(n=>n instanceof Vn)(r)&&(Sf(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);$E(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function zE(n,e){return q_(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tb(this.form,this),this._oldForm&&q_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Pr,10),o.Y36(hu,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([tD]),o.qOj,o.TTD]}),n})();const uB={provide:fu,useExisting:(0,o.Gpc)(()=>uc)};let uc=(()=>{class n extends fu{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hg(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),K_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return mo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(ps,13),o.Y36(Pr,10),o.Y36(hu,10),o.Y36(fs,10),o.Y36(Q_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([uB]),o.qOj,o.TTD]}),n})();const dB={provide:fs,useExisting:(0,o.Gpc)(()=>J_),multi:!0};function hb(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let J_=(()=>{class n extends Ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=hb(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function iD(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([dB]),o.qOj]}),n})(),Gt=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(J_,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ak={provide:fs,useExisting:(0,o.Gpc)(()=>fb),multi:!0};function rD(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fb=(()=>{class n extends Ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,c)=>{s._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const c=s;for(let d=0;d<c.length;d++){const g=this._getOptionValue(c[d].value);r.push(g)}}else{const c=i.options;for(let d=0;d<c.length;d++){const f=c[d];if(f.selected){const g=this._getOptionValue(f.value);r.push(g)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function xk(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Ak]),o.qOj]}),n})(),kf=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(rD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(fb,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[lb]}),n})(),Of=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mf]}),n})(),Pk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Q_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mf]}),n})();Math,Math,Math;const oy=["*"],NN=["dialog"];function HN(n,e){if(1&n&&(o.TgZ(0,"span"),o.SDv(1,2),o.ALo(2,"percent"),o.qZA()),2&n){const t=o.oxw();o.xp6(2),o.pQV(o.lcZ(2,1,t.getValue()/t.max)),o.QtT(1)}}function iT(n){return"string"==typeof n}function wl(n){return!isNaN(function Gb(n){return parseInt(`${n}`,10)}(n))}function dd(n){return null!=n}function yh(n){return(n||document.body).getBoundingClientRect()}const sT={animation:!0,transitionTimerDelayMs:5},uy=()=>{},{transitionTimerDelayMs:tM}=sT,dy=new Map,vo=(n,e,t,i)=>{let r=i.context||{};const s=dy.get(e);if(s)switch(i.runningTransition){case"continue":return ru.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),dy.delete(e)}const c=t(e,i.animation,r)||uy;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),It(void 0).pipe(function HB(n){return e=>new ki.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new Yt.x,f=new Yt.x,g=d.pipe(function ok(...n){return e=>Qu(e,It(...n))}(!0));dy.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const b=function eM(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const C=ds(e,"transitionend").pipe(ai(g),sr(({target:R})=>R===e));(function IE(...n){return 1===(n=TE(n)).length?(0,ml.Xf)(n[0]):new ki.y(function O_(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,ml.Xf)(n[i]).subscribe((0,wi.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(Xp(b+tM).pipe(ai(g)),C,f).pipe(ai(g)).subscribe(()=>{dy.delete(e),n.run(()=>{c(),d.next(),d.complete()})})}),d.asObservable()};let hy=(()=>{class n{constructor(){this.animation=sT.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),gy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),fT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Lr=(()=>{return(n=Lr||(Lr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Lr;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const yy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vy(n){const e=Array.from(n.querySelectorAll(yy)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let pV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi,Of]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class kg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let Z8=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{vo(this._zone,this._el.nativeElement,(t,i)=>{i&&yh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return vo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(o.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),o.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class yV{close(e){}dismiss(e){}}class q8{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Yt.x,this._dismissed=new Yt.x,this._hidden=new Yt.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ai(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ai(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function $b(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():It(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),P_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Cu=(()=>{return(n=Cu||(Cu={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Cu;var n})();let W8=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Yt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new Yt.x,this.hidden=new Yt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":iT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=P_(vo(this._zone,t,()=>t.classList.remove("show"),i),vo(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};P_(vo(this._zone,this._elRef.nativeElement,(s,c)=>{c&&yh(s),s.classList.add("show")},t),vo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ds(t,"keydown").pipe(ai(this._closed$),sr(r=>r.which===Lr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Cu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ds(this._dialogEl.nativeElement,"mousedown").pipe(ai(this._closed$),(0,nn.b)(()=>i=!1),Ni(()=>ds(t,"mouseup").pipe(ai(this._closed$),pr(1))),sr(({target:r})=>t===r)).subscribe(()=>{i=!0}),ds(t,"click").pipe(ai(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Cu.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=vy(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&vo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(_e),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&o.Gf(NN,7),2&t){let r;o.iGM(r=o.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),o.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),o.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:oy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2),o.Hsn(3),o.qZA()()),2&t&&o.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),K8=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y8=(()=>{class n{constructor(t,i,r,s,c,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=d,this._activeWindowCmptHasChanged=new Yt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ds(e,"focusin").pipe(ai(t),(0,Et.U)(s=>s.target));ds(e,"keydown").pipe(ai(t),sr(s=>s.which===Lr.Tab),ld(r)).subscribe(([s,c])=>{const[d,f]=vy(e);(c===d||c===e)&&s.shiftKey&&(f.focus(),s.preventDefault()),c===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&ds(e,"click").pipe(ai(t),ld(r),(0,Et.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:dd(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new yV,f=this._getContentRef(r.injector||t,i,d,r);let g=!1!==r.backdrop?this._attachBackdrop(s):void 0,b=this._attachWindowComponent(s,f.nodes),C=new q8(b,f,g,r.beforeDismiss);return this._registerModalRef(C),this._registerWindowCmpt(b),C.hidden.pipe(pr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=N=>{C.close(N)},d.dismiss=N=>{C.dismiss(N)},this._applyWindowOptions(b.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),g&&g.instance&&(this._applyBackdropOptions(g.instance,r),g.changeDetectorRef.detectChanges()),b.changeDetectorRef.detectChanges(),C}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,o.LMc)(Z8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,o.LMc)(W8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{dd(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{dd(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof o.Rgc?this._createFromTemplateRef(i,r):iT(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new kg([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new kg([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new kg([[i]])}_createFromComponent(t,i,r,s){const c=o.zs3.create({providers:[{provide:yV,useValue:r}],parent:t}),d=(0,o.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:c}),f=d.location.nativeElement;return s.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new kg([[f]],d.hostView,d)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(_e),o.LFG(K8),o.LFG(o.FYo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q8=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(hy))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ng=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(Y8),o.LFG(Q8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ng]}),n})(),EV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),lZ=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cZ=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!wl(t)||t<=0?100:t}get max(){return this._max}getValue(){return function Sg(n,e,t=0){return Math.max(Math.min(n,e),t)}(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(lZ))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:[1,"progress"],hostVars:2,hostBindings:function(t,i){2&t&&o.Udp("height",i.height)},inputs:{max:"max",animated:"animated",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},ngContentSelectors:oy,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["role","progressbar","aria-valuemin","0"],[4,"ngIf"],e]},template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.YNc(1,HN,3,3,"span",1),o.Hsn(2),o.qZA()),2&t&&(o.DjV("progress-bar",i.type?" bg-"+i.type:"","",i.textType?" text-"+i.textType:"","\n    ",i.animated?" progress-bar-animated":"","",i.striped?" progress-bar-striped":"",""),o.Udp("width",i.getPercentValue(),"%"),o.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max),o.xp6(1),o.Q6J("ngIf",i.showValue))},dependencies:[zi,ro],encapsulation:2,changeDetection:0}),n})(),RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),PV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),LV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),BV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();new o.OlP("live announcer delay",{providedIn:"root",factory:function hZ(){return 100}});let VV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const fZ=[lT,gy,fc,fT,pV,_V,vV,EV,UV,NV,OV,RV,PV,FV,LV,BV,VV];let pZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fZ,lT,gy,fc,fT,pV,_V,vV,EV,UV,NV,OV,RV,PV,FV,LV,BV,VV]}),n})();class jV{}class HV{}class bh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gZ{encodeKey(e){return GV(e)}encodeValue(e){return GV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _Z=/%(\d[a-f0-9])/gi,yZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GV(n){return encodeURIComponent(n).replace(_Z,(e,t)=>yZ[t]??e)}function OT(n){return`${n}`}class Va{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(c)||[];f.push(d),t.set(c,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(OT):[OT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Va({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(OT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(OT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $V(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zV(n){return typeof Blob<"u"&&n instanceof Blob}function ZV(n){return typeof FormData<"u"&&n instanceof FormData}class ew{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bh),this.context||(this.context=new vZ),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Va,this.urlWithParams=t}serializeBody(){return null===this.body?null:$V(this.body)||zV(this.body)||ZV(this.body)||function wZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Va?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZV(this.body)?null:zV(this.body)?this.body.type||null:$V(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,g=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((C,N)=>C.set(N,e.setHeaders[N]),f)),e.setParams&&(g=Object.keys(e.setParams).reduce((C,N)=>C.set(N,e.setParams[N]),g)),new ew(t,i,s,{params:g,headers:f,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var Br=(()=>((Br=Br||{})[Br.Sent=0]="Sent",Br[Br.UploadProgress=1]="UploadProgress",Br[Br.ResponseHeader=2]="ResponseHeader",Br[Br.DownloadProgress=3]="DownloadProgress",Br[Br.Response=4]="Response",Br[Br.User=5]="User",Br))();class RM{constructor(e,t=200,i="OK"){this.headers=e.headers||new bh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class PM extends RM{constructor(e={}){super(e),this.type=Br.ResponseHeader}clone(e={}){return new PM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class RT extends RM{constructor(e={}){super(e),this.type=Br.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new RT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qV extends RM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function FM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let WV=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof ew)s=t;else{let f,g;f=r.headers instanceof bh?r.headers:new bh(r.headers),r.params&&(g=r.params instanceof Va?r.params:new Va({fromObject:r.params})),s=new ew(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=It(s).pipe(Jl(f=>this.handler.handle(f)));if(t instanceof ew||"events"===r.observe)return c;const d=c.pipe(sr(f=>f instanceof RT));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Et.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Et.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Et.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Et.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Va).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,FM(r,i))}post(t,i,r={}){return this.request("POST",t,FM(r,i))}put(t,i,r={}){return this.request("PUT",t,FM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(jV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class KV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const LM=new o.OlP("HTTP_INTERCEPTORS");let CZ=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const EZ=/^\)\]\}',?\n/;let YV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ki.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((R,B)=>r.setRequestHeader(R,B.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const R=t.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(t.responseType){const R=t.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const R=r.statusText||"OK",B=new bh(r.getAllResponseHeaders()),z=function DZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new PM({headers:B,status:r.status,statusText:R,url:z}),c},f=()=>{let{headers:R,status:B,statusText:z,url:te}=d(),ye=null;204!==B&&(ye=typeof r.response>"u"?r.responseText:r.response),0===B&&(B=ye?200:0);let Te=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof ye){const Fe=ye;ye=ye.replace(EZ,"");try{ye=""!==ye?JSON.parse(ye):null}catch(Re){ye=Fe,Te&&(Te=!1,ye={error:Re,text:ye})}}Te?(i.next(new RT({body:ye,headers:R,status:B,statusText:z,url:te||void 0})),i.complete()):i.error(new qV({error:ye,headers:R,status:B,statusText:z,url:te||void 0}))},g=R=>{const{url:B}=d(),z=new qV({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(z)};let b=!1;const C=R=>{b||(i.next(d()),b=!0);let B={type:Br.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),"text"===t.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},N=R=>{let B={type:Br.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),i.next(B)};return r.addEventListener("load",f),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),t.reportProgress&&(r.addEventListener("progress",C),null!==s&&r.upload&&r.upload.addEventListener("progress",N)),r.send(s),i.next({type:Br.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",f),r.removeEventListener("timeout",g),t.reportProgress&&(r.removeEventListener("progress",C),null!==s&&r.upload&&r.upload.removeEventListener("progress",N)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(zr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const BM=new o.OlP("XSRF_COOKIE_NAME"),VM=new o.OlP("XSRF_HEADER_NAME");class QV{}let TZ=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e),o.LFG(o.Lbi),o.LFG(BM))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),UM=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(QV),o.LFG(VM))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),IZ=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(LM,[]);this.chain=i.reduceRight((r,s)=>new KV(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(HV),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),SZ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:UM,useClass:CZ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:BM,useValue:t.cookieName}:[],t.headerName?{provide:VM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[UM,{provide:LM,useExisting:UM,multi:!0},{provide:QV,useClass:TZ},{provide:BM,useValue:"XSRF-TOKEN"},{provide:VM,useValue:"X-XSRF-TOKEN"}]}),n})(),AZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WV,{provide:jV,useClass:IZ},YV,{provide:HV,useExisting:YV}],imports:[SZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var xZ=j(5226),Jr=j.n(xZ);let Cy=(()=>{class n{constructor(t){this.http=t,this._refresh$=new Yt.x,this.api="https://portfoliobackendvassallo.herokuapp.com"}get refresh$(){return this._refresh$}obtenerDatos(){return this.http.get("./assets/data/data.json")}getHeader(){return console.log(this.api+"/personas/traer/1"),this.http.get(this.api+"/personas/traer/1")}putHeader(t){return this.http.put(this.api+"/personas/editar/1",t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}getEduc(){return this.http.get(this.api+"/educacion/traer")}deleteEduc(t){return this.http.delete(this.api+"/educacion/borrar/"+t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}postEduc(t){return this.http.post(this.api+"/educacion/crear",t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}putEduc(t,i){return this.http.put(this.api+"/educacion/editar/"+t,i).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}getExp(){return this.http.get(this.api+"/experiencia/traer")}postExp(t){return this.http.post(this.api+"/experiencia/crear",t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}putExp(t,i){return this.http.put(this.api+"/experiencia/editar/"+t,i).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}deleteExp(t){return this.http.delete(this.api+"/experiencia/borrar/"+t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}getProyec(){return this.http.get(this.api+"/proyectos/traer")}postProyect(t){return this.http.post(this.api+"/proyectos/crear",t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}putProyect(t,i){return this.http.put(this.api+"/proyectos/editar/"+t,i).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}deleteProyect(t){return this.http.delete(this.api+"/proyectos/borrar/"+t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}getSkills(){return this.http.get(this.api+"/habilidades/traer")}postSkill(t){return this.http.post(this.api+"/habilidades/crear",t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}putSkill(t,i){return this.http.put(this.api+"/habilidades/editar/"+t,i).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}deleteSkill(t){return this.http.delete(this.api+"/habilidades/borrar/"+t).pipe((0,nn.b)(()=>{this._refresh$.next(),console.log("obserbable iniciado")}))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(WV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Pe=j(5861),U=(j(6457),j(2090)),qo=j(9681),Eu=j(1877),Du=j(4859),tw=j(6451),PT=j(5363),kZ=j(6063);class NZ extends Yt.x{constructor(e=1/0,t=1/0,i=kZ.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}var JV=j(3099);function XV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,JV.B)({connector:()=>new NZ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function eU(n,e){return(0,Yl.m)(e)?Ni(()=>n,e):Ni(()=>n)}var jM=j(9468),qn=j(5813),Xr=j(2011);j(5867);const nU=new Map,FZ={activated:!1,tokenObservers:[]},LZ={initialized:!1,enabled:!1};function gs(n){return nU.get(n)||FZ}function Tu(n,e){nU.set(n,e)}function LT(){return LZ}class HZ{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function GZ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wo=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rU(n){if(!gs(n).activated)throw Wo.create("use-before-activation",{appName:n.name})}function zM(n,e){return ZM.apply(this,arguments)}function ZM(){return(ZM=(0,Pe.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const R=yield c.getHeartbeatsHeader();R&&(s["X-Firebase-Client"]=R)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,g;try{f=yield fetch(n,d)}catch(R){throw Wo.create("fetch-network-error",{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}if(200!==f.status)throw Wo.create("fetch-status-error",{httpStatus:f.status});try{g=yield f.json()}catch(R){throw Wo.create("fetch-parse-error",{originalErrorMessage:null===(r=R)||void 0===r?void 0:r.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(b[1]),N=Date.now();return{token:g.token,expireTimeMillis:N+C,issuedAtTimeMillis:N}})).apply(this,arguments)}function qZ(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const nw="firebase-app-check-store";let UT=null;function oU(){return UT||(UT=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Wo.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nw,{keyPath:"compositeKey"})}}catch(i){e(Wo.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),UT)}function qM(){return(qM=(0,Pe.Z)(function*(n,e){const i=(yield oU()).transaction(nw,"readwrite"),s=i.objectStore(nw).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=f=>{c()},i.onerror=f=>{var g;d(Wo.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const iw=new Eu.Yd("@firebase/app-check");function uU(n,e){return(0,U.hl)()?function QZ(n,e){return function aU(n,e){return qM.apply(this,arguments)}(function cU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{iw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dU(){return LT().enabled}function hU(){return QM.apply(this,arguments)}function QM(){return(QM=(0,Pe.Z)(function*(){const n=LT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const iq={error:"UNKNOWN_ERROR"};function rq(n){return U.US.encodeString(JSON.stringify(n),!1)}function jT(n){return JM.apply(this,arguments)}function JM(){return(JM=(0,Pe.Z)(function*(n,e=!1){const t=n.app;rU(t);const i=gs(t);let s,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&HT(f)&&(r=f)}if(!e&&r&&HT(r))return{token:r.token};let d,c=!1;if(dU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=zM(qZ(t,yield hU()),n.heartbeatServiceProvider).then(g=>(i.exchangeTokenPromise=void 0,g)),c=!0);const f=yield i.exchangeTokenPromise;return yield uU(t,f),Tu(t,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?iw.warn(f.message):iw.error(f),s=f}return r?(d={token:r.token},Tu(t,Object.assign(Object.assign({},i),{token:r})),yield uU(t,r)):d=oq(s),c&&pU(t,d),d})).apply(this,arguments)}function eO(n,e){const t=gs(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Tu(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function fU(n){const{app:e}=n,t=gs(e);let i=t.tokenRefresher;i||(i=function sq(n){const{app:e}=n;return new HZ((0,Pe.Z)(function*(){let i;if(i=gs(e).token?yield jT(n,!0):yield jT(n),i.error)throw i.error}),()=>!0,()=>{const t=gs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Tu(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function pU(n,e){const t=gs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function HT(n){return n.expireTimeMillis-Date.now()>0}function oq(n){return{token:rq(iq),error:n}}class aq{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gs(this.app);for(const t of e)eO(this.app,t.next);return Promise.resolve()}}const CU="app-check-internal";!function wq(){(0,qo._registerComponent)(new Du.wA("app-check",n=>function lq(n,e){return new aq(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CU).initialize()})),(0,qo._registerComponent)(new Du.wA(CU,n=>function cq(n){return{getToken:e=>jT(n,e),addTokenListener:e=>function XM(n,e,t,i){const{app:r}=n,s=gs(r),c={next:t,error:i,type:e};if(Tu(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&HT(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),fU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>fU(n))}(n,"INTERNAL",e),removeTokenListener:e=>eO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qo.registerVersion)("@firebase/app-check","0.5.12")}();class rw{constructor(){return(0,qn.vb)("app-check")}}typeof window<"u"&&window;var $T=j(127);const sO=new o.OlP("angularfire2.auth.use-emulator"),oO=new o.OlP("angularfire2.auth.settings"),aO=new o.OlP("angularfire2.auth.tenant-id"),lO=new o.OlP("angularfire2.auth.langugage-code"),cO=new o.OlP("angularfire2.auth.use-device-language"),uO=new o.OlP("angularfire.auth.persistence"),dO=(n,e,t,i,r,s,c,d)=>(0,Xr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),c)for(const[g,b]of Object.entries(c))f.settings[g]=b;return d&&f.setPersistence(d),f},[t,i,r,s,c,d]);let sw=(()=>{class n{constructor(t,i,r,s,c,d,f,g,b,C,N,R){const B=new Yt.x,z=It(void 0).pipe((0,PT.Q)(c.outsideAngular),Ni(()=>s.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,Et.U)(()=>(0,Xr.on)(t,s,i)),(0,Et.U)(te=>dO(te,s,d,g,b,C,f,N)),XV({bufferSize:1,refCount:!1}));if(Pl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=It(null);else{z.pipe(Ql()).subscribe();const ye=z.pipe(Ni(Re=>Re.getRedirectResult().then(Je=>Je,()=>null)),qn.iC,XV({bufferSize:1,refCount:!1})),Te=z.pipe(Ni(Re=>new ki.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Re.onAuthStateChanged(rt=>Je.next(rt),rt=>Je.error(rt),()=>Je.complete()))})))),Fe=z.pipe(Ni(Re=>new ki.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Re.onIdTokenChanged(rt=>Je.next(rt),rt=>Je.error(rt),()=>Je.complete()))}))));this.authState=ye.pipe(eU(Te),(0,jM.R)(c.outsideAngular),(0,PT.Q)(c.insideAngular)),this.user=ye.pipe(eU(Fe),(0,jM.R)(c.outsideAngular),(0,PT.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ni(Re=>Re?(0,ei.D)(Re.getIdToken()):It(null))),this.idTokenResult=this.user.pipe(Ni(Re=>Re?(0,ei.D)(Re.getIdTokenResult()):It(null))),this.credential=(0,tw.T)(ye,B,this.authState.pipe(sr(Re=>!Re))).pipe((0,Et.U)(Re=>Re?.user?Re:null),(0,jM.R)(c.outsideAngular),(0,PT.Q)(c.insideAngular))}return(0,Xr.pX)(this,z,s,{spy:{apply:(te,ye,Te)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Te.then(Fe=>B.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xr.Dh),o.LFG(Xr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(qn.HU),o.LFG(sO,8),o.LFG(oO,8),o.LFG(aO,8),o.LFG(lO,8),o.LFG(cO,8),o.LFG(uO,8),o.LFG(rw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sq=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[sw]}),n})(),DU=(()=>{class n{constructor(t,i){this.angularFireAuth=t,this.router=i,this.loggedIn=!1,this.login=(r,s)=>{this.angularFireAuth.signInWithEmailAndPassword(r,s).then(c=>{Jr().fire({title:"\xa1Genial!",text:"Inicio de sesi\xf3n con \xe9xito",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate([""])}).catch(c=>{Jr().fire("Ops...",`Ha ocurrido un ${c}`,"error")})},this.isLogged()}isLogged(){return this.angularFireAuth.authState}logout(){this.angularFireAuth.signOut(),Jr().fire("\xa1Adi\xf3s!","Sesi\xf3n cerrada con \xe9xito","success"),this.router.navigate([""])}getUser(){return this.angularFireAuth}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(sw),o.LFG(js))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aq(n,e){1&n&&(o.TgZ(0,"ul",21)(1,"li",22)(2,"a",23),o._UZ(3,"i",24),o._uU(4," Login "),o.qZA()()())}function xq(n,e){if(1&n&&(o.TgZ(0,"li")(1,"a",28),o._UZ(2,"i",29),o._uU(3),o.qZA()()),2&n){const t=o.oxw(2);o.xp6(3),o.hij(" ",t.loggedUser," ")}}function kq(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",21),o.YNc(1,xq,4,1,"li",25),o.TgZ(2,"li")(3,"a",26),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.logout())}),o._uU(4," Logout "),o._UZ(5,"i",27),o.qZA()()()}if(2&n){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.loggedUser)}}const Nq=function(n){return{collapse:n}};let Mg=(()=>{class n{constructor(t){var i=this;this.autorizacionService=t,this.title="Ang_Portfolio",this.isCollapse=!0,this.loggedIn=!1,this.loggedUser=null,this.autorizacionService.isLogged().subscribe(r=>{r&&r.uid?(this.loggedIn=!0,setTimeout((0,Pe.Z)(function*(){i.loggedUser=(yield i.autorizacionService.getUser().currentUser).email}),500)):this.loggedIn=!1},r=>{this.loggedIn=!1})}ngOnInit(){}toggleState(){this.isCollapse=!1===this.isCollapse}logout(){this.autorizacionService.logout()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(DU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:36,vars:5,consts:[[1,"navbar","sticky-top","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["src","../assets/APLogo-20-20.png","alt","logo","width","200"],["type","button",1,"navbar-toggler","collapsed",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["routerlinkactive","active",1,"nav-item"],["href","#about",1,"nav-link"],[1,"sr-only"],["href","#experience",1,"nav-link"],["href","#education",1,"nav-link"],["href","#projects",1,"nav-link"],["href","#skills",1,"nav-link"],["href","#contact",1,"nav-link"],["class","nav navbar-nav navbar-right",4,"ngIf"],[2,"display","contents z"],[1,"scrollup"],["href","#",1,"nav-link"],[1,"btn","btn-primary",2,"border-radius","50%"],["aria-hidden","true",1,"fa-solid","fa-angles-up"],[1,"nav","navbar-nav","navbar-right"],["routerLinkActive","active",1,"nav-item"],["routerLink","/login",1,"nav-link"],["aria-hidden","true",1,"fa","fa-lock"],[4,"ngIf"],[1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"],[1,"nav-link","disabled",2,"padding-right","10px"],["aria-hidden","true",1,"fa","fa-user"]],template:function(t,i){1&t&&(o.TgZ(0,"nav")(1,"div",0)(2,"a",1),o._UZ(3,"img",2),o.qZA(),o.TgZ(4,"button",3),o.NdJ("click",function(){return i.toggleState()}),o._UZ(5,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),o._uU(10,"About"),o.TgZ(11,"span",9),o._uU(12,"(current)"),o.qZA()()(),o.TgZ(13,"li",7)(14,"a",10),o._uU(15,"Experiencia"),o.qZA()(),o.TgZ(16,"li",7)(17,"a",11),o._uU(18,"Educaci\xf3n"),o.qZA()(),o.TgZ(19,"li",7)(20,"a",12),o._uU(21,"Projectos"),o.qZA()(),o.TgZ(22,"li",7)(23,"a",13),o._uU(24,"Habilidades"),o.qZA()(),o.TgZ(25,"li",7)(26,"a",14),o._uU(27,"Contacto"),o.qZA()()(),o.YNc(28,Aq,5,0,"ul",15),o.YNc(29,kq,6,1,"ul",15),o.qZA()()(),o.TgZ(30,"div",16)(31,"div",17)(32,"a",18)(33,"div",19),o._UZ(34,"i",20),o.qZA()()()(),o._UZ(35,"router-outlet")),2&t&&(o.xp6(6),o.Q6J("ngClass",o.VKq(3,Nq,i.isCollapse)),o.xp6(22),o.Q6J("ngIf",!i.loggedIn),o.xp6(1),o.Q6J("ngIf",i.loggedIn))},dependencies:[Nl,zi,h0,A_,x_,kM],styles:[".navbar-nav[_ngcontent-%COMP%]{--bs-nav-link-color:#fff ;background:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none;float:right;flex-direction:row}.mr-auto[_ngcontent-%COMP%], .mx-auto[_ngcontent-%COMP%]{margin-right:auto}.navbar-collapse[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;text-align:left;margin-left:30px;margin-right:30px}.navbar-toggler[_ngcontent-%COMP%]{margin-right:30px}.container[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll;overflow-x:hidden}.nav[_ngcontent-%COMP%]{height:50px;display:flex}.nav.hide-nav[_ngcontent-%COMP%]{display:none}.scrollup[_ngcontent-%COMP%]{position:-webkit-sticky;position:fixed;position:-ms-device-fixed;bottom:20px;float:right;width:110px;padding:5px;border-radius:3px;right:-40px;animation:ScrollUpButton__fadein--3nYOh 2s;-moz-animation:ScrollUpButton__fadein--3nYOh 2s;-webkit-animation:ScrollUpButton__fadein--3nYOh 2s;-o-animation:ScrollUpButton__fadein--3nYOh 2s;box-sizing:content-box;z-index:20}"]}),n})();function Cl(n){return null!=n&&"false"!=`${n}`}function zT(n,e=0){return function Mq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function hO(n){return Array.isArray(n)?n:[n]}function Vr(n){return n instanceof o.SBq?n.nativeElement:n}var TU=j(4408);const ow={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ow;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ju.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ow;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ow;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var IU=j(7565);const SU=new class Rq extends IU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Oq extends TU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ow.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(ow.cancelAnimationFrame(t),e._scheduled=void 0)}});let fO,Pq=1;const ZT={};function AU(n){return n in ZT&&(delete ZT[n],!0)}const Fq={setImmediate(n){const e=Pq++;return ZT[e]=!0,fO||(fO=Promise.resolve()),fO.then(()=>AU(e)&&n()),e},clearImmediate(n){AU(n)}},{setImmediate:Lq,clearImmediate:Bq}=Fq,qT={setImmediate(...n){const{delegate:e}=qT;return(e?.setImmediate||Lq)(...n)},clearImmediate(n){const{delegate:e}=qT;return(e?.clearImmediate||Bq)(n)},delegate:void 0};new class Uq extends IU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Vq extends TU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=qT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(qT.clearImmediate(t),e._scheduled=void 0)}});function xU(n,e=cu.z){return function Hq(n){return(0,rr.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const g=r;r=null,t.next(g)}c&&t.complete()},f=()=>{s=null,c&&t.complete()};e.subscribe((0,wi.x)(t,g=>{i=!0,r=g,s||(0,ml.Xf)(n(g)).subscribe(s=(0,wi.x)(t,d,f))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>Xp(n,e))}let pO;try{pO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pO=!1}let aw,gO,Og=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function tr(n){return n===rs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dy(n){return function Gq(){if(null==aw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aw=!0}))}finally{aw=aw||!1}return aw}()?n:!!n.capture}function mO(n){if(function $q(){if(null==gO){const n=typeof document<"u"?document.head:null;gO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function wh(n){return n.composedPath?n.composedPath()[0]:n.target}let qq=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ki.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(xU(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):It()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(sr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Vr(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ds(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(Og),o.LFG(_e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Yt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xU(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Og),o.LFG(o.R0b),o.LFG(_e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function _O(n,e=cu.z){return(0,rr.e)((t,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const g=s;s=null,i.next(g)}};function f(){const g=c+n,b=e.now();if(b<g)return r=this.schedule(void 0,g-b),void i.add(r);d()}t.subscribe((0,wi.x)(i,g=>{s=g,c=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}const NU=new Set;let Ty,nW=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function iW(n){if(!NU.has(n))try{Ty||(Ty=document.createElement("style"),Ty.setAttribute("type","text/css"),document.head.appendChild(Ty)),Ty.sheet&&(Ty.sheet.insertRule(`@media ${n} {body{ }}`,0),NU.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Og))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let sW=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Yt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return MU(hO(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=tf(MU(hO(t)).map(c=>this._registerQuery(c).observable));return s=Qu(s.pipe(pr(1)),s.pipe(function go(n){return sr((e,t)=>n<=t)}(1),_O(0))),s.pipe((0,Et.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:f,query:g})=>{d.matches=d.matches||f,d.breakpoints[g]=f}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new ki.y(c=>{const d=f=>this._zone.run(()=>c.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(_l(i),(0,Et.U)(({matches:c})=>({query:t,matches:c})),ai(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(nW),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const LU="cdk-high-contrast-black-on-white",BU="cdk-high-contrast-white-on-black",bO="cdk-high-contrast-active";let vW=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,o.f3M)(sW).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bO,LU,BU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(bO,LU):2===i&&t.add(bO,BU)}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Og),o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wW=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function CW(){return(0,o.f3M)(_e)}}),EW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let VU=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new o.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function DW(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?EW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(wW,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function wO(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function Sy(n,e){const t=e?"":"none";wO(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function jU(n,e,t){wO(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function YT(n,e){return e&&"none"!=e?n+" "+e:n}function HU(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function CO(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function EO(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function DO(n,e,t){const{top:i,bottom:r,left:s,right:c}=n;return t>=i&&t<=r&&e>=s&&e<=c}function lw(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function GU(n,e,t,i){const{top:r,right:s,bottom:c,left:d,width:f,height:g}=n,b=f*e,C=g*e;return i>r-C&&i<c+C&&t>d-b&&t<s+b}class $U{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:EO(t)})})}handleScroll(e){const t=wh(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,c;if(t===this._document){const g=this.getViewportScrollPosition();s=g.top,c=g.left}else s=t.scrollTop,c=t.scrollLeft;const d=r.top-s,f=r.left-c;return this.positions.forEach((g,b)=>{g.clientRect&&t!==b&&t.contains(b)&&lw(g.clientRect,d,f)}),r.top=s,r.left=c,{top:d,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function zU(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?WU(n,e):("input"===i||"select"===i||"textarea"===i)&&qU(n,e),ZU("canvas",n,e,WU),ZU("input, textarea, select",n,e,qU),e}function ZU(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const s=t.querySelectorAll(n);for(let c=0;c<r.length;c++)i(r[c],s[c])}}let IW=0;function qU(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${IW++}`)}function WU(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const KU=Dy({passive:!0}),QT=Dy({passive:!1}),TO=new Set(["position"]);class AW{constructor(e,t,i,r,s,c){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Yt.x,this._pointerMoveSubscription=Ju.w0.EMPTY,this._pointerUpSubscription=Ju.w0.EMPTY,this._scrollSubscription=Ju.w0.EMPTY,this._resizeSubscription=Ju.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Yt.x,this.started=new Yt.x,this.released=new Yt.x,this.ended=new Yt.x,this.entered=new Yt.x,this.exited=new Yt.x,this.dropped=new Yt.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const f=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const R=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),B=this._dropContainer;if(!R)return void this._endDragSequence(d);(!B||!B.isDragging()&&!B.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.preventDefault();const g=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,f);else{const b=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=g.x-b.x+this._passiveTransform.x,C.y=g.y-b.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:d,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new $U(i),c.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Cl(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Sy(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Vr(i)),this._handles.forEach(i=>Sy(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Vr(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,QT),t.addEventListener("touchstart",this._pointerDown,KU),t.addEventListener("dragstart",this._nativeDragStart,QT)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Vr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Sy(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Sy(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){cw(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();r.insertBefore(c,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),jU(i,!1,TO),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,d).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=cw(t),s=!r&&0!==t.button,c=this._rootElement,d=wh(t),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=r?function vO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function yO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(d&&d.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||f||g)return;if(this._handles.length){const N=c.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=EO(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const C=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:C.x,y:C.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){jU(this._rootElement,!0,TO),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),c=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:s,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,c,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const s=e.matchSize?this._initialClientRect:null,c=e.viewContainer.createEmbeddedView(i,e.context);c.detectChanges(),r=QU(c,this._document),this._previewRef=c,e.matchSize?JU(r,s):r.style.transform=JT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=zU(this._rootElement),JU(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return wO(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},TO),Sy(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function TW(n){const e=getComputedStyle(n),t=CO(e,"transition-property"),i=t.find(d=>"transform"===d||"all"===d);if(!i)return 0;const r=t.indexOf(i),s=CO(e,"transition-duration"),c=CO(e,"transition-delay");return HU(s[r])+HU(c[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=c=>{(!c||wh(c)===this._preview&&"transform"===c.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=QU(this._placeholderRef,this._document)):i=zU(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():e,c=cw(i)?i.targetTouches[0]:i,d=this._getViewportScrollPosition();return{x:s.left-e.left+(c.pageX-s.left-d.left),y:s.top-e.top+(c.pageY-s.top-d.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=cw(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const d=this._ownerSVGElement.createSVGPoint();return d.x=r,d.y=s,d.matrixTransform(c.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:c}=this._pickupPositionInElement,d=this._boundaryRect,{width:f,height:g}=this._getPreviewRect(),b=d.top+c,C=d.bottom-(g-c);i=YU(i,d.left+s,d.right-(f-s)),r=YU(r,b,C)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,c=Math.abs(t-s.x),d=Math.abs(i-s.y);return c>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),d>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Sy(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,QT),e.removeEventListener("touchstart",this._pointerDown,KU),e.removeEventListener("dragstart",this._nativeDragStart,QT)}_applyRootElementTransform(e,t){const i=JT(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=YT(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=JT(e,t);this._preview.style.transform=YT(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,c=i.right-r.right,d=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),c>0&&(e-=c)):e=0,r.height>i.height?(d>0&&(t+=d),f>0&&(t-=f)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:cw(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=wh(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&lw(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=mO(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Vr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function JT(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function YU(n,e,t){return Math.max(e,Math.min(t,n))}function cw(n){return"t"===n.type[0]}function QU(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function JU(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=JT(e.left,e.top)}function IO(n,e,t){const i=uw(e,n.length-1),r=uw(t,n.length-1);if(i===r)return;const s=n[i],c=r<i?-1:1;for(let d=i;d!==r;d+=c)n[d]=n[d+c];n[r]=s}function uw(n,e){return Math.max(0,Math.min(e,n))}class xW{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const s=this._itemPositions,c=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===c&&s.length>0)return null;const d="horizontal"===this.orientation,f=s.findIndex(te=>te.drag===e),g=s[c],C=g.clientRect,N=f>c?1:-1,R=this._getItemOffsetPx(s[f].clientRect,C,N),B=this._getSiblingOffsetPx(f,s,N),z=s.slice();return IO(s,f,c),s.forEach((te,ye)=>{if(z[ye]===te)return;const Te=te.drag===e,Fe=Te?R:B,Re=Te?e.getPlaceholderElement():te.drag.getRootElement();te.offset+=Fe,d?(Re.style.transform=YT(`translate3d(${Math.round(te.offset)}px, 0, 0)`,te.initialTransform),lw(te.clientRect,0,Fe)):(Re.style.transform=YT(`translate3d(0, ${Math.round(te.offset)}px, 0)`,te.initialTransform),lw(te.clientRect,Fe,0))}),this._previousSwap.overlaps=DO(C,t,i),this._previousSwap.drag=g.drag,this._previousSwap.delta=d?r.x:r.y,{previousIndex:f,currentIndex:c}}enter(e,t,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,c=this._activeDraggables,d=c.indexOf(e),f=e.getPlaceholderElement();let g=c[s];if(g===e&&(g=c[s+1]),!g&&(null==s||-1===s||s<c.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(g=c[0]),d>-1&&c.splice(d,1),g&&!this._dragDropRegistry.isDragging(g)){const b=g.getRootElement();b.parentElement.insertBefore(f,b),c.splice(s,0,e)}else Vr(this._element).appendChild(f),c.push(e);f.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{lw(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:EO(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let s=r?t.left-e.left:t.top-e.top;return-1===i&&(s+=r?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,s=t[e].clientRect,c=t[e+-1*i];let d=s[r?"width":"height"]*i;if(c){const f=r?"left":"top",g=r?"right":"bottom";-1===i?d-=c.clientRect[f]-s[g]:d+=s[f]-c.clientRect[g]}return d}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const c=i[i.length-1].clientRect;return r?e>=c.right:t>=c.bottom}{const c=i[0].clientRect;return r?e<=c.left:t<=c.top}}_getItemIndexFromPointerPosition(e,t,i,r){const s="horizontal"===this.orientation,c=this._itemPositions.findIndex(({drag:d,clientRect:f})=>{if(d===e)return!1;if(r){const g=s?r.x:r.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return s?t>=Math.floor(f.left)&&t<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom)});return-1!==c&&this._sortPredicate(c,e)?c:-1}}class kW{constructor(e,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Yt.x,this.entered=new Yt.x,this.exited=new Yt.x,this.dropped=new Yt.x,this.sorted=new Yt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ju.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Yt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function bW(n=0,e=cu.z){return n<0&&(n=0),Xp(n,n,e)}(0,SU).pipe(ai(this._stopScrollTimers)).subscribe(()=>{const c=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?c.scrollBy(0,-d):2===this._verticalScrollDirection&&c.scrollBy(0,d),1===this._horizontalScrollDirection?c.scrollBy(-d,0):2===this._horizontalScrollDirection&&c.scrollBy(d,0)})},this.element=Vr(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new $U(i),this._sortStrategy=new xW(this.element,t),this._sortStrategy.withSortPredicate((c,d)=>this.sortPredicate(c,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,s,c,d,f={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:c,dropPoint:d,event:f})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=Vr(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!GU(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((c,d)=>{d===this._document||!c.clientRect||i||GU(c.clientRect,.05,e,t)&&([r,s]=function NW(n,e,t,i){const r=t3(e,i),s=n3(e,t);let c=0,d=0;if(r){const f=n.scrollTop;1===r?f>0&&(c=1):n.scrollHeight-f>n.clientHeight&&(c=2)}if(s){const f=n.scrollLeft;1===s?f>0&&(d=1):n.scrollWidth-f>n.clientWidth&&(d=2)}return[c,d]}(d,c.clientRect,e,t),(r||s)&&(i=d))}),!r&&!s){const{width:c,height:d}=this._viewportRuler.getViewportSize(),f={width:c,height:d,top:0,right:c,bottom:d,left:0};r=t3(f,t),s=n3(f,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Vr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Vr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=Vr(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&DO(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!DO(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=Vr(this.element);return r===s||s.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=mO(Vr(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function t3(n,e){const{top:t,bottom:i,height:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function n3(n,e){const{left:t,right:i,width:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const XT=Dy({passive:!1,capture:!0});let MW=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Yt.x,this.pointerUp=new Yt.x,this.scroll=new Yt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,XT)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,XT)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:XT}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:XT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,c)=>{this._document.addEventListener(c,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new ki.y(r=>this._ngZone.runOutsideAngular(()=>{const c=d=>{this._activeDragInstances.length&&r.next(d)};return t.addEventListener("scroll",c,!0),()=>{t.removeEventListener("scroll",c,!0)}}))),(0,tw.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OW={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let SO=(()=>{class n{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=OW){return new AW(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new kW(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e),o.LFG(o.R0b),o.LFG(Kq),o.LFG(MW))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AO=new o.OlP("CDK_DRAG_PARENT"),r3=new o.OlP("CdkDropListGroup"),s3=new o.OlP("CDK_DRAG_CONFIG");let RW=0;const o3=new o.OlP("CdkDropList");let a3=(()=>{class n{constructor(t,i,r,s,c,d,f){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=c,this._group=d,this._destroyed=new Yt.x,this.connectedTo=[],this.id="cdk-drop-list-"+RW++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.sorted=new o.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,f&&this._assignDefaults(f),this._dropListRef.enterPredicate=(g,b)=>this.enterPredicate(g.data,b.data),this._dropListRef.sortPredicate=(g,b,C)=>this.sortPredicate(g,b.data,C.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),d&&d._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Cl(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(_l(this._dir.value),ai(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=hO(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(c=>c.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Cl(this.sortingDisabled),t.autoScrollDisabled=Cl(this.autoScrollDisabled),t.autoScrollStep=zT(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:c,listOrientation:d}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=c??!1,this.orientation=d||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(SO),o.Y36(o.sBO),o.Y36(qq),o.Y36(VU,8),o.Y36(r3,12),o.Y36(s3,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(o.uIk("id",i.id),o.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[o._Bn([{provide:r3,useValue:void 0},{provide:o3,useExisting:n}])]}),n})();const xO=new o.OlP("CdkDragHandle");let l3=(()=>{class n{constructor(t,i){this.element=t,this._stateChanges=new Yt.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=Cl(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(AO,12))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[o._Bn([{provide:xO,useExisting:n}])]}),n})();const PW=new o.OlP("CdkDragPlaceholder"),FW=new o.OlP("CdkDragPreview");let c3=(()=>{class n{constructor(t,i,r,s,c,d,f,g,b,C,N){this.element=t,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=c,this._dir=f,this._changeDetectorRef=b,this._selfHandle=C,this._parentDrag=N,this._destroyed=new Yt.x,this.started=new o.vpe,this.released=new o.vpe,this.ended=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.dropped=new o.vpe,this.moved=new ki.y(R=>{const B=this._dragRef.moved.pipe((0,Et.U)(z=>({source:this,pointerPosition:z.pointerPosition,event:z.event,delta:z.delta,distance:z.distance}))).subscribe(R);return()=>{B.unsubscribe()}}),this._dragRef=g.createDrag(t,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:d?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),d&&this._assignDefaults(d),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Cl(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pr(1),ai(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Vr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:zT(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(pr(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:c,boundaryElement:d,draggingDisabled:f,rootElementSelector:g,previewContainer:b}=t;this.disabled=f??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),c&&(this.previewClass=c),d&&(this.boundaryElement=d),g&&(this.rootElementSelector=g),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.changes.pipe(_l(this._handles),(0,nn.b)(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ni(t=>(0,tw.T)(...t.map(i=>i._stateChanges.pipe(_l(i))))),ai(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o3,12),o.Y36(_e),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(s3,8),o.Y36(VU,8),o.Y36(SO),o.Y36(o.sBO),o.Y36(xO,10),o.Y36(AO,12))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(o.Suo(r,FW,5),o.Suo(r,PW,5),o.Suo(r,xO,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._previewTemplate=s.first),o.iGM(s=o.CRH())&&(i._placeholderTemplate=s.first),o.iGM(s=o.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&o.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[o._Bn([{provide:AO,useExisting:n}]),o.TTD]}),n})(),BW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SO],imports:[Yq]}),n})(),VW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-footer"]],decls:26,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-5","copyright"],["id","current-year"],[1,"col-sm-5","social"],["href","https://github.com/Vassa94","target","_blank"],["aria-hidden","true",1,"fa-brands","fa-github"],["href","https://es.stackoverflow.com/users/278904/ignacio-vassallo","target","_blank"],["aria-hidden","true",1,"fa-brands","fa-stack-overflow"],["href","https://www.linkedin.com/in/vassallo-ignacio/","target","_blank"],["aria-hidden","true",1,"fa-brands","fa-linkedin-in"],["href","https://www.facebook.com/ignacio.vassallo.54/","target","_blank"],["aria-hidden","true",1,"fa-brands","fa-facebook-f"],["href","https://twitter.com/Vassa1994","target","_blank"],["aria-hidden","true",1,"fa-brands","fa-twitter"]],template:function(t,i){1&t&&(o.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"p"),o._uU(5," Copyright \xa9 "),o.TgZ(6,"span",3),o._uU(7,"2022"),o.qZA(),o._uU(8," Ignacio Vassallo "),o.qZA()(),o.TgZ(9,"div",4)(10,"ul")(11,"li")(12,"a",5),o._UZ(13,"i",6),o.qZA()(),o.TgZ(14,"li")(15,"a",7),o._UZ(16,"i",8),o.qZA()(),o.TgZ(17,"li")(18,"a",9),o._UZ(19,"i",10),o.qZA()(),o.TgZ(20,"li")(21,"a",11),o._UZ(22,"i",12),o.qZA()(),o.TgZ(23,"li")(24,"a",13),o._UZ(25,"i",14),o.qZA()()()()()()())}}),n})(),UW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-contacto"]],decls:11,vars:0,consts:[["id","contact"],["id","contact-form"],["method","POST","action","https://formspree.io/f/xvoypvzn"],["type","hidden","name","_subject","value","Contact request from personal website"],["type","email","name","_replyto","placeholder","Email","required",""],["name","message","placeholder","Mensaje","required",""],["type","submit"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2,"Contacto"),o.qZA(),o.TgZ(3,"div",1)(4,"form",2),o._UZ(5,"input",3)(6,"input",4)(7,"textarea",5),o.TgZ(8,"button",6),o._uU(9,"Enviar"),o.qZA()()()(),o._UZ(10,"app-footer"))},dependencies:[pu,Pa,xf,VW]}),n})();function jW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",5)(1,"button",6),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(7);return o.KtG(r.add(s))}),o._UZ(2,"i",7),o.qZA()()}}function HW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(),c=o.MAs(7);return o.KtG(s.edit(c,r))}),o._UZ(1,"i",13),o.qZA()}}function GW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.borrarBloque(r.id))}),o._UZ(1,"i",15),o.qZA()}}function $W(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"li",8),o.YNc(2,HW,2,0,"button",9),o._uU(3),o.YNc(4,GW,2,0,"button",10),o.TgZ(5,"p"),o._UZ(6,"ngb-progressbar",11),o.qZA()(),o.BQk()),2&n){const t=e.$implicit,i=o.oxw();o.xp6(2),o.Q6J("ngIf",i.loG()),o.xp6(1),o.hij(" ",t.nombre," "),o.xp6(1),o.Q6J("ngIf",i.loG()),o.xp6(2),o.Q6J("showValue",!0)("value",t.nivel)("striped",!0)}}function zW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",16)(1,"h2",17),o._uU(2,"Habilidades"),o.qZA(),o.TgZ(3,"button",18),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",19),o.qZA()(),o.TgZ(5,"div",20)(6,"form",21),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.form())}),o.TgZ(7,"div",22)(8,"div",23)(9,"label",24),o._uU(10,"Habilidad"),o.qZA(),o.TgZ(11,"div"),o._UZ(12,"input",25),o.qZA()(),o.TgZ(13,"div",23)(14,"label",26),o._uU(15,"Nivel"),o.qZA(),o._UZ(16,"input",27),o.qZA()(),o.TgZ(17,"div",28)(18,"button",29),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(19," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.skillform)}}let ZW=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.skillform=new Fr({nombre:new Vn(""),nivel:new Vn,edit:new Vn})}ngOnInit(){this.getSkills(),this.datosPortfolio.refresh$.subscribe(t=>{this.getSkills()})}ngOnDestroy(){this.suscription.unsubscribe(),console.log("obserbable cerrado")}getSkills(){this.datosPortfolio.getSkills().subscribe(t=>{this.skills=t})}loG(){return this.appComponent.loggedIn}openVerticallyCentered(t){this.modalService.open(t,{centered:!0,size:"lg"})}add(t){this.skillform.setValue({nombre:"",nivel:0,edit:0}),this.openVerticallyCentered(t)}edit(t,i){console.log(i),this.skillform.setValue({nombre:i.nombre,nivel:i.nivel,edit:1}),this.skillId=i.id,this.openVerticallyCentered(t)}form(){0==this.skillform.value.edit?this.agregarBloque():this.actualizarBloque()}agregarBloque(){this.datosPortfolio.postSkill({nombre:this.skillform.value.nombre,nivel:this.skillform.value.nivel}).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n agregada",icon:"success",showConfirmButton:!1,timer:1500}),this.getSkills()}actualizarBloque(){const t=(new Va).set("nombre",this.skillform.value.nombre).set("nivel",this.skillform.value.nivel).set("perId",1);this.datosPortfolio.putSkill(this.skillId,t).subscribe(i=>{}),console.log(t),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n editada",icon:"success",showConfirmButton:!1,timer:1500}),this.getSkills()}borrarBloque(t){Jr().fire({title:"\xbfSeguro quiere borrar este proyecto?",showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.datosPortfolio.deleteSkill(t).subscribe(r=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n borrada",icon:"success",showConfirmButton:!1,timer:1500}))}),this.getSkills()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-skills"]],decls:9,vars:2,consts:[["class","edicion botones ",4,"ngIf"],["id","skills"],[1,"heading"],[4,"ngFor","ngForOf"],["content",""],[1,"edicion","botones"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-square-plus"],[1,"skill","card"],["type","button","class","btn btn-sm btn-link",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-link","style","float:right;",3,"click",4,"ngIf"],["type","primary",3,"showValue","value","striped"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button",1,"btn","btn-sm","btn-link",2,"float","right",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"mb-3"],["for","nombre"],["name","nombre","formControlName","nombre",1,"form-control"],["for","imagen",1,"form-label"],["type","range","name","nivel","min","0","max","100","step","20","id","nivel","formControlName","nivel",1,"form-range"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){1&t&&(o.YNc(0,jW,3,0,"div",0),o.TgZ(1,"div",1)(2,"h2",2),o._uU(3,"Habilidades"),o.qZA(),o.TgZ(4,"ul"),o.YNc(5,$W,7,6,"ng-container",3),o.qZA()(),o.YNc(6,zW,20,1,"ng-template",null,4,o.W1O),o._UZ(8,"app-contacto")),2&t&&(o.Q6J("ngIf",i.loG()),o.xp6(5),o.Q6J("ngForOf",i.skills))},dependencies:[cr,zi,pu,Hs,Y_,oc,Pa,cZ,vl,uc,UW],styles:['.skill[_ngcontent-%COMP%]{border-radius:20px;width:180px;align-items:center}.edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.skill[_ngcontent-%COMP%]:hover{background-color:#cf2222;border-color:#161111}.bubble[_ngcontent-%COMP%]{background:#0a58ca;color:#fff;padding:4px 12px;position:absolute;border-radius:4px;left:50%;transform:translate(-50%)}.bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;width:2px;height:2px;background:#0a58ca;top:-1px;left:50%}']}),n})(),qW=(()=>{class n{constructor(){this.fileDropped=new o.vpe}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0,console.log("Drag Over")}onDragleave(t){t.preventDefault(),t.stopPropagation(),console.log("Drag leave")}onDrop(t){t.preventDefault(),t.stopPropagation();const i=t.dataTransfer.files;i.length>0&&this.fileDropped.emit(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("dragover",function(s){return i.onDragOver(s)})("dragleave",function(s){return i.onDragleave(s)})("drop",function(s){return i.onDrop(s)}),2&t&&o.ekj("fileover",i.fileOver)},outputs:{fileDropped:"fileDropped"}}),n})(),WW=(()=>{class n{constructor(){this.progress=0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-progreso"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.qZA()),2&t&&(o.xp6(1),o.Udp("width",i.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:.5s all}"]}),n})();function KW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",7)(1,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(8);return o.KtG(r.add(s))}),o._UZ(2,"i",9),o.qZA()()}}function YW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",18)(1,"li")(2,"button",19),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(),c=o.MAs(8);return o.KtG(s.edit(c,r))}),o._UZ(3,"i",20),o.qZA()(),o.TgZ(4,"li")(5,"button",21),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.borrarBloque(r.id))}),o._UZ(6,"i",22),o.qZA()()()}}function QW(n,e){if(1&n&&(o.TgZ(0,"div",10),o._UZ(1,"img",11),o.TgZ(2,"div",12)(3,"h4",13),o._uU(4),o.qZA(),o.TgZ(5,"p",14),o._uU(6),o.qZA()(),o.TgZ(7,"div",15),o.YNc(8,YW,7,0,"ul",16),o.qZA(),o.TgZ(9,"a",17),o._uU(10,"Ver"),o.qZA()()),2&n){const t=e.$implicit,i=o.oxw();o.xp6(1),o.Q6J("src",t.imgUrl,o.LSH),o.xp6(3),o.Oqu(t.nombre),o.xp6(2),o.Oqu(t.descripcion),o.xp6(2),o.Q6J("ngIf",i.loG()),o.xp6(1),o.Q6J("href",t.linkUrl,o.LSH)}}function JW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",52)(1,"div",53),o.O4$(),o.TgZ(2,"svg",54),o._UZ(3,"polygon",55),o.TgZ(4,"g"),o._UZ(5,"path",56)(6,"path",57)(7,"path",58)(8,"path",59)(9,"path",60),o.qZA(),o._UZ(10,"polygon",61),o.qZA()(),o.kcU(),o.TgZ(11,"div",62)(12,"h4",63),o._uU(13),o.qZA(),o.TgZ(14,"p",64),o._uU(15),o.qZA(),o._UZ(16,"app-progreso",65),o.qZA(),o.TgZ(17,"div",66),o.NdJ("click",function(){const s=o.CHM(t).index,c=o.oxw(2);return o.KtG(c.deleteFile(s))}),o.O4$(),o.TgZ(18,"svg",67),o._UZ(19,"path",68),o.qZA()()()}if(2&n){const t=e.$implicit,i=o.oxw(2);o.xp6(13),o.hij(" ",null==t?null:t.name," "),o.xp6(2),o.hij(" ",i.formatBytes(null==t?null:t.size)," "),o.xp6(1),o.Q6J("progress",null==t?null:t.progress)}}function XW(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",23)(1,"h2",24),o._uU(2,"Proyectos"),o.qZA(),o.TgZ(3,"button",25),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",26),o.qZA()(),o.TgZ(5,"div",27)(6,"form",28),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.form())}),o.TgZ(7,"div",29)(8,"div",30)(9,"label",31),o._uU(10,"Nombre del proyecto"),o.qZA(),o.TgZ(11,"div"),o._UZ(12,"input",32),o.qZA()(),o.TgZ(13,"div",30)(14,"div",33),o.NdJ("fileDropped",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.onFileDropped(r))}),o.TgZ(15,"input",34,35),o.NdJ("change",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.fileBrowseHandler(r.target.files))}),o.qZA(),o.O4$(),o.TgZ(17,"svg",36)(18,"g",37),o._UZ(19,"path",38)(20,"path",39)(21,"path",40),o.qZA()(),o.kcU(),o.TgZ(22,"h3"),o._uU(23,"Arrastre su imagen aqu\xed"),o.qZA(),o.TgZ(24,"label",41),o._uU(25,"Buscar imagen"),o.qZA()()(),o.TgZ(26,"div",42),o.YNc(27,JW,20,3,"div",43),o.qZA(),o.TgZ(28,"div",30)(29,"label",44),o._uU(30,"Url de la Imagen"),o.qZA(),o.TgZ(31,"span")(32,"div"),o._UZ(33,"input",45),o.qZA()()(),o.TgZ(34,"div",30)(35,"label",46),o._uU(36,"Descripci\xf3n"),o.qZA(),o.TgZ(37,"div"),o._UZ(38,"textarea",47),o.qZA()(),o.TgZ(39,"div",30)(40,"label",48),o._uU(41,"Link del proyecto"),o.qZA(),o.TgZ(42,"div"),o._UZ(43,"input",49),o.qZA()()(),o.TgZ(44,"div",50)(45,"button",51),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(46," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.proyform),o.xp6(21),o.Q6J("ngForOf",t.files)}}let e7=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.files=[],this.proyform=new Fr({nombre:new Vn(""),imgUrl:new Vn,descripcion:new Vn,linkUrl:new Vn,edit:new Vn})}ngOnInit(){this.getProyect(),this.datosPortfolio.refresh$.subscribe(t=>{this.getProyect()})}ngOnDestroy(){this.suscription.unsubscribe(),console.log("obserbable cerrado")}getProyect(){this.datosPortfolio.getProyec().subscribe(t=>{this.misProyectos=t})}loG(){return this.appComponent.loggedIn}openVerticallyCentered(t){this.modalService.open(t,{centered:!0,size:"lg"})}add(t){this.proyform.setValue({nombre:"",imgUrl:"",descripcion:"",linkUrl:"",edit:0}),this.openVerticallyCentered(t)}edit(t,i){console.log(i),this.proyform.setValue({nombre:i.nombre,imgUrl:i.imgUrl,descripcion:i.descripcion,linkUrl:i.linkUrl,edit:1}),this.proyId=i.id,this.openVerticallyCentered(t)}form(){0==this.proyform.value.edit?this.agregarBloque():this.actualizarBloque()}agregarBloque(){this.datosPortfolio.postProyect({nombre:this.proyform.value.nombre,imgUrl:this.proyform.value.imgUrl,descripcion:this.proyform.value.descripcion,linkUrl:this.proyform.value.linkUrl,perId:1}).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n agregada",icon:"success",showConfirmButton:!1,timer:1500}),this.getProyect()}borrarBloque(t){Jr().fire({title:"\xbfSeguro quiere borrar este proyecto?",showCancelButton:!0,confirmButtonText:"Si",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.datosPortfolio.deleteProyect(t).subscribe(r=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n borrada",icon:"success",showConfirmButton:!1,timer:1500}))}),this.getProyect()}actualizarBloque(){const t=(new Va).set("nombre",this.proyform.value.nombre).set("imgUrl",this.proyform.value.imgUrl).set("descripcion",this.proyform.value.descripcion).set("linkUrl",this.proyform.value.linkUrl).set("perId",1);this.datosPortfolio.putProyect(this.proyId,t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n editada",icon:"success",showConfirmButton:!1,timer:1500}),this.getProyect()}onFileDropped(t){this.prepareFilesList(t)}fileBrowseHandler(t){this.prepareFilesList(t)}deleteFile(t){this.files.splice(t,1)}uploadFilesSimulator(t){setTimeout(()=>{if(t!==this.files.length){const i=setInterval(()=>{100===this.files[t].progress?(clearInterval(i),this.uploadFilesSimulator(t+1)):this.files[t].progress+=5},200)}},1e3)}prepareFilesList(t){for(const i of t)i.progress=0,this.files.push(i);this.uploadFilesSimulator(0)}formatBytes(t,i){if(0===t)return"0 Bytes";const s=i<=0?0:i||2,d=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,d)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][d]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-proyectos"]],decls:10,vars:2,consts:[["class","edicion bot ",4,"ngIf"],["id","projects",1,"background-alt"],[1,"heading"],[1,"contain"],[1,"disposicion"],["class","card",4,"ngFor","ngForOf"],["content",""],[1,"edicion","bot"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-square-plus"],[1,"card"],["alt","img",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[2,"flex-direction","row"],["class","editcard",4,"ngIf"],["target","_blank",1,"proyecto","btn","btn-primary",3,"href"],[1,"editcard"],["type","button",1,"btn","btn-link",3,"click"],[1,"fa-solid","fa-pen-to-square"],["color","#6c757d",1,"btn","btn-link",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"mb-3"],["for","nombre"],["name","nombre","formControlName","nombre",1,"form-control"],["appDnd","",1,"dropzone",3,"fileDropped"],["type","file","name","imagen","id","fileDropRef","multiple","",3,"change"],["fileDropRef",""],["xmlns","http://www.w3.org/2000/svg","width","63","height","64","viewBox","0 0 63 64"],["fill","#3B454F","fill-rule","nonzero"],["d","M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z"],["d","M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z"],["d","M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z"],["for","fileDropRef"],[1,"files-list"],["class","single-file",4,"ngFor","ngForOf"],["for","imgUrl"],["type","url","name","imgUrl","formControlName","imgUrl",1,"form-control"],["for","descripcion"],["rows","3","name","descripcion","formControlName","descripcion",1,"form-control"],["for","linkUrl"],["type","url","name","linkUrl","formControlName","linkUrl",1,"form-control"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"],[1,"single-file"],[1,"file-icon",2,"width","50px"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 58 58",0,"xml","space","preserve",2,"enable-background","new 0 0 58 58"],["points","51.5,14 37.5,0 6.5,0 6.5,58 51.5,58 ",2,"fill","#EDEADA"],["d","M16.5,23h25c0.552,0,1-0.447,1-1s-0.448-1-1-1h-25c-0.552,0-1,0.447-1,1S15.948,23,16.5,23z",2,"fill","#CEC9AE"],["d","M16.5,15h10c0.552,0,1-0.447,1-1s-0.448-1-1-1h-10c-0.552,0-1,0.447-1,1S15.948,15,16.5,15z",2,"fill","#CEC9AE"],["d","M41.5,29h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,29,41.5,29z",2,"fill","#CEC9AE"],["d","M41.5,37h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,37,41.5,37z",2,"fill","#CEC9AE"],["d","M41.5,45h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,45,41.5,45z",2,"fill","#CEC9AE"],["points","37.5,0 37.5,14 51.5,14 ",2,"fill","#CEC9AE"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],[1,"delete",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","14","height","18","viewBox","0 0 14 18"],["fill","#B1B1B1","fill-rule","nonzero","d","M1 16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v10zm3.17-7.83a.996.996 0 0 1 1.41 0L7 9.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L8.41 11l1.42 1.42a.996.996 0 1 1-1.41 1.41L7 12.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L5.59 11 4.17 9.58a.996.996 0 0 1 0-1.41zM10.5 1L9.79.29C9.61.11 9.35 0 9.09 0H4.91c-.26 0-.52.11-.7.29L3.5 1H1c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"]],template:function(t,i){1&t&&(o.YNc(0,KW,3,0,"div",0),o.TgZ(1,"div",1)(2,"h2",2),o._uU(3,"Proyectos"),o.qZA(),o.TgZ(4,"div",3)(5,"div",4),o.YNc(6,QW,11,5,"div",5),o.qZA()()(),o.YNc(7,XW,47,2,"ng-template",null,6,o.W1O),o._UZ(9,"app-skills")),2&t&&(o.Q6J("ngIf",i.loG()),o.xp6(6),o.Q6J("ngForOf",i.misProyectos))},dependencies:[cr,zi,pu,Hs,oc,Pa,vl,uc,ZW,qW,WW],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.editcard[_ngcontent-%COMP%]{display:flex;align-self:center;margin:auto;list-style-type:none;padding-left:37%}.bot[_ngcontent-%COMP%]{float:right;position:absolute;right:20px;margin-top:20px;list-style-type:none;text-align:right;z-index:10}.contain[_ngcontent-%COMP%]{display:grid;justify-items:center;max-width:1000px;margin:auto}.disposicion[_ngcontent-%COMP%]{flex-direction:row;display:flex;flex-wrap:wrap;align-content:space-around;justify-content:space-around;align-items:flex-start}.content[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0;height:490px}.card[_ngcontent-%COMP%]{margin:10px;width:300px;height:560px}.content-section[_ngcontent-%COMP%]{border:1px solid var(--surface-d);border-radius:3px;margin:.3rem;text-align:center;padding:2rem 0}.proyecto[_ngcontent-%COMP%]{margin-top:35px}.edit[_ngcontent-%COMP%]{display:flex;align-self:center;margin:auto;list-style-type:none;padding-left:37%}.dropzone[_ngcontent-%COMP%]{width:450px;height:200px;padding:2rem;text-align:center;border:1px solid #ced4da;border-radius:.375rem;position:relative;margin:0 auto}.dropzone[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:183px;height:44px;border-radius:21.5px;background-color:#db202f;padding:8px 16px}.dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{animation:shake 1s;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;justify-content:space-between;align-items:center;border:1px solid #ced4da;border-radius:.375rem;margin-bottom:1rem;display:flex;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:flex;margin-left:.5rem;cursor:pointer;align-self:flex-end}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0;margin-bottom:.25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),n})();function t7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",5)(1,"button",6),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(6);return o.KtG(r.add(s))}),o._UZ(2,"i",7),o.qZA()()}}function n7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",13)(1,"li",14)(2,"button",15),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(),c=o.MAs(6);return o.KtG(s.edit(c,r))}),o._UZ(3,"i",16),o.qZA()(),o.TgZ(4,"li",14)(5,"button",17),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.borrarBloque(r.id))}),o._UZ(6,"i",18),o.qZA()()()}}function i7(n,e){1&n&&o._UZ(0,"i",19)}function r7(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,n7,7,0,"ul",9),o.TgZ(2,"h3"),o._uU(3),o.qZA(),o.TgZ(4,"span",10),o._uU(5),o.qZA(),o.TgZ(6,"h4"),o._uU(7),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"div",11),o.YNc(11,i7,1,0,"i",12),o.qZA()()),2&n){const t=e.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.loG()),o.xp6(2),o.Oqu(t.nombre),o.xp6(2),o.AsE("",t.fechaInicio," - ",t.fechaFin,""),o.xp6(2),o.Oqu(t.titulo),o.xp6(2),o.Oqu(t.descripcion),o.xp6(2),o.Q6J("ngIf",i.loG())}}function s7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",20)(1,"h2",21),o._uU(2,"Educacion"),o.qZA(),o.TgZ(3,"button",22),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",23),o.qZA()(),o.TgZ(5,"div",24)(6,"form",25),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.form())}),o.TgZ(7,"div",26)(8,"div",27)(9,"label",28),o._uU(10,"Nombre del centro o instituci\xf3n"),o.qZA(),o.TgZ(11,"div"),o._UZ(12,"input",29),o.qZA()(),o.TgZ(13,"div",27)(14,"label",28),o._uU(15,"Titulo obtenido"),o.qZA(),o.TgZ(16,"div"),o._UZ(17,"input",30),o.qZA()(),o.TgZ(18,"div",31)(19,"div")(20,"label",32),o._uU(21,"Fecha de Inicio"),o.qZA(),o.TgZ(22,"div")(23,"div",33)(24,"select",34)(25,"option",35),o._uU(26,"Mes"),o.qZA(),o.TgZ(27,"option"),o._uU(28,"Enero"),o.qZA(),o.TgZ(29,"option"),o._uU(30,"Febrero"),o.qZA(),o.TgZ(31,"option"),o._uU(32,"Marzo"),o.qZA(),o.TgZ(33,"option"),o._uU(34,"Abril"),o.qZA(),o.TgZ(35,"option"),o._uU(36,"Mayo"),o.qZA(),o.TgZ(37,"option"),o._uU(38,"Junio"),o.qZA(),o.TgZ(39,"option"),o._uU(40,"Julio"),o.qZA(),o.TgZ(41,"option"),o._uU(42,"Agosto"),o.qZA(),o.TgZ(43,"option"),o._uU(44,"Septiembre"),o.qZA(),o.TgZ(45,"option"),o._uU(46,"Octubre"),o.qZA(),o.TgZ(47,"option"),o._uU(48,"Noviembre"),o.qZA(),o.TgZ(49,"option"),o._uU(50,"Diciembre"),o.qZA()(),o.TgZ(51,"select",36)(52,"option",35),o._uU(53,"A\xf1o"),o.qZA(),o.TgZ(54,"option"),o._uU(55,"2010"),o.qZA(),o.TgZ(56,"option"),o._uU(57,"2011"),o.qZA(),o.TgZ(58,"option"),o._uU(59,"2012"),o.qZA(),o.TgZ(60,"option"),o._uU(61,"2013"),o.qZA(),o.TgZ(62,"option"),o._uU(63,"2014"),o.qZA(),o.TgZ(64,"option"),o._uU(65,"2015"),o.qZA(),o.TgZ(66,"option"),o._uU(67,"2016"),o.qZA(),o.TgZ(68,"option"),o._uU(69,"2017"),o.qZA(),o.TgZ(70,"option"),o._uU(71,"2018"),o.qZA(),o.TgZ(72,"option"),o._uU(73,"2019"),o.qZA(),o.TgZ(74,"option"),o._uU(75,"2020"),o.qZA(),o.TgZ(76,"option"),o._uU(77,"2021"),o.qZA(),o.TgZ(78,"option"),o._uU(79,"2022"),o.qZA(),o.TgZ(80,"option"),o._uU(81,"2023"),o.qZA()()()()(),o.TgZ(82,"div")(83,"label",37),o._uU(84,"Esta cursando?"),o.qZA(),o.TgZ(85,"div",38),o._UZ(86,"input",39),o.qZA()(),o.TgZ(87,"div")(88,"label",40),o._uU(89,"Fecha de Finalizaci\xf3n"),o.qZA(),o.TgZ(90,"div",41)(91,"select",42)(92,"option",35),o._uU(93,"Mes"),o.qZA(),o.TgZ(94,"option"),o._uU(95,"Enero"),o.qZA(),o.TgZ(96,"option"),o._uU(97,"Febrero"),o.qZA(),o.TgZ(98,"option"),o._uU(99,"Marzo"),o.qZA(),o.TgZ(100,"option"),o._uU(101,"Abril"),o.qZA(),o.TgZ(102,"option"),o._uU(103,"Mayo"),o.qZA(),o.TgZ(104,"option"),o._uU(105,"Junio"),o.qZA(),o.TgZ(106,"option"),o._uU(107,"Julio"),o.qZA(),o.TgZ(108,"option"),o._uU(109,"Agosto"),o.qZA(),o.TgZ(110,"option"),o._uU(111,"Septiembre"),o.qZA(),o.TgZ(112,"option"),o._uU(113,"Octubre"),o.qZA(),o.TgZ(114,"option"),o._uU(115,"Noviembre"),o.qZA(),o.TgZ(116,"option"),o._uU(117,"Diciembre"),o.qZA()(),o.TgZ(118,"select",43)(119,"option",35),o._uU(120,"A\xf1o"),o.qZA(),o.TgZ(121,"option"),o._uU(122,"2010"),o.qZA(),o.TgZ(123,"option"),o._uU(124,"2011"),o.qZA(),o.TgZ(125,"option"),o._uU(126,"2012"),o.qZA(),o.TgZ(127,"option"),o._uU(128,"2013"),o.qZA(),o.TgZ(129,"option"),o._uU(130,"2014"),o.qZA(),o.TgZ(131,"option"),o._uU(132,"2015"),o.qZA(),o.TgZ(133,"option"),o._uU(134,"2016"),o.qZA(),o.TgZ(135,"option"),o._uU(136,"2017"),o.qZA(),o.TgZ(137,"option"),o._uU(138,"2018"),o.qZA(),o.TgZ(139,"option"),o._uU(140,"2019"),o.qZA(),o.TgZ(141,"option"),o._uU(142,"2020"),o.qZA(),o.TgZ(143,"option"),o._uU(144,"2021"),o.qZA(),o.TgZ(145,"option"),o._uU(146,"2022"),o.qZA(),o.TgZ(147,"option"),o._uU(148,"2023"),o.qZA()()()()(),o.TgZ(149,"div",27)(150,"label",44),o._uU(151,"Descripci\xf3n"),o.qZA(),o.TgZ(152,"div"),o._UZ(153,"textarea",45),o.qZA()()(),o.TgZ(154,"div",46)(155,"button",47),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(156," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.eduform)}}let o7=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.eduform=new Fr({nombre:new Vn(""),fechaInicioM:new Vn,fechaInicioA:new Vn,actual:new Vn,fechaFinM:new Vn,fechaFinA:new Vn,titulo:new Vn,descripcion:new Vn(""),edit:new Vn})}ngOnInit(){this.getEducacion(),this.datosPortfolio.refresh$.subscribe(t=>{this.getEducacion()})}getEducacion(){this.datosPortfolio.getEduc().subscribe(t=>{this.miEducacion=t})}ngOnDestroy(){this.suscription.unsubscribe(),console.log("obserbable cerrado")}drop(t){IO(this.miEducacion,t.previousIndex,t.currentIndex)}loG(){return this.appComponent.loggedIn}openVerticallyCentered(t){this.modalService.open(t,{centered:!0,size:"lg"})}add(t){this.eduform.setValue({nombre:"",titulo:"",fechaInicioM:"Mes",fechaInicioA:"A\xf1o",actual:!1,fechaFinM:"Mes",fechaFinA:"A\xf1o",descripcion:"",edit:0}),this.openVerticallyCentered(t)}edit(t,i){let r;console.log(i);let s=i.fechaInicio.split(" ");r="Actualmente"==i.fechaFin?["Mes","A\xf1o"]:i.fechaFin.split(" "),console.log(r),this.eduform.setValue({nombre:i.nombre,titulo:i.titulo,fechaInicioM:s[0],fechaInicioA:s[1],actual:i.actual,fechaFinM:r[0],fechaFinA:r[1],descripcion:i.descripcion,edit:1}),this.eduId=i.id,this.openVerticallyCentered(t)}form(){0==this.eduform.value.edit?this.agregarBloque():this.actualizarBloque()}agregarBloque(){const t={nombre:this.eduform.value.nombre,titulo:this.eduform.value.titulo,actual:this.eduform.value.actual,fechaInicio:this.eduform.value.fechaInicioM+" "+this.eduform.value.fechaInicioA,fechaFin:this.eduform.value.fechaFinM+" "+this.eduform.value.fechaFinA,descripcion:this.eduform.value.descripcion};1==this.eduform.value.actual&&(t.fechaFin="Actualmente"),this.datosPortfolio.postEduc(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n agregada",icon:"success",showConfirmButton:!1,timer:1500}),this.miEducacion.push(t)}borrarBloque(t){this.datosPortfolio.deleteEduc(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n borrada",icon:"success",showConfirmButton:!1,timer:1500}),this.getEducacion()}actualizarBloque(){let t=this.eduform.value.fechaInicioM+" "+this.eduform.value.fechaInicioA,i=this.eduform.value.fechaFinM+" "+this.eduform.value.fechaFinA;const r=(new Va).set("titulo",this.eduform.value.titulo).set("fechaInicio",t).set("fechaFin",i).set("actual",this.eduform.value.actual).set("nombre",this.eduform.value.nombre).set("descripcion",this.eduform.value.descripcion).set("perId",1);this.datosPortfolio.putEduc(this.eduId,r).subscribe(s=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n editada",icon:"success",showConfirmButton:!1,timer:1500}),this.getEducacion()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-educacion"]],decls:8,vars:2,consts:[["class","edicion botones ",4,"ngIf"],["id","education","cdkDropList","",3,"cdkDropListDropped"],[1,"heading"],["class","education-block","cdkDrag","",4,"ngFor","ngForOf"],["content",""],[1,"edicion","botones"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-square-plus"],["cdkDrag","",1,"education-block"],["class","edit",4,"ngIf"],[1,"education-date"],["cdkDragHandle","",1,"example-handle",2,"text-align","end"],["class","fa-solid fa-hand","style","color:#0a58ca ;",4,"ngIf"],[1,"edit"],[1,"orden"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[1,"fa-solid","fa-pen-to-square"],["color","#6c757d",1,"btn","btn-link","btn-sm",3,"click"],[1,"fa-solid","fa-xmark"],[1,"fa-solid","fa-hand",2,"color","#0a58ca"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"mb-3"],["for","titulo"],["name","nombre","formControlName","nombre",1,"form-control"],["name","titulo","formControlName","titulo",1,"form-control"],[2,"display","flex","justify-content","space-evenly","align-items","center"],["for","fechaInicio"],[1,"input-group"],["name","fechaFin","formControlName","fechaInicioM",1,"form-control"],["hidden","","selected",""],["name","fechaFin","formControlName","fechaInicioA",1,"form-control"],["for","actual"],[2,"display","flex","align-items","center"],["type","checkbox","name","actual","color","secondary","formControlName","actual","id","checkbox","ng-model","checked",1,"form-check-input",2,"align-items","center"],["for","fechaFin"],["formControlName","fechaFin",1,"input-group"],["name","fechaInicio","formControlName","fechaFinM","ng-disabled","checked",1,"form-control"],["name","fechaInicio","formControlName","fechaFinA",1,"form-control"],["for","descripcion"],["ng-disabled","checked","rows","3","name","descripcion","formControlName","descripcion",1,"form-control"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){1&t&&(o.YNc(0,t7,3,0,"div",0),o.TgZ(1,"div",1),o.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),o.TgZ(2,"h2",2),o._uU(3,"Educaci\xf3n"),o.qZA(),o.YNc(4,r7,12,7,"div",3),o.qZA(),o.YNc(5,s7,157,1,"ng-template",null,4,o.W1O),o._UZ(7,"app-proyectos")),2&t&&(o.Q6J("ngIf",i.loG()),o.xp6(4),o.Q6J("ngForOf",i.miEducacion))},dependencies:[cr,zi,pu,Gt,kf,Hs,uu,J_,oc,Pa,a3,c3,l3,vl,uc,e7],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,10,1)}"]}),n})();function a7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",6)(1,"li",7)(2,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(6);return o.KtG(r.add(s))}),o._UZ(3,"i",9),o.qZA()()()}}function l7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"ul",6)(1,"li",7)(2,"button",18),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(),c=o.MAs(8);return o.KtG(s.edit(c,r))}),o._UZ(3,"i",19),o.qZA()(),o.TgZ(4,"li",7)(5,"button",20),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.borrarBloque(r.id))}),o._UZ(6,"i",21),o.qZA()()()}}function c7(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",24),o._UZ(1,"path",25)(2,"path",26),o.qZA())}function u7(n,e){if(1&n&&(o.TgZ(0,"div",22),o.YNc(1,c7,3,0,"svg",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.loG())}}function d7(n,e){if(1&n&&(o.TgZ(0,"div",10)(1,"div",11),o.YNc(2,l7,7,0,"ul",0),o.TgZ(3,"div",12),o._UZ(4,"i",13),o.qZA(),o.TgZ(5,"div",14)(6,"span",15),o._uU(7),o.qZA(),o.TgZ(8,"div",16)(9,"h3"),o._uU(10),o.qZA(),o.TgZ(11,"h4"),o._uU(12),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.qZA(),o.YNc(15,u7,2,1,"div",17),o.qZA()()()()),2&n){const t=e.$implicit,i=o.oxw();o.xp6(2),o.Q6J("ngIf",i.loG()),o.xp6(5),o.AsE("",t.fechaInicio," \u2013 ",t.fechaFin,""),o.xp6(3),o.Oqu(t.nombre),o.xp6(2),o.Oqu(t.titulo),o.xp6(2),o.Oqu(t.descripcion),o.xp6(1),o.Q6J("ngIf",i.loG())}}function h7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",27)(1,"h2",28),o._uU(2,"Experiencia"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",30),o.qZA()(),o.TgZ(5,"div",31)(6,"form",32),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.agregarBloque())}),o.TgZ(7,"div",33)(8,"div",34)(9,"label",35),o._uU(10,"Titulo"),o.qZA(),o.TgZ(11,"div"),o._UZ(12,"input",36),o.qZA()(),o.TgZ(13,"div",37)(14,"div")(15,"label",38),o._uU(16,"Fecha de Inicio"),o.qZA(),o.TgZ(17,"div")(18,"div",39)(19,"select",40)(20,"option",41),o._uU(21,"Mes"),o.qZA(),o.TgZ(22,"option"),o._uU(23,"Enero"),o.qZA(),o.TgZ(24,"option"),o._uU(25,"Febrero"),o.qZA(),o.TgZ(26,"option"),o._uU(27,"Marzo"),o.qZA(),o.TgZ(28,"option"),o._uU(29,"Abril"),o.qZA(),o.TgZ(30,"option"),o._uU(31,"Mayo"),o.qZA(),o.TgZ(32,"option"),o._uU(33,"Junio"),o.qZA(),o.TgZ(34,"option"),o._uU(35,"Julio"),o.qZA(),o.TgZ(36,"option"),o._uU(37,"Agosto"),o.qZA(),o.TgZ(38,"option"),o._uU(39,"Septiembre"),o.qZA(),o.TgZ(40,"option"),o._uU(41,"Octubre"),o.qZA(),o.TgZ(42,"option"),o._uU(43,"Noviembre"),o.qZA(),o.TgZ(44,"option"),o._uU(45,"Diciembre"),o.qZA()(),o.TgZ(46,"select",42)(47,"option",41),o._uU(48,"A\xf1o"),o.qZA(),o.TgZ(49,"option"),o._uU(50,"2010"),o.qZA(),o.TgZ(51,"option"),o._uU(52,"2011"),o.qZA(),o.TgZ(53,"option"),o._uU(54,"2012"),o.qZA(),o.TgZ(55,"option"),o._uU(56,"2013"),o.qZA(),o.TgZ(57,"option"),o._uU(58,"2014"),o.qZA(),o.TgZ(59,"option"),o._uU(60,"2015"),o.qZA(),o.TgZ(61,"option"),o._uU(62,"2016"),o.qZA(),o.TgZ(63,"option"),o._uU(64,"2017"),o.qZA(),o.TgZ(65,"option"),o._uU(66,"2018"),o.qZA(),o.TgZ(67,"option"),o._uU(68,"2019"),o.qZA(),o.TgZ(69,"option"),o._uU(70,"2020"),o.qZA(),o.TgZ(71,"option"),o._uU(72,"2021"),o.qZA(),o.TgZ(73,"option"),o._uU(74,"2022"),o.qZA(),o.TgZ(75,"option"),o._uU(76,"2023"),o.qZA()()()()(),o.TgZ(77,"div")(78,"label",43),o._uU(79,"Es su trabajo actual"),o.qZA(),o.TgZ(80,"div",44),o._UZ(81,"input",45),o.qZA()(),o.TgZ(82,"div")(83,"label",46),o._uU(84,"Fecha de Finalizaci\xf3n"),o.qZA(),o.TgZ(85,"div",47)(86,"select",48)(87,"option",41),o._uU(88,"Mes"),o.qZA(),o.TgZ(89,"option"),o._uU(90,"Enero"),o.qZA(),o.TgZ(91,"option"),o._uU(92,"Febrero"),o.qZA(),o.TgZ(93,"option"),o._uU(94,"Marzo"),o.qZA(),o.TgZ(95,"option"),o._uU(96,"Abril"),o.qZA(),o.TgZ(97,"option"),o._uU(98,"Mayo"),o.qZA(),o.TgZ(99,"option"),o._uU(100,"Junio"),o.qZA(),o.TgZ(101,"option"),o._uU(102,"Julio"),o.qZA(),o.TgZ(103,"option"),o._uU(104,"Agosto"),o.qZA(),o.TgZ(105,"option"),o._uU(106,"Septiembre"),o.qZA(),o.TgZ(107,"option"),o._uU(108,"Octubre"),o.qZA(),o.TgZ(109,"option"),o._uU(110,"Noviembre"),o.qZA(),o.TgZ(111,"option"),o._uU(112,"Diciembre"),o.qZA()(),o.TgZ(113,"select",49)(114,"option",41),o._uU(115,"A\xf1o"),o.qZA(),o.TgZ(116,"option"),o._uU(117,"2010"),o.qZA(),o.TgZ(118,"option"),o._uU(119,"2011"),o.qZA(),o.TgZ(120,"option"),o._uU(121,"2012"),o.qZA(),o.TgZ(122,"option"),o._uU(123,"2013"),o.qZA(),o.TgZ(124,"option"),o._uU(125,"2014"),o.qZA(),o.TgZ(126,"option"),o._uU(127,"2015"),o.qZA(),o.TgZ(128,"option"),o._uU(129,"2016"),o.qZA(),o.TgZ(130,"option"),o._uU(131,"2017"),o.qZA(),o.TgZ(132,"option"),o._uU(133,"2018"),o.qZA(),o.TgZ(134,"option"),o._uU(135,"2019"),o.qZA(),o.TgZ(136,"option"),o._uU(137,"2020"),o.qZA(),o.TgZ(138,"option"),o._uU(139,"2021"),o.qZA(),o.TgZ(140,"option"),o._uU(141,"2022"),o.qZA(),o.TgZ(142,"option"),o._uU(143,"2023"),o.qZA()()()()(),o.TgZ(144,"div",34)(145,"label",50),o._uU(146,"Cargo"),o.qZA(),o.TgZ(147,"div"),o._UZ(148,"input",51),o.qZA()(),o.TgZ(149,"div",34)(150,"label",52),o._uU(151,"Descripci\xf3n"),o.qZA(),o.TgZ(152,"div"),o._UZ(153,"textarea",53),o.qZA()()(),o.TgZ(154,"div",54)(155,"button",55),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(156," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.expform)}}function f7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",27)(1,"h2",28),o._uU(2,"Sobre Mi"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",30),o.qZA()(),o.TgZ(5,"div",31)(6,"form",32),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.actualizarBloque(r.exp))}),o.TgZ(7,"div",33)(8,"div",34)(9,"label",35),o._uU(10,"Titulo"),o.qZA(),o.TgZ(11,"div"),o._UZ(12,"input",56),o.qZA()(),o.TgZ(13,"div",37)(14,"div")(15,"label",38),o._uU(16,"Fecha de Inicio"),o.qZA(),o.TgZ(17,"div")(18,"div",39)(19,"select",40)(20,"option",41),o._uU(21,"Mes"),o.qZA(),o.TgZ(22,"option"),o._uU(23,"Enero"),o.qZA(),o.TgZ(24,"option"),o._uU(25,"Febrero"),o.qZA(),o.TgZ(26,"option"),o._uU(27,"Marzo"),o.qZA(),o.TgZ(28,"option"),o._uU(29,"Abril"),o.qZA(),o.TgZ(30,"option"),o._uU(31,"Mayo"),o.qZA(),o.TgZ(32,"option"),o._uU(33,"Junio"),o.qZA(),o.TgZ(34,"option"),o._uU(35,"Julio"),o.qZA(),o.TgZ(36,"option"),o._uU(37,"Agosto"),o.qZA(),o.TgZ(38,"option"),o._uU(39,"Septiembre"),o.qZA(),o.TgZ(40,"option"),o._uU(41,"Octubre"),o.qZA(),o.TgZ(42,"option"),o._uU(43,"Noviembre"),o.qZA(),o.TgZ(44,"option"),o._uU(45,"Diciembre"),o.qZA()(),o.TgZ(46,"select",42)(47,"option",41),o._uU(48,"A\xf1o"),o.qZA(),o.TgZ(49,"option"),o._uU(50,"2010"),o.qZA(),o.TgZ(51,"option"),o._uU(52,"2011"),o.qZA(),o.TgZ(53,"option"),o._uU(54,"2012"),o.qZA(),o.TgZ(55,"option"),o._uU(56,"2013"),o.qZA(),o.TgZ(57,"option"),o._uU(58,"2014"),o.qZA(),o.TgZ(59,"option"),o._uU(60,"2015"),o.qZA(),o.TgZ(61,"option"),o._uU(62,"2016"),o.qZA(),o.TgZ(63,"option"),o._uU(64,"2017"),o.qZA(),o.TgZ(65,"option"),o._uU(66,"2018"),o.qZA(),o.TgZ(67,"option"),o._uU(68,"2019"),o.qZA(),o.TgZ(69,"option"),o._uU(70,"2020"),o.qZA(),o.TgZ(71,"option"),o._uU(72,"2021"),o.qZA(),o.TgZ(73,"option"),o._uU(74,"2022"),o.qZA(),o.TgZ(75,"option"),o._uU(76,"2023"),o.qZA()()()()(),o.TgZ(77,"div")(78,"label",43),o._uU(79,"Es su trabajo actual"),o.qZA(),o.TgZ(80,"div",44),o._UZ(81,"input",57),o.qZA()(),o.TgZ(82,"div")(83,"label",46),o._uU(84,"Fecha de Finalizaci\xf3n"),o.qZA(),o.TgZ(85,"div",47)(86,"select",58)(87,"option",41),o._uU(88,"Mes"),o.qZA(),o.TgZ(89,"option"),o._uU(90,"Enero"),o.qZA(),o.TgZ(91,"option"),o._uU(92,"Febrero"),o.qZA(),o.TgZ(93,"option"),o._uU(94,"Marzo"),o.qZA(),o.TgZ(95,"option"),o._uU(96,"Abril"),o.qZA(),o.TgZ(97,"option"),o._uU(98,"Mayo"),o.qZA(),o.TgZ(99,"option"),o._uU(100,"Junio"),o.qZA(),o.TgZ(101,"option"),o._uU(102,"Julio"),o.qZA(),o.TgZ(103,"option"),o._uU(104,"Agosto"),o.qZA(),o.TgZ(105,"option"),o._uU(106,"Septiembre"),o.qZA(),o.TgZ(107,"option"),o._uU(108,"Octubre"),o.qZA(),o.TgZ(109,"option"),o._uU(110,"Noviembre"),o.qZA(),o.TgZ(111,"option"),o._uU(112,"Diciembre"),o.qZA()(),o.TgZ(113,"select",49)(114,"option",41),o._uU(115,"A\xf1o"),o.qZA(),o.TgZ(116,"option"),o._uU(117,"2010"),o.qZA(),o.TgZ(118,"option"),o._uU(119,"2011"),o.qZA(),o.TgZ(120,"option"),o._uU(121,"2012"),o.qZA(),o.TgZ(122,"option"),o._uU(123,"2013"),o.qZA(),o.TgZ(124,"option"),o._uU(125,"2014"),o.qZA(),o.TgZ(126,"option"),o._uU(127,"2015"),o.qZA(),o.TgZ(128,"option"),o._uU(129,"2016"),o.qZA(),o.TgZ(130,"option"),o._uU(131,"2017"),o.qZA(),o.TgZ(132,"option"),o._uU(133,"2018"),o.qZA(),o.TgZ(134,"option"),o._uU(135,"2019"),o.qZA(),o.TgZ(136,"option"),o._uU(137,"2020"),o.qZA(),o.TgZ(138,"option"),o._uU(139,"2021"),o.qZA(),o.TgZ(140,"option"),o._uU(141,"2022"),o.qZA(),o.TgZ(142,"option"),o._uU(143,"2023"),o.qZA()()()()(),o.TgZ(144,"div",34)(145,"label",50),o._uU(146,"Cargo"),o.qZA(),o.TgZ(147,"div"),o._UZ(148,"input",51),o.qZA()(),o.TgZ(149,"div",34)(150,"label",52),o._uU(151,"Descripci\xf3n"),o.qZA(),o.TgZ(152,"div"),o._UZ(153,"textarea",59),o.qZA()()(),o.TgZ(154,"div",54)(155,"button",55),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(156," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.expform)}}let p7=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.expform=new Fr({titulo:new Vn(""),fechaInicioM:new Vn,fechaInicioA:new Vn,actual:new Vn,fechaFinM:new Vn,fechaFinA:new Vn,posicion:new Vn,descripcion:new Vn("")})}ngOnInit(){this.getExp(),this.datosPortfolio.refresh$.subscribe(t=>{this.getExp()})}getExp(){this.datosPortfolio.getExp().subscribe(t=>{this.miExperiencia=t})}drop(t){this.loG()&&IO(this.miExperiencia,t.previousIndex,t.currentIndex)}loG(){return this.appComponent.loggedIn}openVerticallyCentered(t){this.modalService.open(t,{centered:!0,size:"lg"})}add(t){this.expform.setValue({titulo:"",fechaInicioM:"Mes",fechaInicioA:"A\xf1o",actual:!1,fechaFinM:"Mes",fechaFinA:"A\xf1o",posicion:"",descripcion:""}),this.openVerticallyCentered(t)}edit(t,i){let r;console.log(i);let s=i.fechaInicio.split(" ");r="Actualmente"==i.fechaFin?["Mes","A\xf1o"]:i.fechaFin.split(" "),console.log(r),this.expform.setValue({titulo:i.titulo,fechaInicioM:s[0],fechaInicioA:s[1],actual:i.actual,fechaFinM:r[0],fechaFinA:r[1],posicion:i.posicion,descripcion:i.descripcion}),this.expId=i.id,this.openVerticallyCentered(t)}getDismissReason(t){return t===Cu.ESC?"by pressing ESC":t===Cu.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}agregarBloque(){const t={titulo:this.expform.value.titulo,actual:this.expform.value.actual,fechaInicio:this.expform.value.fechaInicioM+" "+this.expform.value.fechaInicioA,fechaFin:this.expform.value.fechaFinM+" "+this.expform.value.fechaFinA,descripcion:this.expform.value.descripcion};1==this.expform.value.actual&&(t.fechaFin="Actualmente"),this.datosPortfolio.postExp(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Datos agregados",icon:"success",showConfirmButton:!1,timer:1500}),this.getExp()}borrarBloque(t){this.datosPortfolio.deleteExp(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n borrada",icon:"success",showConfirmButton:!1,timer:1500}),this.getExp()}actualizarBloque(){let t=this.expform.value.fechaInicioM+" "+this.expform.value.fechaInicioA,i=this.expform.value.fechaFinM+" "+this.expform.value.fechaFinA;const r=(new Va).set("titulo",this.expform.value.titulo).set("fechaInicio",t).set("fechaFin",i).set("actual",this.expform.value.actual).set("posicion",this.expform.value.posicion).set("descripcion",this.expform.value.descripcion).set("perId",1);this.datosPortfolio.putExp(this.expId,r).subscribe(s=>{}),Jr().fire({title:"\xa1Genial!",text:"Informaci\xf3n editada",icon:"success",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-experiencia"]],decls:10,vars:2,consts:[["class","botones",4,"ngIf"],["id","experience","cdkDropList","",1,"background-alt",3,"cdkDropListDropped"],[1,"heading"],["id","experience-timeline","cdkDrag","",4,"ngFor","ngForOf"],["content",""],["content2",""],[1,"botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-square-plus"],["id","experience-timeline","cdkDrag",""],[1,"vtimeline-point"],[1,"vtimeline-icon"],[1,"fa-solid","fa-location-dot"],[1,"vtimeline-block"],[1,"vtimeline-date"],["data-date","Diciembre 2012 \u2013 Enero 2016",1,"vtimeline-content"],["class","example-handle","cdkDragHandle","","style","text-align: end;",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[1,"fa","fa-pencil-square"],[1,"btn","btn-link","btn-sm",3,"click"],[1,"fa","fa-square-xmark"],["cdkDragHandle","",1,"example-handle",2,"text-align","end"],["width","24px","fill","#3498db","viewBox","0 0 24 24",4,"ngIf"],["width","24px","fill","#3498db","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"mb-3"],["for","titulo"],["name","titulo","formControlName","titulo",1,"form-control"],[2,"display","flex","justify-content","space-evenly","align-items","center"],["for","fechaInicio"],[1,"input-group"],["name","fechaFin","formControlName","fechaInicioM",1,"form-control"],["hidden","","selected",""],["name","fechaFin","formControlName","fechaInicioA",1,"form-control"],["for","actual"],[2,"display","flex","align-items","center"],["type","checkbox","name","actual","color","secondary","formControlName","actual","id","checkbox","ng-model","checked",1,"form-check-input",2,"align-items","center"],["for","fechaFin"],["formControlName","fechaFin",1,"input-group"],["name","fechaInicio","formControlName","fechaFinM","ng-disabled","checked",1,"form-control"],["name","fechaInicio","formControlName","fechaFinA",1,"form-control"],["for","posicion"],["name","posicion","formControlName","posicion",1,"form-control"],["for","descripcion"],["ng-disabled","checked","rows","3","name","descripcion","formControlName","descripcion",1,"form-control"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"],["name","descripcion","formControlName","titulo",1,"form-control"],["type","checkbox","name","actual","color","secondary","formControlName","actual","id","flexCheckDefault",1,"form-check-input",2,"align-items","center"],["name","fechaInicio","formControlName","fechaFinM",1,"form-control"],["rows","3","name","descripcion","formControlName","descripcion",1,"form-control"]],template:function(t,i){1&t&&(o.YNc(0,a7,4,0,"ul",0),o.TgZ(1,"div",1),o.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),o.TgZ(2,"h2",2),o._uU(3," Experiencia "),o.qZA(),o.YNc(4,d7,16,7,"div",3),o.qZA(),o.YNc(5,h7,157,1,"ng-template",null,4,o.W1O),o.YNc(7,f7,157,1,"ng-template",null,5,o.W1O),o._UZ(9,"app-educacion")),2&t&&(o.Q6J("ngIf",i.loG()),o.xp6(4),o.Q6J("ngForOf",i.miExperiencia))},dependencies:[cr,zi,pu,Gt,kf,Hs,uu,J_,oc,Pa,a3,c3,l3,vl,uc,o7],styles:[".fa-location-dot[_ngcontent-%COMP%]{padding-top:8px;height:2rem}.edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,10,1)}"]}),n})();function g7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(13);return o.KtG(r.edit(s))}),o._UZ(1,"i",11),o.qZA()}}function m7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",12)(1,"h2",13),o._uU(2,"Sobre Mi"),o.qZA(),o.TgZ(3,"button",14),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",15),o.qZA()(),o.TgZ(5,"div",16)(6,"form",17),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.saveData())}),o.TgZ(7,"div",18)(8,"label",19),o._uU(9,"Descripcion"),o.qZA(),o.TgZ(10,"div"),o._UZ(11,"textarea",20),o.qZA(),o.TgZ(12,"label",21),o._uU(13,"Imagen de perfil"),o.qZA(),o.TgZ(14,"div"),o._UZ(15,"input",22),o.qZA()(),o.TgZ(16,"div",23)(17,"button",24),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(18," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.personaform)}}let _7=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.personaform=new Fr({descripcion:new Vn(""),imgUrl:new Vn("")})}ngOnInit(){this.getHeader(),this.datosPortfolio.refresh$.subscribe(t=>{this.getHeader()})}ngOnDestroy(){this.suscription.unsubscribe(),console.log("obserbable cerrado")}getHeader(){this.datosPortfolio.getHeader().subscribe(t=>{this.miInfo=t}),console.log(this.loG())}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}openVerticallyCentered(t){this.modalService.open(t,{centered:!0,size:"lg"})}edit(t){this.personaform.setValue({descripcion:this.miInfo.about,imgUrl:this.miInfo.imgUrl}),this.openVerticallyCentered(t)}getDismissReason(t){return t===Cu.ESC?"by pressing ESC":t===Cu.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}loG(){return this.appComponent.loggedIn}saveData(){const t=(new Va).set("nombre",this.miInfo.nombre).set("apellido",this.miInfo.apellido).set("titulo",this.miInfo.titulo).set("imgUrl",this.personaform.value.imgUrl).set("about",this.personaform.value.descripcion);this.datosPortfolio.putHeader(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informacion editada",icon:"success",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sobre-mi"]],decls:15,vars:3,consts:[[1,"botones"],["type","button","class","btn edicion btn-outline-secondary",3,"click",4,"ngIf"],["id","about"],[1,"heading",2,"position","relative","display","inline-block"],[1,"container"],[1,"row"],[1,"col-md-3"],["alt","Avatar",1,"perfil",3,"src"],[1,"col-md-9",2,"padding-top","40px","padding-left","20px"],["content",""],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-pencil-square"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","descripcion"],["rows","5","name","descripcion","formControlName","descripcion",1,"form-control"],["for","imagen"],["name","imgUrl","formControlName","imgUrl",1,"form-control"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o.YNc(1,g7,2,0,"button",1),o.qZA(),o.TgZ(2,"div",2)(3,"h2",3),o._uU(4,"Sobre mi"),o.qZA(),o.TgZ(5,"div",4)(6,"div",5)(7,"div",6),o._UZ(8,"img",7),o.qZA(),o.TgZ(9,"div",8)(10,"p"),o._uU(11),o.qZA()()()()(),o.YNc(12,m7,19,1,"ng-template",null,9,o.W1O),o._UZ(14,"app-experiencia")),2&t&&(o.xp6(1),o.Q6J("ngIf",i.loG()),o.xp6(7),o.Q6J("src",i.miInfo.imgUrl,o.LSH),o.xp6(3),o.Oqu(i.miInfo.about))},dependencies:[zi,pu,Hs,oc,Pa,vl,uc,p7],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.botones[_ngcontent-%COMP%]{float:right;position:relative;list-style-type:none;text-align:right;z-index:10}.orden[_ngcontent-%COMP%]{float:left;margin-right:10px;padding:0 4px}.perfil[_ngcontent-%COMP%]{border-radius:80%;width:75%}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center}.sobre-mi[_ngcontent-%COMP%]{padding:20px 80px 20px 50px}.textarea[_ngcontent-%COMP%]{height:auto}"]}),n})();function y7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(),s=o.MAs(15);return o.KtG(r.edit(s))}),o._UZ(1,"i",11),o.qZA()}}function v7(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",12)(1,"h2",13),o._uU(2,"Datos personales"),o.qZA(),o.TgZ(3,"button",14),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.dismiss("Cross click"))}),o._UZ(4,"i",15),o.qZA()(),o.TgZ(5,"div",16)(6,"form",17),o.NdJ("ngSubmit",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.saveData())}),o.TgZ(7,"div",18)(8,"label",19),o._uU(9,"Nombre"),o.qZA(),o.TgZ(10,"div",20),o._UZ(11,"input",21),o.qZA()(),o.TgZ(12,"div",18)(13,"label",22),o._uU(14,"Apellido"),o.qZA(),o.TgZ(15,"div"),o._UZ(16,"input",23),o.qZA()(),o.TgZ(17,"div",18)(18,"label",24),o._uU(19,"Titulo"),o.qZA(),o.TgZ(20,"div"),o._UZ(21,"input",25),o.qZA()(),o.TgZ(22,"div",26)(23,"button",27),o.NdJ("click",function(){const s=o.CHM(t).$implicit;return o.KtG(s.close("Save click"))}),o._uU(24," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("formGroup",t.personaform),o.xp6(5),o.s9C("placeholder",t.miPortfolio.nombre),o.xp6(5),o.s9C("placeholder",t.miPortfolio.apellido),o.xp6(5),o.s9C("placeholder",t.miPortfolio.titulo)}}let b7=(()=>{class n{constructor(t,i,r){this.datosPortfolio=t,this.modalService=i,this.appComponent=r,this.personaform=new Fr({nombre:new Vn("",hh.compose([hh.required,hh.minLength(5)])),apellido:new Vn("",hh.compose([hh.required,hh.minLength(5)])),titulo:new Vn})}ngOnInit(){this.getHeader(),this.datosPortfolio.refresh$.subscribe(t=>{this.getHeader()})}getHeader(){this.datosPortfolio.getHeader().subscribe(t=>{this.miPortfolio=t})}loG(){return this.appComponent.loggedIn}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}openVerticallyCentered(t){this.modalService.open(t,{centered:!0})}edit(t){console.log(this.loG()),this.personaform.setValue({nombre:this.miPortfolio.nombre,apellido:this.miPortfolio.apellido,titulo:this.miPortfolio.titulo}),this.openVerticallyCentered(t)}getDismissReason(t){return t===Cu.ESC?"by pressing ESC":t===Cu.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}saveData(){const t=(new Va).set("nombre",this.personaform.value.nombre).set("apellido",this.personaform.value.apellido).set("titulo",this.personaform.value.titulo).set("imgUrl",this.miPortfolio.imgUrl).set("about",this.miPortfolio.about);this.datosPortfolio.putHeader(t).subscribe(i=>{}),Jr().fire({title:"\xa1Genial!",text:"Informacion editada",icon:"success",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Cy),o.Y36(Ng),o.Y36(Mg))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:4,consts:[["id","lead"],[1,"botones"],["type","button","class","btn edicion btn-outline-secondary",3,"click",4,"ngIf"],["id","lead-content"],["id","lead-overlay"],["src","https://my.spline.design/lathegradientscopy-a2c88ce52193cf8d6819e88c650fe15b/","frameborder","0","width","100%","height","100%"],["id","lead-down"],["href","#about",1,"nav-link"],[1,"fa-solid","fa-chevron-down"],["content",""],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-pencil-square"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombre"],[1,"input-group"],["name","nombre","formControlName","nombre",1,"form-control",3,"placeholder"],["for","apellido"],["name","apellido","formControlName","apellido",1,"form-control",3,"placeholder"],["for","titulo"],["name","titulo","formControlName","titulo",1,"form-control",3,"placeholder"],[1,"modal-footer","input-group"],["type","submit",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,y7,2,0,"button",2),o.qZA(),o.TgZ(3,"div",3)(4,"h1"),o._uU(5),o.qZA(),o.TgZ(6,"h2"),o._uU(7),o.qZA()(),o.TgZ(8,"div",4),o._UZ(9,"iframe",5),o.qZA(),o.TgZ(10,"div",6)(11,"span")(12,"a",7),o._UZ(13,"i",8),o.qZA()()()(),o.YNc(14,v7,25,4,"ng-template",null,9,o.W1O),o._UZ(16,"app-sobre-mi")),2&t&&(o.xp6(2),o.Q6J("ngIf",i.loG()),o.xp6(3),o.AsE("",i.miPortfolio.nombre," ",i.miPortfolio.apellido,""),o.xp6(2),o.Oqu(i.miPortfolio.titulo))},dependencies:[zi,pu,Hs,oc,Pa,vl,uc,_7],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.botones[_ngcontent-%COMP%]{float:right;position:relative;list-style-type:none;text-align:right;z-index:10}.orden[_ngcontent-%COMP%]{float:left;margin-right:10px;padding:0 4px}.overlay-buttons[_ngcontent-%COMP%]{z-index:10}#abajo[_ngcontent-%COMP%]{position:absolute;left:0;right:0;width:100%;text-align:center;z-index:50;bottom:15px;color:#fff}"]}),n})();const u3=function(){return{standalone:!0}},w7=[{path:"",component:b7},{path:"login",component:(()=>{class n{constructor(t){this.authService=t,this.loginParams={}}login(){this.authService.login(this.loginParams.email,this.loginParams.password),console.log(this.user),console.log(this.pass)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(DU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:6,consts:[[1,"container","align-self-center","pad-t"],[1,"row","justify-content-center","bg-light"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"text-center","margin-t"],["aria-hidden","true",1,"fa","fa-user-circle"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","exampleInputPassword1"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit",1,"btn","btn-secondary","btn-block",3,"click"],["type","submit","routerLink","/lugares",1,"btn","btn-danger","btn-block"]],template:function(t,i){1&t&&(o._uU(0,"\xa0\n"),o.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2",3),o._uU(5,"Login "),o._UZ(6,"i",4),o.qZA(),o._UZ(7,"hr"),o.TgZ(8,"form")(9,"div",5)(10,"label",6),o._uU(11,"Email"),o.qZA(),o.TgZ(12,"input",7),o.NdJ("ngModelChange",function(s){return i.loginParams.email=s}),o.qZA()(),o.TgZ(13,"div",5)(14,"label",8),o._uU(15,"Contrase\xf1a"),o.qZA(),o.TgZ(16,"input",9),o.NdJ("ngModelChange",function(s){return i.loginParams.password=s}),o.qZA()(),o._UZ(17,"hr"),o.TgZ(18,"button",10),o.NdJ("click",function(){return i.login()}),o._uU(19,"Iniciar Sesi\xf3n"),o.qZA(),o.TgZ(20,"button",11),o._uU(21,"Cancelar"),o.qZA()(),o._UZ(22,"hr"),o.qZA()()()),2&t&&(o.xp6(12),o.Q6J("ngModel",i.loginParams.email)("ngModelOptions",o.DdM(4,u3)),o.xp6(4),o.Q6J("ngModel",i.loginParams.password)("ngModelOptions",o.DdM(5,u3)))},dependencies:[S_,pu,Hs,oc,Pa,ab,xf],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ecf0f3}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{min-width:300px;max-width:60%;background:rgba(255,255,255,.15);padding:2rem 3rem;margin:auto;border-radius:2.5rem;background-color:#ecf0f3;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff;color:#000;margin-top:10rem}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:2rem 0;width:100%;border-radius:.5rem;padding:1rem;border:none;box-shadow:inset -5px -5px 15px #fffc,inset 5px 5px 10px #0000001a;border:0 none;background:#ebf5fc}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#bcd8c1;width:100%;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}"]}),n})()}];let C7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[N_.forRoot(w7),N_]}),n})();class d3{}const Ch="*";function h3(n,e=null){return{type:2,steps:n,options:e}}function f3(n){return{type:6,styles:n,offset:null}}function p3(n){Promise.resolve(null).then(n)}class dw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){p3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class g3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?p3(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function m3(n){return new o.vHH(3e3,!1)}function rK(){return typeof window<"u"&&typeof window.document<"u"}function NO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $f(n){switch(n.length){case 0:return new dw;case 1:return n[0];default:return new g3(n)}}function _3(n,e,t,i,r=new Map,s=new Map){const c=[],d=[];let f=-1,g=null;if(i.forEach(b=>{const C=b.get("offset"),N=C==f,R=N&&g||new Map;b.forEach((B,z)=>{let te=z,ye=B;if("offset"!==z)switch(te=e.normalizePropertyName(te,c),ye){case"!":ye=r.get(z);break;case Ch:ye=s.get(z);break;default:ye=e.normalizeStyleValue(z,te,ye,c)}R.set(te,ye)}),N||d.push(R),g=R,f=C}),c.length)throw function Z7(n){return new o.vHH(3502,!1)}();return d}function MO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&OO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&OO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&OO(t,"destroy",n)))}}function OO(n,e,t){const s=RO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function RO(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function El(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function y3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let PO=(n,e)=>!1,v3=(n,e,t)=>[],b3=null;function FO(n){const e=n.parentNode||n.host;return e===b3?null:e}(NO()||typeof Element<"u")&&(rK()?(b3=(()=>document.documentElement)(),PO=(n,e)=>{for(;e;){if(e===n)return!0;e=FO(e)}return!1}):PO=(n,e)=>n.contains(e),v3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Pg=null,w3=!1;const C3=PO,E3=v3;let D3=(()=>{class n{validateStyleProperty(t){return function oK(n){Pg||(Pg=function aK(){return typeof document<"u"?document.body:null}()||{},w3=!!Pg.style&&"WebkitAppearance"in Pg.style);let e=!0;return Pg.style&&!function sK(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pg.style,!e&&w3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Pg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return C3(t,i)}getParentElement(t){return FO(t)}query(t,i,r){return E3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],f){return new dw(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),LO=(()=>{class n{}return n.NOOP=new D3,n})();const BO="ng-enter",eI="ng-leave",tI="ng-trigger",nI=".ng-trigger",I3="ng-animating",VO=".ng-animating";function zf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UO(parseFloat(e[1]),e[2])}function UO(n,e){return"s"===e?1e3*n:n}function iI(n,e,t){return n.hasOwnProperty("duration")?n:function uK(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(m3()),{duration:0,delay:0,easing:""};r=UO(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=UO(parseFloat(f),d[4]));const g=d[5];g&&(c=g)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function D7(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function T7(){return new o.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,m3())}return{duration:r,delay:s,easing:c}}(n,e,t)}function hw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function S3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Zf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function x3(n,e,t){return t?e+":"+t+";":""}function k3(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=x3(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=x3(0,pK(t),n.style[t]));n.setAttribute("style",e)}function pd(n,e,t){n.style&&(e.forEach((i,r)=>{const s=HO(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),NO()&&k3(n))}function Fg(n,e){n.style&&(e.forEach((t,i)=>{const r=HO(i);n.style[r]=""}),NO()&&k3(n))}function fw(n){return Array.isArray(n)?1==n.length?n[0]:h3(n):n}const jO=new RegExp("{{\\s*(.+?)\\s*}}","g");function N3(n){let e=[];if("string"==typeof n){let t;for(;t=jO.exec(n);)e.push(t[1]);jO.lastIndex=0}return e}function rI(n,e,t){const i=n.toString(),r=i.replace(jO,(s,c)=>{let d=e[c];return null==d&&(t.push(function S7(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function sI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fK=/-+([a-z0-9])/g;function HO(n){return n.replace(fK,(...e)=>e[1].toUpperCase())}function pK(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function A7(n){return new o.vHH(3004,!1)}()}}function M3(n,e){return window.getComputedStyle(n)[e]}function bK(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function wK(n,e,t){if(":"==n[0]){const f=function CK(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function H7(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function j7(n){return new o.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(O3(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(O3(c,r))}(i,t,e)):t.push(n),t}const cI=new Set(["true","1"]),uI=new Set(["false","0"]);function O3(n,e){const t=cI.has(n)||uI.has(n),i=cI.has(e)||uI.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?cI.has(n):uI.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?cI.has(e):uI.has(e)),c&&d}}const EK=new RegExp("s*:selfs*,?","g");function GO(n,e,t,i){return new DK(n).build(e,t,i)}class DK{constructor(e){this._driver=e}build(e,t,i){const r=new SK(t);return this._resetContextStyleTimingState(r),Dl(this,fw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function k7(){return new o.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,s.push(this.visitState(f,t))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,c.push(f)}else t.errors.push(function N7(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{N3(f).forEach(g=>{c.hasOwnProperty(g)||s.add(g)})})}),s.size&&(sI(s.values()),t.errors.push(function M7(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Dl(this,fw(e.animation),t);return{type:1,matchers:bK(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Lg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Dl(this,i,t)),options:Lg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=Dl(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Lg(e.options)}}visitAnimate(e,t){const i=function xK(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $O(iI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=$O(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=iI(t,e);return $O(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:f3({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const g={};i.easing&&(g.easing=i.easing),c=f3(g)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Ch?i.push(d):t.errors.push(new o.vHH(3002,!1)):i.push(S3(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,f)=>{const g=t.collectedStyles.get(t.currentQuerySelector),b=g.get(f);let C=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function R7(n,e,t,i,r){return new o.vHH(3010,!1)}()),C=!1),s=b.startTime),C&&g.set(f,{startTime:s,endTime:r}),t.options&&function hK(n,e,t){const i=e.params||{},r=N3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function I7(n){return new o.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function P7(){return new o.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,f=!1,g=0;const b=e.steps.map(ye=>{const Te=this._makeStyleAst(ye,t);let Fe=null!=Te.offset?Te.offset:function AK(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Te.styles),Re=0;return null!=Fe&&(s++,Re=Te.offset=Fe),f=f||Re<0||Re>1,d=d||Re<g,g=Re,c.push(Re),Te});f&&t.errors.push(function F7(){return new o.vHH(3012,!1)}()),d&&t.errors.push(function L7(){return new o.vHH(3200,!1)}());const C=e.steps.length;let N=0;s>0&&s<C?t.errors.push(function B7(){return new o.vHH(3202,!1)}()):0==s&&(N=1/(C-1));const R=C-1,B=t.currentTime,z=t.currentAnimateTimings,te=z.duration;return b.forEach((ye,Te)=>{const Fe=N>0?Te==R?1:N*Te:c[Te],Re=Fe*te;t.currentTime=B+z.delay+Re,z.duration=Re,this._validateStyleAst(ye,t),ye.offset=Fe,i.styles.push(ye)}),i}visitReference(e,t){return{type:8,animation:Dl(this,fw(e.animation),t),options:Lg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function TK(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EK,"")),n=n.replace(/@\*/g,nI).replace(/@\w+/g,t=>nI+"-"+t.slice(1)).replace(/:animating/g,VO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,El(t.collectedStyles,t.currentQuerySelector,new Map);const d=Dl(this,fw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:Lg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function V7(){return new o.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:iI(e.timings,t.errors,!0);return{type:12,animation:Dl(this,fw(e.animation),t),timings:i,options:null}}}class SK{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lg(n){return n?(n=hw(n)).params&&(n.params=function IK(n){return n?hw(n):null}(n.params)):n={},n}function $O(n,e,t){return{duration:n,delay:e,easing:t}}function zO(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class dI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MK=new RegExp(":enter","g"),RK=new RegExp(":leave","g");function ZO(n,e,t,i,r,s=new Map,c=new Map,d,f,g=[]){return(new PK).buildKeyframes(n,e,t,i,r,s,c,d,f,g)}class PK{buildKeyframes(e,t,i,r,s,c,d,f,g,b=[]){g=g||new dI;const C=new qO(e,t,g,r,s,b,[]);C.options=f;const N=f.delay?zf(f.delay):0;C.currentTimeline.delayNextStep(N),C.currentTimeline.setStyles([c],null,C.errors,f),Dl(this,i,C);const R=C.timelines.filter(B=>B.containsAnimation());if(R.length&&d.size){let B;for(let z=R.length-1;z>=0;z--){const te=R[z];if(te.element===t){B=te;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([d],null,C.errors,f)}return R.length?R.map(B=>B.buildKeyframes()):[zO(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?zf(i.duration):null,d=null!=i.delay?zf(i.delay):null;return 0!==c&&e.forEach(f=>{const g=t.appendInstructionToTimeline(f,c,d);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Dl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hI);const c=zf(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Dl(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?zf(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Dl(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return iI(t.params?rI(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?zf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hI);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((g,b)=>{t.currentQueryIndex=b;const C=t.createSubContext(e.options,g);s&&C.delayNextStep(s),g===t.element&&(f=C.currentTimeline),Dl(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let f=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const b=t.currentTimeline;f&&b.delayNextStep(f);const C=b.currentTime;Dl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const hI={};class qO{constructor(e,t,i,r,s,c,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new fI(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=zf(i.duration)),null!=i.delay&&(r.delay=zf(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=rI(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new qO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=hI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new FK(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(MK,"."+this._enterClassName)).replace(RK,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!s&&0==d.length&&c.push(function U7(n){return new o.vHH(3014,!1)}()),d}}class fI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ch),this._currentKeyframe.set(t,Ch);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function LK(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Ch)}else Zf(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of c){const g=rI(f,s,i);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Ch),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=Zf(d,new Map,this._backFill);g.forEach((b,C)=>{"!"===b?e.add(C):b===Ch&&t.add(C)}),i||g.set("offset",f/this.duration),r.push(g)});const s=e.size?sI(e.values()):[],c=t.size?sI(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return zO(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class FK extends fI{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,f=Zf(e[0]);f.set("offset",0),s.push(f);const g=Zf(e[0]);g.set("offset",F3(d)),s.push(g);const b=e.length-1;for(let C=1;C<=b;C++){let N=Zf(e[C]);const R=N.get("offset");N.set("offset",F3((t+R*i)/c)),s.push(N)}i=c,t=0,r="",e=s}return zO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function F3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WO{}const BK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class VK extends WO{normalizePropertyName(e,t){return HO(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(BK.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function x7(n,e){return new o.vHH(3005,!1)}())}return c+s}}function L3(n,e,t,i,r,s,c,d,f,g,b,C,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:b,totalTime:C,errors:N}}const KO={};class B3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function UK(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,d,f,g,b){const C=[],N=this.ast.options&&this.ast.options.params||KO,B=this.buildStyles(i,d&&d.params||KO,C),z=f&&f.params||KO,te=this.buildStyles(r,z,C),ye=new Set,Te=new Map,Fe=new Map,Re="void"===r,Je={params:jK(z,N),delay:this.ast.options?.delay},rt=b?[]:ZO(e,t,this.ast.animation,s,c,B,te,Je,g,C);let bt=0;if(rt.forEach(Mn=>{bt=Math.max(Mn.duration+Mn.delay,bt)}),C.length)return L3(t,this._triggerName,i,r,Re,B,te,[],[],Te,Fe,bt,C);rt.forEach(Mn=>{const Ei=Mn.element,Hi=El(Te,Ei,new Set);Mn.preStyleProps.forEach(Tr=>Hi.add(Tr));const Qs=El(Fe,Ei,new Set);Mn.postStyleProps.forEach(Tr=>Qs.add(Tr)),Ei!==t&&ye.add(Ei)});const Ht=sI(ye.values());return L3(t,this._triggerName,i,r,Re,B,te,rt,Ht,Te,Fe,bt)}}function jK(n,e){const t=hw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class HK{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=hw(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=rI(c,r,t));const f=this.normalizer.normalizePropertyName(d,t);c=this.normalizer.normalizeStyleValue(d,f,c,t),i.set(f,c)})}),i}}class $K{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new HK(r.style,r.options&&r.options.params||{},i))}),V3(this.states,"true","1"),V3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new B3(e,r,this.states))}),this.fallbackTransition=function zK(n,e,t){return new B3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function V3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ZK=new dI;class qK{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=GO(this._driver,t,i,[]);if(i.length)throw function q7(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=_3(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const d=new Map;if(s?(c=ZO(this._driver,t,s,BO,eI,new Map,new Map,i,ZK,r),c.forEach(b=>{const C=El(d,b.element,new Map);b.postStyleProps.forEach(N=>C.set(N,null))})):(r.push(function W7(){return new o.vHH(3300,!1)}()),c=[]),r.length)throw function K7(n){return new o.vHH(3504,!1)}();d.forEach((b,C)=>{b.forEach((N,R)=>{b.set(R,this._driver.computeStyle(C,R,Ch))})});const g=$f(c.map(b=>{const C=d.get(b.element);return this._buildPlayer(b,new Map,C)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Y7(n){return new o.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=RO(t,"","","");return MO(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const U3="ng-animate-queued",YO="ng-animate-disabled",JK=[],j3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mc="__ng_removed";class QO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function i9(n){return n??null}(i?e.value:e),i){const s=hw(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const pw="void",JO=new QO(pw);class e9{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_c(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Q7(n,e){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function J7(n){return new o.vHH(3303,!1)}();if(!function r9(n){return"start"==n||"done"==n}(i))throw function X7(n,e){return new o.vHH(3400,!1)}();const s=El(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=El(this._engine.statesByElement,e,new Map);return d.has(t)||(_c(e,tI),_c(e,tI+"-"+t),d.set(t,JO)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(c);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function eK(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new XO(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(_c(e,tI),_c(e,tI+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const g=new QO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(t,g),f||(f=JO),g.value!==pw&&f.value===g.value){if(!function a9(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,g.params)){const z=[],te=s.matchStyles(f.value,f.params,z),ye=s.matchStyles(g.value,g.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{Fg(e,te),pd(e,ye)})}return}const N=El(this._engine.playersByElement,e,[]);N.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let R=s.matchTransition(f.value,g.value,e,g.params),B=!1;if(!R){if(!r)return;R=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:f,toState:g,player:c,isFallbackTransition:B}),B||(_c(e,U3),c.onStart(()=>{Ay(e,U3)})),c.onDone(()=>{let z=this.players.indexOf(c);z>=0&&this.players.splice(z,1);const te=this._engine.playersByElement.get(e);if(te){let ye=te.indexOf(c);ye>=0&&te.splice(ye,1)}}),this.players.push(c),N.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,nI,!0);i.forEach(r=>{if(r[mc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(s.forEach((f,g)=>{if(c.set(g,f.value),this._triggers.has(g)){const b=this.trigger(e,g,pw,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&$f(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const f=this._triggers.get(c).fallbackTransition,g=i.get(c)||JO,b=new QO(pw),C=new XO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:f,fromState:g,toState:b,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[mc];(!s||s===j3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){_c(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const f=RO(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,MO(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class t9{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new e9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(pI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!pI(t))return;const s=t[mc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_c(e,YO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ay(e,YO))}removeNode(e,t,i,r){if(pI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[mc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return pI(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $f(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mc];if(t&&t.setForRemoval){if(e[mc]=j3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(YO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_c(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$f(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function tK(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new dI,r=[],s=new Map,c=[],d=new Map,f=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(vt=>{b.add(vt);const kt=this.driver.query(vt,".ng-animate-queued",!0);for(let zt=0;zt<kt.length;zt++)b.add(kt[zt])});const C=this.bodyNode,N=Array.from(this.statesByElement.keys()),R=$3(N,this.collectedEnterElements),B=new Map;let z=0;R.forEach((vt,kt)=>{const zt=BO+z++;B.set(kt,zt),vt.forEach(Tn=>_c(Tn,zt))});const te=[],ye=new Set,Te=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const kt=this.collectedLeaveElements[vt],zt=kt[mc];zt&&zt.setForRemoval&&(te.push(kt),ye.add(kt),zt.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Tn=>ye.add(Tn)):Te.add(kt))}const Fe=new Map,Re=$3(N,Array.from(ye));Re.forEach((vt,kt)=>{const zt=eI+z++;Fe.set(kt,zt),vt.forEach(Tn=>_c(Tn,zt))}),e.push(()=>{R.forEach((vt,kt)=>{const zt=B.get(kt);vt.forEach(Tn=>Ay(Tn,zt))}),Re.forEach((vt,kt)=>{const zt=Fe.get(kt);vt.forEach(Tn=>Ay(Tn,zt))}),te.forEach(vt=>{this.processLeaveNode(vt)})});const Je=[],rt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(zt=>{const Tn=zt.player,lr=zt.element;if(Je.push(Tn),this.collectedEnterElements.length){const Ir=lr[mc];if(Ir&&Ir.setForMove){if(Ir.previousTriggersValues&&Ir.previousTriggersValues.has(zt.triggerName)){const ra=Ir.previousTriggersValues.get(zt.triggerName),Do=this.statesByElement.get(zt.element);if(Do&&Do.has(zt.triggerName)){const Cv=Do.get(zt.triggerName);Cv.value=ra,Do.set(zt.triggerName,Cv)}}return void Tn.destroy()}}const Za=!C||!this.driver.containsElement(C,lr),ts=Fe.get(lr),kl=B.get(lr),ni=this._buildInstruction(zt,i,kl,ts,Za);if(ni.errors&&ni.errors.length)return void rt.push(ni);if(Za)return Tn.onStart(()=>Fg(lr,ni.fromStyles)),Tn.onDestroy(()=>pd(lr,ni.toStyles)),void r.push(Tn);if(zt.isFallbackTransition)return Tn.onStart(()=>Fg(lr,ni.fromStyles)),Tn.onDestroy(()=>pd(lr,ni.toStyles)),void r.push(Tn);const Mu=[];ni.timelines.forEach(Ir=>{Ir.stretchStartingKeyframe=!0,this.disabledNodes.has(Ir.element)||Mu.push(Ir)}),ni.timelines=Mu,i.append(lr,ni.timelines),c.push({instruction:ni,player:Tn,element:lr}),ni.queriedElements.forEach(Ir=>El(d,Ir,[]).push(Tn)),ni.preStyleProps.forEach((Ir,ra)=>{if(Ir.size){let Do=f.get(ra);Do||f.set(ra,Do=new Set),Ir.forEach((Cv,xm)=>Do.add(xm))}}),ni.postStyleProps.forEach((Ir,ra)=>{let Do=g.get(ra);Do||g.set(ra,Do=new Set),Ir.forEach((Cv,xm)=>Do.add(xm))})});if(rt.length){const vt=[];rt.forEach(kt=>{vt.push(function nK(n,e){return new o.vHH(3505,!1)}())}),Je.forEach(kt=>kt.destroy()),this.reportError(vt)}const bt=new Map,Ht=new Map;c.forEach(vt=>{const kt=vt.element;i.has(kt)&&(Ht.set(kt,kt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,bt))}),r.forEach(vt=>{const kt=vt.element;this._getPreviousPlayers(kt,!1,vt.namespaceId,vt.triggerName,null).forEach(Tn=>{El(bt,kt,[]).push(Tn),Tn.destroy()})});const Mn=te.filter(vt=>Z3(vt,f,g)),Ei=new Map;G3(Ei,this.driver,Te,g,Ch).forEach(vt=>{Z3(vt,f,g)&&Mn.push(vt)});const Qs=new Map;R.forEach((vt,kt)=>{G3(Qs,this.driver,new Set(vt),f,"!")}),Mn.forEach(vt=>{const kt=Ei.get(vt),zt=Qs.get(vt);Ei.set(vt,new Map([...Array.from(kt?.entries()??[]),...Array.from(zt?.entries()??[])]))});const Tr=[],Cp=[],Ep={};c.forEach(vt=>{const{element:kt,player:zt,instruction:Tn}=vt;if(i.has(kt)){if(b.has(kt))return zt.onDestroy(()=>pd(kt,Tn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(Tn.totalTime),void r.push(zt);let lr=Ep;if(Ht.size>1){let ts=kt;const kl=[];for(;ts=ts.parentNode;){const ni=Ht.get(ts);if(ni){lr=ni;break}kl.push(ts)}kl.forEach(ni=>Ht.set(ni,lr))}const Za=this._buildAnimation(zt.namespaceId,Tn,bt,s,Qs,Ei);if(zt.setRealPlayer(Za),lr===Ep)Tr.push(zt);else{const ts=this.playersByElement.get(lr);ts&&ts.length&&(zt.parentPlayer=$f(ts)),r.push(zt)}}else Fg(kt,Tn.fromStyles),zt.onDestroy(()=>pd(kt,Tn.toStyles)),Cp.push(zt),b.has(kt)&&r.push(zt)}),Cp.forEach(vt=>{const kt=s.get(vt.element);if(kt&&kt.length){const zt=$f(kt);vt.setRealPlayer(zt)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<te.length;vt++){const kt=te[vt],zt=kt[mc];if(Ay(kt,eI),zt&&zt.hasAnimation)continue;let Tn=[];if(d.size){let Za=d.get(kt);Za&&Za.length&&Tn.push(...Za);let ts=this.driver.query(kt,VO,!0);for(let kl=0;kl<ts.length;kl++){let ni=d.get(ts[kl]);ni&&ni.length&&Tn.push(...ni)}}const lr=Tn.filter(Za=>!Za.destroyed);lr.length?s9(this,kt,lr):this.processLeaveNode(kt)}return te.length=0,Tr.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const kt=this.players.indexOf(vt);this.players.splice(kt,1)}),vt.play()}),Tr}elementContainsData(e,t){let i=!1;const r=t[mc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==pw;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||c.push(g)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const g=f.element,b=g!==s,C=El(i,g,[]);this._getPreviousPlayers(g,b,c,d,t.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),C.push(R)})}Fg(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,f=t.element,g=[],b=new Set,C=new Set,N=t.timelines.map(B=>{const z=B.element;b.add(z);const te=z[mc];if(te&&te.removedBeforeQueried)return new dw(B.duration,B.delay);const ye=z!==f,Te=function o9(n){const e=[];return z3(n,e),e}((i.get(z)||JK).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===z),Fe=s.get(z),Re=c.get(z),Je=_3(0,this._normalizer,0,B.keyframes,Fe,Re),rt=this._buildPlayer(B,Je,Te);if(B.subTimeline&&r&&C.add(z),ye){const bt=new XO(e,d,z);bt.setRealPlayer(rt),g.push(bt)}return rt});g.forEach(B=>{El(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function n9(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,B.element,B))}),b.forEach(B=>_c(B,I3));const R=$f(N);return R.onDestroy(()=>{b.forEach(B=>Ay(B,I3)),pd(f,t.toStyles)}),C.forEach(B=>{El(r,B,[]).push(R)}),R}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new dw(e.duration,e.delay)}}class XO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new dw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>MO(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){El(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pI(n){return n&&1===n.nodeType}function H3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function G3(n,e,t,i,r){const s=[];t.forEach(f=>s.push(H3(f)));const c=[];i.forEach((f,g)=>{const b=new Map;f.forEach(C=>{const N=e.computeStyle(g,C,r);b.set(C,N),(!N||0==N.length)&&(g[mc]=XK,c.push(g))}),n.set(g,b)});let d=0;return t.forEach(f=>H3(f,s[d++])),c}function $3(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let f=s.get(d);if(f)return f;const g=d.parentNode;return f=t.has(g)?g:r.has(g)?1:c(g),s.set(d,f),f}return e.forEach(d=>{const f=c(d);1!==f&&t.get(f).push(d)}),t}function _c(n,e){n.classList?.add(e)}function Ay(n,e){n.classList?.remove(e)}function s9(n,e,t){$f(t).onDone(()=>n.processLeaveNode(e))}function z3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof g3?z3(i.players,e):e.push(i)}}function Z3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class gI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new t9(e,t,i),this._timelineEngine=new qK(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],b=GO(this._driver,s,f,[]);if(f.length)throw function z7(n,e){return new o.vHH(3404,!1)}();d=function GK(n,e,t){return new $K(n,e,t)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=y3(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=y3(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let c9=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&pd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pd(this._element,this._initialStyles),this._endStyles&&(pd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fg(this._element,this._endStyles),this._endStyles=null),pd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function eR(n){let e=null;return n.forEach((t,i)=>{(function u9(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class q3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:M3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class d9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return C3(e,t)}getParentElement(e){return FO(e)}query(e,t,i){return E3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const g=new Map,b=c.filter(R=>R instanceof q3);(function gK(n,e){return 0===n||0===e})(i,r)&&b.forEach(R=>{R.currentSnapshot.forEach((B,z)=>g.set(z,B))});let C=function dK(n){return n.length?n[0]instanceof Map?n:n.map(e=>S3(e)):[]}(t).map(R=>Zf(R));C=function mK(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(d=>c.set(d,M3(n,d)))}}return e}(e,C,g);const N=function l9(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=eR(e[0]),e.length>1&&(i=eR(e[e.length-1]))):e instanceof Map&&(t=eR(e)),t||i?new c9(n,t,i):null}(e,C);return new q3(e,C,f,N)}}let h9=(()=>{class n extends d3{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?h3(t):t;return W3(this._renderer,null,i,"register",[r]),new f9(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(_e))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class f9 extends class E7{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new p9(this._id,e,t||{},this._renderer)}}class p9{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return W3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W3(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const K3="@.disabled";let g9=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new Y3("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(c,d,t,b.name,b)};return i.data.animation.forEach(f),new m9(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(gI),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Y3{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==K3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class m9 extends Y3{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==K3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function _9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function y9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let v9=(()=>{class n extends gI{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_e),o.LFG(LO),o.LFG(WO),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Q3=[{provide:d3,useClass:h9},{provide:WO,useFactory:function b9(){return new VK}},{provide:gI,useClass:v9},{provide:o.FYo,useFactory:function w9(n,e,t){return new g9(n,e,t)},deps:[lo,gI,o.R0b]}],tR=[{provide:LO,useFactory:()=>new d9},{provide:o.QbO,useValue:"BrowserAnimations"},...Q3],J3=[{provide:LO,useClass:D3},{provide:o.QbO,useValue:"NoopAnimations"},...Q3];let C9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?J3:tR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:tR,imports:[fr]}),n})();var nR=j(3942);const X3="firebasestorage.googleapis.com",ej="storageBucket";class mr extends U.ZR{constructor(e,t){super(iR(e),`Firebase Storage: ${t} (${iR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}_codeEquals(e){return iR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function iR(n){return"storage/"+n}function rR(){return new mr("unknown","An unknown error occurred, please check the error payload for server response.")}function tj(){return new mr("canceled","User canceled the upload/download.")}function nj(){return new mr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function xy(n){return new mr("invalid-argument",n)}function ij(){return new mr("app-deleted","The Firebase app was deleted.")}function rj(n){return new mr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gw(n,e){return new mr("invalid-format","String does not match format '"+n+"': "+e)}function mw(n){throw new mr("internal-error","Internal error: "+n)}class bo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=bo.makeFromUrl(e,t)}catch{return new bo(e,"")}if(""===i.path)return i;throw function M9(n){return new mr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function g(Re){Re.path_=decodeURIComponent(Re.path)}const C=t.replace(/[.]/g,"\\."),Fe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Re){"/"===Re.path.charAt(Re.path.length-1)&&(Re.path_=Re.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${t===X3?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let Re=0;Re<Fe.length;Re++){const Je=Fe[Re],rt=Je.regex.exec(e);if(rt){let Ht=rt[Je.indices.path];Ht||(Ht=""),i=new bo(rt[Je.indices.bucket],Ht),Je.postModify(i);break}}if(null==i)throw function N9(n){return new mr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class F9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _I(n){return"string"==typeof n||n instanceof String}function sj(n){return sR()&&n instanceof Blob}function sR(){return typeof Blob<"u"}function oR(n,e,t,i){if(i<e)throw xy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw xy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Eh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function oj(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var qf=(()=>{return(n=qf||(qf={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",qf;var n})();class H9{constructor(e,t,i,r,s,c,d,f,g,b,C){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,R)=>{this.resolve_=N,this.reject_=R,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function V9(n){return void 0!==n}(f)?s():s(f)}catch(f){c(f)}else if(null!==d){const f=rR();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?ij():tj():function k9(){return new mr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new yI(!1,null,!0)):this.backoffId_=function L9(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function f(){return 2===d}let g=!1;function b(...te){g||(g=!0,e.apply(null,te))}function C(te){r=setTimeout(()=>{r=null,n(R,f())},te)}function N(){s&&clearTimeout(s)}function R(te,...ye){if(g)return void N();if(te)return N(),void b.call(null,te,...ye);if(f()||c)return N(),void b.call(null,te,...ye);let Fe;i<64&&(i*=2),1===d?(d=2,Fe=0):Fe=1e3*(i+Math.random()),C(Fe)}let B=!1;function z(te){B||(B=!0,N(),!g&&(null!==r?(te||(d=2),clearTimeout(r),C(0)):te||(d=1)))}return C(0),s=setTimeout(()=>{c=!0,z(!0)},t),z}((i,r)=>{if(r)return void i(!1,new yI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===qf.NO_ERROR,f=s.getStatus();if(!d||this.isRetryStatusCode_(f)){const b=s.getErrorCode()===qf.ABORT;return void i(!1,new yI(!1,null,b))}const g=-1!==this.successCodes_.indexOf(f);i(!0,new yI(g,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function B9(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class yI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function K9(...n){const e=function W9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(sR())return new Blob(n);throw new mr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Tl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aR{constructor(e,t){this.data=e,this.contentType=t||null}}function lR(n,e){switch(n){case Tl.RAW:return new aR(aj(e));case Tl.BASE64:case Tl.BASE64URL:return new aR(lj(n,e));case Tl.DATA_URL:return new aR(function X9(n){const e=new cj(n);return e.base64?lj(Tl.BASE64,e.rest):function J9(n){let e;try{e=decodeURIComponent(n)}catch{throw gw(Tl.DATA_URL,"Malformed data URL.")}return aj(e)}(e.rest)}(e),function eY(n){return new cj(n).contentType}(e))}throw rR()}function aj(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function lj(n,e){switch(n){case Tl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw gw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Tl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw gw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Q9(n){return atob(n)}(e)}catch{throw gw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class cj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gw(Tl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function tY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class gd{constructor(e,t){let i=0,r="";sj(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(sj(this.data_)){const r=function Y9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new gd(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new gd(i,!0)}}static getBlob(...e){if(sR()){const t=e.map(i=>i instanceof gd?i.data_:i);return new gd(K9.apply(null,t))}{const t=e.map(c=>_I(c)?lR(Tl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new gd(r,!0)}}uploadData(){return this.data_}}function cR(n){let e;try{e=JSON.parse(n)}catch{return null}return function j9(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function uj(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function rY(n,e){return e}class Ko{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||rY}}let vI=null;function _w(){if(vI)return vI;const n=[];n.push(new Ko("bucket")),n.push(new Ko("generation")),n.push(new Ko("metageneration")),n.push(new Ko("name","fullPath",!0));const t=new Ko("name");t.xform=function e(s,c){return function sY(n){return!_I(n)||n.length<2?n:uj(n)}(c)},n.push(t);const r=new Ko("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Ko("timeCreated")),n.push(new Ko("updated")),n.push(new Ko("md5Hash",null,!0)),n.push(new Ko("cacheControl",null,!0)),n.push(new Ko("contentDisposition",null,!0)),n.push(new Ko("contentEncoding",null,!0)),n.push(new Ko("contentLanguage",null,!0)),n.push(new Ko("contentType",null,!0)),n.push(new Ko("metadata","customMetadata",!0)),vI=n,vI}function dj(n,e,t){const i=cR(e);return null===i?null:function aY(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function oY(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new bo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function uR(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const hj="prefixes";class md{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _d(n){if(!n)throw rR()}function bI(n,e){return function t(i,r){const s=dj(n,r,e);return _d(null!==s),s}}function ky(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function A9(){return new mr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function S9(){return new mr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function I9(n){return new mr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function x9(n){return new mr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function yw(n){const e=ky(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function T9(n){return new mr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function pj(n,e,t){const r=Eh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new md(r,"GET",bI(n,t),c);return d.errorHandler=yw(e),d}function fY(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Eh(e.bucketOnlyServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,b=new md(d,"GET",function dY(n,e){return function t(i,r){const s=function uY(n,e,t){const i=cR(t);return null===i?null:function cY(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[hj])for(const r of t[hj]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new bo(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new bo(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return _d(null!==s),s}}(n,e.bucket),g);return b.urlParams=s,b.errorHandler=ky(e),b}function mj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function _Y(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class wI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function dR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{_d(!1)}return _d(!!t&&-1!==(e||["active"]).indexOf(t)),t}const wY={STATE_CHANGED:"state_changed"},Yo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hR(n){switch(n){case"running":case"pausing":case"canceling":return Yo.RUNNING;case"paused":return Yo.PAUSED;case"success":return Yo.SUCCESS;case"canceled":return Yo.CANCELED;default:return Yo.ERROR}}class CY{constructor(e,t,i){if(function U9(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ny(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class DY extends class EY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw mw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Iu(){return new DY}class bj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=_w(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function yY(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=mj(e,i,r),d={name:c.fullPath},f=Eh(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},C=uR(c,t),B=new md(f,"POST",function R(z){let te;dR(z);try{te=z.getResponseHeader("X-Goog-Upload-URL")}catch{_d(!1)}return _d(_I(te)),te},n.maxUploadRetryTime);return B.urlParams=d,B.headers=b,B.body=C,B.errorHandler=ky(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function vY(n,e,t,i){const f=new md(t,"POST",function s(g){const b=dR(g,["active","final"]);let C=null;try{C=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_d(!1)}C||_d(!1);const N=Number(C);return _d(!isNaN(N)),new wI(N,i.size(),"final"===b)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=ky(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Iu,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new wI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function bY(n,e,t,i,r,s,c,d){const f=new wI(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function R9(){return new mr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const g=f.total-f.current;let b=g;r>0&&(b=Math.min(b,r));const C=f.current,B={"X-Goog-Upload-Command":b===g?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},z=i.slice(C,C+b);if(null===z)throw nj();const Fe=new md(t,"POST",function te(Re,Je){const rt=dR(Re,["active","final"]),bt=f.current+b,Ht=i.size();let Mn;return Mn="final"===rt?bI(e,s)(Re,Je):null,new wI(bt,Ht,"final"===rt,Mn)},e.maxUploadRetryTime);return Fe.headers=B,Fe.body=z.uploadData(),Fe.progressCallback=d||null,Fe.errorHandler=ky(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,Iu,r,s);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=pj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function _j(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Fe="";for(let Re=0;Re<2;Re++)Fe+=Math.random().toString().slice(2);return Fe}();c["Content-Type"]="multipart/related; boundary="+f;const g=mj(e,i,r),b=uR(g,t),R=gd.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+f+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===R)throw nj();const B={name:g.fullPath},z=Eh(s,n.host,n._protocol),ye=n.maxUploadRetryTime,Te=new md(z,"POST",bI(n,t),ye);return Te.urlParams=B,Te.headers=c,Te.body=R.uploadData(),Te.errorHandler=ky(e),Te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Iu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=tj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=hR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new CY(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(hR(this._state)){case Yo.SUCCESS:Ny(this._resolve.bind(null,this.snapshot))();break;case Yo.CANCELED:case Yo.ERROR:Ny(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hR(this._state)){case Yo.RUNNING:case Yo.PAUSED:e.next&&Ny(e.next.bind(e,this.snapshot))();break;case Yo.SUCCESS:e.complete&&Ny(e.complete.bind(e))();break;default:e.error&&Ny(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Bg{constructor(e,t){this._service=e,this._location=t instanceof bo?t:bo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bg(e,t)}get root(){const e=new bo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uj(this._location.path)}get storage(){return this._service}get parent(){const e=function nY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new bo(this._location.bucket,e);return new Bg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw rj(e)}}function Cj(n,e,t){return fR.apply(this,arguments)}function fR(){return(fR=(0,Pe.Z)(function*(n,e,t){const r=yield Ej(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Cj(n,e,r.nextPageToken))})).apply(this,arguments)}function Ej(n,e){null!=e&&"number"==typeof e.maxResults&&oR("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=fY(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Iu)}function FY(n){n._throwIfRoot("getDownloadURL");const e=function pY(n,e,t){const r=Eh(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new md(r,"GET",function hY(n,e){return function t(i,r){const s=dj(n,r,e);return _d(null!==s),function lY(n,e,t,i){const r=cR(e);if(null===r||!_I(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(g=>{const C=n.fullPath;return Eh("/b/"+c(n.bucket)+"/o/"+c(C),t,i)+oj({alt:"media",token:g})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=yw(e),d}(n.storage,n._location,_w());return n.storage.makeRequestWithTokens(e,Iu).then(t=>{if(null===t)throw function P9(){return new mr("no-download-url","The given file does not have any download URLs.")}();return t})}function Dj(n,e){const t=function iY(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new bo(n._location.bucket,t);return new Bg(n.storage,i)}function Tj(n,e){if(n instanceof pR){const t=n;if(null==t._bucket)throw function O9(){return new mr("no-default-bucket","No default bucket found. Did you set the '"+ej+"' property when initializing the app?")}();const i=new Bg(t,t._bucket);return null!=e?Tj(i,e):i}return void 0!==e?Dj(n,e):n}function UY(n,e){if(e&&function BY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof pR)return function VY(n,e){return new Bg(n,e)}(n,e);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}return Tj(n,e)}function Ij(n,e){const t=e?.[ej];return null==t?null:bo.makeFromBucketSpec(t,n)}class pR{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=X3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bo.makeFromBucketSpec(r,this._host):Ij(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bo.makeFromBucketSpec(this._url,e):Ij(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bg(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new F9(ij());{const s=function q9(n,e,t,i,r,s){const c=oj(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return function z9(n,e){e&&(n["X-Firebase-GMPID"]=e)}(f,e),function G9(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(f,t),function $9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(f,s),function Z9(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(f,i),new H9(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Pe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const Sj="@firebase/storage";function kj(n,e){return UY(n=(0,U.m9)(n),e)}function QY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new pR(t,i,r,e,qo.SDK_VERSION)}!function JY(){(0,qo._registerComponent)(new Du.wA("storage",QY,"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(Sj,"0.9.9",""),(0,qo.registerVersion)(Sj,"0.9.9","esm2017")}();class CI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Nj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new CI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new CI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new CI(c,this,this._ref)):{next:t.next?c=>t.next(new CI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class Mj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Dh(e,this._service))}get items(){return this._delegate.items.map(e=>new Dh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Dh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function KY(n,e){return Dj(n,e)}(this._delegate,e);return new Dh(t,this.storage)}get root(){return new Dh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Dh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Nj(function HY(n,e,t){return function NY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new bj(n,new gd(e),t)}(n=(0,U.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Tl.RAW,i){this._throwIfRoot("putString");const r=lR(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Nj(new bj(this._delegate,new gd(r.data,!0),s),this)}listAll(){return function ZY(n){return function OY(n){const e={prefixes:[],items:[]};return Cj(n,e).then(()=>e)}(n=(0,U.m9)(n))}(this._delegate).then(e=>new Mj(e,this.storage))}list(e){return function zY(n,e){return Ej(n=(0,U.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Mj(t,this.storage))}getMetadata(){return function GY(n){return function RY(n){n._throwIfRoot("getMetadata");const e=pj(n.storage,n._location,_w());return n.storage.makeRequestWithTokens(e,Iu)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(e){return function $Y(n,e){return function PY(n,e){n._throwIfRoot("updateMetadata");const t=function gY(n,e,t,i){const s=Eh(e.fullServerUrl(),n.host,n._protocol),d=uR(t,i),g=n.maxOperationRetryTime,b=new md(s,"PATCH",bI(n,i),g);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=yw(e),b}(n.storage,n._location,e,_w());return n.storage.makeRequestWithTokens(t,Iu)}(n=(0,U.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function qY(n){return FY(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function WY(n){return function LY(n){n._throwIfRoot("deleteObject");const e=function mY(n,e){const i=Eh(e.fullServerUrl(),n.host,n._protocol),d=new md(i,"DELETE",function c(f,g){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=yw(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Iu)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw rj(e)}}class Oj{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Rj(e))throw xy("ref() expected a child path but got a URL, use refFromURL instead.");return new Dh(kj(this._delegate,e),this)}refFromURL(e){if(!Rj(e))throw xy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bo.makeFromUrl(e,this._delegate.host)}catch{throw xy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Dh(kj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function YY(n,e,t,i={}){!function jY(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Rj(n){return/^[A-Za-z]+:\/\//.test(n)}function nQ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Oj(t,i)}function Pj(n){const e=function rQ(n){return new ki.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(_O(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Et.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function EI(n){return{getDownloadURL:()=>It(void 0).pipe(qn.fc,Ni(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>It(void 0).pipe(qn.fc,Ni(()=>n.getMetadata()),qn.iC),delete:()=>(0,ei.D)(n.delete()),child:e=>EI(n.child(e)),updateMetadata:e=>(0,ei.D)(n.updateMetadata(e)),put:(e,t)=>Pj(n.put(e,t)),putString:(e,t,i)=>Pj(n.putString(e,t,i)),list:e=>(0,ei.D)(n.list(e)),listAll:()=>(0,ei.D)(n.listAll())}}!function iQ(n){const e={TaskState:Yo,TaskEvent:wY,StringFormat:Tl,Storage:Oj,Reference:Dh};n.INTERNAL.registerComponent(new Du.wA("storage-compat",nQ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(nR.Z);const sQ=new o.OlP("angularfire2.storageBucket"),oQ=new o.OlP("angularfire2.storage.maxUploadRetryTime"),aQ=new o.OlP("angularfire2.storage.maxOperationRetryTime"),lQ=new o.OlP("angularfire2.storage.use-emulator");let cQ=(()=>{class n{constructor(t,i,r,s,c,d,f,g,b,C){const N=(0,Xr.on)(t,c,i);this.storage=(0,Xr.cc)(`${N.name}.storage.${r}`,"AngularFireStorage",N.name,()=>{const R=c.runOutsideAngular(()=>N.storage(r||void 0)),B=b;return B&&R.useEmulator(...B),f&&R.setMaxUploadRetryTime(f),g&&R.setMaxOperationRetryTime(g),R},[f,g])}ref(t){return EI(this.storage.ref(t))}refFromURL(t){return EI(this.storage.refFromURL(t))}upload(t,i,r){return EI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xr.Dh),o.LFG(Xr.xv,8),o.LFG(sQ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(qn.HU),o.LFG(oQ,8),o.LFG(aQ,8),o.LFG(lQ,8),o.LFG(rw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),dQ=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[cQ],imports:[uQ]}),n})();function gR(){return(0,rr.e)((n,e)=>{let t,i=!1;n.subscribe((0,wi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}j(5881);var At,hQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Th={},mR=mR||{},pn=hQ||self;function DI(){}function _R(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function vw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yR="closure_uid_"+(1e9*Math.random()>>>0),pQ=0;function gQ(n,e,t){return n.call.apply(n.bind,arguments)}function mQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function $s(n,e,t){return($s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gQ:mQ).apply(null,arguments)}function TI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function zs(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function Wf(){this.s=this.s,this.o=this.o}var yQ={};Wf.prototype.s=!1,Wf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function fQ(n){return Object.prototype.hasOwnProperty.call(n,yR)&&n[yR]||(n[yR]=++pQ)}(this);delete yQ[n]}},Wf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Lj=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function Bj(n){return Array.prototype.concat.apply([],arguments)}function vR(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function II(n){return/^[\s\xa0]*$/.test(n)}var Jo,Vj=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Qo(n,e){return-1!=n.indexOf(e)}function bR(n,e){return n<e?-1:n>e?1:0}e:{var Uj=pn.navigator;if(Uj){var jj=Uj.userAgent;if(jj){Jo=jj;break e}}Jo=""}function wR(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Hj(n){const e={};for(const t in n)e[t]=n[t];return e}var Gj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $j(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Gj.length;s++)t=Gj[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function CR(n){return CR[" "](n),n}CR[" "]=DI;var SI,n,wQ=Qo(Jo,"Opera"),My=Qo(Jo,"Trident")||Qo(Jo,"MSIE"),zj=Qo(Jo,"Edge"),ER=zj||My,Zj=Qo(Jo,"Gecko")&&!(Qo(Jo.toLowerCase(),"webkit")&&!Qo(Jo,"Edge"))&&!(Qo(Jo,"Trident")||Qo(Jo,"MSIE"))&&!Qo(Jo,"Edge"),CQ=Qo(Jo.toLowerCase(),"webkit")&&!Qo(Jo,"Edge");function qj(){var n=pn.document;return n?n.documentMode:void 0}e:{var DR="",TR=(n=Jo,Zj?/rv:([^\);]+)(\)|;)/.exec(n):zj?/Edge\/([\d\.]+)/.exec(n):My?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CQ?/WebKit\/(\S+)/.exec(n):wQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TR&&(DR=TR?TR[1]:""),My){var IR=qj();if(null!=IR&&IR>parseFloat(DR)){SI=String(IR);break e}}SI=DR}var EQ={};var TQ=pn.document&&My&&(qj()||parseInt(SI,10))||void 0,IQ=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pn.addEventListener("test",DI,e),pn.removeEventListener("test",DI,e)}catch{}return n}();function wo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function bw(n,e){if(wo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Zj){e:{try{CR(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bw.Z.h.call(this)}}wo.prototype.h=function(){this.defaultPrevented=!0},zs(bw,wo);var SQ={2:"touch",3:"pen",4:"mouse"};bw.prototype.h=function(){bw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ww="closure_listenable_"+(1e6*Math.random()|0),AQ=0;function xQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++AQ,this.ca=this.fa=!1}function AI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xI(n){this.src=n,this.g={},this.h=0}function AR(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Fj(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(AI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xR(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}xI.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=xR(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new xQ(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var kR="closure_lm_"+(1e6*Math.random()|0),NR={};function Kj(n,e,t,i,r){if(i&&i.once)return Qj(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Kj(n,e[s],t,i,r);return null}return t=PR(t),n&&n[ww]?n.N(e,t,vw(i)?!!i.capture:!!i,r):Yj(n,e,t,!1,i,r)}function Yj(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=vw(r)?!!r.capture:!!r,d=OR(n);if(d||(n[kR]=d=new xI(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function kQ(){var e=NQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)IQ||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Xj(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Qj(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qj(n,e[s],t,i,r);return null}return t=PR(t),n&&n[ww]?n.O(e,t,vw(i)?!!i.capture:!!i,r):Yj(n,e,t,!0,i,r)}function Jj(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Jj(n,e[s],t,i,r);else i=vw(i)?!!i.capture:!!i,t=PR(t),n&&n[ww]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xR(s=n.g[e],t,i,r))&&(AI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=OR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xR(e,t,i,r)),(t=-1<n?e[n]:null)&&MR(t))}function MR(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ww])AR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Xj(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=OR(e))?(AR(t,n),0==t.h&&(t.src=null,e[kR]=null)):AI(n)}}}function Xj(n){return n in NR?NR[n]:NR[n]="on"+n}function NQ(n,e){if(n.ca)n=!0;else{e=new bw(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&MR(n),n=t.call(i,e)}return n}function OR(n){return(n=n[kR])instanceof xI?n:null}var RR="__closure_events_fn_"+(1e9*Math.random()>>>0);function PR(n){return"function"==typeof n?n:(n[RR]||(n[RR]=function(e){return n.handleEvent(e)}),n[RR])}function ms(){Wf.call(this),this.i=new xI(this),this.P=this,this.I=null}function Zs(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new wo(e,n);else if(e instanceof wo)e.target=e.target||n;else{var r=e;$j(e=new wo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=kI(c,i,!0,e)&&r}if(r=kI(c=e.g=n,i,!0,e)&&r,r=kI(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=kI(c=e.g=t[s],i,!1,e)&&r}function kI(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var d=c.listener,f=c.ia||c.src;c.fa&&AR(n.i,c),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}zs(ms,Wf),ms.prototype[ww]=!0,ms.prototype.removeEventListener=function(n,e,t,i){Jj(this,n,e,t,i)},ms.prototype.M=function(){if(ms.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)AI(t[i]);delete n.g[e],n.h--}}this.I=null},ms.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ms.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var FR=pn.JSON.stringify;function MQ(){var n=tH;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var BR,eH=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RQ,n=>n.reset());class RQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PQ(n){pn.setTimeout(()=>{throw n},0)}function LR(n,e){BR||function FQ(){var n=pn.Promise.resolve(void 0);BR=function(){n.then(LQ)}}(),VR||(BR(),VR=!0),tH.add(n,e)}var VR=!1,tH=new class OQ{constructor(){this.h=this.g=null}add(e,t){const i=eH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function LQ(){for(var n;n=MQ();){try{n.h.call(n.g)}catch(t){PQ(t)}var e=eH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}VR=!1}function NI(n,e){ms.call(this),this.h=n||1,this.g=e||pn,this.j=$s(this.kb,this),this.l=Date.now()}function UR(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function jR(n,e,t){if("function"==typeof n)t&&(n=$s(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$s(n.handleEvent,n)}return 2147483647<Number(e)?-1:pn.setTimeout(n,e||0)}function nH(n){n.g=jR(()=>{n.g=null,n.i&&(n.i=!1,nH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zs(NI,ms),(At=NI.prototype).da=!1,At.S=null,At.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zs(this,"tick"),this.da&&(UR(this),this.start()))}},At.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){NI.Z.M.call(this),UR(this),delete this.g};class BQ extends Wf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nH(this)}M(){super.M(),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cw(n){Wf.call(this),this.h=n,this.g={}}zs(Cw,Wf);var iH=[];function rH(n,e,t,i){Array.isArray(t)||(t&&(iH[0]=t.toString()),t=iH);for(var r=0;r<t.length;r++){var s=Kj(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function sH(n){wR(n.g,function(e,t){this.g.hasOwnProperty(t)&&MR(e)},n),n.g={}}function MI(){this.g=!0}function Oy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function HQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return FR(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Cw.prototype.M=function(){Cw.Z.M.call(this),sH(this)},Cw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},MI.prototype.Aa=function(){this.g=!1},MI.prototype.info=function(){};var Vg={},oH=null;function OI(){return oH=oH||new ms}function aH(n){wo.call(this,Vg.Ma,n)}function Ew(n){const e=OI();Zs(e,new aH(e,n))}function lH(n,e){wo.call(this,Vg.STAT_EVENT,n),this.stat=e}function Xo(n){const e=OI();Zs(e,new lH(e,n))}function cH(n,e){wo.call(this,Vg.Na,n),this.size=e}function Dw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pn.setTimeout(function(){n()},e)}Vg.Ma="serverreachability",zs(aH,wo),Vg.STAT_EVENT="statevent",zs(lH,wo),Vg.Na="timingevent",zs(cH,wo);var RI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uH={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HR(){}function hH(){}HR.prototype.h=null;var zR,Tw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function GR(){wo.call(this,"d")}function $R(){wo.call(this,"c")}function PI(){}function Iw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Cw(this),this.P=GQ,this.W=new NI(n=ER?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fH}function fH(){this.i=null,this.g="",this.h=!1}zs(GR,wo),zs($R,wo),zs(PI,HR),PI.prototype.g=function(){return new XMLHttpRequest},PI.prototype.i=function(){return{}},zR=new PI;var GQ=45e3,ZR={},FI={};function qR(n,e,t){n.K=1,n.v=jI(Ih(e)),n.s=t,n.U=!0,pH(n,null)}function pH(n,e){n.F=Date.now(),Sw(n),n.A=Ih(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),EH(t.h,"t",i),n.C=0,t=n.l.H,n.h=new fH,n.g=ZH(n.l,t?e:null,!n.s),0<n.O&&(n.L=new BQ($s(n.Ia,n,n.g),n.O)),rH(n.V,n.g,"readystatechange",n.gb),e=n.H?Hj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ew(1),function VQ(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var b=g[0];g=g[1];var C=b.split("_");c=2<=C.length&&"type"==C[1]?c+(b+"=")+g+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function gH(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mH(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=$Q(n,t),r==FI){4==e&&(n.o=4,Xo(14),i=!1),Oy(n.j,n.m,null,"[Incomplete Response]");break}if(r==ZR){n.o=4,Xo(15),Oy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Oy(n.j,n.m,r,null),WR(n,r)}gH(n)&&r!=FI&&r!=ZR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),sP(e),e.L=!0,Xo(11))):(Oy(n.j,n.m,t,"[Invalid Chunked Response]"),Ug(n),Aw(n))}function $Q(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?FI:(t=Number(e.substring(t,i)),isNaN(t)?ZR:(i+=1)+t>e.length?FI:(e=e.substr(i,t),n.C=i+t,e))}function Sw(n){n.Y=Date.now()+n.P,_H(n,n.P)}function _H(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dw($s(n.eb,n),e)}function LI(n){n.B&&(pn.clearTimeout(n.B),n.B=null)}function Aw(n){0==n.l.G||n.I||HH(n.l,n)}function Ug(n){LI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,UR(n.W),sH(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function WR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QR(t.i,n)))if(t.I=n.N,!n.J&&QR(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;qI(t),zI(t)}rP(t),Xo(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Dw($s(t.ab,t),6e3));if(1>=IH(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Gg(t,11)}else if((n.J||t.g==n)&&qI(t),!II(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(t.U=g[0],g=g[1],2==t.G)if("c"==g[0]){t.J=g[1],t.la=g[2];const b=g[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const C=g[4];null!=C&&(t.za=C,t.h.info("SVER="+t.za));const N=g[5];null!=N&&"number"==typeof N&&0<N&&(t.K=i=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const R=n.g;if(R){const B=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;!s.g&&(Qo(B,"spdy")||Qo(B,"quic")||Qo(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(JR(s,s.h),s.h=null))}if(i.D){const z=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.sa=z,Wi(i.F,i.D,z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=zH(i,i.H?i.la:null,i.W),c.J){SH(i.i,c);var d=c,f=i.K;f&&d.setTimeout(f),d.B&&(LI(d),Sw(d)),i.g=c}else UH(i);0<t.l.length&&ZI(t)}else"stop"!=g[0]&&"close"!=g[0]||Gg(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Gg(t,7):nP(t):"noop"!=g[0]&&t.j&&t.j.wa(g),t.A=0)}Ew(4)}catch{}}function KR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_R(n)||"string"==typeof n)Lj(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(_R(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function zQ(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(_R(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Ry(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ry)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function YR(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];jg(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)jg(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function jg(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(At=Iw.prototype).setTimeout=function(n){this.P=n},At.gb=function(n){n=n.target;const e=this.L;e&&3==Sh(n)?e.l():this.Ia(n)},At.Ia=function(n){try{if(n==this.g)e:{const b=Sh(this.g);var e=this.g.Da();const C=this.g.ba();if(!(3>b)&&(3!=b||ER||this.g&&(this.h.h||this.g.ga()||PH(this.g)))){this.I||4!=b||7==e||Ew(8==e||0>=C?3:2),LI(this);var t=this.g.ba();this.N=t;t:if(gH(this)){var i=PH(this.g);n="";var r=i.length,s=4==Sh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ug(this),Aw(this);var c="";break t}this.h.i=new pn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function UQ(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!II(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,Xo(12),Ug(this),Aw(this);break e}Oy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WR(this,t)}this.U?(mH(this,b,c),ER&&this.i&&3==b&&(rH(this.V,this.W,"tick",this.fb),this.W.start())):(Oy(this.j,this.m,c,null),WR(this,c)),4==b&&Ug(this),this.i&&!this.I&&(4==b?HH(this.l,this):(this.i=!1,Sw(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Xo(12)):(this.o=0,Xo(13)),Ug(this),Aw(this)}}}catch{}},At.fb=function(){if(this.g){var n=Sh(this.g),e=this.g.ga();this.C<e.length&&(LI(this),mH(this,n,e),this.i&&4!=n&&Sw(this))}},At.cancel=function(){this.I=!0,Ug(this)},At.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function jQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ew(3),Xo(17)),Ug(this),this.o=2,Aw(this)):_H(this,this.Y-n)},(At=Ry.prototype).R=function(){YR(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},At.T=function(){return YR(this),this.g.concat()},At.get=function(n,e){return jg(this.h,n)?this.h[n]:e},At.set=function(n,e){jg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},At.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var yH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hg(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Hg){this.g=void 0!==e?e:n.g,BI(this,n.j),this.s=n.s,VI(this,n.i),UI(this,n.m),this.l=n.l,e=n.h;var t=new Nw;t.i=e.i,e.g&&(t.g=new Ry(e.g),t.h=e.h),vH(this,t),this.o=n.o}else n&&(t=String(n).match(yH))?(this.g=!!e,BI(this,t[1]||"",!0),this.s=xw(t[2]||""),VI(this,t[3]||"",!0),UI(this,t[4]),this.l=xw(t[5]||"",!0),vH(this,t[6]||"",!0),this.o=xw(t[7]||"")):(this.g=!!e,this.h=new Nw(null,this.g))}function Ih(n){return new Hg(n)}function BI(n,e,t){n.j=t?xw(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function VI(n,e,t){n.i=t?xw(e,!0):e}function UI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vH(n,e,t){e instanceof Nw?(n.h=e,function eJ(n,e){e&&!n.j&&(Kf(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(wH(this,i),EH(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kw(e,JQ)),n.h=new Nw(e,n.g))}function Wi(n,e,t){n.h.set(e,t)}function jI(n){return Wi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xw(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,KQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function KQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kw(e,bH,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kw(e,bH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kw(t,"/"==t.charAt(0)?QQ:YQ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kw(t,XQ)),n.join("")};var bH=/[#\/\?@]/g,YQ=/[#\?:]/g,QQ=/[#\?]/g,JQ=/[#\?@]/g,XQ=/#/g;function Nw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kf(n){n.g||(n.g=new Ry,n.h=0,n.i&&function ZQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wH(n,e){Kf(n),e=Py(n,e),jg(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,jg((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&YR(n)))}function CH(n,e){return Kf(n),e=Py(n,e),jg(n.g.h,e)}function EH(n,e,t){wH(n,e),0<t.length&&(n.i=null,n.g.set(Py(n,e),vR(t)),n.h+=t.length)}function Py(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DH(n){this.l=n||nJ,n=pn.PerformanceNavigationTiming?0<(n=pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pn.g&&pn.g.Ea&&pn.g.Ea()&&pn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=Nw.prototype).add=function(n,e){Kf(this),this.i=null,n=Py(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){Kf(this),this.g.forEach(function(t,i){Lj(t,function(r){n.call(e,r,i,this)},this)},this)},At.T=function(){Kf(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},At.R=function(n){Kf(this);var e=[];if("string"==typeof n)CH(this,n)&&(e=Bj(e,this.g.get(Py(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Bj(e,n[t])}return e},At.set=function(n,e){return Kf(this),this.i=null,CH(this,n=Py(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var nJ=10;function TH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IH(n){return n.h?1:n.g?n.g.size:0}function QR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JR(n,e){n.g?n.g.add(e):n.h=e}function SH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vR(n.i)}function XR(){}function iJ(){this.g=new XR}function rJ(n,e,t){const i=t||"";try{KR(n,function(r,s){let c=r;vw(r)&&(c=FR(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function HI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Mw(n){this.l=n.$b||null,this.j=n.ib||!1}function GI(n,e){ms.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=eP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DH.prototype.cancel=function(){if(this.i=AH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},XR.prototype.stringify=function(n){return pn.JSON.stringify(n,void 0)},XR.prototype.parse=function(n){return pn.JSON.parse(n,void 0)},zs(Mw,HR),Mw.prototype.g=function(){return new GI(this.l,this.j)},Mw.prototype.i=function(n){return function(){return n}}({}),zs(GI,ms);var eP=0;function xH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ow(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Rw(n)}function Rw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=GI.prototype).open=function(n,e){if(this.readyState!=eP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Rw(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||pn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ow(this)),this.readyState=eP},At.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Rw(this)),this.g&&(this.readyState=3,Rw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof pn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},At.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ow(this):Rw(this),3==this.readyState&&xH(this)}},At.Ua=function(n){this.g&&(this.response=this.responseText=n,Ow(this))},At.Ta=function(n){this.g&&(this.response=n,Ow(this))},At.ha=function(){this.g&&Ow(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(GI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oJ=pn.JSON.parse;function Ur(n){ms.call(this),this.headers=new Ry,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kH,this.K=this.L=!1}zs(Ur,ms);var kH="",aJ=/^https?$/i,lJ=["POST","PUT"];function uJ(n){return"content-type"==n.toLowerCase()}function NH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MH(n),$I(n)}function MH(n){n.D||(n.D=!0,Zs(n,"complete"),Zs(n,"error"))}function OH(n){if(n.h&&typeof mR<"u"&&(!n.C[1]||4!=Sh(n)||2!=n.ba()))if(n.v&&4==Sh(n))jR(n.Fa,0,n);else if(Zs(n,"readystatechange"),4==Sh(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(yH)[1]||null;if(!r&&pn.self&&pn.self.location){var s=pn.self.location.protocol;r=s.substr(0,s.length-1)}i=!aJ.test(r?r.toLowerCase():"")}t=i}if(t)Zs(n,"complete"),Zs(n,"success");else{n.m=6;try{var c=2<Sh(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",MH(n)}}finally{$I(n)}}}function $I(n,e){if(n.g){RH(n);const t=n.g,i=n.C[0]?DI:null;n.g=null,n.C=null,e||Zs(n,"ready");try{t.onreadystatechange=i}catch{}}}function RH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pn.clearTimeout(n.A),n.A=null)}function Sh(n){return n.g?n.g.readyState:0}function PH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tP(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function dJ(n){let e="";return wR(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wi(n,e,t))}function Pw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FH(n){this.za=0,this.l=[],this.h=new MI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pw("baseRetryDelayMs",5e3,n),this.$a=Pw("retryDelaySeedMs",1e4,n),this.Ya=Pw("forwardChannelMaxRetries",2,n),this.ra=Pw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new DH(n&&n.concurrentRequestLimit),this.Ca=new iJ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nP(n){if(LH(n),3==n.G){var e=n.V++,t=Ih(n.F);Wi(t,"SID",n.J),Wi(t,"RID",e),Wi(t,"TYPE","terminate"),Fw(n,t),(e=new Iw(n,n.h,e,void 0)).K=2,e.v=jI(Ih(t)),t=!1,pn.navigator&&pn.navigator.sendBeacon&&(t=pn.navigator.sendBeacon(e.v.toString(),"")),!t&&pn.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZH(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sw(e)}$H(n)}function zI(n){n.g&&(sP(n),n.g.cancel(),n.g=null)}function LH(n){zI(n),n.u&&(pn.clearTimeout(n.u),n.u=null),qI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&pn.clearTimeout(n.m),n.m=null)}function iP(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ZI(n)}function ZI(n){TH(n.i)||n.m||(n.m=!0,LR(n.Ha,n),n.C=0)}function BH(n,e){var t;t=e?e.m:n.V++;const i=Ih(n.F);Wi(i,"SID",n.J),Wi(i,"RID",t),Wi(i,"AID",n.U),Fw(n,i),n.o&&n.s&&tP(i,n.o,n.s),t=new Iw(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=VH(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),JR(n.i,t),qR(t,i,e)}function Fw(n,e){n.j&&KR({},function(t,i){Wi(e,i,t)})}function VH(n,e,t){t=Math.min(n.l.length,t);var i=n.j?$s(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=r[f].h;const b=r[f].g;if(g-=s,0>g)s=Math.max(0,r[f].h-100),d=!1;else try{rJ(b,c,"req"+g+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function UH(n){n.g||n.u||(n.Y=1,LR(n.Ga,n),n.A=0)}function rP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dw($s(n.Ga,n),GH(n,n.A)),n.A++,0))}function sP(n){null!=n.B&&(pn.clearTimeout(n.B),n.B=null)}function jH(n){n.g=new Iw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ih(n.oa);Wi(e,"RID","rpc"),Wi(e,"SID",n.J),Wi(e,"CI",n.N?"0":"1"),Wi(e,"AID",n.U),Fw(n,e),Wi(e,"TYPE","xmlhttp"),n.o&&n.s&&tP(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=jI(Ih(e)),t.s=null,t.U=!0,pH(t,n)}function qI(n){null!=n.v&&(pn.clearTimeout(n.v),n.v=null)}function HH(n,e){var t=null;if(n.g==e){qI(n),sP(n),n.g=null;var i=2}else{if(!QR(n.i,e))return;t=e.D,SH(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Zs(i=OI(),new cH(i,t,e,r)),ZI(n)}else UH(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function hJ(n,e){return!(IH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dw($s(n.Ha,n,e),GH(n,n.C)),n.C++,0)))}(n,e)||2==i&&rP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Gg(n,5);break;case 4:Gg(n,10);break;case 3:Gg(n,6);break;default:Gg(n,2)}}function GH(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Gg(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=$s(n.jb,n);t||(t=new Hg("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||BI(t,"https"),jI(t)),function sJ(n,e){const t=new MI;if(pn.Image){const i=new Image;i.onload=TI(HI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=TI(HI,t,i,"TestLoadImage: error",!1,e),i.onabort=TI(HI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=TI(HI,t,i,"TestLoadImage: timeout",!1,e),pn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Xo(2);n.G=0,n.j&&n.j.va(e),$H(n),LH(n)}function $H(n){n.G=0,n.I=-1,n.j&&((0!=AH(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vR(n.l),n.l.length=0),n.j.ua())}function zH(n,e,t){let i=function qQ(n){return n instanceof Hg?Ih(n):new Hg(n,void 0)}(t);if(""!=i.i)e&&VI(i,e+"."+i.i),UI(i,i.m);else{const r=pn.location;i=function WQ(n,e,t,i){var r=new Hg(null,void 0);return n&&BI(r,n),e&&VI(r,e),t&&UI(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&wR(n.aa,function(r,s){Wi(i,s,r)}),t=n.sa,(e=n.D)&&t&&Wi(i,e,t),Wi(i,"VER",n.ma),Fw(n,i),i}function ZH(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ur(t&&n.Ba&&!n.qa?new Mw({ib:!0}):n.qa)).L=n.H,e}function qH(){}function WI(){if(My&&!(10<=Number(TQ)))throw Error("Environmental error: no available transport.")}function Il(n,e){ms.call(this),this.g=new FH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!II(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!II(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fy(this)}function WH(n){GR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function KH(){$R.call(this),this.status=1}function Fy(n){this.g=n}(At=Ur.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zR.g(),this.C=function dH(n){return n.h||(n.h=n.i())}(this.u?this.u:zR),this.g.onreadystatechange=$s(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void NH(this,s)}n=t||"";const r=new Ry(this.headers);i&&KR(i,function(s,c){r.set(c,s)}),i=function vQ(n){e:{var e=uJ;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=pn.FormData&&n instanceof pn.FormData,!(0<=Fj(lJ,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RH(this),0<this.B&&((this.K=function cJ(n){return My&&function DQ(){return function bQ(n){var e=EQ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Vj(String(SI)).split("."),t=Vj("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=bR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||bR(0==r[2].length,0==s[2].length)||bR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$s(this.pa,this)):this.A=jR(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NH(this,s)}},At.pa=function(){typeof mR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zs(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zs(this,"complete"),Zs(this,"abort"),$I(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$I(this,!0)),Ur.Z.M.call(this)},At.Fa=function(){this.s||(this.F||this.v||this.l?OH(this):this.cb())},At.cb=function(){OH(this)},At.ba=function(){try{return 2<Sh(this)?this.g.status:-1}catch{return-1}},At.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oJ(e)}},At.Da=function(){return this.m},At.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=FH.prototype).ma=8,At.G=1,At.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},At.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Iw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Hj(s),$j(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=VH(this,r,e),Wi(t=Ih(this.F),"RID",n),Wi(t,"CVER",22),this.D&&Wi(t,"X-HTTP-Session-Id",this.D),Fw(this,t),this.o&&s&&tP(t,this.o,s),JR(this.i,r),this.Ra&&Wi(t,"TYPE","init"),this.ja?(Wi(t,"$req",e),Wi(t,"SID","null"),r.$=!0,qR(r,t,null)):qR(r,t,e),this.G=2}}else 3==this.G&&(n?BH(this,n):0==this.l.length||TH(this.i)||BH(this))},At.Ga=function(){if(this.u=null,jH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dw($s(this.bb,this),n)}},At.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xo(10),zI(this),jH(this))},At.ab=function(){null!=this.v&&(this.v=null,zI(this),rP(this),Xo(19))},At.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Xo(2)):(this.h.info("Failed to ping google.com"),Xo(1))},(At=qH.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Oa=function(){},WI.prototype.g=function(n,e){return new Il(n,e)},zs(Il,ms),Il.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),LR($s(n.hb,n,e))),Xo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=zH(n,null,n.W),ZI(n)},Il.prototype.close=function(){nP(this.g)},Il.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,iP(this.g,e)}else this.v?((e={}).__data__=FR(n),iP(this.g,e)):iP(this.g,n)},Il.prototype.M=function(){this.g.j=null,delete this.j,nP(this.g),delete this.g,Il.Z.M.call(this)},zs(WH,GR),zs(KH,$R),zs(Fy,qH),Fy.prototype.xa=function(){Zs(this.g,"a")},Fy.prototype.wa=function(n){Zs(this.g,new WH(n))},Fy.prototype.va=function(n){Zs(this.g,new KH(n))},Fy.prototype.ua=function(){Zs(this.g,"b")},WI.prototype.createWebChannel=WI.prototype.g,Il.prototype.send=Il.prototype.u,Il.prototype.open=Il.prototype.m,Il.prototype.close=Il.prototype.close,RI.NO_ERROR=0,RI.TIMEOUT=8,RI.HTTP_ERROR=6,uH.COMPLETE="complete",hH.EventType=Tw,Tw.OPEN="a",Tw.CLOSE="b",Tw.ERROR="c",Tw.MESSAGE="d",ms.prototype.listen=ms.prototype.N,Ur.prototype.listenOnce=Ur.prototype.O,Ur.prototype.getLastError=Ur.prototype.La,Ur.prototype.getLastErrorCode=Ur.prototype.Da,Ur.prototype.getStatus=Ur.prototype.ba,Ur.prototype.getResponseJson=Ur.prototype.Qa,Ur.prototype.getResponseText=Ur.prototype.ga,Ur.prototype.send=Ur.prototype.ea;var fJ=Th.createWebChannelTransport=function(){return new WI},pJ=Th.getStatEventTarget=function(){return OI()},oP=Th.ErrorCode=RI,gJ=Th.EventType=uH,mJ=Th.Event=Vg,YH=Th.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_J=Th.FetchXmlHttpFactory=Mw,KI=Th.WebChannel=hH,yJ=Th.XhrIo=Ur;const QH="@firebase/firestore";class _s{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");let Ly="9.9.2";const Yf=new Eu.Yd("@firebase/firestore");function aP(){return Yf.logLevel}function ot(n,...e){if(Yf.logLevel<=Eu.in.DEBUG){const t=e.map(lP);Yf.debug(`Firestore (${Ly}): ${n}`,...t)}}function Dr(n,...e){if(Yf.logLevel<=Eu.in.ERROR){const t=e.map(lP);Yf.error(`Firestore (${Ly}): ${n}`,...t)}}function $g(n,...e){if(Yf.logLevel<=Eu.in.WARN){const t=e.map(lP);Yf.warn(`Firestore (${Ly}): ${n}`,...t)}}function lP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xt(n="Unexpected state"){const e=`FIRESTORE (${Ly}) INTERNAL ASSERTION FAILED: `+n;throw Dr(e),new Error(e)}function an(n,e){n||xt()}function yt(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends U.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class JH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_s.UNAUTHENTICATED))}shutdown(){}}class CJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EJ{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable((0,Pe.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},f=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(an("string"==typeof i.accessToken),new JH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new _s(e)}}class DJ{constructor(e,t,i){this.type="FirstParty",this.user=_s.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class TJ{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new DJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_s.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,ot("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(an("string"==typeof t.token),this.p=t.token,new XH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function SJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class e4{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=SJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function gn(n,e){return n<e?-1:n>e?1:0}function By(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function t4(n){return n+"\0"}class Ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ki(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new Ki(0,0))}static max(){return new rn(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lw{constructor(e,t,i){void 0===t?t=0:t>e.length&&xt(),void 0===i?i=e.length-t:i>e.length-t&&xt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Lw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends Lw{construct(e,t,i){return new Un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Xe(xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const AJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Lw{construct(e,t,i){return new _r(e,t,i)}static isValidIdentifier(e){return AJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Xe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Xe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Xe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Xe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Un.fromString(e))}static fromName(e){return new mt(Un.fromString(e).popFirst(5))}static empty(){return new mt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Un(e.slice()))}}class YI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function cP(n){return n.fields.find(e=>2===e.kind)}function zg(n){return n.fields.filter(e=>2!==e.kind)}YI.UNKNOWN_ID=-1;class QI{constructor(e,t){this.fieldPath=e,this.kind=t}}class Bw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Bw(0,Sl.min())}}function n4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=rn.fromTimestamp(1e9===i?new Ki(t+1,0):new Ki(t,i));return new Sl(r,mt.empty(),e)}function i4(n){return new Sl(n.readTime,n.key,-1)}class Sl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Sl(rn.min(),mt.empty(),-1)}static max(){return new Sl(rn.max(),mt.empty(),-1)}}function uP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mt.comparator(n.documentKey,e.documentKey),0!==t?t:gn(n.largestBatchId,e.largestBatchId))}const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qf(n){return dP.apply(this,arguments)}function dP(){return dP=(0,Pe.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==r4)throw n;ot("LocalStore","Unexpectedly lost primary lease")}),dP.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,i)=>{t(e)})}static reject(e){return new De((t,i)=>{i(e)})}static waitFor(e){return new De((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},f=>i(f))}),c=!0,s===r&&t()})}static or(e){let t=De.resolve(!1);for(const i of e)t=t.next(r=>r?De.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new De((i,r)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(b=>{c[g]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(e,t){return new De((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class JI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ys,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Vw(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=hP(i.target.error);this.T.reject(new Vw(e,r))}}static open(e,t,i,r){try{return new JI(t,e.transaction(r,i))}catch(s){throw new Vw(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new MJ(t)}}class Su{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===Su.v((0,U.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ot("SimpleDb","Removing database:",e),Zg(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,U.hl)())return!1;if(Su.S())return!0;const e=(0,U.z$)(),t=Su.v(e),i=0<t&&t<10,r=Su.D(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Vw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Xe(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Xe(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Vw(e,d))},s.onupgradeneeded=c=>{ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.M(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=i=>t.O(i)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Pe.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.k(e);const f=JI.open(s.db,e,c?"readonly":"readwrite",i),g=r(f).next(b=>(f.R(),b)).catch(b=>(f.abort(b),De.reject(b))).toPromise();return g.catch(()=>{}),yield f.A,g}catch(f){const g=f,b="FirebaseError"!==g.name&&d<3;if(ot("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),s.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NJ{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Zg(this.$.delete())}}class Vw extends Xe{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jf(n){return"IndexedDbTransactionError"===n.name}class MJ{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ot("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Zg(i)}add(e){return ot("SimpleDb","ADD",this.store.name,e,e),Zg(this.store.add(e))}get(e){return Zg(this.store.get(e)).next(t=>(void 0===t&&(t=null),ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ot("SimpleDb","DELETE",this.store.name,e),Zg(this.store.delete(e))}count(){return ot("SimpleDb","COUNT",this.store.name),Zg(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new De((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new De((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(e,t){ot("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(s,c,d)=>d.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new De((i,r)=>{t.onerror=s=>{const c=hP(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}G(e,t){const i=[];return new De((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new NJ(d),g=t(d.primaryKey,d.value,f);if(g instanceof De){const b=g.catch(C=>(f.done(),De.reject(C)));i.push(b)}f.isDone?r():null===f.U?d.continue():d.continue(f.U)}}).next(()=>De.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zg(n){return new De((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=hP(i.target.error);t(r)}})}let o4=!1;function hP(n){const e=Su.v((0,U.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o4||(o4=!0,setTimeout(()=>{throw i},0)),i}}return n}class OJ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){t.task=null;try{ot("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Jf(i)?ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Qf(i)}yield t.Z(1)}))}}class RJ{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,s=!0;return De.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return ot("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(r,s)).next(d=>(ot("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}st(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=i4(s);uP(c,i)>0&&(i=c)}),new Sl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ua{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function a4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ua.ot=-1;class yr{constructor(e,t){this.comparator=e,this.root=t||qs.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qs.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new XI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new XI(this.root,e,this.comparator,!1)}getReverseIterator(){return new XI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new XI(this.root,e,this.comparator,!0)}}class XI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qs{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??qs.RED,this.left=r??qs.EMPTY,this.right=s??qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new qs(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1,qs.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new qs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c4(this.data.getIterator())}getIteratorFrom(e){return new c4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hi(this.comparator);return t.data=e,t}}class c4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vy(n){return n.hasNext()?n.getNext():void 0}class Al{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Al([])}unionWith(e){let t=new hi(_r.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Al(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return By(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class es{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new es(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new es(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}es.EMPTY_BYTE_STRING=new es("");const FJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xf(n){if(an(!!n),"string"==typeof n){let e=0;const t=FJ.exec(n);if(an(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wg(n){return"string"==typeof n?es.fromBase64String(n):es.fromUint8Array(n)}function fP(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function u4(n){const e=n.mapValue.fields.__previous_value__;return fP(e)?u4(e):e}function Uw(n){const e=Xf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}class LJ{constructor(e,t,i,r,s,c,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Ah{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ah("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}function jw(n){return null==n}function Hw(n){return 0===n&&1/n==-1/0}function d4(n){return"number"==typeof n&&Number.isInteger(n)&&!Hw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ep={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eS={nullValue:"NULL_VALUE"};function Kg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fP(n)?4:g4(n)?9007199254740991:10:xt()}function yd(n,e){if(n===e)return!0;const t=Kg(n);if(t!==Kg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uw(n).isEqual(Uw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Xf(i.timestampValue),c=Xf(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Wg(n.bytesValue).isEqual(Wg(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return vr(i.geoPointValue.latitude)===vr(r.geoPointValue.latitude)&&vr(i.geoPointValue.longitude)===vr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return vr(i.integerValue)===vr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=vr(i.doubleValue),c=vr(r.doubleValue);return s===c?Hw(s)===Hw(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return By(n.arrayValue.values||[],e.arrayValue.values||[],yd);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(a4(s)!==a4(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!yd(s[d],c[d])))return!1;return!0}(n,e);default:return xt()}var r}function Gw(n,e){return void 0!==(n.values||[]).find(t=>yd(t,e))}function tp(n,e){if(n===e)return 0;const t=Kg(n),i=Kg(e);if(t!==i)return gn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=vr(r.integerValue||r.doubleValue),d=vr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return h4(n.timestampValue,e.timestampValue);case 4:return h4(Uw(n),Uw(e));case 5:return gn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=Wg(r),d=Wg(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const g=gn(c[f],d[f]);if(0!==g)return g}return gn(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=gn(vr(r.latitude),vr(s.latitude));return 0!==c?c:gn(vr(r.longitude),vr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let f=0;f<c.length&&f<d.length;++f){const g=tp(c[f],d[f]);if(g)return g}return gn(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===ep.mapValue&&s===ep.mapValue)return 0;if(r===ep.mapValue)return 1;if(s===ep.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const C=gn(d[b],g[b]);if(0!==C)return C;const N=tp(c[d[b]],f[g[b]]);if(0!==N)return N}return gn(d.length,g.length)}(n.mapValue,e.mapValue);default:throw xt()}}function h4(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gn(n,e);const t=Xf(n),i=Xf(e),r=gn(t.seconds,i.seconds);return 0!==r?r:gn(t.nanos,i.nanos)}function Uy(n){return pP(n)}function pP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Xf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wg(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=pP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${pP(i.fields[d])}`;return s+"}"}(n.mapValue):xt();var e}function Yg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gP(n){return!!n&&"integerValue"in n}function $w(n){return!!n&&"arrayValue"in n}function f4(n){return!!n&&"nullValue"in n}function p4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tS(n){return!!n&&"mapValue"in n}function zw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qg(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function BJ(n){return"nullValue"in n?eS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yg(Ah.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xt()}function VJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yg(Ah.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ep:xt()}function m4(n,e){const t=tp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _4(n,e){const t=tp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!tS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zw(t)}setAll(e){let t=_r.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=zw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());tS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];tS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){qg(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ws(zw(this.value))}}function y4(n){const e=[];return qg(n.fields,(t,i)=>{const r=new _r([t]);if(tS(i)){const s=y4(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Al(e)}class Mi{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Mi(e,0,rn.min(),rn.min(),Ws.empty(),0)}static newFoundDocument(e,t,i){return new Mi(e,1,t,rn.min(),i,0)}static newNoDocument(e,t){return new Mi(e,2,t,rn.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new Mi(e,3,t,rn.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UJ{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ut=null}}function v4(n,e=null,t=[],i=[],r=null,s=null,c=null){return new UJ(n,e,t,i,r,s,c)}function Qg(n){const e=yt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Uy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),jw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Uy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Uy(i)).join(",")),e.ut=t}return e.ut}function Zw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!KJ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!yd(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!D4(n.startAt,e.startAt)&&D4(n.endAt,e.endAt)}function nS(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function iS(n,e){return n.filters.filter(t=>t instanceof Ks&&t.field.isEqual(e))}function b4(n,e,t){let i=eS,r=!0;for(const s of iS(n,e)){let c=eS,d=!0;switch(s.op){case"<":case"<=":c=BJ(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=eS}m4({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];m4({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function w4(n,e,t){let i=ep,r=!0;for(const s of iS(n,e)){let c=ep,d=!0;switch(s.op){case">=":case">":c=VJ(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=ep}_4({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];_4({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Ks extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new HJ(e,t,i):"array-contains"===t?new zJ(e,i):"in"===t?new ZJ(e,i):"not-in"===t?new qJ(e,i):"array-contains-any"===t?new WJ(e,i):new Ks(e,t,i)}static ct(e,t,i){return"in"===t?new GJ(e,i):new $J(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(tp(t,this.value)):null!==t&&Kg(this.value)===Kg(t)&&this.at(tp(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class HJ extends Ks{constructor(e,t,i){super(e,t,i),this.key=mt.fromName(i.referenceValue)}matches(e){const t=mt.comparator(e.key,this.key);return this.at(t)}}class GJ extends Ks{constructor(e,t){super(e,"in",t),this.keys=C4(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $J extends Ks{constructor(e,t){super(e,"not-in",t),this.keys=C4(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function C4(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>mt.fromName(i.referenceValue))}class zJ extends Ks{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $w(t)&&Gw(t.arrayValue,this.value)}}class ZJ extends Ks{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gw(this.value.arrayValue,t)}}class qJ extends Ks{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gw(this.value.arrayValue,t)}}class WJ extends Ks{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gw(this.value.arrayValue,i))}}class np{constructor(e,t){this.position=e,this.inclusive=t}}class jy{constructor(e,t="asc"){this.field=e,this.dir=t}}function KJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function E4(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?mt.comparator(mt.fromName(c.referenceValue),t.key):tp(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function D4(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yd(n.position[t],e.position[t]))return!1;return!0}class xh{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.lt=null,this.ft=null}}function T4(n,e,t,i,r,s,c,d){return new xh(n,e,t,i,r,s,c,d)}function Hy(n){return new xh(n)}function I4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _P(n){for(const e of n.filters)if(e.ht())return e.field;return null}function yP(n){return null!==n.collectionGroup}function Gy(n){const e=yt(n);if(null===e.lt){e.lt=[];const t=_P(e),i=mP(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new jy(t)),e.lt.push(new jy(_r.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new jy(_r.keyField(),s))}}}return e.lt}function ja(n){const e=yt(n);if(!e.ft)if("F"===e.limitType)e.ft=v4(e.path,e.collectionGroup,Gy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Gy(e))t.push(new jy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new np(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new np(e.startAt.position,e.startAt.inclusive):null;e.ft=v4(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function rS(n,e,t){return new xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qw(n,e){return Zw(ja(n),ja(e))&&n.limitType===e.limitType}function S4(n){return`${Qg(ja(n))}|lt:${n.limitType}`}function vP(n){return`Query(target=${function jJ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Uy(i.value)}`;var i}).join(", ")}]`),jw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Uy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Uy(t)).join(",")),`Target(${e})`}(ja(n))}; limitType=${n.limitType})`}function bP(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):mt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=E4(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,Gy(t),i)||t.endAt&&!function(r,s,c){const d=E4(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,Gy(t),i)));var t,i}function A4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function x4(n){return(e,t)=>{let i=!1;for(const r of Gy(n)){const s=YJ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function YJ(n,e,t){const i=n.field.isKeyField()?mt.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),f=c.data.field(r);return null!==d&&null!==f?tp(d,f):xt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}function k4(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hw(e)?"-0":e}}function N4(n){return{integerValue:""+n}}function M4(n,e){return d4(e)?N4(e):k4(n,e)}class sS{constructor(){this._=void 0}}function QJ(n,e,t){return n instanceof $y?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Jg?R4(n,e):n instanceof Xg?P4(n,e):function(i,r){const s=O4(i,r),c=F4(s)+F4(i._t);return gP(s)&&gP(i._t)?N4(c):k4(i.wt,c)}(n,e)}function JJ(n,e,t){return n instanceof Jg?R4(n,e):n instanceof Xg?P4(n,e):t}function O4(n,e){return n instanceof zy?gP(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class $y extends sS{}class Jg extends sS{constructor(e){super(),this.elements=e}}function R4(n,e){const t=L4(e);for(const i of n.elements)t.some(r=>yd(r,i))||t.push(i);return{arrayValue:{values:t}}}class Xg extends sS{constructor(e){super(),this.elements=e}}function P4(n,e){let t=L4(e);for(const i of n.elements)t=t.filter(r=>!yd(r,i));return{arrayValue:{values:t}}}class zy extends sS{constructor(e,t){super(),this.wt=e,this._t=t}}function F4(n){return vr(n.integerValue||n.doubleValue)}function L4(n){return $w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ww{constructor(e,t){this.field=e,this.transform=t}}class eX{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class aS{}function B4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qy(n.key,or.none()):new Zy(n.key,n.data,or.none());{const t=n.data,i=Ws.empty();let r=new hi(_r.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new kh(n.key,i,new Al(r.toArray()),or.none())}}function tX(n,e,t){n instanceof Zy?function(i,r,s){const c=i.value.clone(),d=j4(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof kh?function(i,r,s){if(!oS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=j4(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(U4(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kw(n,e,t,i){return n instanceof Zy?function(r,s,c,d){if(!oS(r.precondition,s))return c;const f=r.value.clone(),g=H4(r.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof kh?function(r,s,c,d){if(!oS(r.precondition,s))return c;const f=H4(r.fieldTransforms,d,s),g=s.data;return g.setAll(U4(r)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(c=t,oS(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function nX(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=O4(i.transform,r||null);null!=s&&(null===t&&(t=Ws.empty()),t.set(i.field,s))}return t||null}function V4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&By(t,i,(r,s)=>function XJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Jg&&i instanceof Jg||t instanceof Xg&&i instanceof Xg?By(t.elements,i.elements,yd):t instanceof zy&&i instanceof zy?yd(t._t,i._t):t instanceof $y&&i instanceof $y);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Zy extends aS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kh extends aS{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function j4(n,e,t){const i=new Map;an(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,JJ(c,d,t[r]))}return i}function H4(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,QJ(s,c,e))}return i}class qy extends aS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wP extends aS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iX{constructor(e){this.count=e}}var jr,jn;function G4(n){switch(n){default:return xt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function $4(n){if(void 0===n)return Dr("GRPC error has no .code"),xe.UNKNOWN;switch(n){case jr.OK:return xe.OK;case jr.CANCELLED:return xe.CANCELLED;case jr.UNKNOWN:return xe.UNKNOWN;case jr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case jr.INTERNAL:return xe.INTERNAL;case jr.UNAVAILABLE:return xe.UNAVAILABLE;case jr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case jr.NOT_FOUND:return xe.NOT_FOUND;case jr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case jr.ABORTED:return xe.ABORTED;case jr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case jr.DATA_LOSS:return xe.DATA_LOSS;default:return xt()}}(jn=jr||(jr={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class ip{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qg(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return l4(this.inner)}size(){return this.innerSize}}const rX=new yr(mt.comparator);function Ha(){return rX}const z4=new yr(mt.comparator);function Yw(...n){let e=z4;for(const t of n)e=e.insert(t.key,t);return e}function Z4(n){let e=z4;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vd(){return Qw()}function q4(){return Qw()}function Qw(){return new ip(n=>n.toString(),(n,e)=>n.isEqual(e))}const sX=new yr(mt.comparator),oX=new hi(mt.comparator);function En(...n){let e=oX;for(const t of n)e=e.add(t);return e}const aX=new hi(gn);function lS(){return aX}class Jw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Xw.createSynthesizedTargetChangeForCurrentChange(e,t)),new Jw(rn.min(),i,lS(),Ha(),En())}}class Xw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Xw(es.EMPTY_BYTE_STRING,t,En(),En(),En())}}class cS{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class W4{constructor(e,t){this.targetId=e,this.It=t}}class K4{constructor(e,t,i=es.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Y4{constructor(){this.Tt=0,this.Et=J4(),this.At=es.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=En(),t=En(),i=En();return this.Et.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xt()}}),new Xw(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=J4()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class lX{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Ha(),this.Bt=Q4(),this.Lt=new hi(gn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Mt(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const s=r.target;if(nS(s))if(0===i){const c=new mt(s.path);this.Kt(t,c,Mi.newNoDocument(c,rn.min()))}else an(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,c)=>{const d=this.Ht(c);if(d){if(s.current&&nS(d.target)){const f=new mt(d.target.path);null!==this.$t.get(f)||this.Xt(c,f)||this.Kt(c,f,Mi.newNoDocument(f,e))}s.vt&&(t.set(c,s.St()),s.Dt())}});let i=En();this.Bt.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const g=this.Ht(f);return!g||2===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(e));const r=new Jw(e,t,this.Lt,this.$t,i);return this.$t=Ha(),this.Bt=Q4(),this.Lt=new hi(gn),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Y4,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new hi(gn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Y4),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function Q4(){return new yr(mt.comparator)}function J4(){return new yr(mt.comparator)}const cX={asc:"ASCENDING",desc:"DESCENDING"},uX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dX{constructor(e,t){this.databaseId=e,this.dt=t}}function eC(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X4(n,e){return n.dt?e.toBase64():e.toUint8Array()}function hX(n,e){return eC(n,e.toTimestamp())}function vs(n){return an(!!n),rn.fromTimestamp(function(e){const t=Xf(e);return new Ki(t.seconds,t.nanos)}(n))}function CP(n,e){return(t=n,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eG(n){const e=Un.fromString(n);return an(cG(e)),e}function tC(n,e){return CP(n.databaseId,e.path)}function bd(n,e){const t=eG(e);if(t.get(1)!==n.databaseId.projectId)throw new Xe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Xe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mt(nG(t))}function EP(n,e){return CP(n.databaseId,e)}function tG(n){const e=eG(n);return 4===e.length?Un.emptyPath():nG(e)}function nC(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nG(n){return an(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iG(n,e,t){return{name:tC(n,e),fields:t.value.mapValue.fields}}function rG(n,e,t){const i=bd(n,e.name),r=vs(e.updateTime),s=new Ws({mapValue:{fields:e.fields}}),c=Mi.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function iC(n,e){let t;if(e instanceof Zy)t={update:iG(n,e.key,e.value)};else if(e instanceof qy)t={delete:tC(n,e.key)};else if(e instanceof kh)t={update:iG(n,e.key,e.data),updateMask:wX(e.fieldMask)};else{if(!(e instanceof wP))return xt();t={verify:tC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof $y)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zy)return{fieldPath:s.field.canonicalString(),increment:c._t};throw xt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:hX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:xt()),t;var r}function DP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?or.updateTime(vs(r.updateTime)):void 0!==r.exists?or.exists(r.exists):or.none():or.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(an("REQUEST_TIME"===c.setToServerValue),d=new $y):"appendMissingElements"in c?d=new Jg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Xg(c.removeAllFromArray.values||[]):"increment"in c?d=new zy(s,c.increment):xt();const f=_r.fromServerFormat(c.fieldPath);return new Ww(f,d)}(n,r)):[];var r;if(e.update){const r=bd(n,e.update.name),s=new Ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Al((e.updateMask.fieldPaths||[]).map(g=>_r.fromServerFormat(g)));return new kh(r,s,c,t,i)}return new Zy(r,s,t,i)}if(e.delete){const r=bd(n,e.delete);return new qy(r,t)}if(e.verify){const r=bd(n,e.verify);return new wP(r,t)}return xt()}function sG(n,e){return{documents:[EP(n,e.path)]}}function oG(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=EP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=EP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const g=f.map(b=>function(C){if("=="===C.op){if(p4(C.value))return{unaryFilter:{field:Wy(C.field),op:"IS_NAN"}};if(f4(C.value))return{unaryFilter:{field:Wy(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(p4(C.value))return{unaryFilter:{field:Wy(C.field),op:"IS_NOT_NAN"}};if(f4(C.value))return{unaryFilter:{field:Wy(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wy(C.field),op:yX(C.op),value:C.value}}}(b));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:Wy((b=g).field),direction:_X(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(g=e.limit,n.dt||jw(g)?g:{value:g});var g,d,f;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function aG(n){let e=tG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){an(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=lG(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new jy(Ky((C=b).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let d=null;t.limit&&(d=function(b){let C;return C="object"==typeof b?b.value:b,jw(C)?null:C}(t.limit));let f=null;var b;t.startAt&&(f=new np((b=t.startAt).values||[],!!b.before));let g=null;return t.endAt&&(g=function(b){return new np(b.values||[],!b.before)}(t.endAt)),T4(e,r,c,s,d,"F",f,g)}function lG(n){return n?void 0!==n.unaryFilter?[bX(n)]:void 0!==n.fieldFilter?[vX(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>lG(e)).reduce((e,t)=>e.concat(t)):xt():[]}function _X(n){return cX[n]}function yX(n){return uX[n]}function Wy(n){return{fieldPath:n.canonicalString()}}function Ky(n){return _r.fromServerFormat(n.fieldPath)}function vX(n){return Ks.create(Ky(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}function bX(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ky(n.unaryFilter.field);return Ks.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ky(n.unaryFilter.field);return Ks.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ky(n.unaryFilter.field);return Ks.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ky(n.unaryFilter.field);return Ks.create(r,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}function wX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ea(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uG(e)),e=CX(n.get(t),e);return uG(e)}function CX(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function uG(n){return n+"\x01\x01"}function wd(n){const e=n.length;if(an(e>=2),2===e)return an("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&xt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:xt()}s=c+2}return new Un(i)}const dG=["userId","batchId"];function uS(n,e){return[n,ea(e)]}function hG(n,e,t){return[n,ea(e),t]}const EX={},DX=["prefixPath","collectionGroup","readTime","documentId"],TX=["prefixPath","collectionGroup","documentId"],IX=["collectionGroup","readTime","prefixPath","documentId"],SX=["canonicalId","targetId"],AX=["targetId","path"],xX=["path","targetId"],kX=["collectionId","parent"],NX=["indexId","uid"],MX=["uid","sequenceNumber"],OX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RX=["indexId","uid","orderedDocumentKey"],PX=["userId","collectionPath","documentId"],FX=["userId","collectionPath","largestBatchId"],LX=["userId","collectionGroup","largestBatchId"],fG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],BX=[...fG,"documentOverlays"],pG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gG=pG,VX=[...gG,"indexConfiguration","indexState","indexEntries"];class TP extends s4{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function bs(n,e){const t=yt(n);return Su.N(t.ee,e)}class IP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&tX(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Kw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Kw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=q4();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=t.has(r.key)?null:d;const f=B4(c,d);null!==f&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(rn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&By(this.mutations,e.mutations,(t,i)=>V4(t,i))&&By(this.baseMutations,e.baseMutations,(t,i)=>V4(t,i))}}class SP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){an(e.mutations.length===i.length);let r=sX;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new SP(e,t,i,r)}}class AP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rp{constructor(e,t,i,r,s=rn.min(),c=rn.min(),d=es.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new rp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mG{constructor(e){this.ne=e}}function _G(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:tC(r=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:eC(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:em(e.version)};else{if(!e.isUnknownDocument())return xt();i.unknownDocument={path:t.path.toArray(),version:em(e.version)}}var r,s;return i}function dS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function em(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tm(n){const e=new Ki(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function nm(n,e){const t=(e.baseMutations||[]).map(s=>DP(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>DP(n.ne,s)),r=Ki.fromMillis(e.localWriteTimeMs);return new IP(e.batchId,r,t,i)}function rC(n){const e=tm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tm(n.lastLimboFreeSnapshotVersion):rn.min();let i;var r;return void 0!==n.query.documents?(an(1===(r=n.query).documents.length),i=ja(Hy(tG(r.documents[0])))):i=ja(aG(n.query)),new rp(i,n.targetId,0,n.lastListenSequenceNumber,e,t,es.fromBase64String(n.resumeToken))}function yG(n,e){const t=em(e.snapshotVersion),i=em(e.lastLimboFreeSnapshotVersion);let r;r=nS(e.target)?sG(n.ne,e.target):oG(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qg(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function xP(n){const e=aG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rS(e,e.limit,"L"):e}function kP(n,e){return new AP(e.largestBatchId,DP(n.ne,e.overlayMutation))}function vG(n,e){const t=e.path.lastSegment();return[n,ea(e.path.popLast()),t]}function bG(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:em(i.readTime),documentKey:ea(i.documentKey.path),largestBatchId:i.largestBatchId}}class jX{getBundleMetadata(e,t){return wG(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:tm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return wG(e).put({bundleId:(i=t).id,createTime:em(vs(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return CG(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:xP(r.bundledQuery),readTime:tm(r.readTime)};var r})}saveNamedQuery(e,t){return CG(e).put({name:(i=t).name,readTime:em(vs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function wG(n){return bs(n,"bundles")}function CG(n){return bs(n,"namedQueries")}class hS{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new hS(e,t.uid||"")}getOverlay(e,t){return sC(e).get(vG(this.userId,t)).next(i=>i?kP(this.wt,i):null)}getOverlays(e,t){const i=vd();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new AP(t,c);r.push(this.ie(e,d))}),De.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(ea(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(sC(e).W("collectionPathOverlayIndex",d))}),De.waitFor(s)}getOverlaysForCollection(e,t,i){const r=vd(),s=ea(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sC(e).K("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const g=kP(this.wt,f);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=vd();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sC(e).J({index:"collectionGroupOverlayIndex",range:d},(f,g,b)=>{const C=kP(this.wt,g);s.size()<r||C.largestBatchId===c?(s.set(C.getKey(),C),c=C.largestBatchId):b.done()}).next(()=>s)}ie(e,t){return sC(e).put(function(i,r,s){const[c,d,f]=vG(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:iC(i.ne,s.mutation)}}(this.wt,this.userId,t))}}function sC(n){return bs(n,"documentOverlays")}class im{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(vr(e.integerValue));else if("doubleValue"in e){const i=vr(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),Hw(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Wg(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?g4(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):xt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),mt.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function HX(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function EG(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=HX(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}im.ye=new im;class GX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=EG(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=EG(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $X{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class zX{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class oC{constructor(){this.Oe=new GX,this.Fe=new $X(this.Oe),this.$e=new zX(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class rm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new rm(this.indexId,this.documentKey,this.arrayValue,i)}}function sm(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=DG(n.arrayValue,e.arrayValue),0!==t?t:(t=DG(n.directionalValue,e.directionalValue),0!==t?t:mt.comparator(n.documentKey,e.documentKey)))}function DG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ZX{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=cP(e);if(void 0!==t&&!this.Qe(t))return!1;const i=zg(e);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class qX{constructor(){this.ze=new NP}addToCollectionParentIndex(e,t){return this.ze.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(Sl.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(Sl.min())}updateCollectionGroup(e,t,i){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class NP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hi(Un.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hi(Un.comparator)).toArray()}}const fS=new Uint8Array(0);class WX{constructor(e,t){this.user=e,this.databaseId=t,this.He=new NP,this.Je=new ip(i=>Qg(i),(i,r)=>Zw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:i,parent:ea(r)};return TG(e).put(s)}return De.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[t4(t),""],!1,!0);return TG(e).K(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(wd(c.parent))}return i})}addFieldIndex(e,t){const i=pS(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=lC(e);return s.next(d=>{c.put(bG(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=pS(e),r=lC(e),s=aC(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=aC(e);let r=!0;const s=new Map;return De.forEach(this.Ye(t),c=>this.Xe(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=En();const d=[];return De.forEach(s,(f,g)=>{var b;ot("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${Qg(t)}`);const C=function(Fe,Re){const Je=cP(Re);if(void 0===Je)return null;for(const rt of iS(Fe,Je.fieldPath))switch(rt.op){case"array-contains-any":return rt.value.arrayValue.values||[];case"array-contains":return[rt.value]}return null}(g,f),N=function(Fe,Re){const Je=new Map;for(const rt of zg(Re))for(const bt of iS(Fe,rt.fieldPath))switch(bt.op){case"==":case"in":Je.set(rt.fieldPath.canonicalString(),bt.value);break;case"not-in":case"!=":return Je.set(rt.fieldPath.canonicalString(),bt.value),Array.from(Je.values())}return null}(g,f),R=function(Fe,Re){const Je=[];let rt=!0;for(const bt of zg(Re)){const Ht=0===bt.kind?b4(Fe,bt.fieldPath,Fe.startAt):w4(Fe,bt.fieldPath,Fe.startAt);Je.push(Ht.value),rt&&(rt=Ht.inclusive)}return new np(Je,rt)}(g,f),B=function(Fe,Re){const Je=[];let rt=!0;for(const bt of zg(Re)){const Ht=0===bt.kind?w4(Fe,bt.fieldPath,Fe.endAt):b4(Fe,bt.fieldPath,Fe.endAt);Je.push(Ht.value),rt&&(rt=Ht.inclusive)}return new np(Je,rt)}(g,f),z=this.Ze(f,g,R),te=this.Ze(f,g,B),ye=this.tn(f,g,N),Te=this.en(f.indexId,C,z,R.inclusive,te,B.inclusive,ye);return De.forEach(Te,Fe=>i.j(Fe,t.limit).next(Re=>{Re.forEach(Je=>{const rt=mt.fromSegments(Je.documentKey);c.has(rt)||(c=c.add(rt),d.push(rt))})}))}).next(()=>d)}return De.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,s,c,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),g=f/(null!=t?t.length:1),b=[];for(let C=0;C<f;++C){const N=t?this.nn(t[C/g]):fS,R=this.sn(e,N,i[C%g],r),B=this.rn(e,N,s[C%g],c),z=d.map(te=>this.sn(e,N,te,!0));b.push(...this.createRange(R,B,z))}return b}sn(e,t,i,r){const s=new rm(e,mt.empty(),t,i);return r?s:s.Le()}rn(e,t,i,r){const s=new rm(e,mt.empty(),t,i);return r?s.Le():s}Xe(e,t){const i=new ZX(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.Ge(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return De.forEach(this.Ye(t),r=>this.Xe(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new hi(_r.comparator),f=!1;for(const g of c.filters){const b=g;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?f=!0:d=d.add(b.field))}for(const g of c.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new oC;for(const r of zg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Be(r.kind);im.ye.re(s,c)}return i.Me()}nn(e){const t=new oC;return im.ye.re(e,t.Be(0)),t.Me()}un(e,t){const i=new oC;return im.ye.re(Yg(this.databaseId,t),i.Be(function(r){const s=zg(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Me()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new oC);let s=0;for(const c of zg(e)){const d=i[s++];for(const f of r)if(this.cn(t,c.fieldPath)&&$w(d))r=this.an(r,c,d);else{const g=f.Be(c.kind);im.ye.re(d,g)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Me();return t}an(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const f=new oC;f.seed(d.Me()),im.ye.re(c,f.Be(t.kind)),s.push(f)}return s}cn(e,t){return!!e.filters.find(i=>i instanceof Ks&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=pS(e),r=lC(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(s=>{const c=[];return De.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(g,b){const C=b?new Bw(b.sequenceNumber,new Sl(tm(b.readTime),new mt(wd(b.documentKey)),b.largestBatchId)):Bw.empty(),N=g.fields.map(([R,B])=>new QI(_r.fromServerFormat(R),B));return new YI(g.indexId,g.collectionGroup,N,C)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:gn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=pS(e),s=lC(e);return this.ln(e).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>De.forEach(d,f=>s.put(bG(f.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return De.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?De.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),De.forEach(d,f=>this.fn(e,r,f).next(g=>{const b=this.dn(s,f);return g.isEqual(b)?De.resolve():this._n(e,s,f,g,b)}))))})}wn(e,t,i,r){return aC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return aC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=aC(e);let s=new hi(sm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(c,d)=>{s=s.add(new rm(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}dn(e,t){let i=new hi(sm);const r=this.on(t,e);if(null==r)return i;const s=cP(t);if(null!=s){const c=e.data.field(s.fieldPath);if($w(c))for(const d of c.arrayValue.values||[])i=i.add(new rm(t.indexId,e.key,this.nn(d),r))}else i=i.add(new rm(t.indexId,e.key,fS,r));return i}_n(e,t,i,r,s){ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,f,g,b,C){const N=d.getIterator(),R=f.getIterator();let B=Vy(N),z=Vy(R);for(;B||z;){let te=!1,ye=!1;if(B&&z){const Te=g(B,z);Te<0?ye=!0:Te>0&&(te=!0)}else null!=B?ye=!0:te=!0;te?(b(z),z=Vy(R)):ye?(C(B),B=Vy(N)):(B=Vy(N),z=Vy(R))}}(r,s,sm,d=>{c.push(this.wn(e,t,i,d))},d=>{c.push(this.mn(e,t,i,d))}),De.waitFor(c)}ln(e){let t=1;return lC(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>sm(c,d)).filter((c,d,f)=>!d||0!==sm(c,f[d-1]));const r=[];r.push(e);for(const c of i){const d=sm(c,e),f=sm(c,t);if(0===d)r[0]=e.Le();else if(d>0&&f<0)r.push(c),r.push(c.Le());else if(f>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,fS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,fS,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(IG)}getMinOffset(e,t){return De.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||xt())).next(IG)}}function TG(n){return bs(n,"collectionParents")}function aC(n){return bs(n,"indexEntries")}function pS(n){return bs(n,"indexConfiguration")}function lC(n){return bs(n,"indexState")}function IG(n){an(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;uP(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Sl(e.readTime,e.documentKey,t)}const SG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ga{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ga(e,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AG(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=i.J({range:c},(b,C,N)=>(d++,N.delete()));s.push(f.next(()=>{an(1===d)}));const g=[];for(const b of t.mutations){const C=hG(e,b.key.path,t.batchId);s.push(r.delete(C)),g.push(b.key)}return De.waitFor(s).next(()=>g)}function gS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xt();e=n.noDocument}return JSON.stringify(e).length}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(41943040,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);class mS{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){an(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new mS(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).J({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Yy(e),c=sp(e);return c.add({}).next(d=>{an("number"==typeof d);const f=new IP(d,t,i,r),g=function(N,R,B){const z=B.baseMutations.map(ye=>iC(N.ne,ye)),te=B.mutations.map(ye=>iC(N.ne,ye));return{userId:R,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:z,mutations:te}}(this.wt,this.userId,f),b=[];let C=new hi((N,R)=>gn(N.canonicalString(),R.canonicalString()));for(const N of r){const R=hG(this.userId,N.key.path,d);C=C.add(N.key.path.popLast()),b.push(c.put(g)),b.push(s.put(R,EX))}return C.forEach(N=>{b.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.gn[d]=f.keys()}),De.waitFor(b).next(()=>f)})}lookupMutationBatch(e,t){return sp(e).get(t).next(i=>i?(an(i.userId===this.userId),nm(this.wt,i)):null)}yn(e,t){return this.gn[t]?De.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return sp(e).J({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(an(d.batchId>=i),s=nm(this.wt,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return sp(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).K("userMutationsIndex",t).next(i=>i.map(r=>nm(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=uS(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Yy(e).J({range:r},(c,d,f)=>{const[g,b,C]=c,N=wd(b);if(g===this.userId&&t.path.isEqual(N))return sp(e).get(C).next(R=>{if(!R)throw xt();an(R.userId===this.userId),s.push(nm(this.wt,R))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hi(gn);const r=[];return t.forEach(s=>{const c=uS(this.userId,s.path),d=IDBKeyRange.lowerBound(c),f=Yy(e).J({range:d},(g,b,C)=>{const[N,R,B]=g,z=wd(R);N===this.userId&&s.path.isEqual(z)?i=i.add(B):C.done()});r.push(f)}),De.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=uS(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new hi(gn);return Yy(e).J({range:c},(f,g,b)=>{const[C,N,R]=f,B=wd(N);C===this.userId&&i.isPrefixOf(B)?B.length===r&&(d=d.add(R)):b.done()}).next(()=>this.pn(e,d))}pn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(sp(e).get(s).next(c=>{if(null===c)throw xt();an(c.userId===this.userId),i.push(nm(this.wt,c))}))}),De.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return AG(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),De.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Yy(e).J({range:i},(s,c,d)=>{if(s[0]===this.userId){const f=wd(s[1]);r.push(f)}else d.done()}).next(()=>{an(0===r.length)})})}containsKey(e,t){return xG(e,this.userId,t)}Tn(e){return kG(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xG(n,e,t){const i=uS(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Yy(n).J({range:s,H:!0},(d,f,g)=>{const[b,C,N]=d;b===e&&C===r&&(c=!0),g.done()}).next(()=>c)}function sp(n){return bs(n,"mutations")}function Yy(n){return bs(n,"documentMutations")}function kG(n){return bs(n,"mutationQueues")}class om{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new om(0)}static Rn(){return new om(-1)}}class KX{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new om(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>rn.fromTimestamp(new Ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qy(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(an(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Qy(e).J((c,d)=>{const f=rC(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>De.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Qy(e).J((i,r)=>{const s=rC(r);t(s)})}bn(e){return NG(e).get("targetGlobalKey").next(t=>(an(null!==t),t))}Pn(e,t){return NG(e).put("targetGlobalKey",t)}vn(e,t){return Qy(e).put(yG(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qg(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Qy(e).J({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const g=rC(d);Zw(t,g.target)&&(s=g,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=op(e);return t.forEach(c=>{const d=ea(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),De.waitFor(r)}removeMatchingKeys(e,t,i){const r=op(e);return De.forEach(t,s=>{const c=ea(s.path);return De.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=op(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=op(e);let s=En();return r.J({range:i,H:!0},(c,d,f)=>{const g=wd(c[1]),b=new mt(g);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=ea(t.path),r=IDBKeyRange.bound([i],[t4(i)],!1,!0);let s=0;return op(e).J({index:"documentTargetsIndex",H:!0,range:r},([c,d],f,g)=>{0!==c&&(s++,g.done())}).next(()=>s>0)}te(e,t){return Qy(e).get(t).next(i=>i?rC(i):null)}}function Qy(n){return bs(n,"targets")}function NG(n){return bs(n,"targetGlobal")}function op(n){return bs(n,"targetDocuments")}function MG([n,e],[t,i]){const r=gn(n,t);return 0===r?gn(e,i):r}class YX{constructor(e){this.Sn=e,this.buffer=new hi(MG),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();MG(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QX{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Jf(i)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Qf(i)}yield t.kn(3e5)}))}}class JX{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return De.resolve(Ua.ot);const i=new YX(t);return this.Mn.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(SG)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SG):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let i,r,s,c,d,f,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,c=Date.now(),this.nthSequenceNumber(e,r))).next(C=>(i=C,d=Date.now(),this.removeTargets(e,i,t))).next(C=>(s=C,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(C=>(g=Date.now(),aP()<=Eu.in.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${C} documents in `+(g-f)+`ms\nTotal Duration: ${g-b}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:C})))}}class XX{constructor(e,t){this.db=e,this.garbageCollector=new JX(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return _S(e,i)}removeReference(e,t,i){return _S(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return _S(e,t)}Un(e,t){return function(i,r){let s=!1;return kG(i).Y(c=>xG(i,c,r).next(d=>(d&&(s=!0),De.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(e,(c,d)=>{if(d<=t){const f=this.Un(e,c).next(g=>{if(!g)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,rn.min()),op(e).delete([0,ea(c.path)])))});r.push(f)}}).next(()=>De.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return _S(e,t)}Ln(e,t){const i=op(e);let r,s=Ua.ot;return i.J({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:g})=>{0===c?(s!==Ua.ot&&t(new mt(wd(r)),s),s=g,r=f):s=Ua.ot}).next(()=>{s!==Ua.ot&&t(new mt(wd(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _S(n,e){return op(n).put((i=n.currentSequenceNumber,{targetId:0,path:ea(e.path),sequenceNumber:i}));var i}class OG{constructor(){this.changes=new ip(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?De.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eee{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return am(e).put(i)}removeEntry(e,t,i){return am(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],dS(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Mi.newInvalidDocument(t);return am(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cC(t))},(r,s)=>{i=this.Kn(t,s)}).next(()=>i)}Gn(e,t){let i={size:0,document:Mi.newInvalidDocument(t)};return am(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cC(t))},(r,s)=>{i={document:this.Kn(t,s),size:gS(s)}}).next(()=>i)}getEntries(e,t){let i=Ha();return this.Qn(e,t,(r,s)=>{const c=this.Kn(r,s);i=i.insert(r,c)}).next(()=>i)}jn(e,t){let i=Ha(),r=new yr(mt.comparator);return this.Qn(e,t,(s,c)=>{const d=this.Kn(s,c);i=i.insert(s,d),r=r.insert(s,gS(c))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return De.resolve();let r=new hi(LG);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(cC(r.first()),cC(r.last())),c=r.getIterator();let d=c.getNext();return am(e).J({index:"documentKeyIndex",range:s},(f,g,b)=>{const C=mt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&LG(d,C)<0;)i(d,null),d=c.getNext();d&&d.isEqual(C)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?b.q(cC(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),dS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return am(e).K(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Ha();for(const f of c){const g=this.Kn(mt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(g.key,g)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ha();const c=FG(t,i),d=FG(t,Sl.max());return am(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,g,b)=>{const C=this.Kn(mt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(C.key,C),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new tee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PG(e).get("remoteDocumentGlobalKey").next(t=>(an(!!t),t))}qn(e,t){return PG(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function UX(n,e){let t;if(e.document)t=rG(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=mt.fromSegments(e.noDocument.path),r=tm(e.noDocument.readTime);t=Mi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const i=mt.fromSegments(e.unknownDocument.path),r=tm(e.unknownDocument.version);t=Mi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ki(i[0],i[1]);return rn.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(rn.min()))return i}return Mi.newInvalidDocument(e)}}function RG(n){return new eee(n)}class tee extends OG{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new ip(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new hi((s,c)=>gn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const f=_G(this.zn.wt,c);r=r.add(s.path.popLast()),i+=gS(f)-d.size,t.push(this.zn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=_G(this.zn.wt,c.convertToNoDocument(rn.min()));t.push(this.zn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,i)),De.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function PG(n){return bs(n,"remoteDocumentGlobal")}function am(n){return bs(n,"remoteDocumentsV14")}function cC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FG(n,e){const t=e.documentKey.path.toArray();return[n,dS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LG(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=gn(t[s],i[s]),r)return r;return r=gn(t.length,i.length),r||(r=gn(t[t.length-2],i[i.length-2]),r||gn(t[t.length-1],i[i.length-1]))}class nee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BG{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Kw(i.mutation,r,Al.empty(),Ki.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,En()).next(()=>i))}getLocalViewOfDocuments(e,t,i=En()){const r=vd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=Yw();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=vd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,En()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,r){let s=Ha();const c=Qw(),d=Qw();return t.forEach((f,g)=>{const b=i.get(g.key);r.has(g.key)&&(void 0===b||b.mutation instanceof kh)?s=s.insert(g.key,g):void 0!==b&&(c.set(g.key,b.mutation.getFieldMask()),Kw(b.mutation,g,b.mutation.getFieldMask(),Ki.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,b)=>c.set(g,b)),t.forEach((g,b)=>{var C;return d.set(g,new nee(b,null!==(C=c.get(g))&&void 0!==C?C:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Qw();let r=new yr((c,d)=>c-d),s=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let b=i.get(f)||Al.empty();b=d.applyToLocalView(g,b),i.set(f,b);const C=(r.get(d.batchId)||En()).add(f);r=r.insert(d.batchId,C)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,C=q4();b.forEach(N=>{if(!s.has(N)){const R=B4(t.get(N),i.get(N));null!==R&&C.set(N,R),s=s.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,C))}return De.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return mt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):De.resolve(vd());let d=-1,f=s;return c.next(g=>De.forEach(g,(b,C)=>(d<C.largestBatchId&&(d=C.largestBatchId),s.get(b)?De.resolve():this.getBaseDocument(e,b,C).next(N=>{f=f.insert(b,N)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,En())).next(b=>({batchId:d,changes:Z4(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mt(t)).next(i=>{let r=Yw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Yw();return this.indexManager.getCollectionParents(e,r).next(c=>De.forEach(c,d=>{const f=(g=t,b=d.child(r),new xh(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(g=>{g.forEach((b,C)=>{s=s.insert(b,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const g=f.getKey();null===r.get(g)&&(r=r.insert(g,Mi.newInvalidDocument(g)))});let c=Yw();return r.forEach((d,f)=>{const g=s.get(d);void 0!==g&&Kw(g.mutation,f,Al.empty(),Ki.now()),bP(t,f)&&(c=c.insert(d,f))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):De.resolve(Mi.newInvalidDocument(t))}}class iee{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return De.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:vs(i.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:xP(i.bundledQuery),readTime:vs(i.readTime)}),De.resolve();var i}}class ree{constructor(){this.overlays=new yr(mt.comparator),this.Xn=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vd();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ie(e,t,s)}),De.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),De.resolve()}getOverlaysForCollection(e,t,i){const r=vd(),s=t.length+1,c=new mt(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return De.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new yr((g,b)=>g-b);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let b=s.get(g.largestBatchId);null===b&&(b=vd(),s=s.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=vd(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=r)););return De.resolve(d)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AP(t,i));let s=this.Xn.get(t);void 0===s&&(s=En(),this.Xn.set(t,s)),this.Xn.set(t,s.add(i.key))}}class MP{constructor(){this.Zn=new hi(ws.ts),this.es=new hi(ws.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new ws(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new ws(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new mt(new Un([])),i=new ws(t,e),r=new ws(t,e+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new mt(new Un([])),i=new ws(t,e),r=new ws(t,e+1);let s=En();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new ws(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ws{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return mt.comparator(e.key,t.key)||gn(e.ls,t.ls)}static ns(e,t){return gn(e.ls,t.ls)||mt.comparator(e.key,t.key)}}class see{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new hi(ws.ts)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.fs;this.fs++;const c=new IP(s,t,i,r);this.mutationQueue.push(c);for(const d of r)this.ds=this.ds.add(new ws(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return De.resolve(c)}lookupMutationBatch(e,t){return De.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),s=r<0?0:r;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ws(t,0),r=new ws(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const d=this._s(c.ls);s.push(d)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hi(gn);return t.forEach(r=>{const s=new ws(r,0),c=new ws(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],d=>{i=i.add(d.ls)})}),De.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;mt.isDocumentKey(s)||(s=s.child(""));const c=new ws(new mt(s),0);let d=new hi(gn);return this.ds.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.ls)),!0)},c),De.resolve(this.gs(d))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){an(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return De.forEach(t.mutations,r=>{const s=new ws(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new ws(t,0),r=this.ds.firstAfterOrEqual(i);return De.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return De.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class oee{constructor(e){this.ps=e,this.docs=new yr(mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return De.resolve(i?i.document.mutableCopy():Mi.newInvalidDocument(t))}getEntries(e,t){let i=Ha();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mi.newInvalidDocument(r))}),De.resolve(i)}getAllFromCollection(e,t,i){let r=Ha();const s=new mt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||uP(i4(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return De.resolve(r)}getAllFromCollectionGroup(e,t,i,r){xt()}Is(e,t){return De.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new aee(this)}getSize(e){return De.resolve(this.size)}}class aee extends OG{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),De.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class lee{constructor(e){this.persistence=e,this.Ts=new ip(t=>Qg(t),Zw),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Es=0,this.As=new MP,this.targetCount=0,this.Rs=om.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),De.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new om(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.vn(t),De.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Ts.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),De.waitFor(s).next(()=>r)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return De.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),De.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),De.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return De.resolve(i)}containsKey(e,t){return De.resolve(this.As.containsKey(t))}}class VG{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ua(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new lee(this),this.indexManager=new qX,this.remoteDocumentCache=new oee(i=>this.referenceDelegate.Ss(i)),this.wt=new mG(t),this.Ds=new iee(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ree,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new see(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){ot("MemoryPersistence","Starting transaction:",e);const r=new cee(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(e,t){return De.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class cee extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class yS{constructor(e){this.persistence=e,this.ks=new MP,this.Ms=null}static Os(e){return new yS(e)}get Fs(){if(this.Ms)return this.Ms;throw xt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),De.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),De.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Fs,i=>{const r=mt.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r,rn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return De.or([()=>De.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class uee{constructor(e){this.wt=e}M(e,t,i,r){const s=new JI("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dG,{unique:!0}),d.createObjectStore("documentMutations"),UG(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=De.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),UG(e)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",g)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,f){return f.store("mutations").K().next(g=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dG,{unique:!0});const b=f.store("mutations"),C=g.map(N=>b.put(N));return De.waitFor(C)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),i<7&&r>=7&&(c=c.next(()=>this.Us(s))),i<8&&r>=8&&(c=c.next(()=>this.qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:PX});f.createIndex("collectionPathOverlayIndex",FX,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",LX,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:DX});f.createIndex("documentKeyIndex",TX),f.createIndex("collectionGroupIndex",IX)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:NX}).createIndex("sequenceNumberIndex",MX,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:OX}).createIndex("documentKeyIndex",RX,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=gS(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>De.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(d=>De.forEach(d,f=>{an(f.userId===s.userId);const g=nm(this.wt,f);return AG(e,s.userId,g).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((c,d)=>{const f=new Un(c),g=[0,ea(f)];s.push(t.get(g).next(b=>b?De.resolve():t.put({targetId:0,path:ea(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>De.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:kX});const i=t.store("collectionParents"),r=new NP,s=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return i.put({collectionId:d,parent:ea(f)})}};return t.store("remoteDocuments").J({H:!0},(c,d)=>{const f=new Un(c);return s(f.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,d,f],g)=>{const b=wd(d);return s(b.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const s=rC(r),c=yG(this.wt,s);return t.put(c)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,c)=>{const d=t.store("remoteDocumentsV14"),f=(g=c,g.document?new mt(Un.fromString(g.document.name).popFirst(5)):g.noDocument?mt.fromSegments(g.noDocument.path):g.unknownDocument?mt.fromSegments(g.unknownDocument.path):xt()).path.toArray();var g;const b={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>De.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=RG(this.wt),s=new VG(yS.Os,this.wt.ne);return i.K().next(c=>{const d=new Map;return c.forEach(f=>{var g;let b=null!==(g=d.get(f.userId))&&void 0!==g?g:En();nm(this.wt,f).keys().forEach(C=>b=b.add(C)),d.set(f.userId,b)}),De.forEach(d,(f,g)=>{const b=new _s(g),C=hS.se(this.wt,b),N=s.getIndexManager(b),R=mS.se(b,this.wt,N,s.referenceDelegate);return new BG(r,R,C,N).recalculateAndSaveOverlaysForDocumentKeys(new TP(t,Ua.ot),f).next()})})}}function UG(n){n.createObjectStore("targetDocuments",{keyPath:AX}).createIndex("documentTargetsIndex",xX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SX,{unique:!0}),n.createObjectStore("targetGlobal")}const OP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RP{constructor(e,t,i,r,s,c,d,f,g,b,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=s,this.window=c,this.document=d,this.Ws=g,this.zs=b,this.Hs=C,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=N=>Promise.resolve(),!RP.V())throw new Xe(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XX(this,r),this.ei=t+"main",this.wt=new mG(f),this.ni=new Su(this.ei,this.Hs,new uee(this.wt)),this.Vs=new KX(this.referenceDelegate,this.wt),this.remoteDocumentCache=RG(this.wt),this.Ds=new jX,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===b&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(xe.FAILED_PRECONDITION,OP);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ua(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Pe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Pe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Jf(e))return ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return uC(e).get("owner").next(t=>De.resolve(this.di(t)))}_i(e){return vS(e).delete(this.clientId)}wi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=bs(i,"clientMetadata");return r.K().next(s=>{const c=e.gi(s,18e5),d=s.filter(f=>-1===c.indexOf(f));return De.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?De.resolve(!0):uC(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Xe(xe.FAILED_PRECONDITION,OP);return!1}}return!(!this.networkEnabled||!this.inForeground)||vS(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new TP(t,Ua.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>vS(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return mS.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WX(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return hS.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){ot("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Hs)?VX:14===c?gG:13===c?pG:12===c?BX:11===c?fG:void xt();var c;let d;return this.ni.runTransaction(e,r,s,f=>(d=new TP(f,this.Ps?this.Ps.next():Ua.ot),"readwrite-primary"===t?this.ai(d).next(g=>!!g||this.hi(d)).next(g=>{if(!g)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Xe(xe.FAILED_PRECONDITION,r4);return i(d)}).next(g=>this.fi(d).next(()=>g)):this.bi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}bi(e){return uC(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xe(xe.FAILED_PRECONDITION,OP)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uC(e).put("owner",t)}static V(){return Su.V()}li(e){const t=uC(e);return t.get("owner").next(i=>this.di(i)?(ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Dr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,U.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ot("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Dr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uC(n){return bs(n,"owner")}function vS(n){return bs(n,"clientMetadata")}function PP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class FP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=En(),r=En();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new FP(e,t.fromCache,i,r)}}class jG{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(s=>s||this.xi(e,t,r,i)).next(s=>s||this.Ni(e,t))}Ci(e,t){if(I4(t))return De.resolve(null);let i=ja(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=rS(t,null,"F"),i=ja(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=En(...s);return this.Di.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.ki(t,d);return this.Mi(t,g,c,f.readTime)?this.Ci(e,rS(t,null,"F")):this.Oi(e,g,t,f)}))})))}xi(e,t,i,r){return I4(t)||r.isEqual(rn.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(s=>{const c=this.ki(t,s);return this.Mi(t,c,i,r)?this.Ni(e,t):(aP()<=Eu.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vP(t)),this.Oi(e,c,t,n4(r,-1)))})}ki(e,t){let i=new hi(x4(e));return t.forEach((r,s)=>{bP(e,s)&&(i=i.add(s))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(e,t){return aP()<=Eu.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",vP(t)),this.Di.getDocumentsMatchingQuery(e,t,Sl.min())}Oi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class dee{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new yr(gn),this.Bi=new ip(s=>Qg(s),Zw),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BG(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function HG(n,e,t,i){return new dee(n,e,t,i)}function GG(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Pe.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let f=En();for(const g of r){c.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of s){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(i,f).next(g=>({Ki:g,removedBatchIds:c,addedBatchIds:d}))})})}),LP.apply(this,arguments)}function hee(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,d,f,g){const b=f.batch,C=b.keys();let N=De.resolve();return C.forEach(R=>{N=N.next(()=>g.getEntry(d,R)).next(B=>{const z=f.docVersions.get(R);an(null!==z),B.version.compareTo(z)<0&&(b.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),g.addEntry(B)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=En();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function $G(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function fee(n,e){const t=yt(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const d=[];e.targetChanges.forEach((b,C)=>{const N=r.get(C);if(!N)return;d.push(t.Vs.removeMatchingKeys(s,b.removedDocuments,C).next(()=>t.Vs.addMatchingKeys(s,b.addedDocuments,C)));let R=N.withSequenceNumber(s.currentSequenceNumber);var B,z,te;e.targetMismatches.has(C)?R=R.withResumeToken(es.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(C,R),z=R,te=b,(0===(B=N).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&d.push(t.Vs.updateTargetData(s,R))});let f=Ha(),g=En();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(zG(s,c,e.documentUpdates).next(b=>{f=b.Gi,g=b.Qi})),!i.isEqual(rn.min())){const b=t.Vs.getLastRemoteSnapshotVersion(s).next(C=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return De.waitFor(d).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.$i=r,s))}function zG(n,e,t){let i=En(),r=En();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=Ha();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(rn.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ot("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Gi:c,Qi:r}})}function pee(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jy(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(s=>s?(r=s,De.resolve(r)):t.Vs.allocateTargetId(i).next(c=>(r=new rp(e,c,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function Xy(n,e,t){return BP.apply(this,arguments)}function BP(){return BP=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=i.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Jf(c))throw c;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),BP.apply(this,arguments)}function bS(n,e,t){const i=yt(n);let r=rn.min(),s=En();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,f,g){const b=yt(d),C=b.Bi.get(g);return void 0!==C?De.resolve(b.$i.get(C)):b.Vs.getTargetData(f,g)}(i,c,ja(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,e,t?r:rn.min(),t?s:En())).next(d=>(WG(i,A4(e),d),{documents:d,ji:s})))}function ZG(n,e){const t=yt(n),i=yt(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.te(s,e).next(c=>c?c.target:null))}function qG(n,e){const t=yt(n),i=t.Li.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,n4(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(WG(t,e,r),r))}function WG(n,e,t){let i=rn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(e,i)}function VP(){return VP=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n);let s=En(),c=Ha();for(const g of t){const b=e.Wi(g.metadata.name);g.document&&(s=s.add(b));const C=e.zi(g);C.setReadTime(e.Hi(g.metadata.readTime)),c=c.insert(b,C)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),f=yield Jy(r,(g=i,ja(Hy(Un.fromString(`__bundle__/docs/${g}`)))));var g;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>zG(g,d,c).next(b=>(d.apply(g),b)).next(b=>r.Vs.removeMatchingKeysForTargetId(g,f.targetId).next(()=>r.Vs.addMatchingKeys(g,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,b.Gi,b.Qi)).next(()=>b.Gi)))}),VP.apply(this,arguments)}function mee(n,e){return UP.apply(this,arguments)}function UP(){return UP=(0,Pe.Z)(function*(n,e,t=En()){const i=yield Jy(n,ja(xP(e.bundledQuery))),r=yt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=vs(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(s,e);const d=i.withResumeToken(es.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(s,d).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,e))})}),UP.apply(this,arguments)}function KG(n,e){return`firestore_clients_${n}_${e}`}function YG(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function jP(n,e){return`firestore_targets_${n}_${e}`}class wS{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Xe(r.error.code,r.error.message))),c?new wS(e,t,r.state,s):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dC{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Xe(i.error.code,i.error.message))),s?new dC(e,i.state,r):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=lS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=d4(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new CS(e,s):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HP{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HP(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GP{constructor(){this.activeTargetIds=lS()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(e,t,i,r,s){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new yr(gn),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=KG(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new GP),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const s=e.getItem(KG(e.persistenceKey,r));if(s){const c=CS.Ji(r,s);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(jP(this.persistenceKey,e));if(i){const r=dC.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jP(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ot("SharedClientState","READ",e,t),t}setItem(e,t){ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ot("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(s){let c=Ua.ot;if(null!=s)try{const d=JSON.parse(s);an("number"==typeof d),c=d}catch(d){Dr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Ua.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new wS(this.currentUser,e,t,i),s=YG(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=YG(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=jP(this.persistenceKey,e),s=new dC(e,t,i);this.setItem(r,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return CS.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return wS.Ji(new _s(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return dC.Ji(r,t)}wr(e){return HP.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),c=[],d=[];return s.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Or(c,d).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=lS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class QG{constructor(){this.Fr=new GP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new GP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _ee{Br(e){}shutdown(){}}class JG{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vee{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class bee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,s){const c=this.oo(e,t);ot("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,s),this.co(e,c,d,i).then(f=>(ot("RestConnection","Received: ",f),f),f=>{throw $g("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",i),f})}ao(e,t,i,r,s,c){return this.ro(e,t,i,r,s)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ly,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}oo(e,t){return`${this.so}/v1/${t}:${yee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const d=new yJ;d.listenOnce(gJ.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case oP.NO_ERROR:const g=d.getResponseJson();ot("Connection","XHR received:",JSON.stringify(g)),s(g);break;case oP.TIMEOUT:ot("Connection",'RPC "'+e+'" timed out'),c(new Xe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case oP.HTTP_ERROR:const b=d.getStatus();if(ot("Connection",'RPC "'+e+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const C=d.getResponseJson().error;if(C&&C.status&&C.message){const N=function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(B)>=0?B:xe.UNKNOWN}(C.status);c(new Xe(N,C.message))}else c(new Xe(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Xe(xe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{ot("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fJ(),c=pJ(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new _J({})),this.uo(d.initMessageHeaders,t,i),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");ot("Connection","Creating WebChannel: "+f,d);const g=s.createWebChannel(f,d);let b=!1,C=!1;const N=new vee({jr:B=>{C?ot("Connection","Not sending because WebChannel is closed:",B):(b||(ot("Connection","Opening WebChannel transport."),g.open(),b=!0),ot("Connection","WebChannel sending:",B),g.send(B))},Wr:()=>g.close()}),R=(B,z,te)=>{B.listen(z,ye=>{try{te(ye)}catch(Te){setTimeout(()=>{throw Te},0)}})};return R(g,KI.EventType.OPEN,()=>{C||ot("Connection","WebChannel transport opened.")}),R(g,KI.EventType.CLOSE,()=>{C||(C=!0,ot("Connection","WebChannel transport closed"),N.eo())}),R(g,KI.EventType.ERROR,B=>{C||(C=!0,$g("Connection","WebChannel transport errored:",B),N.eo(new Xe(xe.UNAVAILABLE,"The operation could not be completed")))}),R(g,KI.EventType.MESSAGE,B=>{var z;if(!C){const te=B.data[0];an(!!te);const ye=te,Te=ye.error||(null===(z=ye[0])||void 0===z?void 0:z.error);if(Te){ot("Connection","WebChannel received error:",Te);const Fe=Te.status;let Re=function(rt){const bt=jr[rt];if(void 0!==bt)return $4(bt)}(Fe),Je=Te.message;void 0===Re&&(Re=xe.INTERNAL,Je="Unknown error status: "+Fe+" with message "+Te.message),C=!0,N.eo(new Xe(Re,Je)),g.close()}else ot("Connection","WebChannel received:",te),N.no(te)}}),R(c,mJ.STAT_EVENT,B=>{B.stat===YH.PROXY?ot("Connection","Detected buffering proxy"):B.stat===YH.NOPROXY&&ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.Zr()},0),N}}function XG(){return typeof window<"u"?window:null}function ES(){return typeof document<"u"?document:null}function hC(n){return new dX(n,!0)}class zP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&ot("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class e5{constructor(e,t,i,r,s,c,d,f){this.js=e,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new zP(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Pe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Pe.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===xe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Xe(xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Pe.Z)(function*(){e.state=0,e.start()}))}qo(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wee extends e5{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function pX(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:xt(),r=e.targetChange.targetIds||[],s=function(f,g){return f.dt?(an(void 0===g||"string"==typeof g),es.fromBase64String(g||"")):(an(void 0===g||g instanceof Uint8Array),es.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const g=void 0===f.code?xe.UNKNOWN:$4(f.code);return new Xe(g,f.message||"")}(c);t=new K4(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=bd(n,i.document.name),s=vs(i.document.updateTime),c=new Ws({mapValue:{fields:i.document.fields}}),d=Mi.newFoundDocument(r,s,c);t=new cS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=bd(n,i.document),s=i.readTime?vs(i.readTime):rn.min(),c=Mi.newNoDocument(r,s);t=new cS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=bd(n,i.document);t=new cS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xt();{const i=e.filter,s=new iX(i.count||0);t=new W4(i.targetId,s)}}var f;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return rn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?rn.min():s.readTime?vs(s.readTime):rn.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=nC(this.wt),t.addTarget=function(r,s){let c;const d=s.target;return c=nS(d)?{documents:sG(r,d)}:{query:oG(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=X4(r,s.resumeToken):s.snapshotVersion.compareTo(rn.min())>0&&(c.readTime=eC(r,s.snapshotVersion.toTimestamp())),c}(this.wt,e);const i=function mX(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=nC(this.wt),t.removeTarget=e,this.Oo(t)}}class Cee extends e5{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function gX(n,e){return n&&n.length>0?(an(void 0!==e),n.map(t=>function(i,r){let s=vs(i.updateTime?i.updateTime:r);return s.isEqual(rn.min())&&(s=vs(r)),new eX(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=vs(e.commitTime);return this.listener.Jo(i,t)}return an(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=nC(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>iC(this.wt,i))};this.Oo(t)}}class Eee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Xe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Xe(xe.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.bo.ao(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(xe.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Dee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Dr(t),this.su=!1):ot("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Tee{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,Pe.Z)(function*(){var f;ap(c)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Pe.Z)(function*(g){const b=yt(g);b.lu.add(4),yield ev(b),b._u.set("Unknown"),b.lu.delete(4),yield fC(b)}),function(g){return f.apply(this,arguments)})(c))}))}),this._u=new Dee(i,r)}}function fC(n){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Pe.Z)(function*(n){if(ap(n))for(const e of n.fu)yield e(!0)}),ZP.apply(this,arguments)}function ev(n){return qP.apply(this,arguments)}function qP(){return qP=(0,Pe.Z)(function*(n){for(const e of n.fu)yield e(!1)}),qP.apply(this,arguments)}function DS(n,e){const t=yt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),YP(t)?KP(t):nv(t).Co()&&WP(t,e))}function pC(n,e){const t=yt(n),i=nv(t);t.hu.delete(e),i.Co()&&t5(t,e),0===t.hu.size&&(i.Co()?i.ko():ap(t)&&t._u.set("Unknown"))}function WP(n,e){n.wu.Nt(e.targetId),nv(n).Qo(e)}function t5(n,e){n.wu.Nt(e),nv(n).jo(e)}function KP(n){n.wu=new lX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),nv(n).start(),n._u.iu()}function YP(n){return ap(n)&&!nv(n).Do()&&n.hu.size>0}function ap(n){return 0===yt(n).lu.size}function n5(n){n.wu=void 0}function Iee(n){return QP.apply(this,arguments)}function QP(){return QP=(0,Pe.Z)(function*(n){n.hu.forEach((e,t)=>{WP(n,e)})}),QP.apply(this,arguments)}function See(n,e){return JP.apply(this,arguments)}function JP(){return JP=(0,Pe.Z)(function*(n,e){n5(n),YP(n)?(n._u.uu(e),KP(n)):n._u.set("Unknown")}),JP.apply(this,arguments)}function Aee(n,e,t){return XP.apply(this,arguments)}function XP(){return XP=(0,Pe.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof K4&&2===e.state&&e.cause)try{yield(i=(0,Pe.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield TS(n,i)}else if(e instanceof cS?n.wu.Ut(e):e instanceof W4?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(rn.min()))try{const i=yield $G(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=r.hu.get(f);g&&r.hu.set(f,g.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const f=r.hu.get(d);if(!f)return;r.hu.set(d,f.withResumeToken(es.EMPTY_BYTE_STRING,f.snapshotVersion)),t5(r,d);const g=new rp(f.target,d,1,f.sequenceNumber);WP(r,g)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){ot("RemoteStore","Failed to raise snapshot:",i),yield TS(n,i)}var i}),XP.apply(this,arguments)}function TS(n,e,t){return eF.apply(this,arguments)}function eF(){return eF=(0,Pe.Z)(function*(n,e,t){if(!Jf(e))throw e;n.lu.add(1),yield ev(n),n._u.set("Offline"),t||(t=()=>$G(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield fC(n)}))}),eF.apply(this,arguments)}function i5(n,e){return e().catch(t=>TS(n,t,e))}function tv(n){return tF.apply(this,arguments)}function tF(){return tF=(0,Pe.Z)(function*(n){const e=yt(n),t=lp(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;xee(e);)try{const r=yield pee(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,kee(e,r)}catch(r){yield TS(e,r)}r5(e)&&s5(e)}),tF.apply(this,arguments)}function xee(n){return ap(n)&&n.au.length<10}function kee(n,e){n.au.push(e);const t=lp(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function r5(n){return ap(n)&&!lp(n).Do()&&n.au.length>0}function s5(n){lp(n).start()}function Nee(n){return nF.apply(this,arguments)}function nF(){return nF=(0,Pe.Z)(function*(n){lp(n).Xo()}),nF.apply(this,arguments)}function Mee(n){return iF.apply(this,arguments)}function iF(){return iF=(0,Pe.Z)(function*(n){const e=lp(n);for(const t of n.au)e.Ho(t.mutations)}),iF.apply(this,arguments)}function Oee(n,e,t){return rF.apply(this,arguments)}function rF(){return rF=(0,Pe.Z)(function*(n,e,t){const i=n.au.shift(),r=SP.from(i,e,t);yield i5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield tv(n)}),rF.apply(this,arguments)}function Ree(n,e){return sF.apply(this,arguments)}function sF(){return sF=(0,Pe.Z)(function*(n,e){var t;e&&lp(n).zo&&(yield(t=(0,Pe.Z)(function*(i,r){if(G4(s=r.code)&&s!==xe.ABORTED){const c=i.au.shift();lp(i).No(),yield i5(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield tv(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),r5(n)&&s5(n)}),sF.apply(this,arguments)}function o5(n,e){return oF.apply(this,arguments)}function oF(){return oF=(0,Pe.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const i=ap(t);t.lu.add(3),yield ev(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield fC(t)}),oF.apply(this,arguments)}function aF(n,e){return lF.apply(this,arguments)}function lF(){return lF=(0,Pe.Z)(function*(n,e){const t=yt(n);e?(t.lu.delete(2),yield fC(t)):e||(t.lu.add(2),yield ev(t),t._u.set("Unknown"))}),lF.apply(this,arguments)}function nv(n){return n.mu||(n.mu=function(e,t,i){const r=yt(e);return r.tu(),new wee(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:Iee.bind(null,n),Jr:See.bind(null,n),Go:Aee.bind(null,n)}),n.fu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.mu.No(),YP(n)?KP(n):n._u.set("Unknown")):(yield n.mu.stop(),n5(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function lp(n){return n.gu||(n.gu=function(e,t,i){const r=yt(e);return r.tu(),new Cee(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:Nee.bind(null,n),Jr:Ree.bind(null,n),Yo:Mee.bind(null,n),Jo:Oee.bind(null,n)}),n.fu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.gu.No(),yield tv(n)):(yield n.gu.stop(),n.au.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class cF{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new cF(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(Dr("AsyncQueue",`${e}: ${n}`),Jf(n))return new Xe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class rv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||mt.comparator(t.key,i.key):(t,i)=>mt.comparator(t.key,i.key),this.keyedMap=Yw(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new rv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new rv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class a5{constructor(){this.yu=new yr(mt.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):xt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class sv{constructor(e,t,i,r,s,c,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new sv(e,t,rv.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Pee{constructor(){this.Iu=void 0,this.listeners=[]}}class Fee{constructor(){this.queries=new ip(e=>S4(e),qw),this.onlineState="Unknown",this.Tu=new Set}}function uF(n,e){return dF.apply(this,arguments)}function dF(){return dF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Pee),r)try{s.Iu=yield t.onListen(i)}catch(c){const d=iv(c,`Initialization of query '${vP(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&pF(t)}),dF.apply(this,arguments)}function hF(n,e){return fF.apply(this,arguments)}function fF(){return fF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),fF.apply(this,arguments)}function Lee(n,e){const t=yt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&pF(t)}function Bee(n,e,t){const i=yt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function pF(n){n.Tu.forEach(e=>{e.next()})}class gF{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Vee{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class l5{constructor(e){this.wt=e}Wi(e){return bd(this.wt,e)}zi(e){return e.metadata.exists?rG(this.wt,e.document,!1):Mi.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return vs(e)}}class Uee{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c5(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new l5(this.wt);for(const r of e)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||En()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function gee(n,e,t,i){return VP.apply(this,arguments)}(e.localStore,new l5(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield mee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function c5(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class u5{constructor(e){this.key=e}}class d5{constructor(e){this.key=e}}class h5{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=En(),this.mutatedKeys=En(),this.Lu=x4(e),this.Uu=new rv(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new a5,r=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,C)=>{const N=r.get(b),R=bP(this.query,C)?C:null,B=!!N&&this.mutatedKeys.has(N.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let te=!1;N&&R?N.data.isEqual(R.data)?B!==z&&(i.track({type:3,doc:R}),te=!0):this.Qu(N,R)||(i.track({type:2,doc:R}),te=!0,(f&&this.Lu(R,f)>0||g&&this.Lu(R,g)<0)&&(d=!0)):!N&&R?(i.track({type:0,doc:R}),te=!0):N&&!R&&(i.track({type:1,doc:N}),te=!0,(f||g)&&(d=!0)),te&&(R?(c=c.add(R),s=z?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Uu:c,Gu:i,Mi:d,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((g,b)=>function(C,N){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return R(C)-R(N)}(g.type,b.type)||this.Lu(g.doc,b.doc)),this.ju(i);const c=t?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,f=d!==this.$u;return this.$u=d,0!==s.length||f?{snapshot:new sv(this.query,e.Uu,r,s,e.mutatedKeys,0===d,f,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new a5,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=En(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new d5(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new u5(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=En();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return sv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Hee{constructor(e){this.key=e,this.Xu=!1}}class Gee{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new ip(d=>S4(d),qw),this.ec=new Map,this.nc=new Set,this.sc=new yr(mt.comparator),this.ic=new Map,this.rc=new MP,this.oc={},this.uc=new Map,this.cc=om.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function $ee(n,e){return mF.apply(this,arguments)}function mF(){return mF=(0,Pe.Z)(function*(n,e){const t=VF(n);let i,r;const s=t.tc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield Jy(t.localStore,ja(e));t.isPrimaryClient&&DS(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield _F(t,e,i,"current"===d)}return r}),mF.apply(this,arguments)}function _F(n,e,t,i){return yF.apply(this,arguments)}function yF(){return yF=(0,Pe.Z)(function*(n,e,t,i){n.hc=(b,C,N)=>{return(R=(0,Pe.Z)(function*(B,z,te,ye){let Te=z.view.Ku(te);Te.Mi&&(Te=yield bS(B.localStore,z.query,!1).then(({documents:Je})=>z.view.Ku(Je,Te)));const Fe=ye&&ye.targetChanges.get(z.targetId),Re=z.view.applyChanges(Te,B.isPrimaryClient,Fe);return AF(B,z.targetId,Re.zu),Re.snapshot}),function(B,z,te,ye){return R.apply(this,arguments)})(n,b,C,N);var R};const r=yield bS(n.localStore,e,!0),s=new h5(e,r.ji),c=s.Ku(r.documents),d=Xw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),f=s.applyChanges(c,n.isPrimaryClient,d);AF(n,t,f.zu);const g=new jee(e,t,s);return n.tc.set(e,g),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),f.snapshot}),yF.apply(this,arguments)}function zee(n,e){return vF.apply(this,arguments)}function vF(){return vF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(s=>!qw(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),pC(t.remoteStore,i.targetId),ov(t,i.targetId)}).catch(Qf))):(ov(t,i.targetId),yield Xy(t.localStore,i.targetId,!0))}),vF.apply(this,arguments)}function bF(){return bF=(0,Pe.Z)(function*(n,e,t){const i=UF(n);try{const r=yield function(s,c){const d=yt(s),f=Ki.now(),g=c.reduce((N,R)=>N.add(R.key),En());let b,C;return d.persistence.runTransaction("Locally write mutations","readwrite",N=>{let R=Ha(),B=En();return d.Ui.getEntries(N,g).next(z=>{R=z,R.forEach((te,ye)=>{ye.isValidDocument()||(B=B.add(te))})}).next(()=>d.localDocuments.getOverlayedDocuments(N,R)).next(z=>{b=z;const te=[];for(const ye of c){const Te=nX(ye,b.get(ye.key).overlayedDocument);null!=Te&&te.push(new kh(ye.key,Te,y4(Te.value.mapValue),or.exists(!0)))}return d.mutationQueue.addMutationBatch(N,f,te,c)}).next(z=>{C=z;const te=z.applyToLocalDocumentSet(b,B);return d.documentOverlayCache.saveOverlays(N,z.batchId,te)})}).then(()=>({batchId:C.batchId,changes:Z4(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let f=s.oc[s.currentUser.toKey()];f||(f=new yr(gn)),f=f.insert(c,d),s.oc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield Nh(i,r.changes),yield tv(i.remoteStore)}catch(r){const s=iv(r,"Failed to persist write");t.reject(s)}}),bF.apply(this,arguments)}function f5(n,e){return wF.apply(this,arguments)}function wF(){return wF=(0,Pe.Z)(function*(n,e){const t=yt(n);try{const i=yield fee(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ic.get(s);c&&(an(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?an(c.Xu):r.removedDocuments.size>0&&(an(c.Xu),c.Xu=!1))}),yield Nh(t,i,e)}catch(i){yield Qf(i)}}),wF.apply(this,arguments)}function p5(n,e,t){const i=yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((s,c)=>{const d=c.view.Eu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=yt(s);d.onlineState=c;let f=!1;d.queries.forEach((g,b)=>{for(const C of b.listeners)C.Eu(c)&&(f=!0)}),f&&pF(d)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function qee(n,e,t){return CF.apply(this,arguments)}function CF(){return CF=(0,Pe.Z)(function*(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),s=r&&r.key;if(s){let c=new yr(mt.comparator);c=c.insert(s,Mi.newNoDocument(s,rn.min()));const d=En().add(s),f=new Jw(rn.min(),new Map,new hi(gn),c,d);yield f5(i,f),i.sc=i.sc.remove(s),i.ic.delete(e),xF(i)}else yield Xy(i.localStore,e,!1).then(()=>ov(i,e,t)).catch(Qf)}),CF.apply(this,arguments)}function Wee(n,e){return EF.apply(this,arguments)}function EF(){return EF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.batch.batchId;try{const r=yield hee(t.localStore,e);SF(t,i,null),IF(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Nh(t,r)}catch(r){yield Qf(r)}}),EF.apply(this,arguments)}function Kee(n,e,t){return DF.apply(this,arguments)}function DF(){return DF=(0,Pe.Z)(function*(n,e,t){const i=yt(n);try{const r=yield function(s,c){const d=yt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,c).next(b=>(an(null!==b),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,e);SF(i,e,t),IF(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Nh(i,r)}catch(r){yield Qf(r)}}),DF.apply(this,arguments)}function TF(){return TF=(0,Pe.Z)(function*(n,e){const t=yt(n);ap(t.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=yt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=iv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),TF.apply(this,arguments)}function IF(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function SF(n,e,t){const i=yt(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function ov(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||g5(n,i)})}function g5(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(pC(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),xF(n))}function AF(n,e,t){for(const i of t)i instanceof u5?(n.rc.addReference(i.key,e),Qee(n,i)):i instanceof d5?(ot("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||g5(n,i.key)):xt()}function Qee(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(ot("SyncEngine","New document in limbo: "+t),n.nc.add(i),xF(n))}function xF(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new mt(Un.fromString(e)),i=n.cc.next();n.ic.set(i,new Hee(t)),n.sc=n.sc.insert(t,i),DS(n.remoteStore,new rp(ja(Hy(t.path)),i,2,Ua.ot))}}function Nh(n,e,t){return kF.apply(this,arguments)}function kF(){return kF=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=[],s=[],c=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,f)=>{c.push(i.hc(f,e,t).then(g=>{if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,g.fromCache?"not-current":"current"),r.push(g);const b=FP.Vi(f.targetId,g);s.push(b)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(d=(0,Pe.Z)(function*(f,g){const b=yt(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>De.forEach(g,N=>De.forEach(N.Pi,R=>b.persistence.referenceDelegate.addReference(C,N.targetId,R)).next(()=>De.forEach(N.vi,R=>b.persistence.referenceDelegate.removeReference(C,N.targetId,R)))))}catch(C){if(!Jf(C))throw C;ot("LocalStore","Failed to update sequence numbers: "+C)}for(const C of g){const N=C.targetId;if(!C.fromCache){const R=b.$i.get(N),z=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.$i=b.$i.insert(N,z)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,s))}),kF.apply(this,arguments)}function Jee(n,e){return NF.apply(this,arguments)}function NF(){return NF=(0,Pe.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const i=yield GG(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(c=>{c.forEach(d=>{d.reject(new Xe(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Nh(t,i.Ki)}var r}),NF.apply(this,arguments)}function Xee(n,e){const t=yt(n),i=t.ic.get(e);if(i&&i.Xu)return En().add(i.key);{let r=En();const s=t.ec.get(e);if(!s)return r;for(const c of s){const d=t.tc.get(c);r=r.unionWith(d.view.qu)}return r}}function ete(n,e){return MF.apply(this,arguments)}function MF(){return MF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=yield bS(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&AF(t,e.targetId,r.zu),r}),MF.apply(this,arguments)}function tte(n,e){return OF.apply(this,arguments)}function OF(){return OF=(0,Pe.Z)(function*(n,e){const t=yt(n);return qG(t.localStore,e).then(i=>Nh(t,i))}),OF.apply(this,arguments)}function nte(n,e,t,i){return RF.apply(this,arguments)}function RF(){return RF=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n),s=yield function(c,d){const f=yt(c),g=yt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",b=>g.yn(b,d).next(C=>C?f.localDocuments.getDocuments(b,C):De.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield tv(r.remoteStore):"acknowledged"===t||"rejected"===t?(SF(r,e,i||null),IF(r,e),d=e,yt(yt(r.localStore).mutationQueue).In(d)):xt(),yield Nh(r,s)):ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),RF.apply(this,arguments)}function PF(){return PF=(0,Pe.Z)(function*(n,e){const t=yt(n);if(VF(t),UF(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield m5(t,i.toArray());t.ac=!0,yield aF(t.remoteStore,!0);for(const s of r)DS(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ov(t,c),Xy(t.localStore,c,!0))),pC(t.remoteStore,c)}),yield r,yield m5(t,i),function(s){const c=yt(s);c.ic.forEach((d,f)=>{pC(c.remoteStore,f)}),c.rc.cs(),c.ic=new Map,c.sc=new yr(mt.comparator)}(t),t.ac=!1,yield aF(t.remoteStore,!1)}}),PF.apply(this,arguments)}function m5(n,e,t){return FF.apply(this,arguments)}function FF(){return FF=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=[],s=[];for(const c of e){let d;const f=i.ec.get(c);if(f&&0!==f.length){d=yield Jy(i.localStore,ja(f[0]));for(const g of f){const b=i.tc.get(g),C=yield ete(i,b);C.snapshot&&s.push(C.snapshot)}}else{const g=yield ZG(i.localStore,c);d=yield Jy(i.localStore,g),yield _F(i,_5(g),c,!1)}r.push(d)}return i.Zu.Go(s),r}),FF.apply(this,arguments)}function _5(n){return T4(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rte(n){const e=yt(n);return yt(yt(e.localStore).persistence).Ri()}function ste(n,e,t,i){return LF.apply(this,arguments)}function LF(){return LF=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n);if(r.ac)return void ot("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield qG(r.localStore,A4(s[0])),d=Jw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nh(r,c,d);break}case"rejected":yield Xy(r.localStore,e,!0),ov(r,e,i);break;default:xt()}}),LF.apply(this,arguments)}function ote(n,e,t){return BF.apply(this,arguments)}function BF(){return BF=(0,Pe.Z)(function*(n,e,t){const i=VF(n);if(i.ac){for(const r of e){if(i.ec.has(r)){ot("SyncEngine","Adding an already active target "+r);continue}const s=yield ZG(i.localStore,r),c=yield Jy(i.localStore,s);yield _F(i,_5(s),c.targetId,!1),DS(i.remoteStore,c)}for(const r of t)i.ec.has(r)&&(yield Xy(i.localStore,r,!1).then(()=>{pC(i.remoteStore,r),ov(i,r)}).catch(Qf))}}),BF.apply(this,arguments)}function VF(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qee.bind(null,e),e.Zu.Go=Lee.bind(null,e.eventManager),e.Zu.lc=Bee.bind(null,e.eventManager),e}function UF(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kee.bind(null,e),e}class y5{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.wt=hC(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return HG(this.persistence,new jG,e.initialUser,this.wt)}_c(e){return new VG(yS.Os,this.wt)}dc(e){return new QG}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class v5 extends y5{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield UF(i.yc.syncEngine),yield tv(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return HG(this.persistence,new jG,e.initialUser,this.wt)}mc(e,t){return new QX(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new RJ(t,this.persistence);return new OJ(e.asyncQueue,i)}_c(e){const t=PP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new RP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,XG(),ES(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new QG}}class lte extends v5{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof $P&&(i.sharedClientState.syncEngine={kr:nte.bind(null,r),Mr:ste.bind(null,r),Or:ote.bind(null,r),Ri:rte.bind(null,r),Nr:tte.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,Pe.Z)(function*(c){yield function ite(n,e){return PF.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(e){const t=XG();if(!$P.V(t))throw new Xe(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=PP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $P(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class jF{initialize(e,t){var i=this;return(0,Pe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>p5(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Jee.bind(null,i.syncEngine),yield aF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fee}createDatastore(e){const t=hC(e.databaseInfo.databaseId),i=new bee(e.databaseInfo);return new Eee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>p5(this.syncEngine,d,0),c=JG.V()?new JG:new _ee,new Tee(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,f,g){const b=new Gee(i,r,s,c,d,f);return g&&(b.ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const i=yt(t);ot("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ev(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function b5(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class IS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cte{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ys,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new Vee(JSON.parse(s),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Pe.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ute{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Xe(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Pe.Z)(function*(s,c){const d=yt(s),f=nC(d.wt)+"/documents",g={documents:c.map(R=>tC(d.wt,R))},b=yield d.ao("BatchGetDocuments",f,g,c.length),C=new Map;b.forEach(R=>{const B=function fX(n,e){return"found"in e?function(t,i){an(!!i.found);const r=bd(t,i.found.name),s=vs(i.found.updateTime),c=new Ws({mapValue:{fields:i.found.fields}});return Mi.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){an(!!i.missing),an(!!i.readTime);const r=bd(t,i.missing),s=vs(i.readTime);return Mi.newNoDocument(r,s)}(n,e):xt()}(d.wt,R);C.set(B.key.toString(),B)});const N=[];return c.forEach(R=>{const B=C.get(R.toString());an(!!B),N.push(B)}),N}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new qy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=mt.fromPath(r);e.mutations.push(new wP(s,e.precondition(s)))}),yield(i=(0,Pe.Z)(function*(r,s){const c=yt(r),d=nC(c.wt)+"/documents",f={writes:s.map(g=>iC(c.wt,g))};yield c.ro("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xt();t=rn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Xe(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?or.updateTime(t):or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new Xe(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(t)}return or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dte{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new zP(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Pe.Z)(function*(){const t=new ute(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Nc(s)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!jw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!G4(t)}return!1}}class hte{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_s.UNAUTHENTICATED,this.clientId=e4.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Pe.Z)(function*(d){ot("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ot("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=iv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function w5(n,e){return HF.apply(this,arguments)}function HF(){return HF=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Pe.Z)(function*(s){i.isEqual(s)||(yield GG(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),HF.apply(this,arguments)}function C5(n,e){return GF.apply(this,arguments)}function GF(){return GF=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $F(n);ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>o5(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>o5(e.remoteStore,s)),n.onlineComponents=e}),GF.apply(this,arguments)}function $F(n){return zF.apply(this,arguments)}function zF(){return zF=(0,Pe.Z)(function*(n){return n.offlineComponents||(ot("FirestoreClient","Using default OfflineComponentProvider"),yield w5(n,new y5)),n.offlineComponents}),zF.apply(this,arguments)}function SS(n){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,Pe.Z)(function*(n){return n.onlineComponents||(ot("FirestoreClient","Using default OnlineComponentProvider"),yield C5(n,new jF)),n.onlineComponents}),ZF.apply(this,arguments)}function E5(n){return $F(n).then(e=>e.persistence)}function AS(n){return $F(n).then(e=>e.localStore)}function D5(n){return SS(n).then(e=>e.remoteStore)}function qF(n){return SS(n).then(e=>e.syncEngine)}function av(n){return WF.apply(this,arguments)}function WF(){return WF=(0,Pe.Z)(function*(n){const e=yield SS(n),t=e.eventManager;return t.onListen=$ee.bind(null,e.syncEngine),t.onUnlisten=zee.bind(null,e.syncEngine),t}),WF.apply(this,arguments)}function T5(n,e,t={}){const i=new ys;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,d,f){const g=new IS({next:C=>{s.enqueueAndForget(()=>hF(r,b));const N=C.docs.has(c);!N&&C.fromCache?f.reject(new Xe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&C.fromCache&&d&&"server"===d.source?f.reject(new Xe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(C)},error:C=>f.reject(C)}),b=new gF(Hy(c.path),g,{includeMetadataChanges:!0,Du:!0});return uF(r,b)}(yield av(n),n.asyncQueue,e,t,i)})),i.promise}function I5(n,e,t={}){const i=new ys;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,c,d,f){const g=new IS({next:C=>{s.enqueueAndForget(()=>hF(r,b)),C.fromCache&&"server"===d.source?f.reject(new Xe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(C)},error:C=>f.reject(C)}),b=new gF(c,g,{includeMetadataChanges:!0,Du:!0});return uF(r,b)}(yield av(n),n.asyncQueue,e,t,i)})),i.promise}const S5=new Map;function KF(n,e,t){if(!t)throw new Xe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A5(n,e,t,i){if(!0===e&&!0===i)throw new Xe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x5(n){if(!mt.isDocumentKey(n))throw new Xe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k5(n){if(mt.isDocumentKey(n))throw new Xe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":xt()}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Xe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xS(n);throw new Xe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function N5(n,e){if(e<=0)throw new Xe(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class M5{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Xe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,A5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gC{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M5({}),this._settingsFrozen=!1,e instanceof Ah?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Xe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(r.options.projectId)}(e))}get app(){if(!this._app)throw new Xe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M5(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wJ;switch(t.type){case"gapi":const i=t.client;return an(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new TJ(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Xe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=S5.get(e);t&&(ot("ComponentProvider","Removing Datastore"),S5.delete(e),t.terminate())}(this),Promise.resolve()}}class ji{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class Co{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Cd extends Co{constructor(e,t,i){super(e,t,Hy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new mt(e))}withConverter(e){return new Cd(this.firestore,e,this._path)}}function O5(n,e,...t){if(n=(0,U.m9)(n),KF("collection","path",e),n instanceof gC){const i=Un.fromString(e,...t);return k5(i),new Cd(n,null,i)}{if(!(n instanceof ji||n instanceof Cd))throw new Xe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return k5(i),new Cd(n.firestore,null,i)}}function kS(n,e,...t){if(n=(0,U.m9)(n),1===arguments.length&&(e=e4.I()),KF("doc","path",e),n instanceof gC){const i=Un.fromString(e,...t);return x5(i),new ji(n,null,new mt(i))}{if(!(n instanceof ji||n instanceof Cd))throw new Xe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(e,...t));return x5(i),new ji(n.firestore,n instanceof Cd?n.converter:null,new mt(i))}}function R5(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),(n instanceof ji||n instanceof Cd)&&(e instanceof ji||e instanceof Cd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function P5(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),n instanceof Co&&e instanceof Co&&n.firestore===e.firestore&&qw(n._query,e._query)&&n.converter===e.converter}class Ete{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new zP(this,"async_queue_retry"),this.Kc=()=>{const t=ES();t&&ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=ES();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=ES();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ys;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Jf(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=cF.createAndSchedule(this,e,t,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&xt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function YF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Dte{constructor(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yi extends gC{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Ete,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||F5(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||F5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function F5(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LJ(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new hte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function L5(n,e,t){const i=new ys;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield w5(n,t),yield C5(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===xe.FAILED_PRECONDITION||c.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;$g("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function B5(n){if(n._initialized||n._terminated)throw new Xe(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ed(es.fromBase64String(e))}catch(t){throw new Xe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ed(es.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lm{constructor(e){this._methodName=e}}class NS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const Rte=/^__.*__$/;class Pte{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zy(e,this.data,t,this.fieldTransforms)}}class V5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new kh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function U5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class MS{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new MS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return PS(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(U5(this.Zc)&&Rte.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Fte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||hC(e)}aa(e,t,i,r=!1){return new MS({Zc:e,methodName:t,ca:i,path:_r.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function cm(n){const e=n._freezeSettings(),t=hC(n._databaseId);return new Fte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(n,e,t,i,r,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,e,t,r);e2("Data must be an object, but it was:",c,i);const d=G5(i,c);let f,g;if(s.merge)f=new Al(c.fieldMask),g=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const C of s.mergeFields){const N=t2(e,C,t);if(!c.contains(N))throw new Xe(xe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);z5(b,N)||b.push(N)}f=new Al(b),g=c.fieldTransforms.filter(C=>f.covers(C.field))}else f=null,g=c.fieldTransforms;return new Pte(new Ws(d),f,g)}class mC extends lm{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mC}}function j5(n,e,t){return new MS({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class QF extends lm{_toFieldTransform(e){return new Ww(e.path,new $y)}isEqual(e){return e instanceof QF}}class Lte extends lm{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=j5(this,e,!0),i=this.ha.map(s=>um(s,t)),r=new Jg(i);return new Ww(e.path,r)}isEqual(e){return this===e}}class Bte extends lm{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=j5(this,e,!0),i=this.ha.map(s=>um(s,t)),r=new Xg(i);return new Ww(e.path,r)}isEqual(e){return this===e}}class Vte extends lm{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new zy(e.wt,M4(e.wt,this.la));return new Ww(e.path,t)}isEqual(e){return this===e}}function JF(n,e,t,i){const r=n.aa(1,e,t);e2("Data must be an object, but it was:",r,i);const s=[],c=Ws.empty();qg(i,(f,g)=>{const b=RS(e,f,t);g=(0,U.m9)(g);const C=r.ia(b);if(g instanceof mC)s.push(b);else{const N=um(g,C);null!=N&&(s.push(b),c.set(b,N))}});const d=new Al(s);return new V5(c,d,r.fieldTransforms)}function XF(n,e,t,i,r,s){const c=n.aa(1,e,t),d=[t2(e,i,t)],f=[r];if(s.length%2!=0)throw new Xe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)d.push(t2(e,s[N])),f.push(s[N+1]);const g=[],b=Ws.empty();for(let N=d.length-1;N>=0;--N)if(!z5(g,d[N])){const R=d[N];let B=f[N];B=(0,U.m9)(B);const z=c.ia(R);if(B instanceof mC)g.push(R);else{const te=um(B,z);null!=te&&(g.push(R),b.set(R,te))}}const C=new Al(g);return new V5(b,C,c.fieldTransforms)}function H5(n,e,t,i=!1){return um(t,n.aa(i?4:3,e))}function um(n,e){if($5(n=(0,U.m9)(n)))return e2("Unsupported field value:",e,n),G5(n,e);if(n instanceof lm)return function(t,i){if(!U5(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=um(c,i.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,U.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return M4(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ki.fromDate(t);return{timestampValue:eC(i.wt,r)}}if(t instanceof Ki){const r=new Ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eC(i.wt,r)}}if(t instanceof NS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ed)return{bytesValue:X4(i.wt,t._byteString)};if(t instanceof ji){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:CP(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${xS(t)}`)}(n,e)}function G5(n,e){const t={};return l4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qg(n,(i,r)=>{const s=um(r,e.ea(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function $5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ki||n instanceof NS||n instanceof Ed||n instanceof ji||n instanceof lm)}function e2(n,e,t){if(!$5(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xS(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function t2(n,e,t){if((e=(0,U.m9)(e))instanceof Mh)return e._internalPath;if("string"==typeof e)return RS(n,e);throw PS("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ute=new RegExp("[~\\*/\\[\\]]");function RS(n,e,t){if(e.search(Ute)>=0)throw PS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mh(...e.split("."))._internalPath}catch{throw PS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PS(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new Xe(xe.INVALID_ARGUMENT,d+n+f)}function z5(n,e){return n.some(t=>t.isEqual(e))}class _C{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jte extends _C{data(){return super.data()}}function FS(n,e){return"string"==typeof e?RS(n,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}class dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oh extends _C{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(FS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yC extends Oh{data(e={}){return super.data(e)}}class cp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yC(this._firestore,this._userDataWriter,i.key,i,new dm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new yC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new yC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new dm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==c.type&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),g=s.indexOf(c.doc.key)),{type:Hte(c.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function Z5(n,e){return n instanceof Oh&&e instanceof Oh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cp&&e instanceof cp&&n._firestore===e._firestore&&P5(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function q5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Xe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vC{}function up(n,...e){for(const t of e)n=t._apply(n);return n}class Gte extends vC{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=cm(e.firestore),i=function(r,s,c,d,f,g,b){let C;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Xe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){X5(b,g);const R=[];for(const B of b)R.push(J5(d,r,B));C={arrayValue:{values:R}}}else C=J5(d,r,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||X5(b,g),C=H5(c,"where",b,"in"===g||"not-in"===g);const N=Ks.create(f,g,C);return function(R,B){if(B.ht()){const te=_P(R);if(null!==te&&!te.isEqual(B.field))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${te.toString()}' and '${B.field.toString()}'`);const ye=mP(R);null!==ye&&e$(0,B.field,ye)}const z=function(te,ye){for(const Te of te.filters)if(ye.indexOf(Te.op)>=0)return Te.op;return null}(R,function(te){switch(te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==z)throw new Xe(xe.INVALID_ARGUMENT,z===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${z.toString()}' filters.`)}(r,N),N}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Co(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class zte extends vC{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Xe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Xe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new jy(r,s);return function(d,f){if(null===mP(d)){const g=_P(d);null!==g&&e$(0,g,f.field)}}(i,c),c}(e._query,this.fa,this.wa);return new Co(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new xh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class W5 extends vC{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new Co(e.firestore,e.converter,rS(e._query,this.ma,this.ga))}}class K5 extends vC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=Q5(e,this.type,this.ya,this.pa);return new Co(e.firestore,e.converter,(r=t,new xh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Y5 extends vC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=Q5(e,this.type,this.ya,this.pa);return new Co(e.firestore,e.converter,(r=t,new xh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Q5(n,e,t,i){if(t[0]=(0,U.m9)(t[0]),t[0]instanceof _C)return function(r,s,c,d,f){if(!d)throw new Xe(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const b of Gy(r))if(b.field.isKeyField())g.push(Yg(s,d.key));else{const C=d.data.field(b.field);if(fP(C))throw new Xe(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const N=b.field.canonicalString();throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}g.push(C)}return new np(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=cm(n.firestore);return function(s,c,d,f,g,b){const C=s.explicitOrderBy;if(g.length>C.length)throw new Xe(xe.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let R=0;R<g.length;R++){const B=g[R];if(C[R].field.isKeyField()){if("string"!=typeof B)throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!yP(s)&&-1!==B.indexOf("/"))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const z=s.path.child(Un.fromString(B));if(!mt.isDocumentKey(z))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const te=new mt(z);N.push(Yg(c,te))}else{const z=H5(d,f,B);N.push(z)}}return new np(N,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function J5(n,e,t){if("string"==typeof(t=(0,U.m9)(t))){if(""===t)throw new Xe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yP(e)&&-1!==t.indexOf("/"))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Un.fromString(t));if(!mt.isDocumentKey(i))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yg(n,new mt(i))}if(t instanceof ji)return Yg(n,t._key);throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xS(t)}.`)}function X5(n,e){if(!Array.isArray(n)||0===n.length)throw new Xe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Xe(xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function e$(n,e,t){if(!t.isEqual(e))throw new Xe(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Xte={maxAttempts:5};class n2{convertValue(e,t="none"){switch(Kg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xt()}}convertObject(e,t){const i={};return qg(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new NS(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=u4(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Uw(e));default:return null}}convertTimestamp(e){const t=Xf(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Un.fromString(e);an(cG(i));const r=new Ah(i.get(1),i.get(3)),s=new mt(i.popFirst(5));return r.isEqual(t)||Dr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function LS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ene extends n2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ed(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,t)}}class t${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cm(e)}set(e,t,i){this._verifyNotCommitted();const r=dp(e,this._firestore),s=LS(r.converter,t,i),c=OS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,or.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=dp(e,this._firestore);let c;return c="string"==typeof(t=(0,U.m9)(t))||t instanceof Mh?XF(this._dataReader,"WriteBatch.update",s._key,t,i,r):JF(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dp(e,this._firestore);return this._mutations=this._mutations.concat(new qy(t._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dp(n,e){if((n=(0,U.m9)(n)).firestore!==e)throw new Xe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hm extends n2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ed(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,t)}}function n$(n,e,t){n=Ln(n,ji);const i=Ln(n.firestore,Yi),r=LS(n.converter,e,t);return lv(i,[OS(cm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,or.none())])}function i$(n,e,t,...i){n=Ln(n,ji);const r=Ln(n.firestore,Yi),s=cm(r);let c;return c="string"==typeof(e=(0,U.m9)(e))||e instanceof Mh?XF(s,"updateDoc",n._key,e,t,i):JF(s,"updateDoc",n._key,e),lv(r,[c.toMutation(n._key,or.exists(!0))])}function r$(n,...e){var t,i,r;n=(0,U.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||YF(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(YF(e[c])){const C=e[c];e[c]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[c+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),e[c+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let f,g,b;if(n instanceof ji)g=Ln(n.firestore,Yi),b=Hy(n._key.path),f={next:C=>{e[c]&&e[c](r2(g,n,C))},error:e[c+1],complete:e[c+2]};else{const C=Ln(n,Co);g=Ln(C.firestore,Yi),b=C._query;const N=new hm(g);f={next:R=>{e[c]&&e[c](new cp(g,N,C,R))},error:e[c+1],complete:e[c+2]},q5(n._query)}return function(C,N,R,B){const z=new IS(B),te=new gF(N,z,R);return C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return uF(yield av(C),te)})),()=>{z.Tc(),C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return hF(yield av(C),te)}))}}(Hr(g),b,d,f)}function lv(n,e){return function(t,i){const r=new ys;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function Zee(n,e,t){return bF.apply(this,arguments)}(yield qF(t),i,r)})),r.promise}(Hr(n),e)}function r2(n,e,t){const i=t.docs.get(e._key),r=new hm(n);return new Oh(n,r,e._key,i,new dm(t.hasPendingWrites,t.fromCache),e.converter)}class une extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cm(e)}get(e){const t=dp(e,this._firestore),i=new ene(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return xt();const s=r[0];if(s.isFoundDocument())return new _C(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new _C(this._firestore,i,t._key,null,t.converter);throw xt()})}set(e,t,i){const r=dp(e,this._firestore),s=LS(r.converter,t,i),c=OS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=dp(e,this._firestore);let c;return c="string"==typeof(t=(0,U.m9)(t))||t instanceof Mh?XF(this._dataReader,"Transaction.update",s._key,t,i,r):JF(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=dp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dp(e,this._firestore),i=new hm(this._firestore);return super.get(e).then(r=>new Oh(this._firestore,i,t._key,r._document,new dm(!1,!1),t.converter))}}function s2(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function o$(){if(typeof Uint8Array>"u")throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function a$(){if(!function PJ(){return typeof atob<"u"}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ly=qo.SDK_VERSION,(0,qo._registerComponent)(new Du.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Yi(r,new EJ(t.getProvider("auth-internal")),new IJ(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,qo.registerVersion)(QH,"3.4.14",n),(0,qo.registerVersion)(QH,"3.4.14","esm2017")}();class bC{constructor(e){this._delegate=e}static fromBase64String(e){return a$(),new bC(Ed.fromBase64String(e))}static fromUint8Array(e){return o$(),new bC(Ed.fromUint8Array(e))}toBase64(){return a$(),this._delegate.toBase64()}toUint8Array(){return o$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function o2(n){return function vne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class bne{enableIndexedDbPersistence(e,t){return function Ite(n,e){B5(n=Ln(n,Yi));const t=Hr(n),i=n._freezeSettings(),r=new jF;return L5(t,r,new v5(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ste(n){B5(n=Ln(n,Yi));const e=Hr(n),t=n._freezeSettings(),i=new jF;return L5(e,i,new lte(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ate(n){if(n._initialized&&!n._terminated)throw new Xe(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ys;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(i){if(!Su.V())return Promise.resolve();const r=i+"main";yield Su.delete(r)}),function(i){return t.apply(this,arguments)})(PP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class l${constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ah||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function wte(n,e,t,i={}){var r;const s=(n=Ln(n,gC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&$g("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=_s.MOCK_USER;else{c=(0,U.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Xe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new _s(f)}n._authCredentials=new CJ(new JH(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function kte(n){return function fte(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield E5(n),t=yield D5(n);return e.setNetworkEnabled(!0),function(i){const r=yt(i);return r.lu.delete(0),fC(r)}(t)}))}(Hr(n=Ln(n,Yi)))}(this._delegate)}disableNetwork(){return function Nte(n){return function pte(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield E5(n),t=yield D5(n);return e.setNetworkEnabled(!1),(i=(0,Pe.Z)(function*(r){const s=yt(r);s.lu.add(0),yield ev(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Hr(n=Ln(n,Yi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,A5("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xte(n){return function(e){const t=new ys;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function Yee(n,e){return TF.apply(this,arguments)}(yield qF(e),t)})),t.promise}(Hr(n=Ln(n,Yi)))}(this._delegate)}onSnapshotsInSync(e){return function cne(n,e){return function _te(n,e){const t=new IS(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield av(n),r=t,yt(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield av(n),r=t,void yt(i).Tu.delete(r);var i,r}))}}(Hr(n=Ln(n,Yi)),YF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cv(this,O5(this._delegate,e))}catch(t){throw ta(t,"collection()","Firestore.collection()")}}doc(e){try{return new yc(this,kS(this._delegate,e))}catch(t){throw ta(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new na(this,function Cte(n,e){if(n=Ln(n,gC),KF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xe(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(n,null,(t=e,new xh(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ta(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dne(n,e,t){n=Ln(n,Yi);const i=Object.assign(Object.assign({},Xte),t);return function(r){if(r.maxAttempts<1)throw new Xe(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function yte(n,e,t){const i=new ys;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const r=yield(s=n,SS(s).then(c=>c.datastore));var s;new dte(n.asyncQueue,r,t,e,i).run()})),i.promise}(Hr(n),r=>e(new une(n,r)),i)}(this._delegate,t=>e(new c$(this,t)))}batch(){return Hr(this._delegate),new u$(new t$(this._delegate,e=>lv(this._delegate,e)))}loadBundle(e){return function Mte(n,e){const t=Hr(n=Ln(n,Yi)),i=new Dte;return function vte(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,g){if(f instanceof Uint8Array)return b5(f,g);if(f instanceof ArrayBuffer)return b5(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new cte(f,c);var f}(t,hC(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function ate(n,e,t){const i=yt(n);var r;(r=(0,Pe.Z)(function*(s,c,d){try{const f=yield c.getMetadata();if(yield function(N,R){const B=yt(N),z=vs(R.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",te=>B.Ds.getBundleMetadata(te,R.id)).then(te=>!!te&&te.createTime.compareTo(z)>=0)}(s.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(N=f).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);d._updateProgress(c5(f));const g=new Uee(f,s.localStore,c.wt);let b=yield c.fc();for(;b;){const N=yield g.Nu(b);N&&d._updateProgress(N),b=yield c.fc()}const C=yield g.complete();return yield Nh(s,C.Ou,void 0),yield function(N,R){const B=yt(N);return B.persistence.runTransaction("Save bundle","readwrite",z=>B.Ds.saveBundleMetadata(z,R))}(s.localStore,f),d._completeWith(C.progress),Promise.resolve(C.Mu)}catch(f){return $g("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var N}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qF(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Ote(n,e){return function bte(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,i){const r=yt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield AS(n),e)}))}(Hr(n=Ln(n,Yi)),e).then(t=>t?new Co(n,null,t.query):null)}(this._delegate,e).then(t=>t?new na(this,t):null)}}class BS extends n2{constructor(e){super(),this.firestore=e}convertBytes(e){return new bC(new Ed(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yc.forKey(t,this.firestore,null)}}class c${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BS(e)}get(e){const t=pm(e);return this._delegate.get(t).then(i=>new wC(this._firestore,new Oh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=pm(e);return i?(s2("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=pm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=pm(e);return this._delegate.delete(t),this}}class u${constructor(e){this._delegate=e}set(e,t,i){const r=pm(e);return i?(s2("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=pm(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=pm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new yC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=fm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new fm(e,new BS(e),t),r.set(t,s)),s}}fm.INSTANCES=new WeakMap;class yc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yc(t,new ji(t._delegate,i,new mt(e)))}static forKey(e,t,i){return new yc(t,new ji(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cv(this.firestore,O5(this._delegate,e))}catch(t){throw ta(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,U.m9)(e))instanceof ji&&R5(this._delegate,e)}set(e,t){t=s2("DocumentReference.set",t);try{return t?n$(this._delegate,e,t):n$(this._delegate,e)}catch(i){throw ta(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?i$(this._delegate,e):i$(this._delegate,e,t,...i)}catch(r){throw ta(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ane(n){return lv(Ln(n.firestore,Yi),[new qy(n._key,or.none())])}(this._delegate)}onSnapshot(...e){const t=d$(e),i=h$(e,r=>new wC(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return r$(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function nne(n){n=Ln(n,ji);const e=Ln(n.firestore,Yi),t=Hr(e),i=new hm(e);return function gte(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const d=yield function(f,g){const b=yt(f);return b.persistence.runTransaction("read document","readonly",C=>b.localDocuments.getDocument(C,g))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Xe(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=iv(d,`Failed to get document '${s} from cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield AS(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Oh(e,i,n._key,r,new dm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ine(n){n=Ln(n,ji);const e=Ln(n.firestore,Yi);return T5(Hr(e),n._key,{source:"server"}).then(t=>r2(e,n,t))}(this._delegate):function tne(n){n=Ln(n,ji);const e=Ln(n.firestore,Yi);return T5(Hr(e),n._key).then(t=>r2(e,n,t))}(this._delegate),t.then(i=>new wC(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new yc(this.firestore,this._delegate.withConverter(e?fm.getInstance(this.firestore,e):null))}}function ta(n,e,t){return n.message=n.message.replace(e,t),n}function d$(n){for(const e of n)if("object"==typeof e&&!o2(e))return e;return{}}function h$(n,e){var t,i;let r;return r=o2(n[0])?n[0]:o2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class wC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Z5(this._delegate,e._delegate)}}class CC extends wC{data(e){const t=this._delegate.data(e);return function bJ(n,e){n||xt()}(void 0!==t),t}}class na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BS(e)}where(e,t,i){try{return new na(this.firestore,up(this._delegate,function $te(n,e,t){const i=e,r=FS("where",n);return new Gte(r,i,t)}(e,t,i)))}catch(r){throw ta(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new na(this.firestore,up(this._delegate,function Zte(n,e="asc"){const t=e,i=FS("orderBy",n);return new zte(i,t)}(e,t)))}catch(i){throw ta(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new na(this.firestore,up(this._delegate,function qte(n){return N5("limit",n),new W5("limit",n,"F")}(e)))}catch(t){throw ta(t,"limit()","Query.limit()")}}limitToLast(e){try{return new na(this.firestore,up(this._delegate,function Wte(n){return N5("limitToLast",n),new W5("limitToLast",n,"L")}(e)))}catch(t){throw ta(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new na(this.firestore,up(this._delegate,function Kte(...n){return new K5("startAt",n,!0)}(...e)))}catch(t){throw ta(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new na(this.firestore,up(this._delegate,function Yte(...n){return new K5("startAfter",n,!1)}(...e)))}catch(t){throw ta(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new na(this.firestore,up(this._delegate,function Qte(...n){return new Y5("endBefore",n,!1)}(...e)))}catch(t){throw ta(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new na(this.firestore,up(this._delegate,function Jte(...n){return new Y5("endAt",n,!0)}(...e)))}catch(t){throw ta(t,"endAt()","Query.endAt()")}}isEqual(e){return P5(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function sne(n){n=Ln(n,Co);const e=Ln(n.firestore,Yi),t=Hr(e),i=new hm(e);return function mte(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,c){try{const d=yield bS(r,s,!0),f=new h5(s,d.ji),g=f.Ku(d.documents),b=f.applyChanges(g,!1);c.resolve(b.snapshot)}catch(d){const f=iv(d,`Failed to execute query '${s} against cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield AS(n),e,t);var i})),t.promise}(t,n._query).then(r=>new cp(e,i,n,r))}(this._delegate):"server"===e?.source?function one(n){n=Ln(n,Co);const e=Ln(n.firestore,Yi),t=Hr(e),i=new hm(e);return I5(t,n._query,{source:"server"}).then(r=>new cp(e,i,n,r))}(this._delegate):function rne(n){n=Ln(n,Co);const e=Ln(n.firestore,Yi),t=Hr(e),i=new hm(e);return q5(n._query),I5(t,n._query).then(r=>new cp(e,i,n,r))}(this._delegate),t.then(i=>new a2(this.firestore,new cp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=d$(e),i=h$(e,r=>new a2(this.firestore,new cp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return r$(this._delegate,t,i)}withConverter(e){return new na(this.firestore,this._delegate.withConverter(e?fm.getInstance(this.firestore,e):null))}}class Cne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new CC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a2{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new CC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Cne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new CC(this._firestore,i))})}isEqual(e){return Z5(this._delegate,e._delegate)}}class cv extends na{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yc(this.firestore,e):null}doc(e){try{return new yc(this.firestore,void 0===e?kS(this._delegate):kS(this._delegate,e))}catch(t){throw ta(t,"doc()","CollectionReference.doc()")}}add(e){return function lne(n,e){const t=Ln(n.firestore,Yi),i=kS(n),r=LS(n.converter,e);return lv(t,[OS(cm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new yc(this.firestore,t))}isEqual(e){return R5(this._delegate,e._delegate)}withConverter(e){return new cv(this.firestore,this._delegate.withConverter(e?fm.getInstance(this.firestore,e):null))}}function pm(n){return Ln(n,ji)}class l2{constructor(...e){this._delegate=new Mh(...e)}static documentId(){return new l2(_r.keyField().canonicalString())}isEqual(e){return(e=(0,U.m9)(e))instanceof Mh&&this._delegate._internalPath.isEqual(e._internalPath)}}class gm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fne(){return new QF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gm(e)}static delete(){const e=function hne(){return new mC("deleteField")}();return e._methodName="FieldValue.delete",new gm(e)}static arrayUnion(...e){const t=function pne(...n){return new Lte("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gm(t)}static arrayRemove(...e){const t=function gne(...n){return new Bte("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gm(t)}static increment(e){const t=function mne(n){return new Vte("increment",n)}(e);return t._methodName="FieldValue.increment",new gm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ene={Firestore:l$,GeoPoint:NS,Timestamp:Ki,Blob:bC,Transaction:c$,WriteBatch:u$,DocumentReference:yc,DocumentSnapshot:wC,Query:na,QueryDocumentSnapshot:CC,QuerySnapshot:a2,CollectionReference:cv,FieldPath:l2,FieldValue:gm,setLogLevel:function wne(n){!function vJ(n){Yf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function f$(n,e){return function Ine(n,e=cu.z){return new ki.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function c2(n,e){return f$(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function VS(n,e){return c2(n,e).pipe(_l(void 0),gR(),(0,Et.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const f=r.find(b=>b.doc.ref.isEqual(c.ref)),g=t?.payload.docs.find(b=>b.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function p$(n,e,t){return VS(n,t).pipe(nh((i,r)=>function Ane(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function xne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return u2(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return u2(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return u2(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),bf(),(0,Et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function u2(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function g$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Tne(n){(function Dne(n,e){n.INTERNAL.registerComponent(new Du.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Ene)))})(n,(e,t)=>new l$(e,t,new bne)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(nR.Z);class m${constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=VS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(_l(void 0),gR(),sr(([i,r])=>r.length>0||!i),(0,Et.U)(([i,r])=>r),qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(nh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=g$(e);return p$(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return c2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),qn.iC)}get(e){return(0,ei.D)(this.query.get(e)).pipe(qn.iC)}add(e){return this.ref.add(e)}doc(e){return new _$(this.ref.doc(e),this.afs)}}class _${constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=b$(i,t);return new m$(r,s,this.afs)}snapshotChanges(){return function Sne(n,e){return f$(n,e).pipe(_l(void 0),gR(),(0,Et.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ei.D)(this.ref.get(e)).pipe(qn.iC)}}class kne{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?VS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),sr(t=>t.length>0),qn.iC):VS(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(nh((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=g$(e);return p$(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return c2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),qn.iC)}get(e){return(0,ei.D)(this.query.get(e)).pipe(qn.iC)}}const y$=new o.OlP("angularfire2.enableFirestorePersistence"),v$=new o.OlP("angularfire2.firestore.persistenceSettings"),Nne=new o.OlP("angularfire2.firestore.settings"),Mne=new o.OlP("angularfire2.firestore.use-emulator");function b$(n,e=(t=>t)){return{query:e(n),ref:n}}let One=(()=>{class n{constructor(t,i,r,s,c,d,f,g,b,C,N,R,B,z,te,ye,Te){this.schedulers=f;const Fe=(0,Xr.on)(t,d,i),Re=b;C&&dO(Fe,d,N,B,z,te,R,ye),[this.firestore,this.persistenceEnabled$]=(0,Xr.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const Je=d.runOutsideAngular(()=>Fe.firestore());if(s&&Je.settings(s),Re&&Je.useEmulator(...Re),r&&!Pl(c)){const rt=()=>{try{return(0,ei.D)(Je.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(bt){return typeof console<"u"&&console.warn(bt),It(!1)}};return[Je,d.runOutsideAngular(rt)]}return[Je,It(!1)]},[s,Re,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=b$(r,i),d=this.schedulers.ngZone.run(()=>s);return new m$(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new kne(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new _$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xr.Dh),o.LFG(Xr.xv,8),o.LFG(y$,8),o.LFG(Nne,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(qn.HU),o.LFG(v$,8),o.LFG(Mne,8),o.LFG(sw,8),o.LFG(sO,8),o.LFG(oO,8),o.LFG(aO,8),o.LFG(lO,8),o.LFG(cO,8),o.LFG(uO,8),o.LFG(rw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rne=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:y$,useValue:!0},{provide:v$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[One]}),n})();const w$="@firebase/database";let d2="";function E$(n){d2=n}class Fne{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Lne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const D$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Fne(e)}}catch{}return new Lne},mm=D$("localStorage"),h2=D$("sessionStorage"),uv=new Eu.Yd("@firebase/database"),T$=function(){let n=1;return function(){return n++}}(),I$=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const i=t.digest();return U.US.encodeByteArray(i)},EC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=EC.apply(null,i):e+="object"==typeof i?(0,U.Pz)(i):i,e+=" "}return e};let _m=null,S$=!0;const A$=function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(uv.logLevel=Eu.in.VERBOSE,_m=uv.log.bind(uv),e&&h2.set("logging_enabled",!0)):"function"==typeof n?_m=n:(_m=null,h2.remove("logging_enabled"))},Cs=function(...n){if(!0===S$&&(S$=!1,null===_m&&!0===h2.get("logging_enabled")&&A$(!0)),_m){const e=EC.apply(null,n);_m(e)}},DC=function(n){return function(...e){Cs(n,...e)}},f2=function(...n){const e="FIREBASE INTERNAL ERROR: "+EC(...n);uv.error(e)},Dd=function(...n){const e=`FIREBASE FATAL ERROR: ${EC(...n)}`;throw uv.error(e),new Error(e)},Eo=function(...n){const e="FIREBASE WARNING: "+EC(...n);uv.warn(e)},US=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Rh="[MIN_NAME]",Td="[MAX_NAME]",ym=function(n,e){if(n===e)return 0;if(n===Rh||e===Td)return-1;if(e===Rh||n===Td)return 1;{const t=jS(n),i=jS(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Une=function(n,e){return n===e?0:n<e?-1:1},TC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(e))},p2=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,U.Pz)(e[i]),t+=":",t+=p2(n[e[i]]);return t+="}",t},x$=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Es(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const k$=function(n){(0,U.hu)(!US(n),"Invalid JSON number");const i=1023;let r,s,c,d,f;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const g=[];for(f=52;f;f-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)g.push(s%2?1:0),s=Math.floor(s/2);g.push(r?1:0),g.reverse();const b=g.join("");let C="";for(f=0;f<64;f+=8){let N=parseInt(b.substr(f,8),2).toString(16);1===N.length&&(N="0"+N),C+=N}return C.toLowerCase()},$ne=new RegExp("^-?(0*)\\d{1,10}$"),N$=-2147483648,g2=2147483647,jS=function(n){if($ne.test(n)){const e=Number(n);if(e>=N$&&e<=g2)return e}return null},dv=function(n){try{n()}catch(e){setTimeout(()=>{throw Eo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},IC=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Zne{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Eo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qne{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Eo(e)}}let SC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const F$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,V$="websocket",U$="long_polling";class _2{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function j$(n,e,t){let i;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===V$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==U$)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Es(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class Kne{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const y2={},v2={};function b2(n){const e=n.toString();return y2[e]||(y2[e]=new Kne),y2[e]}class Qne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&dv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hp{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=DC(e),this.stats_=b2(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),j$(t,U$,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new w2((...s)=>{const[c,d,f,g,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&F$.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hp.forceAllow_=!0}static forceDisallow(){hp.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!hp.forceAllow_&&(hp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,U.h$)(t),r=x$(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class w2{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=T$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=w2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Cs("frame writing exception"),d.stack&&Cs(d.stack),Cs(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Cs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let GS=null;typeof MozWebSocket<"u"?GS=MozWebSocket:typeof WebSocket<"u"&&(GS=WebSocket);let hv=(()=>{class n{constructor(t,i,r,s,c,d,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=DC(this.connId),this.stats_=b2(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&F$.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),j$(t,V$,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mm.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){r={headers:{"User-Agent":`Firebase/5/${d2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new GS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==GS&&!n.forceDisallow_}static previouslyFailed(){return mm.isInMemoryStorage||!0===mm.get("previous_websocket_failure")}markConnectionHealthy(){mm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,U.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=x$(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),W$=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[hp,hv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=hv&&hv.isAvailable();let r=i&&!hv.previouslyFailed();if(t.webSocketOnly&&(i||Eo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hv];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class t6{constructor(e,t,i,r,s,c,d,f,g,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=DC("c:"+this.id+":"),this.transportManager_=new W$(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=IC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=TC("t",e),i=TC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=TC("t",e),i=TC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=TC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?f2("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):f2("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Eo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),IC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):IC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class n6{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class i6{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $S extends i6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $S}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ti{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Wn(){return new ti("")}function An(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function fp(n){return n.pieces_.length-n.pieceNum_}function Ci(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ti(n.pieces_,e)}function E2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function AC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function o6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ti(e,0)}function Qi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ti)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ti(t,0)}function xn(n){return n.pieceNum_>=n.pieces_.length}function ia(n,e){const t=An(n),i=An(e);if(null===t)return e;if(t===i)return ia(Ci(n),Ci(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function vie(n,e){const t=AC(n,0),i=AC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=ym(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function D2(n,e){if(fp(n)!==fp(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function vc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(fp(n)>fp(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class bie{constructor(e,t){this.errorPrefix_=t,this.parts_=AC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);a6(this)}}function a6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vm(n))}function vm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class T2 extends i6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new T2}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const xC=1e3;let ZS,bm=(()=>{class n extends n6{constructor(t,i,r,s,c,d,f,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=DC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");T2.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$S.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,U.Pz)(c)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new U.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,f=>{const g=f.d,b=f.s;n.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,g))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const r=(0,U.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Eo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,U.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):f2("Unrecognized action received from server: "+(0,U.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,g=null;const b=function(){g?g.close():(f=!0,s())};t.realtime_={close:b,sendRequest:function(R){(0,U.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(R)}};const N=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[R,B]=yield Promise.all([t.authTokenProvider_.getToken(N),t.appCheckTokenProvider_.getToken(N)]);f?Cs("getToken() completed but was canceled"):(Cs("getToken() completed. Creating connection."),t.authToken_=R&&R.accessToken,t.appCheckToken_=B&&B.token,g=new t6(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,z=>{Eo(z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(R){t.log_("Failed to get token: "+R),f||(t.repoInfo_.nodeAdmin&&Eo(R),b())}}})()}interrupt(t){Cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>p2(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ti(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Cs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Cs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+d2.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$S.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Nn(e,t)}}class zS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Nn(Rh,e),r=new Nn(Rh,t);return 0!==this.compare(i,r)}minPost(){return Nn.MIN}}class u6 extends zS{static get __EMPTY_NODE(){return ZS}static set __EMPTY_NODE(e){ZS=e}compare(e,t){return ym(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Nn.MIN}maxPost(){return new Nn(Td,ZS)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Nn(e,ZS)}toString(){return".key"}}const Id=new u6;class qS{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let S2,Au=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??$a.EMPTY_NODE,this.right=c??$a.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $a.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return $a.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class $a{constructor(e,t=$a.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new $a(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Au.BLACK,null,null))}remove(e){return new $a(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Au.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new qS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new qS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new qS(this.root_,null,this.comparator_,!0,e)}}function Aie(n,e){return ym(n.name,e.name)}function I2(n,e){return ym(n,e)}$a.EMPTY_NODE=new class Sie{copy(e,t,i,r,s){return this}insert(e,t,i){return new Au(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const d6=function(n){return"number"==typeof n?"number:"+k$(n):"string:"+n},h6=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===S2||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===S2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let f6,p6,g6,fv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),h6(this.priorityNode_)}static set __childrenNodeConstructor(t){f6=t}static get __childrenNodeConstructor(){return f6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xn(t)?this:".priority"===An(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=An(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===fp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ci(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+d6(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?k$(this.value_):this.value_,this.lazyHash_=I$(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(s>=0,"Unknown leaf type: "+i),(0,U.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Oi=new class Mie extends zS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?ym(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Nn.MIN}maxPost(){return new Nn(Td,new fv("[PRIORITY-POST]",g6))}makePost(e,t){const i=p6(e);return new Nn(t,new fv("[PRIORITY-POST]",i))}toString(){return".priority"}},Oie=Math.log(2);class Rie{constructor(e){this.count=parseInt(Math.log(e+1)/Oie,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const WS=function(n,e,t,i){n.sort(e);const r=function(f,g){const b=g-f;let C,N;if(0===b)return null;if(1===b)return C=n[f],N=t?t(C):C,new Au(N,C.node,Au.BLACK,null,null);{const R=parseInt(b/2,10)+f,B=r(f,R),z=r(R+1,g);return C=n[R],N=t?t(C):C,new Au(N,C.node,Au.BLACK,B,z)}},d=function(f){let g=null,b=null,C=n.length;const N=function(B,z){const te=C-B,ye=C;C-=B;const Te=r(te+1,ye),Fe=n[te],Re=t?t(Fe):Fe;R(new Au(Re,Fe.node,z,null,Te))},R=function(B){g?(g.left=B,g=B):(b=B,g=B)};for(let B=0;B<f.count;++B){const z=f.nextBitIsOne(),te=Math.pow(2,f.count-(B+1));z?N(te,Au.BLACK):(N(te,Au.BLACK),N(te,Au.RED))}return b}(new Rie(n.length));return new $a(i||e,d)};let A2;const pv={};class Ph{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(pv&&Oi,"ChildrenNode.ts has not been loaded"),A2=A2||new Ph({".priority":pv},{".priority":Oi}),A2}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof $a?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==Id,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Nn.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?WS(i,e.getCompare()):pv;const f=e.toString(),g=Object.assign({},this.indexSet_);g[f]=e;const b=Object.assign({},this.indexes_);return b[f]=d,new Ph(b,g)}addToIndexes(e,t){const i=(0,U.UI)(this.indexes_,(r,s)=>{const c=(0,U.DV)(this.indexSet_,s);if((0,U.hu)(c,"Missing index implementation for "+s),r===pv){if(c.isDefinedOn(e.node)){const d=[],f=t.getIterator(Nn.Wrap);let g=f.getNext();for(;g;)g.name!==e.name&&d.push(g),g=f.getNext();return d.push(e),WS(d,c.getCompare())}return pv}{const d=t.get(e.name);let f=r;return d&&(f=f.remove(new Nn(e.name,d))),f.insert(e,e.node)}});return new Ph(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,U.UI)(this.indexes_,r=>{if(r===pv)return r;{const s=t.get(e.name);return s?r.remove(new Nn(e.name,s)):r}});return new Ph(i,this.indexSet_)}}let kC,yn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&h6(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kC||(kC=new n(new $a(I2),null,Ph.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?kC:i}}getChild(t){const i=An(t);return null===i?this:this.getImmediateChild(i).getChild(Ci(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Nn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?kC:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=An(t);if(null===r)return i;{(0,U.hu)(".priority"!==An(t)||1===fp(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ci(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Oi,(d,f)=>{i[d]=f.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+d6(this.getPriority().val())+":"),this.forEachChild(Oi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":I$(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Nn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Nn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Nn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Nn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Nn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===NC?-1:0}withIndex(t){if(t===Id||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Id||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Oi),s=i.getIterator(Oi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===Id?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const NC=new class Pie extends yn{constructor(){super(new $a(I2),yn.EMPTY_NODE,Ph.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yn.EMPTY_NODE}isEmpty(){return!1}};function ar(n,e=null){if(null===n)return yn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new fv(n,ar(e));if(n instanceof Array){let t=yn.EMPTY_NODE;return Es(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const s=ar(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ar(e))}{const t=[];let i=!1;if(Es(n,(c,d)=>{if("."!==c.substring(0,1)){const f=ar(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new Nn(c,f)))}}),0===t.length)return yn.EMPTY_NODE;const s=WS(t,Aie,c=>c.name,I2);if(i){const c=WS(t,Oi.getCompare());return new yn(s,ar(e),new Ph({".priority":c},{".priority":Oi}))}return new yn(s,ar(e),Ph.Default)}}Object.defineProperties(Nn,{MIN:{value:new Nn(Rh,yn.EMPTY_NODE)},MAX:{value:new Nn(Td,NC)}}),u6.__EMPTY_NODE=yn.EMPTY_NODE,fv.__childrenNodeConstructor=yn,function xie(n){S2=n}(NC),function Nie(n){g6=n}(NC),function kie(n){p6=n}(ar);class x2 extends zS{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!xn(e)&&".priority"!==An(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?ym(e.name,t.name):s}makePost(e,t){const i=ar(e),r=yn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nn(t,r)}maxPost(){const e=yn.EMPTY_NODE.updateChild(this.indexPath_,NC);return new Nn(Td,e)}toString(){return AC(this.indexPath_,0).join("/")}}const k2=new class Lie extends zS{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?ym(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Nn.MIN}maxPost(){return Nn.MAX}makePost(e,t){const i=ar(e);return new Nn(t,i)}toString(){return".value"}},gv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bie=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=gv.charAt(t%64),t=Math.floor(t/64);(0,U.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=gv.charAt(e[r]);return(0,U.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),y6=function(n){if(n===""+g2)return"-";const e=jS(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Td;const s=gv.charAt(gv.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},v6=function(n){if(n===""+N$)return Rh;const e=jS(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+g2:(delete t[t.length-1],t.join("")):(t[t.length-1]=gv.charAt(gv.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function b6(n){return{type:"value",snapshotNode:n}}function mv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function MC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function OC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class M2{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(MC(t,d)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(mv(t,i)):c.trackChildChange(OC(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Oi,(r,s)=>{t.hasChild(r)||i.trackChildChange(MC(r,s))}),t.isLeafNode()||t.forEachChild(Oi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(OC(r,s,c))}else i.trackChildChange(mv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?yn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class RC{constructor(e){this.indexedFilter_=new M2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RC.getStartPost_(e),this.endPost_=RC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Nn(t,i))||(i=yn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=yn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(yn.EMPTY_NODE);const s=this;return t.forEachChild(Oi,(c,d)=>{s.matches(new Nn(c,d))||(r=r.updateImmediateChild(c,yn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Uie{constructor(e){this.rangedFilter_=new RC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Nn(t,i))||(i=yn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=yn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=yn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,f;if(r=t.withIndex(this.index_),r=r.updatePriority(yn.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const C=this.index_.getCompare();d=(N,R)=>C(R,N)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let g=0,b=!1;for(;f.hasNext();){const C=f.getNext();!b&&d(s,C)<=0&&(b=!0),b&&g<this.limit_&&d(C,c)<=0?g++:r=r.updateImmediateChild(C.name,yn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const C=this.index_.getCompare();c=(N,R)=>C(R,N)}else c=this.index_.getCompare();const d=e;(0,U.hu)(d.numChildren()===this.limit_,"");const f=new Nn(t,i),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(d.hasChild(t)){const C=d.getImmediateChild(t);let N=r.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=N&&(N.name===t||d.hasChild(N.name));)N=r.getChildAfterChild(this.index_,N,this.reverse_);const R=null==N?1:c(N,f);if(b&&!i.isEmpty()&&R>=0)return s?.trackChildChange(OC(t,i,C)),d.updateImmediateChild(t,i);{s?.trackChildChange(MC(t,C));const z=d.updateImmediateChild(t,yn.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(s?.trackChildChange(mv(N.name,N.node)),z.updateImmediateChild(N.name,N.node)):z}}return i.isEmpty()?e:b&&c(g,f)>=0?(null!=s&&(s.trackChildChange(MC(g.name,g.node)),s.trackChildChange(mv(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(g.name,yn.EMPTY_NODE)):e}}class KS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Td}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oi}copy(){const e=new KS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function O2(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function R2(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function YS(n,e){const t=n.copy();return t.index_=e,t}function w6(n){const e={};if(n.isDefault())return e;let t;return n.index_===Oi?t="$priority":n.index_===k2?t="$value":n.index_===Id?t="$key":((0,U.hu)(n.index_ instanceof x2,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Pz)(t),n.startSet_&&(e.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function C6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Oi&&(e.i=n.index_.toString()),e}class QS extends n6{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=DC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=QS.getListenId_(e,i),d={};this.listens_[c]=d;const f=w6(e._queryParams);this.restRequest_(s+".json",f,(g,b)=>{let C=b;if(404===g&&(C=null,g=null),null===g&&this.onDataUpdate_(s,C,!1,i),(0,U.DV)(this.listens_,c)===d){let N;N=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(N,null)}})}unlisten(e,t){const i=QS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=w6(e._queryParams),i=e._path.toString(),r=new U.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,U.cI)(d.responseText)}catch{Eo("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Eo("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Zie{constructor(){this.rootNode_=yn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function JS(){return{value:null,children:new Map}}function _v(n,e,t){if(xn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=An(e);n.children.has(i)||n.children.set(i,JS()),_v(n.children.get(i),e=Ci(e),t)}}function P2(n,e){if(xn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Oi,(i,r)=>{_v(n,new ti(i),r)}),P2(n,e)}}if(n.children.size>0){const t=An(e);return e=Ci(e),n.children.has(t)&&P2(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function F2(n,e,t){null!==n.value?t(e,n.value):function qie(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{F2(r,new ti(e.toString()+"/"+i),t)})}class Wie{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Es(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Qie{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Wie(e);const i=1e4+2e4*Math.random();IC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Es(e,(r,s)=>{s>0&&(0,U.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),IC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var bc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(bc||(bc={})),bc))();function V2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class XS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=bc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xn(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ti(e));return new XS(Wn(),t,this.revert)}}return(0,U.hu)(An(this.path)===e,"operationForChild called for unrelated child."),new XS(Ci(this.path),this.affectedTree,this.revert)}}class PC{constructor(e,t){this.source=e,this.path=t,this.type=bc.LISTEN_COMPLETE}operationForChild(e){return xn(this.path)?new PC(this.source,Wn()):new PC(this.source,Ci(this.path))}}class wm{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=bc.OVERWRITE}operationForChild(e){return xn(this.path)?new wm(this.source,Wn(),this.snap.getImmediateChild(e)):new wm(this.source,Ci(this.path),this.snap)}}class yv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=bc.MERGE}operationForChild(e){if(xn(this.path)){const t=this.children.subtree(new ti(e));return t.isEmpty()?null:t.value?new wm(this.source,Wn(),t.value):new yv(this.source,Wn(),t)}return(0,U.hu)(An(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yv(this.source,Ci(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xn(e))return this.isFullyInitialized()&&!this.filtered_;const t=An(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Jie{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FC(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,f)=>function tre(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new Nn(e.childName,e.snapshotNode),r=new Nn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function ere(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(f,n.query_))})})}function eA(n,e){return{eventCache:n,serverCache:e}}function LC(n,e,t,i){return eA(new pp(e,t,i),n.serverCache)}function D6(n,e,t,i){return eA(n.eventCache,new pp(e,t,i))}function tA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Cm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let U2;class Ri{constructor(e,t=(()=>(U2||(U2=new $a(Une)),U2))()){this.value=e,this.children=t}static fromObject(e){let t=new Ri(null);return Es(e,(i,r)=>{t=t.set(new ti(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Wn(),value:this.value};if(xn(e))return null;{const i=An(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ci(e),t);return null!=s?{path:Qi(new ti(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xn(e))return this;{const t=An(e),i=this.children.get(t);return null!==i?i.subtree(Ci(e)):new Ri(null)}}set(e,t){if(xn(e))return new Ri(t,this.children);{const i=An(e),s=(this.children.get(i)||new Ri(null)).set(Ci(e),t),c=this.children.insert(i,s);return new Ri(this.value,c)}}remove(e){if(xn(e))return this.children.isEmpty()?new Ri(null):new Ri(null,this.children);{const t=An(e),i=this.children.get(t);if(i){const r=i.remove(Ci(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ri(null):new Ri(this.value,s)}return this}}get(e){if(xn(e))return this.value;{const t=An(e),i=this.children.get(t);return i?i.get(Ci(e)):null}}setTree(e,t){if(xn(e))return t;{const i=An(e),s=(this.children.get(i)||new Ri(null)).setTree(Ci(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ri(this.value,c)}}fold(e){return this.fold_(Wn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Qi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Wn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(xn(e))return null;{const s=An(e),c=this.children.get(s);return c?c.findOnPath_(Ci(e),Qi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Wn(),t)}foreachOnPath_(e,t,i){if(xn(e))return this;{this.value&&i(t,this.value);const r=An(e),s=this.children.get(r);return s?s.foreachOnPath_(Ci(e),Qi(t,r),i):new Ri(null)}}foreach(e){this.foreach_(Wn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Qi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class xu{constructor(e){this.writeTree_=e}static empty(){return new xu(new Ri(null))}}function BC(n,e,t){if(xn(e))return new xu(new Ri(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=ia(r,e);return s=s.updateChild(c,t),new xu(n.writeTree_.set(r,s))}{const r=new Ri(t),s=n.writeTree_.setTree(e,r);return new xu(s)}}}function j2(n,e,t){let i=n;return Es(t,(r,s)=>{i=BC(i,Qi(e,r),s)}),i}function T6(n,e){if(xn(e))return xu.empty();{const t=n.writeTree_.setTree(e,new Ri(null));return new xu(t)}}function H2(n,e){return null!=Em(n,e)}function Em(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ia(t.path,e)):null}function I6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oi,(i,r)=>{e.push(new Nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Nn(i,r.value))}),e}function gp(n,e){if(xn(e))return n;{const t=Em(n,e);return new xu(null!=t?new Ri(t):n.writeTree_.subtree(e))}}function G2(n){return n.writeTree_.isEmpty()}function vv(n,e){return S6(Wn(),n.writeTree_,e)}function S6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,U.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=S6(Qi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Qi(n,".priority"),i)),t}}function nA(n,e){return M6(e,n)}function are(n,e){if(n.snap)return vc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&vc(Qi(n.path,t),e))return!0;return!1}function cre(n){return n.visible}function A6(n,e,t){let i=xu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)vc(t,c)?(d=ia(t,c),i=BC(i,d,s.snap)):vc(c,t)&&(d=ia(c,t),i=BC(i,Wn(),s.snap.getChild(d)));else{if(!s.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(vc(t,c))d=ia(t,c),i=j2(i,d,s.children);else if(vc(c,t))if(d=ia(c,t),xn(d))i=j2(i,Wn(),s.children);else{const f=(0,U.DV)(s.children,An(d));if(f){const g=f.getChild(Ci(d));i=BC(i,Wn(),g)}}}}}return i}function x6(n,e,t,i,r){if(i||r){const s=gp(n.visibleWrites,e);return!r&&G2(s)?t:r||null!=t||H2(s,Wn())?vv(A6(n.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(vc(g.path,e)||vc(e,g.path))},e),t||yn.EMPTY_NODE):null}{const s=Em(n.visibleWrites,e);if(null!=s)return s;{const c=gp(n.visibleWrites,e);return G2(c)?t:null!=t||H2(c,Wn())?vv(c,t||yn.EMPTY_NODE):null}}}function iA(n,e,t,i){return x6(n.writeTree,n.treePath,e,t,i)}function $2(n,e){return function ure(n,e,t){let i=yn.EMPTY_NODE;const r=Em(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Oi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=gp(n.visibleWrites,e);return t.forEachChild(Oi,(c,d)=>{const f=vv(gp(s,new ti(c)),d);i=i.updateImmediateChild(c,f)}),I6(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return I6(gp(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function k6(n,e,t,i){return function dre(n,e,t,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Qi(e,t);if(H2(n.visibleWrites,s))return null;{const c=gp(n.visibleWrites,s);return G2(c)?r.getChild(t):vv(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function rA(n,e){return function fre(n,e){return Em(n.visibleWrites,e)}(n.writeTree,Qi(n.treePath,e))}function z2(n,e,t){return function hre(n,e,t,i){const r=Qi(e,t),s=Em(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?vv(gp(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function N6(n,e){return M6(Qi(n.treePath,e),n.writeTree)}function M6(n,e){return{treePath:n,writeTree:e}}class _re{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,OC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,MC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,mv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,OC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const O6=new class yre{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class Z2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new pp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return z2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cm(this.viewCache_),s=function mre(n,e,t,i,r,s){return function pre(n,e,t,i,r,s,c){let d;const f=gp(n.visibleWrites,e),g=Em(f,Wn());if(null!=g)d=g;else{if(null==t)return[];d=vv(f,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],C=c.getCompare(),N=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let R=N.getNext();for(;R&&b.length<r;)0!==C(R,i)&&b.push(R),R=N.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function R6(n,e,t,i,r,s){const c=e.eventCache;if(null!=rA(i,t))return e;{let d,f;if(xn(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Cm(e),C=$2(i,g instanceof yn?g:yn.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),C,s)}else{const g=iA(i,Cm(e));d=n.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const g=An(t);if(".priority"===g){(0,U.hu)(1===fp(t),"Can't have a priority with additional path components");const b=c.getNode();f=e.serverCache.getNode();const C=k6(i,t,b,f);d=null!=C?n.filter.updatePriority(b,C):c.getNode()}else{const b=Ci(t);let C;if(c.isCompleteForChild(g)){f=e.serverCache.getNode();const N=k6(i,t,c.getNode(),f);C=null!=N?c.getNode().getImmediateChild(g).updateChild(b,N):c.getNode().getImmediateChild(g)}else C=z2(i,g,e.serverCache);d=null!=C?n.filter.updateChild(c.getNode(),g,C,b,r,s):c.getNode()}}return LC(e,d,c.isFullyInitialized()||xn(t),n.filter.filtersNodes())}}function sA(n,e,t,i,r,s,c,d){const f=e.serverCache;let g;const b=c?n.filter:n.filter.getIndexedFilter();if(xn(t))g=b.updateFullNode(f.getNode(),i,null);else if(b.filtersNodes()&&!f.isFiltered()){const R=f.getNode().updateChild(t,i);g=b.updateFullNode(f.getNode(),R,null)}else{const R=An(t);if(!f.isCompleteForPath(t)&&fp(t)>1)return e;const B=Ci(t),te=f.getNode().getImmediateChild(R).updateChild(B,i);g=".priority"===R?b.updatePriority(f.getNode(),te):b.updateChild(f.getNode(),R,te,B,O6,null)}const C=D6(e,g,f.isFullyInitialized()||xn(t),b.filtersNodes());return R6(n,C,t,r,new Z2(r,C,s),d)}function q2(n,e,t,i,r,s,c){const d=e.eventCache;let f,g;const b=new Z2(r,e,s);if(xn(t))g=n.filter.updateFullNode(e.eventCache.getNode(),i,c),f=LC(e,g,!0,n.filter.filtersNodes());else{const C=An(t);if(".priority"===C)g=n.filter.updatePriority(e.eventCache.getNode(),i),f=LC(e,g,d.isFullyInitialized(),d.isFiltered());else{const N=Ci(t),R=d.getNode().getImmediateChild(C);let B;if(xn(N))B=i;else{const z=b.getCompleteChild(C);B=null!=z?".priority"===E2(N)&&z.getChild(o6(N)).isEmpty()?z:z.updateChild(N,i):yn.EMPTY_NODE}f=R.equals(B)?e:LC(e,n.filter.updateChild(d.getNode(),C,B,N,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function P6(n,e){return n.eventCache.isCompleteForChild(e)}function F6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function W2(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,f=e;g=xn(t)?i:new Ri(null).setTree(t,i);const b=e.serverCache.getNode();return g.children.inorderTraversal((C,N)=>{if(b.hasChild(C)){const B=F6(0,e.serverCache.getNode().getImmediateChild(C),N);f=sA(n,f,new ti(C),B,r,s,c,d)}}),g.children.inorderTraversal((C,N)=>{const R=!e.serverCache.isCompleteForChild(C)&&void 0===N.value;if(!b.hasChild(C)&&!R){const z=F6(0,e.serverCache.getNode().getImmediateChild(C),N);f=sA(n,f,new ti(C),z,r,s,c,d)}}),f}class Sre{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new M2(i.getIndex()),s=function jie(n){return n.loadsAllData()?new M2(n.getIndex()):n.hasLimit()?new Uie(n):new RC(n)}(i);this.processor_=function vre(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,f=r.updateFullNode(yn.EMPTY_NODE,c.getNode(),null),g=s.updateFullNode(yn.EMPTY_NODE,d.getNode(),null),b=new pp(f,c.isFullyInitialized(),r.filtersNodes()),C=new pp(g,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=eA(C,b),this.eventGenerator_=new Jie(this.query_)}get query(){return this.query_}}function kre(n,e){const t=Cm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!xn(e)&&!t.getImmediateChild(An(e)).isEmpty())?t.getChild(e):null}function L6(n){return 0===n.eventRegistrations_.length}function B6(n,e,t){const i=[];if(t){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function V6(n,e,t,i){e.type===bc.MERGE&&null!==e.source.queryId&&((0,U.hu)(Cm(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(tA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function wre(n,e,t,i,r){const s=new _re;let c,d;if(t.type===bc.OVERWRITE){const g=t;g.source.fromUser?c=q2(n,e,g.path,g.snap,i,r,s):((0,U.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!xn(g.path),c=sA(n,e,g.path,g.snap,i,r,d,s))}else if(t.type===bc.MERGE){const g=t;g.source.fromUser?c=function Ere(n,e,t,i,r,s,c){let d=e;return i.foreach((f,g)=>{const b=Qi(t,f);P6(e,An(b))&&(d=q2(n,d,b,g,r,s,c))}),i.foreach((f,g)=>{const b=Qi(t,f);P6(e,An(b))||(d=q2(n,d,b,g,r,s,c))}),d}(n,e,g.path,g.children,i,r,s):((0,U.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),c=W2(n,e,g.path,g.children,i,r,d,s))}else if(t.type===bc.ACK_USER_WRITE){const g=t;c=g.revert?function Ire(n,e,t,i,r,s){let c;if(null!=rA(i,t))return e;{const d=new Z2(i,e,r),f=e.eventCache.getNode();let g;if(xn(t)||".priority"===An(t)){let b;if(e.serverCache.isFullyInitialized())b=iA(i,Cm(e));else{const C=e.serverCache.getNode();(0,U.hu)(C instanceof yn,"serverChildren would be complete if leaf node"),b=$2(i,C)}g=n.filter.updateFullNode(f,b,s)}else{const b=An(t);let C=z2(i,b,e.serverCache);null==C&&e.serverCache.isCompleteForChild(b)&&(C=f.getImmediateChild(b)),g=null!=C?n.filter.updateChild(f,b,C,Ci(t),d,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(f,b,yn.EMPTY_NODE,Ci(t),d,s):f,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=iA(i,Cm(e)),c.isLeafNode()&&(g=n.filter.updateFullNode(g,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=rA(i,Wn()),LC(e,g,c,n.filter.filtersNodes())}}(n,e,g.path,i,r,s):function Dre(n,e,t,i,r,s,c){if(null!=rA(r,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(xn(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return sA(n,e,t,f.getNode().getChild(t),r,s,d,c);if(xn(t)){let g=new Ri(null);return f.getNode().forEachChild(Id,(b,C)=>{g=g.set(new ti(b),C)}),W2(n,e,t,g,r,s,d,c)}return e}{let g=new Ri(null);return i.foreach((b,C)=>{const N=Qi(t,b);f.isCompleteForPath(N)&&(g=g.set(b,f.getNode().getChild(N)))}),W2(n,e,t,g,r,s,d,c)}}(n,e,g.path,g.affectedTree,i,r,s)}else{if(t.type!==bc.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);c=function Tre(n,e,t,i,r){const s=e.serverCache;return R6(n,D6(e,s.getNode(),s.isFullyInitialized()||xn(t),s.isFiltered()),t,i,O6,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function Cre(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=tA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(b6(tA(e)))}}(e,c,f),{viewCache:c,changes:f}}(n.processor_,r,e,t,i);return function bre(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,U.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,U6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function U6(n,e,t,i){return function Xie(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Vie(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),FC(n,r,"child_removed",e,i,t),FC(n,r,"child_added",e,i,t),FC(n,r,"child_moved",s,i,t),FC(n,r,"child_changed",e,i,t),FC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let oA,lA;class j6{constructor(){this.views=new Map}}function K2(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,U.hu)(null!=s,"SyncTree gave us an op for an invalid query."),V6(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(V6(c,e,t,i));return s}}function Y2(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=iA(t,r?i:null),f=!1;d?f=!0:i instanceof yn?(d=$2(t,i),f=!1):(d=yn.EMPTY_NODE,f=!1);const g=eA(new pp(d,f,!1),new pp(i,r,!1));return new Sre(e,g)}return c}function H6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function mp(n,e){let t=null;for(const i of n.views.values())t=t||kre(i,e);return t}function G6(n,e){return e._queryParams.loadsAllData()?aA(n):n.views.get(e._queryIdentifier)}function $6(n,e){return null!=G6(n,e)}function _p(n){return null!=aA(n)}function aA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Ure=1;class z6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ri(null),this.pendingWriteTree_=function gre(){return{visibleWrites:xu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Q2(n,e,t,i,r){return function ire(n,e,t,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=BC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?bv(n,new wm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function yp(n,e,t=!1){const i=function sre(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function ore(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&are(d,i.path)?r=!1:vc(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function lre(n){n.visibleWrites=A6(n.allWrites,cre,Wn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=T6(n.visibleWrites,i.path):Es(i.children,f=>{n.visibleWrites=T6(n.visibleWrites,Qi(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new Ri(null);return null!=i.snap?s=s.set(Wn(),!0):Es(i.children,c=>{s=s.set(new ti(c),!0)}),bv(n,new XS(i.path,s,t))}return[]}function VC(n,e,t){return bv(n,new wm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function cA(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||$6(s,e))){const d=function Lre(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=_p(n);if("default"===r)for(const[f,g]of n.views.entries())c=c.concat(B6(g,t,i)),L6(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||s.push(g.query));else{const f=n.views.get(r);f&&(c=c.concat(B6(f,t,i)),L6(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!_p(n)&&s.push(new(function Rre(){return(0,U.hu)(oA,"Reference.ts has not been loaded"),oA}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function Pre(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=d.removed;c=d.events;const g=-1!==f.findIndex(C=>C._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(r,(C,N)=>_p(N));if(g&&!b){const C=n.syncPointTree_.subtree(r);if(!C.isEmpty()){const N=function Wre(n){return n.fold((e,t,i)=>{if(t&&_p(t))return[aA(t)];{let r=[];return t&&(r=H6(t)),Es(i,(s,c)=>{r=r.concat(c)}),r}})}(C);for(let R=0;R<N.length;++R){const B=N[R],z=B.query,te=Q6(n,B);n.listenProvider_.startListening(jC(z),UC(n,z),te.hashFn,te.onComplete)}}}!b&&f.length>0&&!i&&(g?n.listenProvider_.stopListening(jC(e),null):f.forEach(C=>{const N=n.queryToTagMap.get(dA(C));n.listenProvider_.stopListening(jC(C),N)})),function Kre(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=dA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return c}function Z6(n,e,t,i){const r=J2(n,i);if(null!=r){const s=X2(r),c=s.path,d=s.queryId,f=ia(c,e);return eL(n,c,new wm(V2(d),f,t))}return[]}function q6(n,e){const t=n._path;let i=null,r=!1;e.syncPointTree_.foreachOnPath(t,(g,b)=>{const C=ia(g,t);i=i||mp(b,C),r=r||_p(b)});let c,s=e.syncPointTree_.get(t);s?(r=r||_p(s),i=i||mp(s,Wn())):(s=new j6,e.syncPointTree_=e.syncPointTree_.set(t,s)),null!=i?c=!0:(c=!1,i=yn.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((b,C)=>{const N=mp(C,Wn());N&&(i=i.updateImmediateChild(b,N))}));const d=$6(s,n);if(!d&&!n._queryParams.loadsAllData()){const g=dA(n);(0,U.hu)(!e.queryToTagMap.has(g),"View does not exist, but we have a tag");const b=function Yre(){return Ure++}();e.queryToTagMap.set(g,b),e.tagToQueryMap.set(b,g)}return{syncPoint:s,writesCache:nA(e.pendingWriteTree_,t),serverCache:i,serverCacheComplete:c,foundAncestorDefaultView:r,viewAlreadyExists:d}}function W6(n,e,t){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:c,viewAlreadyExists:d,foundAncestorDefaultView:f}=q6(e,n);let g=function Fre(n,e,t,i,r,s){const c=Y2(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function Nre(n,e){n.eventRegistrations_.push(e)}(c,t),function Mre(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Oi,(s,c)=>{i.push(mv(s,c))}),t.isFullyInitialized()&&i.push(b6(t.getNode())),U6(n,i,t.getNode(),e)}(c,t)}(i,e,t,s,r,c);if(!d&&!f){const b=G6(i,e);g=g.concat(function Qre(n,e,t){const i=e._path,r=UC(n,e),s=Q6(n,t),c=n.listenProvider_.startListening(jC(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!_p(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((g,b,C)=>{if(!xn(g)&&b&&_p(b))return[aA(b).query];{let N=[];return b&&(N=N.concat(H6(b).map(R=>R.query))),Es(C,(R,B)=>{N=N.concat(B)}),N}});for(let g=0;g<f.length;++g){const b=f[g];n.listenProvider_.stopListening(jC(b),UC(n,b))}}return c}(n,e,b))}return g}function uA(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const g=mp(d,ia(c,e));if(g)return g});return x6(r,e,s,t,!0)}function bv(n,e){return K6(e,n.syncPointTree_,null,nA(n.pendingWriteTree_,Wn()))}function K6(n,e,t,i){if(xn(n.path))return Y6(n,e,t,i);{const r=e.get(Wn());null==t&&null!=r&&(t=mp(r,Wn()));let s=[];const c=An(n.path),d=n.operationForChild(c),f=e.children.get(c);if(f&&d){const g=t?t.getImmediateChild(c):null,b=N6(i,c);s=s.concat(K6(d,f,g,b))}return r&&(s=s.concat(K2(r,n,i,t))),s}}function Y6(n,e,t,i){const r=e.get(Wn());null==t&&null!=r&&(t=mp(r,Wn()));let s=[];return e.children.inorderTraversal((c,d)=>{const f=t?t.getImmediateChild(c):null,g=N6(i,c),b=n.operationForChild(c);b&&(s=s.concat(Y6(b,d,f,g)))}),r&&(s=s.concat(K2(r,n,i,t))),s}function Q6(n,e){const t=e.query,i=UC(n,t);return{hashFn:()=>(function Are(n){return n.viewCache_.serverCache.getNode()}(e)||yn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function $re(n,e,t){const i=J2(n,t);if(i){const r=X2(i),s=r.path,c=r.queryId,d=ia(s,e);return eL(n,s,new PC(V2(c),d))}return[]}(n,t._path,i):function Gre(n,e){return bv(n,new PC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Gne(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return cA(n,t,null,s)}}}}function UC(n,e){const t=dA(e);return n.queryToTagMap.get(t)}function dA(n){return n._path.toString()+"$"+n._queryIdentifier}function J2(n,e){return n.tagToQueryMap.get(e)}function X2(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ti(n.substr(0,e))}}function eL(n,e,t){const i=n.syncPointTree_.get(e);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),K2(i,t,nA(n.pendingWriteTree_,e),null)}function jC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Vre(){return(0,U.hu)(lA,"Reference.ts has not been loaded"),lA}())(n._repo,n._path):n}class tL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new tL(t)}node(){return this.node_}}class nL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qi(this.path_,e);return new nL(this.syncTree_,t)}node(){return uA(this.syncTree_,this.path_)}}const J6=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Xre(n[".sv"],e,t):"object"==typeof n[".sv"]?ese(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Xre=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},ese=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},X6=function(n,e,t,i){return rL(e,new nL(t,n),i)},iL=function(n,e,t){return rL(n,new tL(e),t)};function rL(n,e,t){const i=n.getPriority().val(),r=J6(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=J6(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new fv(d,ar(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new fv(r))),c.forEachChild(Oi,(d,f)=>{const g=rL(f,e.getImmediateChild(d),t);g!==f&&(s=s.updateImmediateChild(d,g))}),s}}class sL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function hA(n,e){let t=e instanceof ti?e:new ti(e),i=n,r=An(t);for(;null!==r;){const s=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new sL(r,i,s),t=Ci(t),r=An(t)}return i}function Dm(n){return n.node.value}function oL(n,e){n.node.value=e,aL(n)}function ez(n){return n.node.childCount>0}function fA(n,e){Es(n.node.children,(t,i)=>{e(new sL(t,n,i))})}function tz(n,e,t,i){t&&!i&&e(n),fA(n,r=>{tz(r,e,!0,i)}),t&&i&&e(n)}function HC(n){return new ti(null===n.parent?n.name:HC(n.parent)+"/"+n.name)}function aL(n){null!==n.parent&&function ise(n,e,t){const i=function tse(n){return void 0===Dm(n)&&!ez(n)}(t),r=(0,U.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,aL(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,aL(n))}(n.parent,n.name,n)}const rse=/[\[\].#$\/\u0000-\u001F\u007F]/,sse=/[\[\].#$\u0000-\u001F\u007F]/,lL=10485760,pA=function(n){return"string"==typeof n&&0!==n.length&&!rse.test(n)},nz=function(n){return"string"==typeof n&&0!==n.length&&!sse.test(n)},GC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!US(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Sd=function(n,e,t,i){i&&void 0===e||$C((0,U.gK)(n,"value"),e,t)},$C=function(n,e,t){const i=t instanceof ti?new bie(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+vm(i));if("function"==typeof e)throw new Error(n+"contains a function "+vm(i)+" with contents = "+e.toString());if(US(e))throw new Error(n+"contains "+e.toString()+" "+vm(i));if("string"==typeof e&&e.length>lL/3&&(0,U.ug)(e)>lL)throw new Error(n+"contains a string greater than "+lL+" utf8 bytes "+vm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Es(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!pA(c)))throw new Error(n+" contains an invalid key ("+c+") "+vm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function wie(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),a6(n)})(i,c),$C(n,d,i),function Cie(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+vm(i)+" in addition to actual children.")}},iz=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,U.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Es(e,(c,d)=>{const f=new ti(c);if($C(r,d,Qi(t,f)),".priority"===E2(f)&&!GC(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=AC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!pA(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(vie);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&vc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},cL=function(n,e,t){if(!t||void 0!==e){if(US(e))throw new Error((0,U.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!GC(e))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zC=function(n,e,t,i){if(!(i&&void 0===t||pA(t)))throw new Error((0,U.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ZC=function(n,e,t,i){if(!(i&&void 0===t||nz(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wc=function(n,e){if(".info"===An(e))throw new Error(n+" failed = Can't modify data under /.info/")},rz=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!pA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nz(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cse{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!D2(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function sz(n,e,t){gA(n,t),oz(n,i=>D2(i,e))}function Cc(n,e,t){gA(n,t),oz(n,i=>vc(i,e)||vc(e,i))}function oz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(use(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function use(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();_m&&Cs("event: "+t.toString()),dv(i)}}}const az="repo_interrupt";class hse{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cse,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JS(),this.transactionQueueTree_=new sL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lz(n){const t=n.infoData_.getNode(new ti(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function qC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:lz(n)})}function cz(n,e,t,i,r){n.dataUpdateCount++;const s=new ti(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const f=(0,U.UI)(t,g=>ar(g));c=function Zre(n,e,t,i){const r=J2(n,i);if(r){const s=X2(r),c=s.path,d=s.queryId,f=ia(c,e),g=Ri.fromObject(t);return eL(n,c,new yv(V2(d),f,g))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=ar(t);c=Z6(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,U.UI)(t,g=>ar(g));c=function Hre(n,e,t){const i=Ri.fromObject(t);return bv(n,new yv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=ar(t);c=VC(n.serverSyncTree_,s,f)}let d=s;c.length>0&&(d=wv(n,s)),Cc(n.eventQueue_,d,c)}function uz(n,e){uL(n,"connected",e),!1===e&&function _se(n){Tm(n,"onDisconnectEvents");const e=qC(n),t=JS();F2(n.onDisconnect_,Wn(),(r,s)=>{const c=X6(r,s,n.serverSyncTree_,e);_v(t,r,c)});let i=[];F2(t,Wn(),(r,s)=>{i=i.concat(VC(n.serverSyncTree_,r,s));const c=pL(n,r);wv(n,c)}),n.onDisconnect_=JS(),Cc(n.eventQueue_,Wn(),i)}(n)}function uL(n,e,t){const i=new ti("/.info/"+e),r=ar(t);n.infoData_.updateSnapshot(i,r);const s=VC(n.infoSyncTree_,i,r);Cc(n.eventQueue_,i,s)}function mA(n){return n.nextWriteId_++}function gse(n,e){const t=function qre(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(g,b)=>{const C=ia(g,t);i=i||mp(b,C)});let r=n.syncPointTree_.get(t);r?i=i||mp(r,Wn()):(r=new j6,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new pp(i,!0,!1):null;return function xre(n){return tA(n.viewCache_)}(Y2(r,e,nA(n.pendingWriteTree_,e._path),s?c.getNode():yn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=ar(i).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())VC(n.serverSyncTree_,e._path,r);else{const c=function zre(n,e){const{syncPoint:t,serverCache:i,writesCache:r,serverCacheComplete:s}=q6(e,n),c=Y2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),e._queryParams.loadsAllData()?null:UC(n,e)}(n.serverSyncTree_,e);Z6(n.serverSyncTree_,e._path,r,c)}return cA(n.serverSyncTree_,e,null).length>0&&Tm(n,"unexpected cancel events in repoGetValue"),r},i=>(Tm(n,"get for query "+(0,U.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}function dL(n,e,t,i,r){Tm(n,"set",{path:e.toString(),value:t,priority:i});const s=qC(n),c=ar(t,i),d=uA(n.serverSyncTree_,e),f=iL(c,d,s),g=mA(n),b=Q2(n.serverSyncTree_,e,f,g,!0);gA(n.eventQueue_,b),n.server_.put(e.toString(),c.val(!0),(N,R)=>{const B="ok"===N;B||Eo("set at "+e+" failed: "+N);const z=yp(n.serverSyncTree_,g,!B);Cc(n.eventQueue_,e,z),vp(0,r,N,R)});const C=pL(n,e);wv(n,C),Cc(n.eventQueue_,C,[])}function yse(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&P2(n.onDisconnect_,e),vp(0,t,i,r)})}function dz(n,e,t,i){const r=ar(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&_v(n.onDisconnect_,e,r),vp(0,i,s,c)})}function hL(n,e,t){let i;i=".info"===An(e._path)?cA(n.infoSyncTree_,e,t):cA(n.serverSyncTree_,e,t),sz(n.eventQueue_,e._path,i)}function hz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(az)}function Tm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Cs(t,...e)}function vp(n,e,t,i){e&&dv(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function fL(n,e,t){return uA(n.serverSyncTree_,e,t)||yn.EMPTY_NODE}function _A(n,e=n.transactionQueueTree_){if(e||yA(n,e),Dm(e)){const t=pz(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Dse(n,e,t){const i=t.map(g=>g.currentWriteId),r=fL(n,e,i);let s=r;const c=r.hash();for(let g=0;g<t.length;g++){const b=t[g];(0,U.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const C=ia(e,b.path);s=s.updateChild(C,b.currentOutputSnapshotRaw)}const d=s.val(!0),f=e;n.server_.put(f.toString(),d,g=>{Tm(n,"transaction put response",{path:f.toString(),status:g});let b=[];if("ok"===g){const C=[];for(let N=0;N<t.length;N++)t[N].status=2,b=b.concat(yp(n.serverSyncTree_,t[N].currentWriteId)),t[N].onComplete&&C.push(()=>t[N].onComplete(null,!0,t[N].currentOutputSnapshotResolved)),t[N].unwatcher();yA(n,hA(n.transactionQueueTree_,e)),_A(n,n.transactionQueueTree_),Cc(n.eventQueue_,e,b);for(let N=0;N<C.length;N++)dv(C[N])}else{if("datastale"===g)for(let C=0;C<t.length;C++)t[C].status=3===t[C].status?4:0;else{Eo("transaction at "+f.toString()+" failed: "+g);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=g}wv(n,e)}},c)}(n,HC(e),t)}else ez(e)&&fA(e,t=>{_A(n,t)})}function wv(n,e){const t=fz(n,e),i=HC(t);return function Tse(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],g=ia(t,f.path);let C,b=!1;if((0,U.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,C=f.abortReason,r=r.concat(yp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)b=!0,C="maxretry",r=r.concat(yp(n.serverSyncTree_,f.currentWriteId,!0));else{const N=fL(n,f.path,c);f.currentInputSnapshot=N;const R=e[d].update(N.val());if(void 0!==R){$C("transaction failed: Data returned ",R,f.path);let B=ar(R);"object"==typeof R&&null!=R&&(0,U.r3)(R,".priority")||(B=B.updatePriority(N.getPriority()));const te=f.currentWriteId,ye=qC(n),Te=iL(B,N,ye);f.currentOutputSnapshotRaw=B,f.currentOutputSnapshotResolved=Te,f.currentWriteId=mA(n),c.splice(c.indexOf(te),1),r=r.concat(Q2(n.serverSyncTree_,f.path,Te,f.currentWriteId,f.applyLocally)),r=r.concat(yp(n.serverSyncTree_,te,!0))}else b=!0,C="nodata",r=r.concat(yp(n.serverSyncTree_,f.currentWriteId,!0))}Cc(n.eventQueue_,t,r),r=[],b&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===C?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(C),!1,null)))}yA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)dv(i[d]);_A(n,n.transactionQueueTree_)}(n,pz(n,t),i),i}function fz(n,e){let t,i=n.transactionQueueTree_;for(t=An(e);null!==t&&void 0===Dm(i);)i=hA(i,t),t=An(e=Ci(e));return i}function pz(n,e){const t=[];return gz(n,e,t),t.sort((i,r)=>i.order-r.order),t}function gz(n,e,t){const i=Dm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);fA(e,r=>{gz(n,r,t)})}function yA(n,e){const t=Dm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,oL(e,t.length>0?t:void 0)}fA(e,i=>{yA(n,i)})}function pL(n,e){const t=HC(fz(n,e)),i=hA(n.transactionQueueTree_,e);return function nse(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{gL(n,r)}),gL(n,i),tz(i,r=>{gL(n,r)}),t}function gL(n,e){const t=Dm(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,U.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,U.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(yp(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?oL(e,void 0):t.length=s+1,Cc(n.eventQueue_,HC(e),r);for(let c=0;c<i.length;c++)dv(i[c])}}const mL=function(n,e){const t=Ase(n),i=t.namespace;return"firebase.com"===t.domain&&Dd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Dd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Eo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _2(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ti(t.pathString)}},Ase=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",f=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(d=n.substring(0,g-1),n=n.substring(g+2));let b=n.indexOf("/");-1===b&&(b=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),e=n.substring(0,Math.min(b,C)),b<C&&(r=function Ise(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,C)));const N=function Sse(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Eo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,C)));g=e.indexOf(":"),g>=0?(c="https"===d||"wss"===d,f=parseInt(e.substring(g+1),10)):g=e.length;const R=e.slice(0,g);if("localhost"===R.toLowerCase())t="localhost";else if(R.split(".").length<=2)t=R;else{const B=e.indexOf(".");i=e.substring(0,B).toLowerCase(),t=e.substring(B+1),s=i}"ns"in N&&(s=N.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class mz{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class _z{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yz{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class vz{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new U.BH;return yse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){wc("OnDisconnect.remove",this._path);const e=new U.BH;return dz(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){wc("OnDisconnect.set",this._path),Sd("OnDisconnect.set",e,this._path,!1);const t=new U.BH;return dz(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){wc("OnDisconnect.setWithPriority",this._path),Sd("OnDisconnect.setWithPriority",e,this._path,!1),cL("OnDisconnect.setWithPriority",t,!1);const i=new U.BH;return function vse(n,e,t,i,r){const s=ar(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&_v(n.onDisconnect_,e,s),vp(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){wc("OnDisconnect.update",this._path),iz("OnDisconnect.update",e,this._path,!1);const t=new U.BH;return function bse(n,e,t,i){if((0,U.xb)(t))return Cs("onDisconnect().update() called with empty data.  Don't do anything."),void vp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Es(t,(c,d)=>{const f=ar(d);_v(n.onDisconnect_,Qi(e,c),f)}),vp(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class za{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return xn(this._path)?null:E2(this._path)}get ref(){return new Ec(this._repo,this._path)}get _queryIdentifier(){const e=C6(this._queryParams),t=p2(e);return"{}"===t?"default":t}get _queryObject(){return C6(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof za))return!1;const t=this._repo===e._repo,i=D2(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yie(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function vA(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function bp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Id){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Rh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Td)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Oi){if(null!=e&&!GC(e)||null!=t&&!GC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof x2||n.getIndex()===k2,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ec extends za{constructor(e,t){super(e,t,new KS,!1)}get parent(){const e=o6(this._path);return null===e?null:new Ec(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Im{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ti(e),i=Sm(this.ref,e);return new Im(this._node.getChild(t),i,Oi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Im(r,Sm(this.ref,i),Oi)))}hasChild(e){const t=new ti(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bz(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?Sm(n._root,e):n._root}function wz(n,e){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const t=mL(e,n._repo.repoInfo_.nodeAdmin);rz("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Dd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),bz(n,t.path.toString())}function Sm(n,e){return null===An((n=(0,U.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZC("child","path",t,!1)):ZC("child","path",e,!1),new Ec(n._repo,Qi(n._path,e));var t}function _L(n,e){n=(0,U.m9)(n),wc("set",n._path),Sd("set",e,n._path,!1);const t=new U.BH;return dL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Ose(n,e){iz("update",e,n._path,!1);const t=new U.BH;return function mse(n,e,t,i){Tm(n,"update",{path:e.toString(),value:t});let r=!0;const s=qC(n),c={};if(Es(t,(d,f)=>{r=!1,c[d]=X6(Qi(e,d),ar(f),n.serverSyncTree_,s)}),r)Cs("update() called with empty data.  Don't do anything."),vp(0,i,"ok",void 0);else{const d=mA(n),f=function jre(n,e,t,i){!function rre(n,e,t,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=j2(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ri.fromObject(t);return bv(n,new yv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);gA(n.eventQueue_,f),n.server_.merge(e.toString(),t,(g,b)=>{const C="ok"===g;C||Eo("update at "+e+" failed: "+g);const N=yp(n.serverSyncTree_,d,!C),R=N.length>0?wv(n,e):e;Cc(n.eventQueue_,R,N),vp(0,i,g,b)}),Es(t,g=>{const b=pL(n,Qi(e,g));wv(n,b)}),Cc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class wA{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new mz("value",this,new Im(e.snapshotNode,new Ec(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new _z(this,e,t):null}matches(e){return e instanceof wA&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class CA{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new _z(this,e,t):null}createEvent(e,t){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const i=Sm(new Ec(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new mz(e.type,this,new Im(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof CA&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function WC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=t,g=(b,C)=>{hL(n._repo,n,d),f(b,C)};g.userCallback=t.userCallback,g.context=t.context,t=g}const c=new yz(t,s||void 0),d="value"===e?new wA(c):new CA(e,c);return function wse(n,e,t){let i;i=".info"===An(e._path)?W6(n.infoSyncTree_,e,t):W6(n.serverSyncTree_,e,t),sz(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>hL(n._repo,n,d)}function yL(n,e,t,i){return WC(n,"value",e,t,i)}function Cz(n,e,t,i){return WC(n,"child_added",e,t,i)}function Ez(n,e,t,i){return WC(n,"child_changed",e,t,i)}function Dz(n,e,t,i){return WC(n,"child_moved",e,t,i)}function Tz(n,e,t,i){return WC(n,"child_removed",e,t,i)}function Iz(n,e,t){let i=null;const r=t?new yz(t):null;"value"===e?i=new wA(r):e&&(i=new CA(e,r)),hL(n._repo,n,i)}class ku{}class Sz extends ku{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sd("endAt",this._value,e._path,!0);const t=R2(e._queryParams,this._value,this._key);if(bA(t),bp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new za(e._repo,e._path,t,e._orderByCalled)}}class Fse extends ku{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sd("endBefore",this._value,e._path,!1);const t=function zie(n,e,t){let i,r;return n.index_===Id?("string"==typeof e&&(e=v6(e)),r=R2(n,e,t)):(i=null==t?Rh:v6(t),r=R2(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(bA(t),bp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new za(e._repo,e._path,t,e._orderByCalled)}}class Az extends ku{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sd("startAt",this._value,e._path,!0);const t=O2(e._queryParams,this._value,this._key);if(bA(t),bp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new za(e._repo,e._path,t,e._orderByCalled)}}class Vse extends ku{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Sd("startAfter",this._value,e._path,!1);const t=function $ie(n,e,t){let i;if(n.index_===Id)"string"==typeof e&&(e=y6(e)),i=O2(n,e,t);else{let r;r=null==t?Td:y6(t),i=O2(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(bA(t),bp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new za(e._repo,e._path,t,e._orderByCalled)}}class jse extends ku{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new za(e._repo,e._path,function Hie(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Gse extends ku{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new za(e._repo,e._path,function Gie(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class zse extends ku{constructor(e){super(),this._path=e}_apply(e){vA(e,"orderByChild");const t=new ti(this._path);if(xn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new x2(t),r=YS(e._queryParams,i);return bp(r),new za(e._repo,e._path,r,!0)}}class qse extends ku{_apply(e){vA(e,"orderByKey");const t=YS(e._queryParams,Id);return bp(t),new za(e._repo,e._path,t,!0)}}class Kse extends ku{_apply(e){vA(e,"orderByPriority");const t=YS(e._queryParams,Oi);return bp(t),new za(e._repo,e._path,t,!0)}}class Qse extends ku{_apply(e){vA(e,"orderByValue");const t=YS(e._queryParams,k2);return bp(t),new za(e._repo,e._path,t,!0)}}class Xse extends ku{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Sd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sz(this._value,this._key)._apply(new Az(this._value,this._key)._apply(e))}}function Nu(n,...e){let t=(0,U.m9)(n);for(const i of e)t=i._apply(t);return t}(function Ore(n){(0,U.hu)(!oA,"__referenceConstructor has already been defined"),oA=n})(Ec),function Bre(n){(0,U.hu)(!lA,"__referenceConstructor has already been defined"),lA=n}(Ec);const vL={};function kz(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Dd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,g,c=mL(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(f=!0,s=`http://${g}?ns=${d.namespace}`,c=mL(s,r),d=c.repoInfo):f=!c.repoInfo.secure;const b=r&&f?new SC(SC.OWNER):new qne(n.name,n.options,e);rz("Invalid Firebase Database URL",c),xn(c.path)||Dd("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function roe(n,e,t,i){let r=vL[e.name];r||(r={},vL[e.name]=r);let s=r[n.toURLString()];return s&&Dd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new hse(n,false,t,i),r[n.toURLString()]=s,s}(d,n,b,new Zne(n.name,t));return new ooe(C,n)}class ooe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function fse(n,e,t){if(n.stats_=b2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new QS(n.repoInfo_,(i,r,s,c)=>{cz(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>uz(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new bm(n.repoInfo_,e,(i,r,s,c)=>{cz(n,i,r,s,c)},i=>{uz(n,i)},i=>{!function pse(n,e){Es(e,(t,i)=>{uL(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Yne(n,e){const t=n.toString();return v2[t]||(v2[t]=e()),v2[t]}(n.repoInfo_,()=>new Qie(n.stats_,n.server_)),n.infoData_=new Zie,n.infoSyncTree_=new z6({startListening:(i,r,s,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=VC(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),uL(n,"connected",!1),n.serverSyncTree_=new z6({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,f)=>{const g=c(d,f);Cc(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ec(this._repo,Wn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ioe(n,e){const t=vL[e];(!t||t[n.key]!==n)&&Dd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),hz(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Dd("Cannot call "+e+" on a deleted database.")}}function Nz(){W$.IS_TRANSPORT_INITIALIZED&&Eo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function aoe(){Nz(),hp.forceDisallow()}function loe(){Nz(),hv.forceDisallow(),hp.forceAllow()}function hoe(n,e){A$(n,e)}const poe={".sv":"timestamp"};class _oe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}bm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},bm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function foe(n){E$(qo.SDK_VERSION),(0,qo._registerComponent)(new Du.wA("database",(e,{instanceIdentifier:t})=>kz(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,qo.registerVersion)(w$,"0.13.4",n),(0,qo.registerVersion)(w$,"0.13.4","esm2017")}();const woe=new Eu.Yd("@firebase/database-compat"),Mz=function(n){woe.warn("FIREBASE WARNING: "+n)};class Doe{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Mz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Toe{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class wp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),ZC("DataSnapshot.child","path",e,!1),new wp(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ZC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new wp(this._database,t)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new xl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ys{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",t,!1);const c=Ys.getCancelAndContextArgs_("Query.on",i,r),d=(g,b)=>{t.call(c.context,new wp(this.database,g),b)};d.userCallback=t,d.context=c.context;const f=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return yL(this._delegate,d,f),t;case"child_added":return Cz(this._delegate,d,f),t;case"child_removed":return Tz(this._delegate,d,f),t;case"child_changed":return Ez(this._delegate,d,f),t;case"child_moved":return Dz(this._delegate,d,f),t;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",t,!0),(0,U.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Iz(this._delegate,e,r)}else Iz(this._delegate,e)}get(){return function Rse(n){return gse((n=(0,U.m9)(n))._repo,n).then(e=>new Im(e,new Ec(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new wp(this.database,e))}once(e,t,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",t,!0);const s=Ys.getCancelAndContextArgs_("Query.once",i,r),c=new U.BH,d=(g,b)=>{const C=new wp(this.database,g);t&&t.call(s.context,C,b),c.resolve(C)};d.userCallback=t,d.context=s.context;const f=g=>{s.cancel&&s.cancel.call(s.context,g),c.reject(g)};switch(e){case"value":yL(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":Cz(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":Tz(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":Ez(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":Dz(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Ys(this.database,Nu(this._delegate,function Hse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jse(n)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Ys(this.database,Nu(this._delegate,function $se(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gse(n)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Ys(this.database,Nu(this._delegate,function Zse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ZC("orderByChild","path",n,!1),new zse(n)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Ys(this.database,Nu(this._delegate,function Wse(){return new qse}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Ys(this.database,Nu(this._delegate,function Yse(){return new Kse}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Ys(this.database,Nu(this._delegate,function Jse(){return new Qse}()))}startAt(e=null,t){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Ys(this.database,Nu(this._delegate,function Bse(n=null,e){return zC("startAt","key",e,!0),new Az(n,e)}(e,t)))}startAfter(e=null,t){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Ys(this.database,Nu(this._delegate,function Use(n,e){return zC("startAfter","key",e,!0),new Vse(n,e)}(e,t)))}endAt(e=null,t){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Ys(this.database,Nu(this._delegate,function Pse(n,e){return zC("endAt","key",e,!0),new Sz(n,e)}(e,t)))}endBefore(e=null,t){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Ys(this.database,Nu(this._delegate,function Lse(n,e){return zC("endBefore","key",e,!0),new Fse(n,e)}(e,t)))}equalTo(e,t){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Ys(this.database,Nu(this._delegate,function eoe(n,e){return zC("equalTo","key",e,!0),new Xse(n,e)}(e,t)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ys))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,U.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new xl(this.database,new Ec(this._delegate._repo,this._delegate._path))}}class xl extends Ys{constructor(e,t){super(e,new za(t._repo,t._path,new KS,!1)),this.database=e,this._delegate=t}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new xl(this.database,Sm(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new xl(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new xl(this.database,this._delegate.root)}set(e,t){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",t,!0);const i=_L(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Mz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wc("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",t,!0);const i=Ose(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Mse(n,e,t){if(wc("setWithPriority",n._path),Sd("setWithPriority",e,n._path,!1),cL("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return dL(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const t=function kse(n){return wc("remove",n._path),_L(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function yoe(n,e,t){var i;if(n=(0,U.m9)(n),wc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new U.BH,d=yL(n,()=>{});return function Ese(n,e,t,i,r,s){Tm(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:T$(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=fL(n,e,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{$C("transaction failed: Data returned ",f,c.path),c.status=0;const g=hA(n.transactionQueueTree_,e),b=Dm(g)||[];let C;b.push(c),oL(g,b),"object"==typeof f&&null!==f&&(0,U.r3)(f,".priority")?(C=(0,U.DV)(f,".priority"),(0,U.hu)(GC(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(uA(n.serverSyncTree_,e)||yn.EMPTY_NODE).getPriority().val();const N=qC(n),R=ar(f,C),B=iL(R,d,N);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=B,c.currentWriteId=mA(n);const z=Q2(n.serverSyncTree_,e,B,c.currentWriteId,c.applyLocally);Cc(n.eventQueue_,e,z),_A(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,g,b)=>{let C=null;f?s.reject(f):(C=new Im(b,new Ec(n._repo,n._path),Oi),s.resolve(new _oe(g,C)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Toe(s.committed,new wp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",t,!0);const i=function Nse(n,e){n=(0,U.m9)(n),wc("setPriority",n._path),cL("setPriority",e,!1);const t=new U.BH;return dL(n._repo,Qi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",t,!0);const i=function xse(n,e){n=(0,U.m9)(n),wc("push",n._path),Sd("push",e,n._path,!0);const t=lz(n._repo),i=Bie(t),r=Sm(n,i),s=Sm(n,i);let c;return c=null!=e?_L(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new xl(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new xl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return wc("Reference.onDisconnect",this._delegate._path),new Doe(new vz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class KC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:aoe,forceLongPolling:loe}}useEmulator(e,t,i={}){!function coe(n,e,t,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Dd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Dd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new SC(SC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);s=new SC(c)}!function noe(n,e,t,i){n.repoInfo_=new _2(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof xl){const t=wz(this._delegate,e.toString());return new xl(this,t)}{const t=bz(this._delegate,e);return new xl(this,t)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=wz(this._delegate,e);return new xl(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function uoe(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),hz(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function doe(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function Cse(n){n.persistentConnection_&&n.persistentConnection_.resume(az)}(n._repo)}(this._delegate)}}KC.ServerValue={TIMESTAMP:function goe(){return poe}(),increment:n=>function moe(n){return{".sv":{increment:n}}}(n)};var Soe=Object.freeze({__proto__:null,initStandalone:function Ioe({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){E$(t);const c=new Du.zt("auth-internal",new Du.H0("database-standalone"));return c.setComponent(new Du.wA("auth-internal",()=>i,"PRIVATE")),{instance:new KC(kz(n,c,void 0,e,s),n),namespace:r}}});const Aoe=KC.ServerValue;function Oz(n){return null==n}function Rz(n){return"function"==typeof n.set}function Pz(n,e){return Rz(e)?e:n.ref(e)}function Fz(n,e){if(function koe(n){return"string"==typeof n}(n))return e.stringCase();if(Rz(n))return e.firebaseCase();if(function Noe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function YC(n,e,t="on",i=cu.z){return new ki.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Et.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,JV.B)())}function Lz(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Roe(n,e){const{payload:t,prevKey:i,key:r}=e,s=Lz(n,r),c=function Ooe(n,e){if(Oz(e))return 0;{const t=Lz(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const g={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,g],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function Bz(n){return(Oz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Vz(n,e,t){return function Moe(n,e,t){return YC(n,"value","once",t).pipe(Ni(i=>{const r=[It(i)];return e.forEach(s=>r.push(YC(n,s,"on",t))),(0,tw.T)(...r).pipe(nh(Roe,[]))}),bf())}(n,e=Bz(e),t)}function Uz(n,e,t){const i=(e=Bz(e)).map(r=>YC(n,r,"on",t));return(0,tw.T)(...i)}function jz(n,e){return function(i,r){return Fz(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Boe(n){return function(t){return t?Fz(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Hz(n,e){return function(){return YC(n,"value","on",e)}}!function xoe(n){n.INTERNAL.registerComponent(new Du.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new KC(r,i)},"PUBLIC").setServiceProps({Reference:xl,Query:Ys,Database:KC,DataSnapshot:wp,enableLogging:hoe,INTERNAL:Soe,ServerValue:Aoe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.4")}(nR.Z);const joe=new o.OlP("angularfire2.realtimeDatabaseURL"),Hoe=new o.OlP("angularfire2.database.use-emulator");let Goe=(()=>{class n{constructor(t,i,r,s,c,d,f,g,b,C,N,R,B,z,te){this.schedulers=d;const ye=f,Te=(0,Xr.on)(t,c,i);g&&dO(Te,c,b,N,R,B,C,z),this.database=(0,Xr.cc)(`${Te.name}.database.${r}`,"AngularFireDatabase",Te.name,()=>{const Fe=c.runOutsideAngular(()=>Te.database(r||void 0));return ye&&Fe.useEmulator(...ye),Fe},[ye])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Pz(this.database,t));let s=r;return i&&(s=i(r)),function Voe(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:jz(i,"update"),set:jz(i,"set"),push:r=>i.push(r),remove:Boe(i),snapshotChanges:r=>Vz(n,r,t).pipe(qn.iC),stateChanges:r=>Uz(n,r,t).pipe(qn.iC),auditTrail:r=>function Poe(n,e,t){return function Loe(n,e,t){return function Foe(n,e){return YC(n,"value","on",e).pipe((0,Et.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(ld(e),(0,Et.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function Pne(n){return(0,rr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,wi.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Et.U)(r=>r.actions))}(n,Uz(n,e).pipe(nh((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(qn.iC),valueChanges:(r,s)=>Vz(n,r,t).pipe((0,Et.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),qn.iC)}}(s,this)}object(t){return function Uoe(n,e){return{query:n,snapshotChanges:()=>Hz(n,e.schedulers.outsideAngular)().pipe(qn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Hz(n,e.schedulers.outsideAngular)().pipe(qn.iC,(0,Et.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Pz(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Xr.Dh),o.LFG(Xr.xv,8),o.LFG(joe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(qn.HU),o.LFG(Hoe,8),o.LFG(sw,8),o.LFG(sO,8),o.LFG(oO,8),o.LFG(aO,8),o.LFG(lO,8),o.LFG(cO,8),o.LFG(uO,8),o.LFG(rw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$oe=(()=>{class n{constructor(){$T.Z.registerVersion("angularfire",qn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Goe]}),n})();const Gz_firebase={apiKey:"AIzaSyAdS2MTnLKsvrT8IC33IJrvImalPTrPdOU",authDomain:"angular-portfolio-c5874.firebaseapp.com",projectId:"angular-portfolio-c5874",storageBucket:"angular-portfolio-c5874.appspot.com",messagingSenderId:"911416649259",appId:"1:911416649259:web:ac11fe299f592c92362c6e",measurementId:"G-Q9NHSSHBBJ"},Zoe=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function zoe(){return!0}});let EA=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function zq(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(vW),o.LFG(Zoe,8),o.LFG(_e))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[UU,UU]}),n})(),iae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[EA,EA]}),n})(),Yz=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Yz]}),n})(),Xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),bae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[iae,EA,oae,Xz,EA,Xz]}),n})(),wL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),wae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi]}),n})(),Rae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi,wL,wae,mi,wL]}),n})(),Vae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[mi,wL]}),n})(),Uae=(()=>{class n{constructor(){}intercept(t,i){let s=t;return s=t.clone({setHeaders:{autorizacion:"Bearer ${ token }"}}),console.log("paso por interceptor"),i.handle(s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[Mg]}),n.\u0275inj=o.cJS({providers:[{provide:LM,useClass:Uae,multi:!0}],imports:[fr,C7,jA,AZ,C9,Of,pZ,BW,Xr.hO.initializeApp(Gz_firebase),Sq,Rne,dQ,$oe,N_,Pk,bae,Rae,Vae]}),n})();(0,o.G48)(),Bl().bootstrapModule(jae).catch(n=>console.error(n))},5867:(St,Ve,j)=>{"use strict";j.d(Ve,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=j(9681);(0,o.registerVersion)("firebase","9.9.2","app")},127:(St,Ve,j)=>{"use strict";j.d(Ve,{Z:()=>o.Z});var o=j(3942);o.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(St,Ve,j)=>{"use strict";j.r(Ve);var o=j(5861),q=j(3942),V=j(6457),ge=j(2090),_e=(j(9681),j(1877),j(4859));function Ce(){return window}function ne(){return(ne=(0,o.Z)(function*(de,J,X){var Me;const{BuildInfo:et}=Ce();(0,V.aq)(J.sessionId,"AuthEvent did not contain a session ID");const Pt=yield Ie(J.sessionId),Ge={};return(0,V.ar)()?Ge.ibi=et.packageName:(0,V.as)()?Ge.apn=et.packageName:(0,V.at)(de,"operation-not-supported-in-this-environment"),et.displayName&&(Ge.appDisplayName=et.displayName),Ge.sessionId=Pt,(0,V.au)(de,X,J.type,void 0,null!==(Me=J.eventId)&&void 0!==Me?Me:void 0,Ge)})).apply(this,arguments)}function st(){return(st=(0,o.Z)(function*(de){const{BuildInfo:J}=Ce(),X={};(0,V.ar)()?X.iosBundleId=J.packageName:(0,V.as)()?X.androidPackageName=J.packageName:(0,V.at)(de,"operation-not-supported-in-this-environment"),yield(0,V.av)(de,X)})).apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(de,J,X){const{cordova:Me}=Ce();let et=()=>{};try{yield new Promise((Pt,Ge)=>{let dt=null;function Ut(){var Lt;Pt();const Li=null===(Lt=Me.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof Li&&Li(),"function"==typeof X?.close&&X.close()}function Fn(){dt||(dt=window.setTimeout(()=>{Ge((0,V.aw)(de,"redirect-cancelled-by-user"))},2e3))}function Fi(){"visible"===document?.visibilityState&&Fn()}J.addPassiveListener(Ut),document.addEventListener("resume",Fn,!1),(0,V.as)()&&document.addEventListener("visibilitychange",Fi,!1),et=()=>{J.removePassiveListener(Ut),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",Fi,!1),dt&&window.clearTimeout(dt)}})}finally{et()}})).apply(this,arguments)}function Ie(de){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(de){const J=ft(de),X=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(X)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(de){if((0,V.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const J=new ArrayBuffer(de.length),X=new Uint8Array(J);for(let Me=0;Me<de.length;Me++)X[Me]=de.charCodeAt(Me);return X}class ze extends V.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(J)),super.onEvent(J)}initialized(){var J=this;return(0,o.Z)(function*(){yield J.initPromise})()}}function G(de){return ve.apply(this,arguments)}function ve(){return(ve=(0,o.Z)(function*(de){const J=yield le()._get(he(de));return J&&(yield le()._remove(he(de))),J})).apply(this,arguments)}function ae(){const de=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<20;X++){const Me=Math.floor(Math.random()*J.length);de.push(J.charAt(Me))}return de.join("")}function le(){return(0,V.ay)(V.b)}function he(de){return(0,V.az)("authEvent",de.config.apiKey,de.name)}function Ye(de){if(!de?.includes("?"))return{};const[J,...X]=de.split("?");return(0,ge.zd)(X.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aw)("no-auth-event")}}function Qt(){var de;return(null===(de=self?.location)||void 0===de?void 0:de.protocol)||null}function Di(de=(0,ge.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xi(){try{const de=self.localStorage,J=V.aI();if(de)return de.setItem(J,"1"),de.removeItem(J),!function Sr(de=(0,ge.z$)()){return function Ji(){return(0,ge.w1)()&&11===document?.documentMode}()||function Hn(de=(0,ge.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,ge.hl)()}catch{return Ar()&&(0,ge.hl)()}return!1}function Ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function Jt(){return"http:"===Qt()||"https:"===Qt()}()||(0,ge.ru)()||Di())&&!function ns(){return(0,ge.b$)()||(0,ge.UG)()}()&&Xi()&&!Ar()}function Kn(){return Di()&&typeof document<"u"}function Pn(){return(Pn=(0,o.Z)(function*(){return!!Kn()&&new Promise(de=>{const J=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),de(!0)})})})).apply(this,arguments)}const bn={LOCAL:"local",NONE:"none",SESSION:"session"},fi=V.ax,Gi="persistence";function fn(de){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(de){yield de._initializationPromise;const J=ct(),X=V.az(Gi,de.config.apiKey,de.name);J&&J.setItem(X,de._getPersistence())})).apply(this,arguments)}function ct(){var de;try{return(null===(de=function Bn(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const at=V.ax;class $n{constructor(){this.browserResolver=V.ay(V.k),this.cordovaResolver=V.ay(class mn{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(J){var X=this;return(0,o.Z)(function*(){const Me=J._key();let et=X.eventManagers.get(Me);return et||(et=new ze(J),X.eventManagers.set(Me,et),X.attachCallbackListeners(J,et)),et})()}_openPopup(J){(0,V.at)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,X,Me,et){var Pt=this;return(0,o.Z)(function*(){!function Ne(de){var J,X,Me,et,Pt,Ge,dt,Ut,Fn,Fi;const Lt=Ce();(0,V.ax)("function"==typeof(null===(J=Lt?.universalLinks)||void 0===J?void 0:J.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.ax)(typeof(null===(X=Lt?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.ax)("function"==typeof(null===(Pt=null===(et=null===(Me=Lt?.cordova)||void 0===Me?void 0:Me.plugins)||void 0===et?void 0:et.browsertab)||void 0===Pt?void 0:Pt.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(Ut=null===(dt=null===(Ge=Lt?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Ut?void 0:Ut.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(Fi=null===(Fn=Lt?.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===Fi?void 0:Fi.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Ge=yield Pt._initialize(J);yield Ge.initialized(),Ge.resetRedirect(),(0,V.aD)(),yield Pt._originValidation(J);const dt=function Be(de,J,X=null){return{type:J,eventId:X,urlResponse:null,sessionId:ae(),postBody:null,tenantId:de.tenantId,error:(0,V.aw)(de,"no-auth-event")}}(J,Me,et);yield function lt(de,J){return le()._set(he(de),J)}(J,dt);const Ut=yield function ee(de,J,X){return ne.apply(this,arguments)}(J,dt,X),Fn=yield function We(de){const{cordova:J}=Ce();return new Promise(X=>{J.plugins.browsertab.isAvailable(Me=>{let et=null;Me?J.plugins.browsertab.openUrl(de):et=J.InAppBrowser.open(de,(0,V.ap)()?"_blank":"_system","location=yes"),X(et)})})}(Ut);return function Le(de,J,X){return _t.apply(this,arguments)}(J,Ge,Fn)})()}_isIframeWebStorageSupported(J,X){throw new Error("Method not implemented.")}_originValidation(J){const X=J._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function ce(de){return st.apply(this,arguments)}(J)),this.originValidationPromises[X]}attachCallbackListeners(J,X){const{universalLinks:Me,handleOpenURL:et,BuildInfo:Pt}=Ce(),Ge=setTimeout((0,o.Z)(function*(){yield G(J),X.onEvent(tt())}),500),dt=function(){var Fi=(0,o.Z)(function*(Lt){clearTimeout(Ge);const Li=yield G(J);let zn=null;Li&&Lt?.url&&(zn=function Ee(de,J){var X,Me;const et=function Qe(de){const J=Ye(de),X=J.link?decodeURIComponent(J.link):void 0,Me=Ye(X).link,et=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ye(et).link||et||Me||X||de}(J);if(et.includes("/__/auth/callback")){const Pt=Ye(et),Ge=Pt.firebaseError?function me(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(Pt.firebaseError)):null,dt=null===(Me=null===(X=Ge?.code)||void 0===X?void 0:X.split("auth/"))||void 0===Me?void 0:Me[1],Ut=dt?(0,V.aw)(dt):null;return Ut?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:et,postBody:null}}return null}(Li,Lt.url)),X.onEvent(zn||tt())});return function(Li){return Fi.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,dt);const Ut=et,Fn=`${Pt.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Fi=(0,o.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(Fn)&&dt({url:Lt}),"function"==typeof Ut)try{Ut(Lt)}catch(Li){console.error(Li)}});return function(Lt){return Fi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(J){var X=this;return(0,o.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,X,Me,et){var Pt=this;return(0,o.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openPopup(J,X,Me,et)})()}_openRedirect(J,X,Me,et){var Pt=this;return(0,o.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openRedirect(J,X,Me,et)})()}_isIframeWebStorageSupported(J,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,X)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return Kn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,o.Z)(function*(){if(J.underlyingResolver)return;const X=yield function wt(){return Pn.apply(this,arguments)}();J.underlyingResolver=X?J.cordovaResolver:J.browserResolver})()}}function Pi(de){return de.unwrap()}function en(de){return er(de)}function er(de){const{_tokenResponse:J}=de instanceof ge.ZR?de.customData:de;if(!J)return null;if(!(de instanceof ge.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return V.P.credentialFromResult(de);const X=J.providerId;if(!X||X===V.o.PASSWORD)return null;let Me;switch(X){case V.o.GOOGLE:Me=V.Q;break;case V.o.FACEBOOK:Me=V.N;break;case V.o.GITHUB:Me=V.T;break;case V.o.TWITTER:Me=V.W;break;default:const{oauthIdToken:et,oauthAccessToken:Pt,oauthTokenSecret:Ge,pendingToken:dt,nonce:Ut}=J;return Pt||Ge||et||dt?dt?X.startsWith("saml.")?V.aL._create(X,dt):V.J._fromParams({providerId:X,signInMethod:X,pendingToken:dt,idToken:et,accessToken:Pt}):new V.U(X).credential({idToken:et,accessToken:Pt,rawNonce:Ut}):null}return de instanceof ge.ZR?Me.credentialFromError(de):Me.credentialFromResult(de)}function Zt(de,J){return J.catch(X=>{throw X instanceof ge.ZR&&function Yn(de,J){var X,Me;const et=null===(X=J.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Me=J)||void 0===Me?void 0:Me.code))J.resolver=new oe(de,V.an(de,J));else if(et){const Pt=er(J),Ge=J;Pt&&(Ge.credential=Pt,Ge.tenantId=et.tenantId||void 0,Ge.email=et.email||void 0,Ge.phoneNumber=et.phoneNumber||void 0)}}(de,X),X}).then(X=>{const et=X.user;return{operationType:X.operationType,credential:en(X),additionalUserInfo:V.al(X),user:W.getOrCreate(et)}})}function xr(de,J){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(de,J){const X=yield J;return{verificationId:X.verificationId,confirm:Me=>Zt(de,X.confirm(Me))}})).apply(this,arguments)}class oe{constructor(J,X){this.resolver=X,this.auth=function _n(de){return de.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Zt(Pi(this.auth),this.resolver.resolveSignIn(J))}}class W{constructor(J){this._delegate=J,this.multiFactor=V.ao(J)}static getOrCreate(J){return W.USER_MAP.has(J)||W.USER_MAP.set(J,new W(J)),W.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var X=this;return(0,o.Z)(function*(){return Zt(X.auth,V.Z(X._delegate,J))})()}linkWithPhoneNumber(J,X){var Me=this;return(0,o.Z)(function*(){return xr(Me.auth,V.l(Me._delegate,J,X))})()}linkWithPopup(J){var X=this;return(0,o.Z)(function*(){return Zt(X.auth,V.d(X._delegate,J,$n))})()}linkWithRedirect(J){var X=this;return(0,o.Z)(function*(){return yield fn(V.aE(X.auth)),V.g(X._delegate,J,$n)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var X=this;return(0,o.Z)(function*(){return Zt(X.auth,V._(X._delegate,J))})()}reauthenticateWithPhoneNumber(J,X){return xr(this.auth,V.r(this._delegate,J,X))}reauthenticateWithPopup(J){return Zt(this.auth,V.e(this._delegate,J,$n))}reauthenticateWithRedirect(J){var X=this;return(0,o.Z)(function*(){return yield fn(V.aE(X.auth)),V.h(X._delegate,J,$n)})()}sendEmailVerification(J){return V.ab(this._delegate,J)}unlink(J){var X=this;return(0,o.Z)(function*(){return yield V.ak(X._delegate,J),X})()}updateEmail(J){return V.ag(this._delegate,J)}updatePassword(J){return V.ah(this._delegate,J)}updatePhoneNumber(J){return V.u(this._delegate,J)}updateProfile(J){return V.af(this._delegate,J)}verifyBeforeUpdateEmail(J,X){return V.ac(this._delegate,J,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const Q=V.ax;let ie=(()=>{class de{constructor(X,Me){if(this.app=X,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=X.options;Q(et,"invalid-api-key",{appName:X.name}),Q(et,"invalid-api-key",{appName:X.name});const Pt=typeof window<"u"?$n:void 0;this._delegate=Me.initialize({options:{persistence:Ue(et,X.name),popupRedirectResolver:Pt}}),this._delegate._updateErrorMap(V.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,Me){V.G(this._delegate,X,Me)}applyActionCode(X){return V.a2(this._delegate,X)}checkActionCode(X){return V.a3(this._delegate,X)}confirmPasswordReset(X,Me){return V.a1(this._delegate,X,Me)}createUserWithEmailAndPassword(X,Me){var et=this;return(0,o.Z)(function*(){return Zt(et._delegate,V.a5(et._delegate,X,Me))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return V.aa(this._delegate,X)}isSignInWithEmailLink(X){return V.a8(this._delegate,X)}getRedirectResult(){var X=this;return(0,o.Z)(function*(){Q(Gn(),X._delegate,"operation-not-supported-in-this-environment");const Me=yield V.j(X._delegate,$n);return Me?Zt(X._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function vn(de,J){(0,V.aE)(de)._logFramework(J)}(this._delegate,X)}onAuthStateChanged(X,Me,et){const{next:Pt,error:Ge,complete:dt}=re(X,Me,et);return this._delegate.onAuthStateChanged(Pt,Ge,dt)}onIdTokenChanged(X,Me,et){const{next:Pt,error:Ge,complete:dt}=re(X,Me,et);return this._delegate.onIdTokenChanged(Pt,Ge,dt)}sendSignInLinkToEmail(X,Me){return V.a7(this._delegate,X,Me)}sendPasswordResetEmail(X,Me){return V.a0(this._delegate,X,Me||void 0)}setPersistence(X){var Me=this;return(0,o.Z)(function*(){let et;switch(function Vt(de,J){fi(Object.values(bn).includes(J),de,"invalid-persistence-type"),(0,ge.b$)()?fi(J!==bn.SESSION,de,"unsupported-persistence-type"):(0,ge.UG)()?fi(J===bn.NONE,de,"unsupported-persistence-type"):Ar()?fi(J===bn.NONE||J===bn.LOCAL&&(0,ge.hl)(),de,"unsupported-persistence-type"):fi(J===bn.NONE||Xi(),de,"unsupported-persistence-type")}(Me._delegate,X),X){case bn.SESSION:et=V.a;break;case bn.LOCAL:et=(yield V.ay(V.i)._isAvailable())?V.i:V.b;break;case bn.NONE:et=V.L;break;default:return V.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Zt(this._delegate,V.X(this._delegate))}signInWithCredential(X){return Zt(this._delegate,V.Y(this._delegate,X))}signInWithCustomToken(X){return Zt(this._delegate,V.$(this._delegate,X))}signInWithEmailAndPassword(X,Me){return Zt(this._delegate,V.a6(this._delegate,X,Me))}signInWithEmailLink(X,Me){return Zt(this._delegate,V.a9(this._delegate,X,Me))}signInWithPhoneNumber(X,Me){return xr(this._delegate,V.s(this._delegate,X,Me))}signInWithPopup(X){var Me=this;return(0,o.Z)(function*(){return Q(Gn(),Me._delegate,"operation-not-supported-in-this-environment"),Zt(Me._delegate,V.c(Me._delegate,X,$n))})()}signInWithRedirect(X){var Me=this;return(0,o.Z)(function*(){return Q(Gn(),Me._delegate,"operation-not-supported-in-this-environment"),yield fn(Me._delegate),V.f(Me._delegate,X,$n)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return V.a4(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=bn,de})();function re(de,J,X){let Me=de;"function"!=typeof de&&({next:Me,error:J,complete:X}=de);const et=Me;return{next:Ge=>et(Ge&&W.getOrCreate(Ge)),error:J,complete:X}}function Ue(de,J){const X=function In(de,J){const X=ct();if(!X)return[];const Me=V.az(Gi,de,J);switch(X.getItem(Me)){case bn.NONE:return[V.L];case bn.LOCAL:return[V.i,V.a];case bn.SESSION:return[V.a];default:return[]}}(de,J);if(typeof self<"u"&&!X.includes(V.i)&&X.push(V.i),typeof window<"u")for(const Me of[V.b,V.a])X.includes(Me)||X.push(Me);return X.includes(V.L)||X.push(V.L),X}class nt{constructor(){this.providerId="phone",this._delegate=new V.P(Pi(q.Z.auth()))}static credential(J,X){return V.P.credential(J,X)}verifyPhoneNumber(J,X){return this._delegate.verifyPhoneNumber(J,X)}unwrap(){return this._delegate}}nt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,nt.PROVIDER_ID=V.P.PROVIDER_ID;const Ft=V.ax;class kn{constructor(J,X,Me=q.Z.app()){var et;Ft(null===(et=Me.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new V.R(J,X,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pi(de){de.INTERNAL.registerComponent(new _e.wA("auth-compat",J=>{const X=J.getProvider("app-compat").getImmediate(),Me=J.getProvider("auth");return new ie(X,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.M,FacebookAuthProvider:V.N,GithubAuthProvider:V.T,GoogleAuthProvider:V.Q,OAuthProvider:V.U,SAMLAuthProvider:V.V,PhoneAuthProvider:nt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:kn,TwitterAuthProvider:V.W,Auth:ie,AuthCredential:V.H,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.18")}(q.Z)},9751:(St,Ve,j)=>{"use strict";j.d(Ve,{y:()=>Ce});var o=j(930),q=j(727),V=j(8822),ge=j(9635),be=j(2416),Se=j(576),_e=j(2806);let Ce=(()=>{class ce{constructor(We){We&&(this._subscribe=We)}lift(We){const Le=new ce;return Le.source=this,Le.operator=We,Le}subscribe(We,Le,_t){const Ne=function ne(ce){return ce&&ce instanceof o.Lv||function ee(ce){return ce&&(0,Se.m)(ce.next)&&(0,Se.m)(ce.error)&&(0,Se.m)(ce.complete)}(ce)&&(0,q.Nn)(ce)}(We)?We:new o.Hp(We,Le,_t);return(0,_e.x)(()=>{const{operator:Ie,source:ht}=this;Ne.add(Ie?Ie.call(Ne,ht):ht?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(We){try{return this._subscribe(We)}catch(Le){We.error(Le)}}forEach(We,Le){return new(Le=Ae(Le))((_t,Ne)=>{const Ie=new o.Hp({next:ht=>{try{We(ht)}catch(ft){Ne(ft),Ie.unsubscribe()}},error:Ne,complete:_t});this.subscribe(Ie)})}_subscribe(We){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(We)}[V.L](){return this}pipe(...We){return(0,ge.U)(We)(this)}toPromise(We){return new(We=Ae(We))((Le,_t)=>{let Ne;this.subscribe(Ie=>Ne=Ie,Ie=>_t(Ie),()=>Le(Ne))})}}return ce.create=st=>new ce(st),ce})();function Ae(ce){var st;return null!==(st=ce??be.v.Promise)&&void 0!==st?st:Promise}},7579:(St,Ve,j)=>{"use strict";j.d(Ve,{x:()=>_e});var o=j(9751),q=j(727);const ge=(0,j(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=j(8737),Se=j(2806);let _e=(()=>{class Ae extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ce=new Ce(this,this);return ce.operator=ne,ce}_throwIfClosed(){if(this.closed)throw new ge}next(ne){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ne)}})}error(ne){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ne)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ce,isStopped:st,observers:We}=this;return ce||st?q.Lc:(this.currentObservers=null,We.push(ne),new q.w0(()=>{this.currentObservers=null,(0,be.P)(We,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ce,thrownError:st,isStopped:We}=this;ce?ne.error(st):We&&ne.complete()}asObservable(){const ne=new o.y;return ne.source=this,ne}}return Ae.create=(ee,ne)=>new Ce(ee,ne),Ae})();class Ce extends _e{constructor(ee,ne){super(),this.destination=ee,this.source=ne}next(ee){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ce||ce.call(ne,ee)}error(ee){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ce||ce.call(ne,ee)}complete(){var ee,ne;null===(ne=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ne||ne.call(ee)}_subscribe(ee){var ne,ce;return null!==(ce=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(ee))&&void 0!==ce?ce:q.Lc}}},930:(St,Ve,j)=>{"use strict";j.d(Ve,{Hp:()=>_t,Lv:()=>ce});var o=j(576),q=j(727),V=j(2416),ge=j(7849),be=j(5032);const Se=Ae("C",void 0,void 0);function Ae(Ke,ze,Be){return{kind:Ke,value:ze,error:Be}}var ee=j(3410),ne=j(2806);class ce extends q.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,q.Nn)(ze)&&ze.add(this)):this.destination=ft}static create(ze,Be,lt){return new _t(ze,Be,lt)}next(ze){this.isStopped?ht(function Ce(Ke){return Ae("N",Ke,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?ht(function _e(Ke){return Ae("E",void 0,Ke)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?ht(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function We(Ke,ze){return st.call(Ke,ze)}class Le{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:Be}=this;if(Be.next)try{Be.next(ze)}catch(lt){Ne(lt)}}error(ze){const{partialObserver:Be}=this;if(Be.error)try{Be.error(ze)}catch(lt){Ne(lt)}else Ne(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(Be){Ne(Be)}}}class _t extends ce{constructor(ze,Be,lt){let G;if(super(),(0,o.m)(ze)||!ze)G={next:ze??void 0,error:Be??void 0,complete:lt??void 0};else{let ve;this&&V.v.useDeprecatedNextContext?(ve=Object.create(ze),ve.unsubscribe=()=>this.unsubscribe(),G={next:ze.next&&We(ze.next,ve),error:ze.error&&We(ze.error,ve),complete:ze.complete&&We(ze.complete,ve)}):G=ze}this.destination=new Le(G)}}function Ne(Ke){V.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Ke):(0,ge.h)(Ke)}function ht(Ke,ze){const{onStoppedNotification:Be}=V.v;Be&&ee.z.setTimeout(()=>Be(Ke,ze))}const ft={closed:!0,next:be.Z,error:function Ie(Ke){throw Ke},complete:be.Z}},727:(St,Ve,j)=>{"use strict";j.d(Ve,{Lc:()=>Se,w0:()=>be,Nn:()=>_e});var o=j(576);const V=(0,j(3888).d)(Ae=>function(ne){Ae(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ce,st)=>`${st+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ge=j(8737);class be{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const We of ne)We.remove(this);else ne.remove(this);const{initialTeardown:ce}=this;if((0,o.m)(ce))try{ce()}catch(We){ee=We instanceof V?We.errors:[We]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const We of st)try{Ce(We)}catch(Le){ee=ee??[],Le instanceof V?ee=[...ee,...Le.errors]:ee.push(Le)}}if(ee)throw new V(ee)}}add(ee){var ne;if(ee&&ee!==this)if(this.closed)Ce(ee);else{if(ee instanceof be){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(ee)}}_hasParent(ee){const{_parentage:ne}=this;return ne===ee||Array.isArray(ne)&&ne.includes(ee)}_addParent(ee){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(ee),ne):ne?[ne,ee]:ee}_removeParent(ee){const{_parentage:ne}=this;ne===ee?this._parentage=null:Array.isArray(ne)&&(0,ge.P)(ne,ee)}remove(ee){const{_finalizers:ne}=this;ne&&(0,ge.P)(ne,ee),ee instanceof be&&ee._removeParent(this)}}be.EMPTY=(()=>{const Ae=new be;return Ae.closed=!0,Ae})();const Se=be.EMPTY;function _e(Ae){return Ae instanceof be||Ae&&"closed"in Ae&&(0,o.m)(Ae.remove)&&(0,o.m)(Ae.add)&&(0,o.m)(Ae.unsubscribe)}function Ce(Ae){(0,o.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(St,Ve,j)=>{"use strict";j.d(Ve,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(St,Ve,j)=>{"use strict";j.d(Ve,{E:()=>q});const q=new(j(9751).y)(be=>be.complete())},8996:(St,Ve,j)=>{"use strict";j.d(Ve,{D:()=>ze});var o=j(8421),q=j(5363),V=j(9468),Se=j(9751),Ce=j(2202),Ae=j(576),ee=j(9672);function ce(Be,lt){if(!Be)throw new Error("Iterable cannot be null");return new Se.y(G=>{(0,ee.f)(G,lt,()=>{const ve=Be[Symbol.asyncIterator]();(0,ee.f)(G,lt,()=>{ve.next().then(Ee=>{Ee.done?G.complete():G.next(Ee.value)})},0,!0)})})}var st=j(3670),We=j(8239),Le=j(1144),_t=j(6495),Ne=j(2206),Ie=j(4532),ht=j(3260);function ze(Be,lt){return lt?function Ke(Be,lt){if(null!=Be){if((0,st.c)(Be))return function ge(Be,lt){return(0,o.Xf)(Be).pipe((0,V.R)(lt),(0,q.Q)(lt))}(Be,lt);if((0,Le.z)(Be))return function _e(Be,lt){return new Se.y(G=>{let ve=0;return lt.schedule(function(){ve===Be.length?G.complete():(G.next(Be[ve++]),G.closed||this.schedule())})})}(Be,lt);if((0,We.t)(Be))return function be(Be,lt){return(0,o.Xf)(Be).pipe((0,V.R)(lt),(0,q.Q)(lt))}(Be,lt);if((0,Ne.D)(Be))return ce(Be,lt);if((0,_t.T)(Be))return function ne(Be,lt){return new Se.y(G=>{let ve;return(0,ee.f)(G,lt,()=>{ve=Be[Ce.h](),(0,ee.f)(G,lt,()=>{let Ee,ae;try{({value:Ee,done:ae}=ve.next())}catch(le){return void G.error(le)}ae?G.complete():G.next(Ee)},0,!0)}),()=>(0,Ae.m)(ve?.return)&&ve.return()})}(Be,lt);if((0,ht.L)(Be))return function ft(Be,lt){return ce((0,ht.Q)(Be),lt)}(Be,lt)}throw(0,Ie.z)(Be)}(Be,lt):(0,o.Xf)(Be)}},8421:(St,Ve,j)=>{"use strict";j.d(Ve,{Xf:()=>st});var o=j(655),q=j(1144),V=j(8239),ge=j(9751),be=j(3670),Se=j(2206),_e=j(4532),Ce=j(6495),Ae=j(3260),ee=j(576),ne=j(7849),ce=j(8822);function st(Ke){if(Ke instanceof ge.y)return Ke;if(null!=Ke){if((0,be.c)(Ke))return function We(Ke){return new ge.y(ze=>{const Be=Ke[ce.L]();if((0,ee.m)(Be.subscribe))return Be.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,q.z)(Ke))return function Le(Ke){return new ge.y(ze=>{for(let Be=0;Be<Ke.length&&!ze.closed;Be++)ze.next(Ke[Be]);ze.complete()})}(Ke);if((0,V.t)(Ke))return function _t(Ke){return new ge.y(ze=>{Ke.then(Be=>{ze.closed||(ze.next(Be),ze.complete())},Be=>ze.error(Be)).then(null,ne.h)})}(Ke);if((0,Se.D)(Ke))return Ie(Ke);if((0,Ce.T)(Ke))return function Ne(Ke){return new ge.y(ze=>{for(const Be of Ke)if(ze.next(Be),ze.closed)return;ze.complete()})}(Ke);if((0,Ae.L)(Ke))return function ht(Ke){return Ie((0,Ae.Q)(Ke))}(Ke)}throw(0,_e.z)(Ke)}function Ie(Ke){return new ge.y(ze=>{(function ft(Ke,ze){var Be,lt,G,ve;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Be=(0,o.KL)(Ke);!(lt=yield Be.next()).done;)if(ze.next(lt.value),ze.closed)return}catch(Ee){G={error:Ee}}finally{try{lt&&!lt.done&&(ve=Be.return)&&(yield ve.call(Be))}finally{if(G)throw G.error}}ze.complete()})})(Ke,ze).catch(Be=>ze.error(Be))})}},6451:(St,Ve,j)=>{"use strict";j.d(Ve,{T:()=>Se});var o=j(8189),q=j(8421),V=j(515),ge=j(3269),be=j(8996);function Se(..._e){const Ce=(0,ge.yG)(_e),Ae=(0,ge._6)(_e,1/0),ee=_e;return ee.length?1===ee.length?(0,q.Xf)(ee[0]):(0,o.J)(Ae)((0,be.D)(ee,Ce)):V.E}},5403:(St,Ve,j)=>{"use strict";j.d(Ve,{x:()=>q});var o=j(930);function q(ge,be,Se,_e,Ce){return new V(ge,be,Se,_e,Ce)}class V extends o.Lv{constructor(be,Se,_e,Ce,Ae,ee){super(be),this.onFinalize=Ae,this.shouldUnsubscribe=ee,this._next=Se?function(ne){try{Se(ne)}catch(ce){be.error(ce)}}:super._next,this._error=Ce?function(ne){try{Ce(ne)}catch(ce){be.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(ne){be.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},4004:(St,Ve,j)=>{"use strict";j.d(Ve,{U:()=>V});var o=j(4482),q=j(5403);function V(ge,be){return(0,o.e)((Se,_e)=>{let Ce=0;Se.subscribe((0,q.x)(_e,Ae=>{_e.next(ge.call(be,Ae,Ce++))}))})}},8189:(St,Ve,j)=>{"use strict";j.d(Ve,{J:()=>V});var o=j(5577),q=j(4671);function V(ge=1/0){return(0,o.z)(q.y,ge)}},5577:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>Ce});var o=j(4004),q=j(8421),V=j(4482),ge=j(9672),be=j(5403),_e=j(576);function Ce(Ae,ee,ne=1/0){return(0,_e.m)(ee)?Ce((ce,st)=>(0,o.U)((We,Le)=>ee(ce,We,st,Le))((0,q.Xf)(Ae(ce,st))),ne):("number"==typeof ee&&(ne=ee),(0,V.e)((ce,st)=>function Se(Ae,ee,ne,ce,st,We,Le,_t){const Ne=[];let Ie=0,ht=0,ft=!1;const Ke=()=>{ft&&!Ne.length&&!Ie&&ee.complete()},ze=lt=>Ie<ce?Be(lt):Ne.push(lt),Be=lt=>{We&&ee.next(lt),Ie++;let G=!1;(0,q.Xf)(ne(lt,ht++)).subscribe((0,be.x)(ee,ve=>{st?.(ve),We?ze(ve):ee.next(ve)},()=>{G=!0},void 0,()=>{if(G)try{for(Ie--;Ne.length&&Ie<ce;){const ve=Ne.shift();Le?(0,ge.f)(ee,Le,()=>Be(ve)):Be(ve)}Ke()}catch(ve){ee.error(ve)}}))};return Ae.subscribe((0,be.x)(ee,ze,()=>{ft=!0,Ke()})),()=>{_t?.()}}(ce,st,Ae,ne)))}},5363:(St,Ve,j)=>{"use strict";j.d(Ve,{Q:()=>ge});var o=j(9672),q=j(4482),V=j(5403);function ge(be,Se=0){return(0,q.e)((_e,Ce)=>{_e.subscribe((0,V.x)(Ce,Ae=>(0,o.f)(Ce,be,()=>Ce.next(Ae),Se),()=>(0,o.f)(Ce,be,()=>Ce.complete(),Se),Ae=>(0,o.f)(Ce,be,()=>Ce.error(Ae),Se)))})}},3099:(St,Ve,j)=>{"use strict";j.d(Ve,{B:()=>be});var o=j(8421),q=j(7579),V=j(930),ge=j(4482);function be(_e={}){const{connector:Ce=(()=>new q.x),resetOnError:Ae=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ne=!0}=_e;return ce=>{let st,We,Le,_t=0,Ne=!1,Ie=!1;const ht=()=>{We?.unsubscribe(),We=void 0},ft=()=>{ht(),st=Le=void 0,Ne=Ie=!1},Ke=()=>{const ze=st;ft(),ze?.unsubscribe()};return(0,ge.e)((ze,Be)=>{_t++,!Ie&&!Ne&&ht();const lt=Le=Le??Ce();Be.add(()=>{_t--,0===_t&&!Ie&&!Ne&&(We=Se(Ke,ne))}),lt.subscribe(Be),!st&&_t>0&&(st=new V.Hp({next:G=>lt.next(G),error:G=>{Ie=!0,ht(),We=Se(ft,Ae,G),lt.error(G)},complete:()=>{Ne=!0,ht(),We=Se(ft,ee),lt.complete()}}),(0,o.Xf)(ze).subscribe(st))})(ce)}}function Se(_e,Ce,...Ae){if(!0===Ce)return void _e();if(!1===Ce)return;const ee=new V.Hp({next:()=>{ee.unsubscribe(),_e()}});return Ce(...Ae).subscribe(ee)}},9468:(St,Ve,j)=>{"use strict";j.d(Ve,{R:()=>q});var o=j(4482);function q(V,ge=0){return(0,o.e)((be,Se)=>{Se.add(V.schedule(()=>be.subscribe(Se),ge))})}},8505:(St,Ve,j)=>{"use strict";j.d(Ve,{b:()=>be});var o=j(576),q=j(4482),V=j(5403),ge=j(4671);function be(Se,_e,Ce){const Ae=(0,o.m)(Se)||_e||Ce?{next:Se,error:_e,complete:Ce}:Se;return Ae?(0,q.e)((ee,ne)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let st=!0;ee.subscribe((0,V.x)(ne,We=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,We),ne.next(We)},()=>{var We;st=!1,null===(We=Ae.complete)||void 0===We||We.call(Ae),ne.complete()},We=>{var Le;st=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,We),ne.error(We)},()=>{var We,Le;st&&(null===(We=Ae.unsubscribe)||void 0===We||We.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):ge.y}},4408:(St,Ve,j)=>{"use strict";j.d(Ve,{o:()=>be});var o=j(727);class q extends o.w0{constructor(_e,Ce){super()}schedule(_e,Ce=0){return this}}const V={setInterval(Se,_e,...Ce){const{delegate:Ae}=V;return Ae?.setInterval?Ae.setInterval(Se,_e,...Ce):setInterval(Se,_e,...Ce)},clearInterval(Se){const{delegate:_e}=V;return(_e?.clearInterval||clearInterval)(Se)},delegate:void 0};var ge=j(8737);class be extends q{constructor(_e,Ce){super(_e,Ce),this.scheduler=_e,this.work=Ce,this.pending=!1}schedule(_e,Ce=0){if(this.closed)return this;this.state=_e;const Ae=this.id,ee=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(ee,Ae,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(ee,this.id,Ce),this}requestAsyncId(_e,Ce,Ae=0){return V.setInterval(_e.flush.bind(_e,this),Ae)}recycleAsyncId(_e,Ce,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ce;V.clearInterval(Ce)}execute(_e,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(_e,Ce);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ce){let ee,Ae=!1;try{this.work(_e)}catch(ne){Ae=!0,ee=ne||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ce}=this,{actions:Ae}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Ae,this),null!=_e&&(this.id=this.recycleAsyncId(Ce,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(St,Ve,j)=>{"use strict";j.d(Ve,{v:()=>V});var o=j(6063);class q{constructor(be,Se=q.now){this.schedulerActionCtor=be,this.now=Se}schedule(be,Se=0,_e){return new this.schedulerActionCtor(this,be).schedule(_e,Se)}}q.now=o.l.now;class V extends q{constructor(be,Se=q.now){super(be,Se),this.actions=[],this._active=!1,this._scheduled=void 0}flush(be){const{actions:Se}=this;if(this._active)return void Se.push(be);let _e;this._active=!0;do{if(_e=be.execute(be.state,be.delay))break}while(be=Se.shift());if(this._active=!1,_e){for(;be=Se.shift();)be.unsubscribe();throw _e}}}},4986:(St,Ve,j)=>{"use strict";j.d(Ve,{P:()=>ge,z:()=>V});var o=j(4408);const V=new(j(7565).v)(o.o),ge=V},6063:(St,Ve,j)=>{"use strict";j.d(Ve,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>o});const o={setTimeout(q,V,...ge){const{delegate:be}=o;return be?.setTimeout?be.setTimeout(q,V,...ge):setTimeout(q,V,...ge)},clearTimeout(q){const{delegate:V}=o;return(V?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(St,Ve,j)=>{"use strict";j.d(Ve,{h:()=>q});const q=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(St,Ve,j)=>{"use strict";j.d(Ve,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(St,Ve,j)=>{"use strict";j.d(Ve,{_6:()=>Se,jO:()=>ge,yG:()=>be});var o=j(576),q=j(3532);function V(_e){return _e[_e.length-1]}function ge(_e){return(0,o.m)(V(_e))?_e.pop():void 0}function be(_e){return(0,q.K)(V(_e))?_e.pop():void 0}function Se(_e,Ce){return"number"==typeof V(_e)?_e.pop():Ce}},8737:(St,Ve,j)=>{"use strict";function o(q,V){if(q){const ge=q.indexOf(V);0<=ge&&q.splice(ge,1)}}j.d(Ve,{P:()=>o})},3888:(St,Ve,j)=>{"use strict";function o(q){const ge=q(be=>{Error.call(be),be.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}j.d(Ve,{d:()=>o})},2806:(St,Ve,j)=>{"use strict";j.d(Ve,{O:()=>ge,x:()=>V});var o=j(2416);let q=null;function V(be){if(o.v.useDeprecatedSynchronousErrorHandling){const Se=!q;if(Se&&(q={errorThrown:!1,error:null}),be(),Se){const{errorThrown:_e,error:Ce}=q;if(q=null,_e)throw Ce}}else be()}function ge(be){o.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=be)}},9672:(St,Ve,j)=>{"use strict";function o(q,V,ge,be=0,Se=!1){const _e=V.schedule(function(){ge(),Se?q.add(this.schedule(null,be)):this.unsubscribe()},be);if(q.add(_e),!Se)return _e}j.d(Ve,{f:()=>o})},4671:(St,Ve,j)=>{"use strict";function o(q){return q}j.d(Ve,{y:()=>o})},1144:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>o});const o=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(St,Ve,j)=>{"use strict";j.d(Ve,{D:()=>q});var o=j(576);function q(V){return Symbol.asyncIterator&&(0,o.m)(V?.[Symbol.asyncIterator])}},576:(St,Ve,j)=>{"use strict";function o(q){return"function"==typeof q}j.d(Ve,{m:()=>o})},3670:(St,Ve,j)=>{"use strict";j.d(Ve,{c:()=>V});var o=j(8822),q=j(576);function V(ge){return(0,q.m)(ge[o.L])}},6495:(St,Ve,j)=>{"use strict";j.d(Ve,{T:()=>V});var o=j(2202),q=j(576);function V(ge){return(0,q.m)(ge?.[o.h])}},8239:(St,Ve,j)=>{"use strict";j.d(Ve,{t:()=>q});var o=j(576);function q(V){return(0,o.m)(V?.then)}},3260:(St,Ve,j)=>{"use strict";j.d(Ve,{L:()=>ge,Q:()=>V});var o=j(655),q=j(576);function V(be){return(0,o.FC)(this,arguments,function*(){const _e=be.getReader();try{for(;;){const{value:Ce,done:Ae}=yield(0,o.qq)(_e.read());if(Ae)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ce)}}finally{_e.releaseLock()}})}function ge(be){return(0,q.m)(be?.getReader)}},3532:(St,Ve,j)=>{"use strict";j.d(Ve,{K:()=>q});var o=j(576);function q(V){return V&&(0,o.m)(V.schedule)}},4482:(St,Ve,j)=>{"use strict";j.d(Ve,{A:()=>q,e:()=>V});var o=j(576);function q(ge){return(0,o.m)(ge?.lift)}function V(ge){return be=>{if(q(be))return be.lift(function(Se){try{return ge(Se,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(St,Ve,j)=>{"use strict";function o(){}j.d(Ve,{Z:()=>o})},9635:(St,Ve,j)=>{"use strict";j.d(Ve,{U:()=>V,z:()=>q});var o=j(4671);function q(...ge){return V(ge)}function V(ge){return 0===ge.length?o.y:1===ge.length?ge[0]:function(Se){return ge.reduce((_e,Ce)=>Ce(_e),Se)}}},7849:(St,Ve,j)=>{"use strict";j.d(Ve,{h:()=>V});var o=j(2416),q=j(3410);function V(ge){q.z.setTimeout(()=>{const{onUnhandledError:be}=o.v;if(!be)throw ge;be(ge)})}},4532:(St,Ve,j)=>{"use strict";function o(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ve,{z:()=>o})},5226:function(St){St.exports=function(){"use strict";const Ve="SweetAlert2:",o=T=>T.charAt(0).toUpperCase()+T.slice(1),q=T=>{console.warn("".concat(Ve," ").concat("object"==typeof T?T.join(" "):T))},V=T=>{console.error("".concat(Ve," ").concat(T))},ge=[],Se=(T,I)=>{(T=>{ge.includes(T)||(ge.push(T),q(T))})('"'.concat(T,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},_e=T=>"function"==typeof T?T():T,Ce=T=>T&&"function"==typeof T.toPromise,Ae=T=>Ce(T)?T.toPromise():Promise.resolve(T),ee=T=>T&&Promise.resolve(T)===T,ce={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},st=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],We={},Le=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_t=T=>Object.prototype.hasOwnProperty.call(ce,T),Ne=T=>-1!==st.indexOf(T),Ie=T=>We[T],ht=T=>{_t(T)||q('Unknown parameter "'.concat(T,'"'))},ft=T=>{Le.includes(T)&&q('The parameter "'.concat(T,'" is incompatible with toasts'))},Ke=T=>{Ie(T)&&Se(T,Ie(T))},lt=T=>{const I={};for(const O in T)I[T[O]]="swal2-"+T[O];return I},G=lt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),ve=lt(["success","warning","info","question","error"]),Ee=()=>document.body.querySelector(".".concat(G.container)),ae=T=>{const I=Ee();return I?I.querySelector(T):null},le=T=>ae(".".concat(T)),he=()=>le(G.popup),me=()=>le(G.icon),Qe=()=>le(G.title),Ye=()=>le(G["html-container"]),Nt=()=>le(G.image),mn=()=>le(G["progress-steps"]),Xt=()=>le(G["validation-message"]),tt=()=>ae(".".concat(G.actions," .").concat(G.confirm)),vn=()=>ae(".".concat(G.actions," .").concat(G.deny)),hn=()=>ae(".".concat(G.loader)),ln=()=>ae(".".concat(G.actions," .").concat(G.cancel)),Qt=()=>le(G.actions),Jt=()=>le(G.footer),Di=()=>le(G["timer-progress-bar"]),ns=()=>le(G.close),Hn=()=>{const T=Array.from(he().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((O,Y)=>{const Oe=parseInt(O.getAttribute("tabindex")),ke=parseInt(Y.getAttribute("tabindex"));return Oe>ke?1:Oe<ke?-1:0}),I=Array.from(he().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(O=>"-1"!==O.getAttribute("tabindex"));return(T=>{const I=[];for(let O=0;O<T.length;O++)-1===I.indexOf(T[O])&&I.push(T[O]);return I})(T.concat(I)).filter(O=>_n(O))},Sr=()=>wt(document.body,G.shown)&&!wt(document.body,G["toast-shown"])&&!wt(document.body,G["no-backdrop"]),Xi=()=>he()&&wt(he(),G.toast),Gn={previousBodyPadding:null},Kn=(T,I)=>{if(T.textContent="",I){const Y=(new DOMParser).parseFromString(I,"text/html");Array.from(Y.querySelector("head").childNodes).forEach(Oe=>{T.appendChild(Oe)}),Array.from(Y.querySelector("body").childNodes).forEach(Oe=>{T.appendChild(Oe)})}},wt=(T,I)=>{if(!I)return!1;const O=I.split(/\s+/);for(let Y=0;Y<O.length;Y++)if(!T.classList.contains(O[Y]))return!1;return!0},Bn=(T,I,O)=>{if(((T,I)=>{Array.from(T.classList).forEach(O=>{!Object.values(G).includes(O)&&!Object.values(ve).includes(O)&&!Object.values(I.showClass).includes(O)&&T.classList.remove(O)})})(T,I),I.customClass&&I.customClass[O]){if("string"!=typeof I.customClass[O]&&!I.customClass[O].forEach)return q("Invalid type of customClass.".concat(O,'! Expected string or iterable object, got "').concat(typeof I.customClass[O],'"'));Vt(T,I.customClass[O])}},bn=(T,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return T.querySelector(".".concat(G.popup," > .").concat(G[I]));case"checkbox":return T.querySelector(".".concat(G.popup," > .").concat(G.checkbox," input"));case"radio":return T.querySelector(".".concat(G.popup," > .").concat(G.radio," input:checked"))||T.querySelector(".".concat(G.popup," > .").concat(G.radio," input:first-child"));case"range":return T.querySelector(".".concat(G.popup," > .").concat(G.range," input"));default:return T.querySelector(".".concat(G.popup," > .").concat(G.input))}},fi=T=>{if(T.focus(),"file"!==T.type){const I=T.value;T.value="",T.value=I}},Gi=(T,I,O)=>{!T||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(Y=>{Array.isArray(T)?T.forEach(Oe=>{O?Oe.classList.add(Y):Oe.classList.remove(Y)}):O?T.classList.add(Y):T.classList.remove(Y)}))},Vt=(T,I)=>{Gi(T,I,!0)},fn=(T,I)=>{Gi(T,I,!1)},ri=(T,I)=>{const O=Array.from(T.children);for(let Y=0;Y<O.length;Y++){const Oe=O[Y];if(Oe instanceof HTMLElement&&wt(Oe,I))return Oe}},In=(T,I,O)=>{O==="".concat(parseInt(O))&&(O=parseInt(O)),O||0===parseInt(O)?T.style[I]="number"==typeof O?"".concat(O,"px"):O:T.style.removeProperty(I)},ct=function(T){T.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},at=T=>{T.style.display="none"},$n=(T,I,O,Y)=>{const Oe=T.querySelector(I);Oe&&(Oe.style[O]=Y)},Pi=function(T,I){I?ct(T,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):at(T)},_n=T=>!(!T||!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)),Yn=T=>T.scrollHeight>T.clientHeight,er=T=>{const I=window.getComputedStyle(T),O=parseFloat(I.getPropertyValue("animation-duration")||"0"),Y=parseFloat(I.getPropertyValue("transition-duration")||"0");return O>0||Y>0},Zt=function(T){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=Di();_n(O)&&(I&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition="width ".concat(T/1e3,"s linear"),O.style.width="0%"},10))},qt=()=>typeof window>"u"||typeof document>"u",W={},ie=T=>new Promise(I=>{if(!T)return I();const O=window.scrollX,Y=window.scrollY;W.restoreFocusTimeout=setTimeout(()=>{W.previousActiveElement instanceof HTMLElement?(W.previousActiveElement.focus(),W.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(O,Y)}),re='\n <div aria-labelledby="'.concat(G.title,'" aria-describedby="').concat(G["html-container"],'" class="').concat(G.popup,'" tabindex="-1">\n   <button type="button" class="').concat(G.close,'"></button>\n   <ul class="').concat(G["progress-steps"],'"></ul>\n   <div class="').concat(G.icon,'"></div>\n   <img class="').concat(G.image,'" />\n   <h2 class="').concat(G.title,'" id="').concat(G.title,'"></h2>\n   <div class="').concat(G["html-container"],'" id="').concat(G["html-container"],'"></div>\n   <input class="').concat(G.input,'" />\n   <input type="file" class="').concat(G.file,'" />\n   <div class="').concat(G.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(G.select,'"></select>\n   <div class="').concat(G.radio,'"></div>\n   <label for="').concat(G.checkbox,'" class="').concat(G.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(G.label,'"></span>\n   </label>\n   <textarea class="').concat(G.textarea,'"></textarea>\n   <div class="').concat(G["validation-message"],'" id="').concat(G["validation-message"],'"></div>\n   <div class="').concat(G.actions,'">\n     <div class="').concat(G.loader,'"></div>\n     <button type="button" class="').concat(G.confirm,'"></button>\n     <button type="button" class="').concat(G.deny,'"></button>\n     <button type="button" class="').concat(G.cancel,'"></button>\n   </div>\n   <div class="').concat(G.footer,'"></div>\n   <div class="').concat(G["timer-progress-bar-container"],'">\n     <div class="').concat(G["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),nt=()=>{W.currentInstance.resetValidationMessage()},de=T=>{const I=(()=>{const T=Ee();return!!T&&(T.remove(),fn([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0)})();if(qt())return void V("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=G.container,I&&Vt(O,G["no-transition"]),Kn(O,re);const Y=(T=>"string"==typeof T?document.querySelector(T):T)(T.target);Y.appendChild(O),(T=>{const I=he();I.setAttribute("role",T.toast?"alert":"dialog"),I.setAttribute("aria-live",T.toast?"polite":"assertive"),T.toast||I.setAttribute("aria-modal","true")})(T),(T=>{"rtl"===window.getComputedStyle(T).direction&&Vt(Ee(),G.rtl)})(Y),(()=>{const T=he(),I=ri(T,G.input),O=ri(T,G.file),Y=T.querySelector(".".concat(G.range," input")),Oe=T.querySelector(".".concat(G.range," output")),ke=ri(T,G.select),Wt=T.querySelector(".".concat(G.checkbox," input")),Jn=ri(T,G.textarea);I.oninput=nt,O.onchange=nt,ke.onchange=nt,Wt.onchange=nt,Jn.oninput=nt,Y.oninput=()=>{nt(),Oe.value=Y.value},Y.onchange=()=>{nt(),Oe.value=Y.value}})()},J=(T,I)=>{T instanceof HTMLElement?I.appendChild(T):"object"==typeof T?X(T,I):T&&Kn(I,T)},X=(T,I)=>{T.jquery?Me(I,T):Kn(I,T.toString())},Me=(T,I)=>{if(T.textContent="",0 in I)for(let O=0;O in I;O++)T.appendChild(I[O].cloneNode(!0));else T.appendChild(I.cloneNode(!0))},et=(()=>{if(qt())return!1;const T=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in I)if(Object.prototype.hasOwnProperty.call(I,O)&&typeof T.style[O]<"u")return I[O];return!1})(),Ge=(T,I)=>{const O=Qt(),Y=hn();I.showConfirmButton||I.showDenyButton||I.showCancelButton?ct(O):at(O),Bn(O,I,"actions"),function dt(T,I,O){const Y=tt(),Oe=vn(),ke=ln();Fn(Y,"confirm",O),Fn(Oe,"deny",O),Fn(ke,"cancel",O),function Ut(T,I,O,Y){if(!Y.buttonsStyling)return fn([T,I,O],G.styled);Vt([T,I,O],G.styled),Y.confirmButtonColor&&(T.style.backgroundColor=Y.confirmButtonColor,Vt(T,G["default-outline"])),Y.denyButtonColor&&(I.style.backgroundColor=Y.denyButtonColor,Vt(I,G["default-outline"])),Y.cancelButtonColor&&(O.style.backgroundColor=Y.cancelButtonColor,Vt(O,G["default-outline"]))}(Y,Oe,ke,O),O.reverseButtons&&(O.toast?(T.insertBefore(ke,Y),T.insertBefore(Oe,Y)):(T.insertBefore(ke,I),T.insertBefore(Oe,I),T.insertBefore(Y,I)))}(O,Y,I),Kn(Y,I.loaderHtml),Bn(Y,I,"loader")};function Fn(T,I,O){Pi(T,O["show".concat(o(I),"Button")],"inline-block"),Kn(T,O["".concat(I,"ButtonText")]),T.setAttribute("aria-label",O["".concat(I,"ButtonAriaLabel")]),T.className=G[I],Bn(T,O,"".concat(I,"Button")),Vt(T,O["".concat(I,"ButtonClass")])}const Fi=(T,I)=>{const O=Ee();!O||(function Lt(T,I){"string"==typeof I?T.style.background=I:I||Vt([document.documentElement,document.body],G["no-backdrop"])}(O,I.backdrop),function Li(T,I){I in G?Vt(T,G[I]):(q('The "position" parameter is not valid, defaulting to "center"'),Vt(T,G.center))}(O,I.position),function zn(T,I){if(I&&"string"==typeof I){const O="grow-".concat(I);O in G&&Vt(T,G[O])}}(O,I.grow),Bn(O,I,"container"))};var $t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Js=["input","file","range","select","radio","checkbox","textarea"],gi=T=>{if(!ci[T.input])return V('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(T.input,'"'));const I=Ts(T.input),O=ci[T.input](I,T);ct(I),setTimeout(()=>{fi(O)})},Dc=(T,I)=>{const O=bn(he(),T);if(O){(T=>{for(let I=0;I<T.attributes.length;I++){const O=T.attributes[I].name;["type","value","style"].includes(O)||T.removeAttribute(O)}})(O);for(const Y in I)O.setAttribute(Y,I[Y])}},Xs=T=>{const I=Ts(T.input);"object"==typeof T.customClass&&Vt(I,T.customClass.input)},li=(T,I)=>{(!T.placeholder||I.inputPlaceholder)&&(T.placeholder=I.inputPlaceholder)},br=(T,I,O)=>{if(O.inputLabel){T.id=G.input;const Y=document.createElement("label"),Oe=G["input-label"];Y.setAttribute("for",T.id),Y.className=Oe,"object"==typeof O.customClass&&Vt(Y,O.customClass.inputLabel),Y.innerText=O.inputLabel,I.insertAdjacentElement("beforebegin",Y)}},Ts=T=>ri(he(),G[T]||G.input),si=(T,I)=>{["string","number"].includes(typeof I)?T.value="".concat(I):ee(I)||q('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I,'"'))},ci={};ci.text=ci.email=ci.password=ci.number=ci.tel=ci.url=(T,I)=>(si(T,I.inputValue),br(T,T,I),li(T,I),T.type=I.input,T),ci.file=(T,I)=>(br(T,T,I),li(T,I),T),ci.range=(T,I)=>{const O=T.querySelector("input"),Y=T.querySelector("output");return si(O,I.inputValue),O.type=I.input,si(Y,I.inputValue),br(O,T,I),T},ci.select=(T,I)=>{if(T.textContent="",I.inputPlaceholder){const O=document.createElement("option");Kn(O,I.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,T.appendChild(O)}return br(T,T,I),T},ci.radio=T=>(T.textContent="",T),ci.checkbox=(T,I)=>{const O=bn(he(),"checkbox");O.value="1",O.id=G.checkbox,O.checked=Boolean(I.inputValue);const Y=T.querySelector("span");return Kn(Y,I.inputPlaceholder),O},ci.textarea=(T,I)=>{si(T,I.inputValue),li(T,I),br(T,T,I);return setTimeout(()=>{if("MutationObserver"in window){const Y=parseInt(window.getComputedStyle(he()).width);new MutationObserver(()=>{const ke=T.offsetWidth+(Y=>parseInt(window.getComputedStyle(Y).marginLeft)+parseInt(window.getComputedStyle(Y).marginRight))(T);he().style.width=ke>Y?"".concat(ke,"px"):null}).observe(T,{attributes:!0,attributeFilter:["style"]})}}),T};const $i=(T,I)=>{const O=Ye();Bn(O,I,"htmlContainer"),I.html?(J(I.html,O),ct(O,"block")):I.text?(O.textContent=I.text,ct(O,"block")):at(O),((T,I)=>{const O=he(),Y=$t.innerParams.get(T),Oe=!Y||I.input!==Y.input;Js.forEach(ke=>{const Wt=ri(O,G[ke]);Dc(ke,I.inputAttributes),Wt.className=G[ke],Oe&&at(Wt)}),I.input&&(Oe&&gi(I),Xs(I))})(T,I)},Is=(T,I)=>{for(const O in ve)I.icon!==O&&fn(T,ve[O]);Vt(T,ve[I.icon]),Ti(T,I),Ml(),Bn(T,I,"icon")},Ml=()=>{const T=he(),I=window.getComputedStyle(T).getPropertyValue("background-color"),O=T.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Y=0;Y<O.length;Y++)O[Y].style.backgroundColor=I},Gr=(T,I)=>{let Y,O=T.innerHTML;I.iconHtml?Y=zi(I.iconHtml):"success"===I.icon?(Y='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):Y="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':zi({question:"?",warning:"!",info:"i"}[I.icon]),O.trim()!==Y.trim()&&Kn(T,Y)},Ti=(T,I)=>{if(I.iconColor){T.style.color=I.iconColor,T.style.borderColor=I.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])$n(T,O,"backgroundColor",I.iconColor);$n(T,".swal2-success-ring","borderColor",I.iconColor)}},zi=T=>'<div class="'.concat(G["icon-content"],'">').concat(T,"</div>"),Ol=T=>{const I=document.createElement("li");return Vt(I,G["progress-step"]),Kn(I,T),I},To=T=>{const I=document.createElement("li");return Vt(I,G["progress-step-line"]),T.progressStepsDistance&&In(I,"width",T.progressStepsDistance),I},Ic=(T,I)=>{T.className="".concat(G.popup," ").concat(_n(T)?I.showClass.popup:""),I.toast?(Vt([document.documentElement,document.body],G["toast-shown"]),Vt(T,G.toast)):Vt(T,G.modal),Bn(T,I,"popup"),"string"==typeof I.customClass&&Vt(T,I.customClass),I.icon&&Vt(T,G["icon-".concat(I.icon)])},Sc=(T,I)=>{((T,I)=>{const O=Ee(),Y=he();I.toast?(In(O,"width",I.width),Y.style.width="100%",Y.insertBefore(hn(),me())):In(Y,"width",I.width),In(Y,"padding",I.padding),I.color&&(Y.style.color=I.color),I.background&&(Y.style.background=I.background),at(Xt()),Ic(Y,I)})(0,I),Fi(0,I),((T,I)=>{const O=mn();if(!I.progressSteps||0===I.progressSteps.length)return at(O);ct(O),O.textContent="",I.currentProgressStep>=I.progressSteps.length&&q("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach((Y,Oe)=>{const ke=Ol(Y);if(O.appendChild(ke),Oe===I.currentProgressStep&&Vt(ke,G["active-progress-step"]),Oe!==I.progressSteps.length-1){const Wt=To(I);O.appendChild(Wt)}})})(0,I),((T,I)=>{const O=$t.innerParams.get(T),Y=me();O&&I.icon===O.icon?(Gr(Y,I),Is(Y,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(ve).indexOf(I.icon)?(V('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),at(Y)):(ct(Y),Gr(Y,I),Is(Y,I),Vt(Y,I.showClass.icon)):at(Y)})(T,I),((T,I)=>{const O=Nt();if(!I.imageUrl)return at(O);ct(O,""),O.setAttribute("src",I.imageUrl),O.setAttribute("alt",I.imageAlt),In(O,"width",I.imageWidth),In(O,"height",I.imageHeight),O.className=G.image,Bn(O,I,"image")})(0,I),((T,I)=>{const O=Qe();Pi(O,I.title||I.titleText,"block"),I.title&&J(I.title,O),I.titleText&&(O.innerText=I.titleText),Bn(O,I,"title")})(0,I),((T,I)=>{const O=ns();Kn(O,I.closeButtonHtml),Bn(O,I,"closeButton"),Pi(O,I.showCloseButton),O.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),$i(T,I),Ge(0,I),((T,I)=>{const O=Jt();Pi(O,I.footer),I.footer&&J(I.footer,O),Bn(O,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(he())},sa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),As=()=>{Array.from(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},eo=["swal-title","swal-html","swal-footer"],Fh=T=>{const I={};return Array.from(T.querySelectorAll("swal-param")).forEach(Y=>{to(Y,["name","value"]);const Oe=Y.getAttribute("name"),ke=Y.getAttribute("value");"boolean"==typeof ce[Oe]&&"false"===ke&&(I[Oe]=!1),"object"==typeof ce[Oe]&&(I[Oe]=JSON.parse(ke))}),I},xs=T=>{const I={};return Array.from(T.querySelectorAll("swal-button")).forEach(Y=>{to(Y,["type","color","aria-label"]);const Oe=Y.getAttribute("type");I["".concat(Oe,"ButtonText")]=Y.innerHTML,I["show".concat(o(Oe),"Button")]=!0,Y.hasAttribute("color")&&(I["".concat(Oe,"ButtonColor")]=Y.getAttribute("color")),Y.hasAttribute("aria-label")&&(I["".concat(Oe,"ButtonAriaLabel")]=Y.getAttribute("aria-label"))}),I},Lh=T=>{const I={},O=T.querySelector("swal-image");return O&&(to(O,["src","width","height","alt"]),O.hasAttribute("src")&&(I.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(I.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(I.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(I.imageAlt=O.getAttribute("alt"))),I},Ou=T=>{const I={},O=T.querySelector("swal-icon");return O&&(to(O,["type","color"]),O.hasAttribute("type")&&(I.icon=O.getAttribute("type")),O.hasAttribute("color")&&(I.iconColor=O.getAttribute("color")),I.iconHtml=O.innerHTML),I},Bh=T=>{const I={},O=T.querySelector("swal-input");O&&(to(O,["type","label","placeholder","value"]),I.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(I.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(I.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(I.inputValue=O.getAttribute("value")));const Y=Array.from(T.querySelectorAll("swal-input-option"));return Y.length&&(I.inputOptions={},Y.forEach(Oe=>{to(Oe,["value"]);const ke=Oe.getAttribute("value");I.inputOptions[ke]=Oe.innerHTML})),I},qa=(T,I)=>{const O={};for(const Y in I){const Oe=I[Y],ke=T.querySelector(Oe);ke&&(to(ke,[]),O[Oe.replace(/^swal-/,"")]=ke.innerHTML.trim())}return O},oa=T=>{const I=eo.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(T.children).forEach(O=>{const Y=O.tagName.toLowerCase();-1===I.indexOf(Y)&&q("Unrecognized element <".concat(Y,">"))})},to=(T,I)=>{Array.from(T.attributes).forEach(O=>{-1===I.indexOf(O.name)&&q(['Unrecognized attribute "'.concat(O.name,'" on <').concat(T.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})};var xd={email:(T,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(T)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(T,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(T)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function no(T){(function Vh(T){T.inputValidator||Object.keys(xd).forEach(I=>{T.input===I&&(T.inputValidator=xd[I])})})(T),T.showLoaderOnConfirm&&!T.preConfirm&&q("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ru(T){(!T.target||"string"==typeof T.target&&!document.querySelector(T.target)||"string"!=typeof T.target&&!T.target.appendChild)&&(q('Target parameter is not valid, defaulting to "body"'),T.target="body")}(T),"string"==typeof T.title&&(T.title=T.title.split("\n").join("<br />")),de(T)}class xc{constructor(I,O){this.callback=I,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const O=this.running;return O&&this.stop(),this.remaining+=I,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Dp=()=>{null===Gn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Gn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Gn.previousBodyPadding+(()=>{const T=document.createElement("div");T.className=G["scrollbar-measure"],document.body.appendChild(T);const I=T.getBoundingClientRect().width-T.clientWidth;return document.body.removeChild(T),I})(),"px"))},$r=()=>{const T=navigator.userAgent,I=!!T.match(/iPad/i)||!!T.match(/iPhone/i),O=!!T.match(/WebKit/i);I&&O&&!T.match(/CriOS/i)&&he().scrollHeight>window.innerHeight-44&&(Ee().style.paddingBottom="".concat(44,"px"))},is=()=>{const T=Ee();let I;T.ontouchstart=O=>{I=io(O)},T.ontouchmove=O=>{I&&(O.preventDefault(),O.stopPropagation())}},io=T=>{const I=T.target,O=Ee();return!(ro(T)||kd(T)||I!==O&&(Yn(O)||"INPUT"===I.tagName||"TEXTAREA"===I.tagName||Yn(Ye())&&Ye().contains(I)))},ro=T=>T.touches&&T.touches.length&&"stylus"===T.touches[0].touchType,kd=T=>T.touches&&T.touches.length>1,Pu=T=>{const I=Ee(),O=he();"function"==typeof T.willOpen&&T.willOpen(O);const Oe=window.getComputedStyle(document.body).overflowY;ui(I,O,T),setTimeout(()=>{mi(I,O)},10),Sr()&&(rs(I,T.scrollbarPadding,Oe),Array.from(document.body.children).forEach(I=>{I===Ee()||I.contains(Ee())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!Xi()&&!W.previousActiveElement&&(W.previousActiveElement=document.activeElement),"function"==typeof T.didOpen&&setTimeout(()=>T.didOpen(O)),fn(I,G["no-transition"])},la=T=>{const I=he();if(T.target!==I)return;const O=Ee();I.removeEventListener(et,la),O.style.overflowY="auto"},mi=(T,I)=>{et&&er(I)?(T.style.overflowY="hidden",I.addEventListener(et,la)):T.style.overflowY="auto"},rs=(T,I,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!wt(document.body,G.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),Vt(document.body,G.iosfix),is(),$r()}})(),I&&"hidden"!==O&&Dp(),setTimeout(()=>{T.scrollTop=0})},ui=(T,I,O)=>{Vt(T,O.showClass.backdrop),I.style.setProperty("opacity","0","important"),ct(I,"grid"),setTimeout(()=>{Vt(I,O.showClass.popup),I.style.removeProperty("opacity")},10),Vt([document.documentElement,document.body],G.shown),O.heightAuto&&O.backdrop&&!O.toast&&Vt([document.documentElement,document.body],G["height-auto"])},ks=T=>{let I=he();I||new qi,I=he();const O=hn();Xi()?at(me()):Ka(I,T),ct(O),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},Ka=(T,I)=>{const O=Qt(),Y=hn();!I&&_n(tt())&&(I=tt()),ct(O),I&&(at(I),Y.setAttribute("data-button-to-replace",I.className)),Y.parentNode.insertBefore(Y,I),Vt([T,O],G.loading)},Ip=T=>T.checked?1:0,Qn=T=>T.checked?T.value:null,kc=T=>T.files.length?null!==T.getAttribute("multiple")?T.files:T.files[0]:null,Nd=(T,I)=>{const O=he(),Y=Oe=>_i[I.input](O,Io(Oe),I);Ce(I.inputOptions)||ee(I.inputOptions)?(ks(tt()),Ae(I.inputOptions).then(Oe=>{T.hideLoading(),Y(Oe)})):"object"==typeof I.inputOptions?Y(I.inputOptions):V("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},Ya=(T,I)=>{const O=T.getInput();at(O),Ae(I.inputValue).then(Y=>{O.value="number"===I.input?parseFloat(Y)||0:"".concat(Y),ct(O),O.focus(),T.hideLoading()}).catch(Y=>{V("Error in inputValue promise: ".concat(Y)),O.value="",ct(O),O.focus(),T.hideLoading()})},_i={select:(T,I,O)=>{const Y=ri(T,G.select),Oe=(ke,Wt,Jn)=>{const vi=document.createElement("option");vi.value=Jn,Kn(vi,Wt),vi.selected=So(Jn,O.inputValue),ke.appendChild(vi)};I.forEach(ke=>{const Wt=ke[0],Jn=ke[1];if(Array.isArray(Jn)){const vi=document.createElement("optgroup");vi.label=Wt,vi.disabled=!1,Y.appendChild(vi),Jn.forEach(Mr=>Oe(vi,Mr[1],Mr[0]))}else Oe(Y,Jn,Wt)}),Y.focus()},radio:(T,I,O)=>{const Y=ri(T,G.radio);I.forEach(ke=>{const Wt=ke[0],Jn=ke[1],vi=document.createElement("input"),Mr=document.createElement("label");vi.type="radio",vi.name=G.radio,vi.value=Wt,So(Wt,O.inputValue)&&(vi.checked=!0);const Fs=document.createElement("span");Kn(Fs,Jn),Fs.className=G.label,Mr.appendChild(vi),Mr.appendChild(Fs),Y.appendChild(Mr)});const Oe=Y.querySelectorAll("input");Oe.length&&Oe[0].focus()}},Io=T=>{const I=[];return typeof Map<"u"&&T instanceof Map?T.forEach((O,Y)=>{let Oe=O;"object"==typeof Oe&&(Oe=Io(Oe)),I.push([Y,Oe])}):Object.keys(T).forEach(O=>{let Y=T[O];"object"==typeof Y&&(Y=Io(Y)),I.push([O,Y])}),I},So=(T,I)=>I&&I.toString()===T.toString();function zr(){const T=$t.innerParams.get(this);if(!T)return;const I=$t.domCache.get(this);at(I.loader),Xi()?T.icon&&ct(me()):Ii(I),fn([I.popup,I.actions],G.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const Ii=T=>{const I=T.popup.getElementsByClassName(T.loader.getAttribute("data-button-to-replace"));I.length?ct(I[0],"inline-block"):!_n(tt())&&!_n(vn())&&!_n(ln())&&at(T.actions)};var dr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const nr=()=>tt()&&tt().click(),Ct=T=>{T.keydownTarget&&T.keydownHandlerAdded&&(T.keydownTarget.removeEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!1)},ua=(T,I,O)=>{const Y=Hn();if(Y.length)return(I+=O)===Y.length?I=0:-1===I&&(I=Y.length-1),Y[I].focus();he().focus()},Oc=["ArrowRight","ArrowDown"],oo=["ArrowLeft","ArrowUp"],Qa=(T,I,O)=>{const Y=$t.innerParams.get(T);!Y||I.isComposing||229===I.keyCode||(Y.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?xo(T,I,Y):"Tab"===I.key?Fl(I,Y):[...Oc,...oo].includes(I.key)?Ns(I.key):"Escape"===I.key&&$e(I,Y,O))},xo=(T,I,O)=>{if(_e(O.allowEnterKey)&&I.target&&T.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===T.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;nr(),I.preventDefault()}},Fl=(T,I)=>{const O=T.target,Y=Hn();let Oe=-1;for(let ke=0;ke<Y.length;ke++)if(O===Y[ke]){Oe=ke;break}ua(0,Oe,T.shiftKey?-1:1),T.stopPropagation(),T.preventDefault()},Ns=T=>{const I=tt(),O=vn(),Y=ln();if(document.activeElement instanceof HTMLElement&&![I,O,Y].includes(document.activeElement))return;const Oe=Oc.includes(T)?"nextElementSibling":"previousElementSibling";let ke=document.activeElement;for(let Wt=0;Wt<Qt().children.length;Wt++){if(ke=ke[Oe],!ke)return;if(ke instanceof HTMLButtonElement&&_n(ke))break}ke instanceof HTMLButtonElement&&ke.focus()},$e=(T,I,O)=>{_e(I.allowEscapeKey)&&(T.preventDefault(),O(sa.esc))};function sn(T,I,O,Y){Xi()?Md(T,Y):(ie(O).then(()=>Md(T,Y)),Ct(W)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),Sr()&&(null!==Gn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Gn.previousBodyPadding,"px"),Gn.previousBodyPadding=null),(()=>{if(wt(document.body,G.iosfix)){const T=parseInt(document.body.style.top,10);fn(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=-1*T}})(),As()),function ko(){fn([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}()}function da(T){T=No(T);const I=dr.swalPromiseResolve.get(this),O=Rc(this);this.isAwaitingPromise()?T.isDismissed||(hr(this),I(T)):O&&I(T)}const Rc=T=>{const I=he();if(!I)return!1;const O=$t.innerParams.get(T);if(!O||wt(I,O.hideClass.popup))return!1;fn(I,O.showClass.popup),Vt(I,O.hideClass.popup);const Y=Ee();return fn(Y,O.showClass.backdrop),Vt(Y,O.hideClass.backdrop),ao(T,I,O),!0};const hr=T=>{T.isAwaitingPromise()&&($t.awaitingPromise.delete(T),$t.innerParams.get(T)||T._destroy())},No=T=>typeof T>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},T),ao=(T,I,O)=>{const Y=Ee(),Oe=et&&er(I);"function"==typeof O.willClose&&O.willClose(I),Oe?Ja(T,I,Y,O.returnFocus,O.didClose):sn(T,Y,O.returnFocus,O.didClose)},Ja=(T,I,O,Y,Oe)=>{W.swalCloseEventFinishedCallback=sn.bind(null,T,O,Y,Oe),I.addEventListener(et,function(ke){ke.target===I&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback)})},Md=(T,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(T.params)(),T._destroy()})};function lo(T,I,O){const Y=$t.domCache.get(T);I.forEach(Oe=>{Y[Oe].disabled=O})}function Mo(T,I){if(!T)return!1;if("radio"===T.type){const Y=T.parentNode.parentNode.querySelectorAll("input");for(let Oe=0;Oe<Y.length;Oe++)Y[Oe].disabled=I}else T.disabled=I}const Lc=T=>{const I={};return Object.keys(T).forEach(O=>{Ne(O)?I[O]=T[O]:q("Invalid parameter to update: ".concat(O))}),I};const Oo=T=>{Bc(T),delete T.params,delete W.keydownHandler,delete W.keydownTarget,delete W.currentInstance},Bc=T=>{T.isAwaitingPromise()?(Rs($t,T),$t.awaitingPromise.set(T,!0)):(Rs(dr,T),Rs($t,T))},Rs=(T,I)=>{for(const O in T)T[O].delete(I)};var Ll=Object.freeze({hideLoading:zr,disableLoading:zr,getInput:function so(T){const I=$t.innerParams.get(T||this),O=$t.domCache.get(T||this);return O?bn(O.popup,I.input):null},close:da,isAwaitingPromise:function Zn(){return!!$t.awaitingPromise.get(this)},rejectPromise:function Ms(T){const I=dr.swalPromiseReject.get(this);hr(this),I&&I(T)},handleAwaitingPromise:hr,closePopup:da,closeModal:da,closeToast:da,enableButtons:function Si(){lo(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function ss(){lo(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Pc(){return Mo(this.getInput(),!1)},disableInput:function co(){return Mo(this.getInput(),!0)},showValidationMessage:function Os(T){const I=$t.domCache.get(this),O=$t.innerParams.get(this);Kn(I.validationMessage,T),I.validationMessage.className=G["validation-message"],O.customClass&&O.customClass.validationMessage&&Vt(I.validationMessage,O.customClass.validationMessage),ct(I.validationMessage);const Y=this.getInput();Y&&(Y.setAttribute("aria-invalid",!0),Y.setAttribute("aria-describedby",G["validation-message"]),fi(Y),Vt(Y,G.inputerror))},resetValidationMessage:function Fu(){const T=$t.domCache.get(this);T.validationMessage&&at(T.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),fn(I,G.inputerror))},getProgressSteps:function Xa(){return $t.domCache.get(this).progressSteps},update:function Fc(T){const I=he(),O=$t.innerParams.get(this);if(!I||wt(I,O.hideClass.popup))return q("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Y=Lc(T),Oe=Object.assign({},O,Y);Sc(this,Oe),$t.innerParams.set(this,Oe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,T),writable:!1,enumerable:!0}})},_destroy:function el(){const T=$t.domCache.get(this),I=$t.innerParams.get(this);I?(T.popup&&W.swalCloseEventFinishedCallback&&(W.swalCloseEventFinishedCallback(),delete W.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Oo(this)):Bc(this)}});const Uc=(T,I)=>{const O=$t.innerParams.get(T);if(!O.input)return void V('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(I)));const Y=((T,I)=>{const O=T.getInput();if(!O)return null;switch(I.input){case"checkbox":return Ip(O);case"radio":return Qn(O);case"file":return kc(O);default:return I.inputAutoTrim?O.value.trim():O.value}})(T,O);O.inputValidator?fa(T,Y,I):T.getInput().checkValidity()?"deny"===I?nl(T,Y):Ro(T,Y):(T.enableButtons(),T.showValidationMessage(O.validationMessage))},fa=(T,I,O)=>{const Y=$t.innerParams.get(T);T.disableInput(),Promise.resolve().then(()=>Ae(Y.inputValidator(I,Y.validationMessage))).then(ke=>{T.enableButtons(),T.enableInput(),ke?T.showValidationMessage(ke):"deny"===O?nl(T,I):Ro(T,I)})},nl=(T,I)=>{const O=$t.innerParams.get(T||void 0);O.showLoaderOnDeny&&ks(vn()),O.preDeny?($t.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ae(O.preDeny(I,O.validationMessage))).then(Oe=>{!1===Oe?(T.hideLoading(),hr(T)):T.close({isDenied:!0,value:typeof Oe>"u"?I:Oe})}).catch(Oe=>pa(T||void 0,Oe))):T.close({isDenied:!0,value:I})},Bl=(T,I)=>{T.close({isConfirmed:!0,value:I})},pa=(T,I)=>{T.rejectPromise(I)},Ro=(T,I)=>{const O=$t.innerParams.get(T||void 0);O.showLoaderOnConfirm&&ks(),O.preConfirm?(T.resetValidationMessage(),$t.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ae(O.preConfirm(I,O.validationMessage))).then(Oe=>{_n(Xt())||!1===Oe?(T.hideLoading(),hr(T)):Bl(T,typeof Oe>"u"?I:Oe)}).catch(Oe=>pa(T||void 0,Oe))):Bl(T,I)},fr=(T,I,O)=>{I.popup.onclick=()=>{const Y=$t.innerParams.get(T);Y&&(Xn(Y)||Y.timer||Y.input)||O(sa.close)}},Xn=T=>T.showConfirmButton||T.showDenyButton||T.showCancelButton||T.showCloseButton;let il=!1;const Od=T=>{T.popup.onmousedown=()=>{T.container.onmouseup=function(I){T.container.onmouseup=void 0,I.target===T.container&&(il=!0)}}},Vl=T=>{T.container.onmousedown=()=>{T.popup.onmouseup=function(I){T.popup.onmouseup=void 0,(I.target===T.popup||T.popup.contains(I.target))&&(il=!0)}}},Lu=(T,I,O)=>{I.container.onclick=Y=>{const Oe=$t.innerParams.get(T);il?il=!1:Y.target===I.container&&_e(Oe.allowOutsideClick)&&O(sa.backdrop)}},Rd=T=>T instanceof Element||(T=>"object"==typeof T&&T.jquery)(T);const Ld=()=>{if(W.timeout)return(()=>{const T=Di(),I=parseInt(window.getComputedStyle(T).width);T.style.removeProperty("transition"),T.style.width="100%";const Y=I/parseInt(window.getComputedStyle(T).width)*100;T.style.removeProperty("transition"),T.style.width="".concat(Y,"%")})(),W.timeout.stop()},Ul=()=>{if(W.timeout){const T=W.timeout.start();return Zt(T),T}};let Hc=!1;const Po={};const Bd=T=>{for(let I=T.target;I&&I!==document;I=I.parentNode)for(const O in Po){const Y=I.getAttribute(O);if(Y)return void Po[O].fire({template:Y})}};var Uh=Object.freeze({isValidParameter:_t,isUpdatableParameter:Ne,isDeprecatedParameter:Ie,argsToParams:T=>{const I={};return"object"!=typeof T[0]||Rd(T[0])?["title","html","icon"].forEach((O,Y)=>{const Oe=T[Y];"string"==typeof Oe||Rd(Oe)?I[O]=Oe:void 0!==Oe&&V("Unexpected type of ".concat(O,'! Expected "string" or "Element", got ').concat(typeof Oe))}):Object.assign(I,T[0]),I},isVisible:()=>_n(he()),clickConfirm:nr,clickDeny:()=>vn()&&vn().click(),clickCancel:()=>ln()&&ln().click(),getContainer:Ee,getPopup:he,getTitle:Qe,getHtmlContainer:Ye,getImage:Nt,getIcon:me,getInputLabel:()=>le(G["input-label"]),getCloseButton:ns,getActions:Qt,getConfirmButton:tt,getDenyButton:vn,getCancelButton:ln,getLoader:hn,getFooter:Jt,getTimerProgressBar:Di,getFocusableElements:Hn,getValidationMessage:Xt,isLoading:()=>he().hasAttribute("data-loading"),fire:function Fd(){const T=this;for(var I=arguments.length,O=new Array(I),Y=0;Y<I;Y++)O[Y]=arguments[Y];return new T(...O)},mixin:function ga(T){return class I extends(this){_main(Y,Oe){return super._main(Y,Object.assign({},T,Oe))}}},showLoading:ks,enableLoading:ks,getTimerLeft:()=>W.timeout&&W.timeout.getTimerLeft(),stopTimer:Ld,resumeTimer:Ul,toggleTimer:()=>{const T=W.timeout;return T&&(T.running?Ld():Ul())},increaseTimer:T=>{if(W.timeout){const I=W.timeout.increase(T);return Zt(I,!0),I}},isTimerRunning:()=>W.timeout&&W.timeout.isRunning(),bindClickHandler:function yi(){Po[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Hc||(document.body.addEventListener("click",Bd),Hc=!0)}});let os;class _a{constructor(){if(typeof window>"u")return;os=this;for(var I=arguments.length,O=new Array(I),Y=0;Y<I;Y++)O[Y]=arguments[Y];const Oe=Object.freeze(this.constructor.argsToParams(O));Object.defineProperties(this,{params:{value:Oe,writable:!1,enumerable:!0,configurable:!0}});const ke=os._main(os.params);$t.promise.set(this,ke)}_main(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(T=>{!T.backdrop&&T.allowOutsideClick&&q('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in T)ht(I),T.toast&&ft(I),Ke(I)})(Object.assign({},O,I)),W.currentInstance&&(W.currentInstance._destroy(),Sr()&&As()),W.currentInstance=os;const Y=sl(I,O);no(Y),Object.freeze(Y),W.timeout&&(W.timeout.stop(),delete W.timeout),clearTimeout(W.restoreFocusTimeout);const Oe=jl(os);return Sc(os,Y),$t.innerParams.set(os,Y),rl(os,Oe,Y)}then(I){return $t.promise.get(this).then(I)}finally(I){return $t.promise.get(this).finally(I)}}const rl=(T,I,O)=>new Promise((Y,Oe)=>{const ke=Wt=>{T.closePopup({isDismissed:!0,dismiss:Wt})};dr.swalPromiseResolve.set(T,Y),dr.swalPromiseReject.set(T,Oe),I.confirmButton.onclick=()=>(T=>{const I=$t.innerParams.get(T);T.disableButtons(),I.input?Uc(T,"confirm"):Ro(T,!0)})(T),I.denyButton.onclick=()=>(T=>{const I=$t.innerParams.get(T);T.disableButtons(),I.returnInputValueOnDeny?Uc(T,"deny"):nl(T,!1)})(T),I.cancelButton.onclick=()=>((T,I)=>{T.disableButtons(),I(sa.cancel)})(T,ke),I.closeButton.onclick=()=>ke(sa.close),((T,I,O)=>{$t.innerParams.get(T).toast?fr(T,I,O):(Od(I),Vl(I),Lu(T,I,O))})(T,I,ke),((T,I,O,Y)=>{Ct(I),O.toast||(I.keydownHandler=Oe=>Qa(T,Oe,Y),I.keydownTarget=O.keydownListenerCapture?window:he(),I.keydownListenerCapture=O.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(T,W,O,ke),((T,I)=>{"select"===I.input||"radio"===I.input?Nd(T,I):["text","email","number","tel","textarea"].includes(I.input)&&(Ce(I.inputValue)||ee(I.inputValue))&&(ks(tt()),Ya(T,I))})(T,O),Pu(O),Gc(W,O,ke),Vd(I,O),setTimeout(()=>{I.container.scrollTop=0})}),sl=(T,I)=>{const O=(T=>{const I="string"==typeof T.template?document.querySelector(T.template):T.template;if(!I)return{};const O=I.content;return oa(O),Object.assign(Fh(O),xs(O),Lh(O),Ou(O),Bh(O),qa(O,eo))})(T),Y=Object.assign({},ce,I,O,T);return Y.showClass=Object.assign({},ce.showClass,Y.showClass),Y.hideClass=Object.assign({},ce.hideClass,Y.hideClass),Y},jl=T=>{const I={popup:he(),container:Ee(),actions:Qt(),confirmButton:tt(),denyButton:vn(),cancelButton:ln(),loader:hn(),closeButton:ns(),validationMessage:Xt(),progressSteps:mn()};return $t.domCache.set(T,I),I},Gc=(T,I,O)=>{const Y=Di();at(Y),I.timer&&(T.timeout=new xc(()=>{O("timer"),delete T.timeout},I.timer),I.timerProgressBar&&(ct(Y),Bn(Y,I,"timerProgressBar"),setTimeout(()=>{T.timeout&&T.timeout.running&&Zt(I.timer)})))},Vd=(T,I)=>{if(!I.toast){if(!_e(I.allowEnterKey))return Hl();Ud(T,I)||ua(0,-1,1)}},Ud=(T,I)=>I.focusDeny&&_n(T.denyButton)?(T.denyButton.focus(),!0):I.focusCancel&&_n(T.cancelButton)?(T.cancelButton.focus(),!0):!(!I.focusConfirm||!_n(T.confirmButton)||(T.confirmButton.focus(),0)),Hl=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const T=document.createElement("div");T.className="leave-russia-now-and-apply-your-skills-to-the-world";const I=(T=>T[Math.floor(Math.random()*T.length)])([{text:"\u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c,\n        <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:",id:"4CfDhaRkw7I"},{text:"\u042d\u043c\u043f\u0430\u0442\u0438\u044f - \u0433\u043b\u0430\u0432\u043d\u043e\u0435 <strong>\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u0435\u0441\u043a\u043e\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043e. \u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c. <strong>\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e.</strong>",id:"s-GLAIY4DXA"}]);Kn(T,"\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        ".concat(I.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(I.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      '));const O=document.createElement("button");O.innerHTML="&times;",O.onclick=()=>T.remove(),T.appendChild(O),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(T)},1e3)})}Object.assign(_a.prototype,Ll),Object.assign(_a,Uh),Object.keys(Ll).forEach(T=>{_a[T]=function(){if(os)return os[T](...arguments)}}),_a.DismissReason=sa,_a.version="11.4.26";const qi=_a;return qi.default=qi,qi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ve,j){var o=Ve.createElement("style");if(Ve.getElementsByTagName("head")[0].appendChild(o),o.styleSheet)o.styleSheet.disabled||(o.styleSheet.cssText=j);else try{o.innerHTML=j}catch{o.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(St,Ve,j)=>{"use strict";function ge(ae,le){var he={};for(var me in ae)Object.prototype.hasOwnProperty.call(ae,me)&&le.indexOf(me)<0&&(he[me]=ae[me]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(me=Object.getOwnPropertySymbols(ae);Qe<me.length;Qe++)le.indexOf(me[Qe])<0&&Object.prototype.propertyIsEnumerable.call(ae,me[Qe])&&(he[me[Qe]]=ae[me[Qe]])}return he}function Ce(ae,le,he,me){return new(he||(he=Promise))(function(Ye,Nt){function mn(vn){try{tt(me.next(vn))}catch(ii){Nt(ii)}}function Xt(vn){try{tt(me.throw(vn))}catch(ii){Nt(ii)}}function tt(vn){vn.done?Ye(vn.value):function Qe(Ye){return Ye instanceof he?Ye:new he(function(Nt){Nt(Ye)})}(vn.value).then(mn,Xt)}tt((me=me.apply(ae,le||[])).next())})}function Ne(ae){return this instanceof Ne?(this.v=ae,this):new Ne(ae)}function Ie(ae,le,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,me=he.apply(ae,le||[]),Ye=[];return Qe={},Nt("next"),Nt("throw"),Nt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Nt(hn){me[hn]&&(Qe[hn]=function(ln){return new Promise(function(Qt,Jt){Ye.push([hn,ln,Qt,Jt])>1||mn(hn,ln)})})}function mn(hn,ln){try{!function Xt(hn){hn.value instanceof Ne?Promise.resolve(hn.value.v).then(tt,vn):ii(Ye[0][2],hn)}(me[hn](ln))}catch(Qt){ii(Ye[0][3],Qt)}}function tt(hn){mn("next",hn)}function vn(hn){mn("throw",hn)}function ii(hn,ln){hn(ln),Ye.shift(),Ye.length&&mn(Ye[0][0],Ye[0][1])}}function ft(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function ce(ae){var le="function"==typeof Symbol&&Symbol.iterator,he=le&&ae[le],me=0;if(he)return he.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&me>=ae.length&&(ae=void 0),{value:ae&&ae[me++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),he={},me("next"),me("throw"),me("return"),he[Symbol.asyncIterator]=function(){return this},he);function me(Ye){he[Ye]=ae[Ye]&&function(Nt){return new Promise(function(mn,Xt){!function Qe(Ye,Nt,mn,Xt){Promise.resolve(Xt).then(function(tt){Ye({value:tt,done:mn})},Nt)}(mn,Xt,(Nt=ae[Ye](Nt)).done,Nt.value)})}}}j.d(Ve,{FC:()=>Ie,KL:()=>ft,_T:()=>ge,mG:()=>Ce,qq:()=>Ne})},4650:(St,Ve,j)=>{"use strict";j.d(Ve,{$8M:()=>$l,$Z:()=>__,AFp:()=>dd,ALo:()=>RD,AaK:()=>Ce,AsE:()=>hg,BQk:()=>If,CHM:()=>ko,CRH:()=>HD,CZH:()=>Gf,CqO:()=>Q0,D6c:()=>hV,DdM:()=>Mb,DjV:()=>ob,EJc:()=>tM,EpF:()=>B_,F$t:()=>ak,F4k:()=>Y0,FYo:()=>iu,FiY:()=>Ze,G48:()=>JB,Gf:()=>UD,GfV:()=>ki,Gpc:()=>ne,Hsn:()=>lk,Ikx:()=>vl,JOm:()=>yl,KtG:()=>da,LFG:()=>xi,LMc:()=>fV,LSH:()=>Nv,Lbi:()=>XN,Lck:()=>xb,MAs:()=>q0,MGl:()=>Pa,MMx:()=>Nb,NdJ:()=>ig,O4$:()=>il,OlP:()=>On,Oqu:()=>ib,PXZ:()=>pc,Q6J:()=>Tf,QGY:()=>V_,QP$:()=>jf,QbO:()=>GB,Qsj:()=>It,QtT:()=>yD,R0b:()=>Ba,RDi:()=>qh,Rgc:()=>Tg,SBq:()=>Ym,SDv:()=>Lf,Sil:()=>oT,Suo:()=>jD,TTD:()=>io,TgZ:()=>eg,Tol:()=>_k,Udp:()=>$_,VKq:()=>xD,W1O:()=>zD,WLB:()=>aN,X6Q:()=>yM,XFs:()=>wt,Xpm:()=>Q,Xts:()=>Mv,Y36:()=>ff,YKP:()=>Ab,YNc:()=>Z0,Yjl:()=>de,Yz7:()=>ln,ZZ4:()=>CT,_Bn:()=>Sb,_UZ:()=>W0,_Vd:()=>Km,_c5:()=>uV,_uU:()=>K_,aQg:()=>ET,c2e:()=>eM,cJS:()=>Jt,cg1:()=>uc,dDg:()=>oM,dqk:()=>at,eFA:()=>lM,ekj:()=>z_,eoX:()=>dT,f3M:()=>Wr,g9A:()=>JN,h0i:()=>_h,hGG:()=>dV,hij:()=>dg,iGM:()=>AN,ifc:()=>ct,ip1:()=>wl,kEZ:()=>Eg,kL8:()=>hb,kcU:()=>Vl,lG2:()=>pi,lcZ:()=>PD,lqb:()=>ef,lri:()=>xg,n5z:()=>Vu,oAB:()=>Ft,oxw:()=>fu,pQV:()=>sy,q4F:()=>m1,qLn:()=>Vp,qOj:()=>j0,qZA:()=>tg,rWj:()=>uT,s9C:()=>oc,sBO:()=>XB,sIi:()=>R_,s_b:()=>Rb,soG:()=>uy,tb:()=>yh,tp0:()=>Rt,uIk:()=>H0,vHH:()=>Le,vpe:()=>hc,wAp:()=>Gt,xp6:()=>j1,ynx:()=>ng,z2F:()=>qb,zSh:()=>h1,zs3:()=>id});var o=j(7579),q=j(727),V=j(9751),ge=j(6451),be=j(3099);function Se(a){for(let l in a)if(a[l]===Se)return l;throw Error("Could not find renamed property on target object.")}function _e(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function Ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ae(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const ee=Se({__forward_ref__:Se});function ne(a){return a.__forward_ref__=ne,a.toString=function(){return Ce(this())},a}function ce(a){return st(a)?a():a}function st(a){return"function"==typeof a&&a.hasOwnProperty(ee)&&a.__forward_ref__===ne}class Le extends Error{constructor(l,u){super(function _t(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Ne(a){return"string"==typeof a?a:null==a?"":String(a)}function ze(a,l){throw new Le(-201,!1)}function tt(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}function ln(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Jt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Di(a){return ns(a,Xi)||ns(a,Gn)}function ns(a,l){return a.hasOwnProperty(l)?a[l]:null}function Sr(a){return a&&(a.hasOwnProperty(Ar)||a.hasOwnProperty(Kn))?a[Ar]:null}const Xi=Se({\u0275prov:Se}),Ar=Se({\u0275inj:Se}),Gn=Se({ngInjectableDef:Se}),Kn=Se({ngInjectorDef:Se});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Pn;function bn(a){const l=Pn;return Pn=a,l}function fi(a,l,u){const h=Di(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&wt.Optional?null:void 0!==l?l:void ze(Ce(a))}function Vt(a){return{toString:a}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),ct=(()=>{return(a=ct||(ct={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ct;var a})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_n={},en=[],Yn=Se({\u0275cmp:Se}),er=Se({\u0275dir:Se}),Zt=Se({\u0275pipe:Se}),xr=Se({\u0275mod:Se}),qt=Se({\u0275fac:Se}),oe=Se({__NG_ELEMENT_ID__:Se});let W=0;function Q(a){return Vt(()=>{const u=!0===a.standalone,h={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||en,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ct.Emulated,id:"c"+W++,styles:a.styles||en,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return p.inputs=Sn(a.inputs,h),p.outputs=Sn(a.outputs),v&&v.forEach(E=>E(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(re).filter(Ue):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(Me).filter(Ue):null,p})}function re(a){return J(a)||X(a)}function Ue(a){return null!==a}const nt={};function Ft(a){return Vt(()=>{const l={type:a.type,bootstrap:a.bootstrap||en,declarations:a.declarations||en,imports:a.imports||en,exports:a.exports||en,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(nt[a.id]=a.type),l})}function Sn(a,l){if(null==a)return _n;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,l&&(l[p]=m)}return u}const pi=Q;function de(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function J(a){return a[Yn]||null}function X(a){return a[er]||null}function Me(a){return a[Zt]||null}function et(a,l){const u=a[xr]||null;if(!u&&!0===l)throw new Error(`Type ${Ce(a)} does not have '\u0275mod' property.`);return u}function ur(a){return Array.isArray(a)&&"object"==typeof a[1]}function Zi(a){return Array.isArray(a)&&!0===a[1]}function Ol(a){return 0!=(8&a.flags)}function To(a){return 2==(2&a.flags)}function Tc(a){return 1==(1&a.flags)}function kr(a){return null!==a.template}function Ic(a){return 0!=(256&a[2])}function $r(a,l){return a.hasOwnProperty(qt)?a[qt]:null}class is{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function io(){return ro}function ro(a){return a.type.prototype.ngOnChanges&&(a.setInput=Rl),kd}function kd(){const a=Pu(this),l=a?.current;if(l){const u=a.previous;if(u===_n)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Rl(a,l,u,h){const p=Pu(a)||function la(a,l){return a[Wa]=l}(a,{previous:_n,current:null}),m=p.current||(p.current={}),v=p.previous,E=this.declaredInputs[u],S=v[E];m[E]=new is(S&&S.currentValue,l,v===_n),a[h]=l}io.ngInherit=!0;const Wa="__ngSimpleChanges__";function Pu(a){return a[Wa]||null}function Qn(a){for(;Array.isArray(a);)a=a[0];return a}function Ya(a,l){return Qn(l[a])}function _i(a,l){return Qn(l[a.index])}function So(a,l){return a.data[l]}function zr(a,l){return a[l]}function Ii(a,l){const u=l[a];return ur(u)?u:u[0]}function so(a){return 4==(4&a[2])}function dr(a){return 64==(64&a[2])}function nr(a,l){return null==l?null:a[l]}function ca(a){a[18]=0}function Ao(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Ct={lFrame:Uc(null),bindingsEnabled:!0};function xo(){return Ct.bindingsEnabled}function $e(){return Ct.lFrame.lView}function sn(){return Ct.lFrame.tView}function ko(a){return Ct.lFrame.contextLView=a,a[8]}function da(a){return Ct.lFrame.contextLView=null,a}function Zn(){let a=Rc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Rc(){return Ct.lFrame.currentTNode}function Ms(){const a=Ct.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function hr(a,l){const u=Ct.lFrame;u.currentTNode=a,u.isParent=l}function No(){return Ct.lFrame.isParent}function ao(){Ct.lFrame.isParent=!1}function Si(){const a=Ct.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ss(){return Ct.lFrame.bindingIndex}function co(){return Ct.lFrame.bindingIndex++}function Os(a){const l=Ct.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Xa(a){Ct.lFrame.inI18n=a}function Fc(a,l){const u=Ct.lFrame;u.bindingIndex=u.bindingRootIndex=a,el(l)}function el(a){Ct.lFrame.currentDirectiveIndex=a}function Bc(){return Ct.lFrame.currentQueryIndex}function Rs(a){Ct.lFrame.currentQueryIndex=a}function Ll(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function tl(a,l,u){if(u&wt.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||u&wt.Host||(p=Ll(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const h=Ct.lFrame=ha();return h.currentTNode=l,h.lView=a,!0}function Vc(a){const l=ha(),u=a[1];Ct.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ha(){const a=Ct.lFrame,l=null===a?null:a.child;return null===l?Uc(a):l}function Uc(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function fa(){const a=Ct.lFrame;return Ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const nl=fa;function Bl(){const a=fa();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Bi(){return Ct.lFrame.selectedIndex}function fr(a){Ct.lFrame.selectedIndex=a}function Xn(){const a=Ct.lFrame;return So(a.tView,a.selectedIndex)}function il(){Ct.lFrame.currentNamespace="svg"}function Vl(){!function Lu(){Ct.lFrame.currentNamespace=null}()}function Pd(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:L}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),E&&((a.contentHooks||(a.contentHooks=[])).push(u,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,E)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),M&&((a.viewHooks||(a.viewHooks=[])).push(u,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,M)),null!=L&&(a.destroyHooks||(a.destroyHooks=[])).push(u,L)}}function Fd(a,l,u){Ld(a,l,3,u)}function ga(a,l,u,h){(3&a[2])===u&&Ld(a,l,u,h)}function uo(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Ld(a,l,u,h){const m=h??-1,v=l.length-1;let E=0;for(let S=void 0!==h?65535&a[18]:0;S<v;S++)if("number"==typeof l[S+1]){if(E=l[S],null!=h&&E>=h)break}else l[S]<0&&(a[18]+=65536),(E<m||-1==m)&&(Ul(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Ul(a,l,u,h){const p=u[h]<0,m=u[h+1],E=a[p?-u[h]:u[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class ho{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function rl(a,l,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const m=u[h++],v=u[h++],E=u[h++];a.setAttribute(l,v,E,m)}else{const m=p,v=u[++h];jl(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),h++}}return h}function sl(a){return 3===a||4===a||6===a}function jl(a){return 64===a.charCodeAt(0)}function Gc(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?u=p:0===u||Vd(a,u,p,null,-1===u||2===u?l[++h]:null)}}return a}function Vd(a,l,u,h,p){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const E=a[m++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=m-1;break}}}for(;m<a.length;){const E=a[m];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==p&&(a[m+1]=p));if(h===a[m+1])return void(a[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,u),null!==h&&a.splice(m++,0,h),null!==p&&a.splice(m++,0,p)}function Ud(a){return-1!==a}function Hl(a){return 32767&a}function T(a,l){let u=function qi(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let I=!0;function O(a){const l=I;return I=a,l}let Wt=0;const Jn={};function Mr(a,l){const u=jd(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Fs(h.data,a),Fs(l,null),Fs(h.blueprint,null));const p=Bu(a,l),m=a.injectorIndex;if(Ud(p)){const v=Hl(p),E=T(p,l),S=E[1].data;for(let M=0;M<8;M++)l[m+M]=E[v+M]|S[v+M]}return l[m+8]=p,m}function Fs(a,l){a.push(0,0,0,0,0,0,0,0,l)}function jd(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Bu(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=l;for(;null!==p;){if(h=$d(p),null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function ya(a,l,u){!function vi(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(oe)&&(h=u[oe]),null==h&&(h=u[oe]=Wt++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function va(a,l,u){if(u&wt.Optional)return a;ze()}function zc(a,l,u,h){if(u&wt.Optional&&void 0===h&&(h=null),0==(u&(wt.Self|wt.Host))){const p=a[9],m=bn(void 0);try{return p?p.get(l,h,u&wt.Optional):fi(l,h,u&wt.Optional)}finally{bn(m)}}return va(h,0,u)}function Gl(a,l,u,h=wt.Default,p){if(null!==a){if(1024&l[2]){const v=function Uu(a,l,u,h,p){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=ol(m,v,u,h|wt.Self,Jn);if(E!==Jn)return E;let S=m.parent;if(!S){const M=v[21];if(M){const L=M.get(u,Jn,h);if(L!==Jn)return L}S=$d(v),v=v[15]}m=S}return p}(a,l,u,h,Jn);if(v!==Jn)return v}const m=ol(a,l,u,h,Jn);if(m!==Jn)return m}return zc(l,u,h,p)}function ol(a,l,u,h,p){const m=function Zc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(oe)?a[oe]:void 0;return"number"==typeof l?l>=0?255&l:Hd:l}(u);if("function"==typeof m){if(!tl(l,a,h))return h&wt.Host?va(p,0,h):zc(l,u,h,p);try{const v=m(h);if(null!=v||h&wt.Optional)return v;ze()}finally{nl()}}else if("number"==typeof m){let v=null,E=jd(a,l),S=-1,M=h&wt.Host?l[16][6]:null;for((-1===E||h&wt.SkipSelf)&&(S=-1===E?Bu(a,l):l[E+8],-1!==S&&al(h,!1)?(v=l[1],E=Hl(S),l=T(S,l)):E=-1);-1!==E;){const L=l[1];if(jh(m,E,L.data)){const $=Sp(E,l,u,v,h,M);if($!==Jn)return $}S=l[E+8],-1!==S&&al(h,l[1].data[E+8]===M)&&jh(m,E,l)?(v=L,E=Hl(S),l=T(S,l)):E=-1}}return p}function Sp(a,l,u,h,p,m){const v=l[1],E=v.data[a+8],L=Fo(E,v,u,null==h?To(E)&&I:h!=v&&0!=(3&E.type),p&wt.Host&&m===E);return null!==L?ba(l,v,L,E):Jn}function Fo(a,l,u,h,p){const m=a.providerIndexes,v=l.data,E=1048575&m,S=a.directiveStart,L=m>>20,se=p?E+L:a.directiveEnd;for(let pe=h?E:E+L;pe<se;pe++){const He=v[pe];if(pe<S&&u===He||pe>=S&&He.type===u)return pe}if(p){const pe=v[S];if(pe&&kr(pe)&&pe.type===u)return S}return null}function ba(a,l,u,h){let p=a[u];const m=l.data;if(function ma(a){return a instanceof ho}(p)){const v=p;v.resolving&&function ht(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Le(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Ie(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ne(a)}(m[u]));const E=O(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?bn(v.injectImpl):null;tl(a,h,wt.Default);try{p=a[u]=v.factory(void 0,m,a,h),l.firstCreatePass&&u>=h.directiveStart&&function Rd(a,l,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(h){const v=ro(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==S&&bn(S),O(E),v.resolving=!1,nl()}}return p}function jh(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function al(a,l){return!(a&wt.Self||a&wt.Host&&l)}class Ls{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Gl(this._tNode,this._lView,l,h,u)}}function Hd(){return new Ls(Zn(),$e())}function Vu(a){return Vt(()=>{const l=a.prototype.constructor,u=l[qt]||Gd(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const m=p[qt]||Gd(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Gd(a){return st(a)?()=>{const l=Gd(ce(a));return l&&l()}:$r(a)}function $d(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function $l(a){return function $c(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(sl(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===l)return u[p+1];p+=2}}}return null}(Zn(),a)}const un="__parameters__";function wr(a,l,u){return Vt(()=>{const h=function zl(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(l);function p(...m){if(this instanceof p)return h.apply(this,m),this;const v=new p(...m);return E.annotation=v,E;function E(S,M,L){const $=S.hasOwnProperty(un)?S[un]:Object.defineProperty(S,un,{value:[]})[un];for(;$.length<=L;)$.push(null);return($[L]=$[L]||[]).push(v),S}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class On{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ln({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Or(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Or(h,l)):l!==a&&l.push(h)}return l}function as(a,l){a.forEach(u=>Array.isArray(u)?as(u,l):l(u))}function $h(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Zl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Lo(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function qr(a,l,u){let h=Da(a,l);return h>=0?a[1|h]=u:(h=~h,function Ea(a,l,u,h){let p=a.length;if(p==l)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function zd(a,l){const u=Da(a,l);if(u>=0)return a[1|u]}function Da(a,l){return function Ot(a,l,u){let h=0,p=a.length>>u;for(;p!==h;){const m=h+(p-h>>1),v=a[m<<u];if(l===v)return m<<u;v>l?p=m:h=m+1}return~(p<<u)}(a,l,1)}const Cr={},zu="__NG_DI_FLAG__",ul="ngTempTokenPath",Bo=/\n/gm,Sa="__source";let dl;function hl(a){const l=dl;return dl=a,l}function Yc(a,l=wt.Default){if(void 0===dl)throw new Le(-203,!1);return null===dl?fi(a,void 0,l):dl.get(a,l&wt.Optional?null:void 0,l)}function xi(a,l=wt.Default){return(function Bn(){return Pn}()||Yc)(ce(a),l)}function Wr(a,l=wt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),xi(a,l)}function x(a){const l=[];for(let u=0;u<a.length;u++){const h=ce(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let p,m=wt.Default;for(let v=0;v<h.length;v++){const E=h[v],S=F(E);"number"==typeof S?-1===S?p=E.token:m|=S:p=E}l.push(xi(p,m))}else l.push(xi(h))}return l}function k(a,l){return a[zu]=l,a.prototype[zu]=l,a}function F(a){return a[zu]}const Ze=k(wr("Optional"),8),Rt=k(wr("SkipSelf"),4);let Kd,qu;function qh(a){Kd=a}function jo(a){return function Wh(){if(void 0===qu&&(qu=null,at.trustedTypes))try{qu=at.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return qu}()?.createHTML(a)||a}class Yh{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ka(a){return a instanceof Yh?a.changingThisBreaksApplicationSecurity:a}class _{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(jo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class y{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=jo(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=jo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const v=u.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const P=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function je(a){return(a=String(a)).match(P)||a.match(fe)?a:"unsafe:"+a}function gt(a){return(a=String(a)).split(",").map(l=>je(l.trim())).join(", ")}function Dt(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function on(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const oi=Dt("area,br,col,hr,img,wbr"),Ho=Dt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gl=Dt("rp,rt"),nu=on(oi,on(Ho,Dt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),on(gl,Dt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),on(gl,Ho)),Jd=Dt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ku=Dt("srcset"),Yu=on(Jd,Ku,Dt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function Nv(a){const l=function Xh(){const a=$e();return a&&a[12]}();return l?l.sanitize(ir.URL,a)||"":function Qd(a,l){const u=function Jh(a){return a instanceof Yh&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}(a,"URL")?ka(a):je(Ne(a))}const Mv=new On("ENVIRONMENT_INITIALIZER"),r1=new On("INJECTOR",-1),Ov=new On("INJECTOR_DEF_TYPES");class s1{get(l,u=Cr){if(u===Cr){const h=new Error(`NullInjectorError: No provider for ${Ce(l)}!`);throw h.name="NullInjectorError",h}return u}}function o1(...a){return{\u0275providers:a1(0,a)}}function a1(a,...l){const u=[],h=new Set;let p;return as(l,m=>{const v=m;Pv(v,u,[],h)&&(p||(p=[]),p.push(v))}),void 0!==p&&Rv(p,u),u}function Rv(a,l){for(let u=0;u<a.length;u++){const{providers:p}=a[u];as(p,m=>{l.push(m)})}}function Pv(a,l,u,h){if(!(a=ce(a)))return!1;let p=null,m=Sr(a);const v=!m&&J(a);if(m||v){if(v&&!v.standalone)return!1;p=a}else{const S=a.ngModule;if(m=Sr(S),!m)return!1;p=S}const E=h.has(p);if(v){if(E)return!1;if(h.add(p),v.dependencies){const S="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of S)Pv(M,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let M;h.add(p);try{as(m.imports,L=>{Pv(L,l,u,h)&&(M||(M=[]),M.push(L))})}finally{}void 0!==M&&Rv(M,l)}if(!E){const M=$r(p)||(()=>new p);l.push({provide:p,useFactory:M,deps:en},{provide:Ov,useValue:p,multi:!0},{provide:Mv,useValue:()=>xi(p),multi:!0})}const S=m.providers;null==S||E||as(S,L=>{l.push(L)})}}return p!==a&&void 0!==a.providers}const c1=Se({provide:String,useValue:Se});function Fv(a){return null!==a&&"object"==typeof a&&c1 in a}function eh(a){return"function"==typeof a}const h1=new On("Set Injector scope."),Lv={},TL={};let f1;function Bv(){return void 0===f1&&(f1=new s1),f1}class ef{}class FA extends ef{constructor(l,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,g1(l,v=>this.processProvider(v)),this.records.set(r1,Fp(void 0,this)),p.has("environment")&&this.records.set(ef,Fp(void 0,this));const m=this.records.get(h1);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Ov.multi,en,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=hl(this),h=bn(void 0);try{return l()}finally{hl(u),bn(h)}}get(l,u=Cr,h=wt.Default){this.assertNotDestroyed();const p=hl(this),m=bn(void 0);try{if(!(h&wt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const S=function kL(a){return"function"==typeof a||"object"==typeof a&&a instanceof On}(l)&&Di(l);E=S&&this.injectableDefInScope(S)?Fp(p1(l),Lv):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(h&wt.Self?Bv():this.parent).get(l,u=h&wt.Optional&&u===Cr?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[ul]=v[ul]||[]).unshift(Ce(l)),p)throw v;return function K(a,l,u,h){const p=a[ul];throw l[Sa]&&p.unshift(l[Sa]),a.message=function ue(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=Ce(l);if(Array.isArray(l))p=l.map(Ce).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):Ce(E)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(Bo,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[ul]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{bn(m),hl(p)}}resolveInjectorInitializers(){const l=hl(this),u=bn(void 0);try{const h=this.get(Mv.multi,en,wt.Self);for(const p of h)p()}finally{hl(l),bn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(Ce(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(l){let u=eh(l=ce(l))?l:ce(l&&l.provide);const h=function SL(a){return Fv(a)?Fp(void 0,a.useValue):Fp(LA(a),Lv)}(l);if(eh(l)||!0!==l.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Fp(void 0,Lv,!0),p.factory=()=>x(p.multi),this.records.set(u,p)),u=l,p.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Lv&&(u.value=TL,u.value=u.factory()),"object"==typeof u.value&&u.value&&function xL(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ce(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function p1(a){const l=Di(a),u=null!==l?l.factory:$r(a);if(null!==u)return u;if(a instanceof On)throw new Le(204,!1);if(a instanceof Function)return function IL(a){const l=a.length;if(l>0)throw Lo(l,"?"),new Le(204,!1);const u=function Ji(a){const l=a&&(a[Xi]||a[Gn]);if(l){const u=function Hn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Le(204,!1)}function LA(a,l,u){let h;if(eh(a)){const p=ce(a);return $r(p)||p1(p)}if(Fv(a))h=()=>ce(a.useValue);else if(function d1(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...x(a.deps||[]));else if(function u1(a){return!(!a||!a.useExisting)}(a))h=()=>xi(ce(a.useExisting));else{const p=ce(a&&(a.useClass||a.provide));if(!function AL(a){return!!a.deps}(a))return $r(p)||p1(p);h=()=>new p(...x(a.deps))}return h}function Fp(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function BA(a){return!!a.\u0275providers}function g1(a,l){for(const u of a)Array.isArray(u)?g1(u,l):BA(u)?g1(u.\u0275providers,l):l(u)}class VA{}class OL{resolveComponentFactory(l){throw function ML(a){const l=Error(`No component factory found for ${Ce(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Km=(()=>{class a{}return a.NULL=new OL,a})();function RL(){return Lp(Zn(),$e())}function Lp(a,l){return new Ym(_i(a,l))}let Ym=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=RL,a})();function jA(a){return a instanceof Ym?a.nativeElement:a}class iu{}let It=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Yt(){const a=$e(),u=Ii(Zn().index,a);return(ur(u)?u:a)[11]}(),a})(),Er=(()=>{class a{}return a.\u0275prov=ln({token:a,providedIn:"root",factory:()=>null}),a})();class ki{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const m1=new ki("14.1.1"),Vv={};function Jm(a){return a.ngOriginalError}class Vp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Jm(l);for(;u&&Jm(u);)u=Jm(u);return u||null}}const Yl=/^>|^->|<!--|-->|--!>|<!-$/g,Up=/(<|>)/;const Xm=new Map;let Ni=0;const Jl="__ngContext__";function nn(a,l){ur(l)?(a[Jl]=l[20],function _l(a){Xm.set(a[20],a)}(l)):a[Jl]=l}function Na(a){const l=a[Jl];return"number"==typeof l?function sr(a){return Xm.get(a)||null}(l):l||null}function $v(a){const l=Na(a);return l?ur(l)?l:l.lView:null}const KA=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(at))();function ec(a){return a instanceof Function?a():a}var yl=(()=>((yl=yl||{})[yl.Important=1]="Important",yl[yl.DashCase=2]="DashCase",yl))();let t_;function Kv(a,l){return t_(a,l)}function sf(a){const l=a[3];return Zi(l)?l[3]:l}function Cn(a){return T1(a[13])}function rh(a){return T1(a[4])}function T1(a){for(;null!==a&&!Zi(a);)a=a[4];return a}function lf(a,l,u,h,p){if(null!=h){let m,v=!1;Zi(h)?m=h:ur(h)&&(v=!0,h=h[0]);const E=Qn(h);0===a&&null!==u?null==p?k1(l,u,E):sh(l,u,E,p||null,!0):1===a&&null!==u?sh(l,u,E,p||null,!0):2===a?r0(l,E,v):3===a&&l.destroyNode(E),null!=m&&function P1(a,l,u,h,p){const m=u[7];m!==Qn(u)&&lf(l,a,h,m,p);for(let E=10;E<u.length;E++){const S=u[E];tc(S[1],S,a,l,h,m)}}(l,a,m,u,p)}}function i_(a,l){return a.createText(l)}function Yv(a,l,u){a.setValue(l,u)}function QA(a,l){return a.createComment(function th(a){return a.replace(Yl,l=>l.replace(Up,"\u200b$1\u200b"))}(l))}function cf(a,l,u){return a.createElement(l,u)}function Jv(a,l){const u=a[9],h=u.indexOf(l),p=l[3];512&l[2]&&(l[2]&=-513,Ao(p,-1)),u.splice(h,1)}function o_(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const p=h[17];null!==p&&p!==a&&Jv(p,h),l>0&&(a[u-1][4]=h[4]);const m=Zl(a,10+l);!function jp(a,l){tc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function S1(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&tc(a,l,u,3,null,null),function JA(a){let l=a[13];if(!l)return Xv(a[1],a);for(;l;){let u=null;if(ur(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)ur(l)&&Xv(l[1],l),l=l[3];null===l&&(l=a),ur(l)&&Xv(l[1],l),u=l&&l[4]}l=u}}(l)}}function Xv(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function a_(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=l[u[h]];if(!(p instanceof ho)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=p[m[v]],S=m[v+1];try{S.call(E)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function XA(a,l){const u=a.cleanup,h=l[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],E="function"==typeof v?v(l):Qn(l[v]),S=h[p=u[m+2]],M=u[m+3];"boolean"==typeof M?E.removeEventListener(u[m],S,M):M>=0?h[p=M]():h[p=-M].unsubscribe(),m+=2}else{const v=h[p=u[m+1]];u[m].call(v)}if(null!==h){for(let m=p+1;m<h.length;m++)(0,h[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Zi(l[3])){u!==l[3]&&Jv(u,l);const h=l[19];null!==h&&h.detachView(a)}!function Kr(a){Xm.delete(a[20])}(l)}}function A1(a,l,u){return x1(a,l.parent,u)}function x1(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===ct.None||p===ct.Emulated)return null}return _i(h,u)}function sh(a,l,u,h,p){a.insertBefore(l,u,h,p)}function k1(a,l,u){a.appendChild(l,u)}function N1(a,l,u,h,p){null!==h?sh(a,l,u,h,p):k1(a,l,u)}function l_(a,l){return a.parentNode(l)}function c_(a,l,u){return M1(a,l,u)}function ex(a,l,u){return 40&a.type?_i(a,u):null}let n0,M1=ex;function O1(a,l){M1=a,n0=l}function td(a,l,u,h){const p=A1(a,h,l),m=l[11],E=c_(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(u))for(let S=0;S<u.length;S++)N1(m,p,u[S],E,!1);else N1(m,p,u,E,!1);void 0!==n0&&n0(m,h,l,u,p)}function nd(a,l){if(null!==l){const u=l.type;if(3&u)return _i(l,a);if(4&u)return u_(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return nd(a,h);{const p=a[l.index];return Zi(p)?u_(-1,p):Qn(p)}}if(32&u)return Kv(l,a)()||Qn(a[l.index]);{const h=ah(a,l);return null!==h?Array.isArray(h)?h[0]:nd(sf(a[16]),h):nd(a,l.next)}}return null}function ah(a,l){return null!==l?a[16][6].projection[l.projection]:null}function u_(a,l){const u=10+a+1;if(u<l.length){const h=l[u],p=h[1].firstChild;if(null!==p)return nd(h,p)}return l[7]}function r0(a,l,u){const h=l_(a,l);h&&function e0(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}function d_(a,l,u,h,p,m,v){for(;null!=u;){const E=h[u.index],S=u.type;if(v&&0===l&&(E&&nn(Qn(E),h),u.flags|=4),64!=(64&u.flags))if(8&S)d_(a,l,u.child,h,p,m,!1),lf(l,a,p,E,m);else if(32&S){const M=Kv(u,h);let L;for(;L=M();)lf(l,a,p,L,m);lf(l,a,p,E,m)}else 16&S?R1(a,l,h,u,p,m):lf(l,a,p,E,m);u=v?u.projectionNext:u.next}}function tc(a,l,u,h,p,m){d_(u,h,a.firstChild,l,p,m,!1)}function R1(a,l,u,h,p,m){const v=u[16],S=v[6].projection[h.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)lf(l,a,p,S[M],m);else d_(a,l,S,v[3],p,m,!0)}function h_(a,l,u){a.setAttribute(l,"style",u)}function lh(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function F1(a,l,u){let h=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===h||a.charCodeAt(p+m)<=32)return p}u=p+1}}const B1="ng-template";function V1(a,l,u){let h=0;for(;h<a.length;){let p=a[h++];if(u&&"class"===p){if(p=a[h],-1!==F1(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function s0(a){return 4===a.type&&a.value!==B1}function su(a,l,u){return l===(4!==a.type||u?a.value:B1)}function o0(a,l,u){let h=4;const p=a.attrs||[],m=function rx(a){for(let l=0;l<a.length;l++)if(sl(a[l]))return l;return a.length}(p);let v=!1;for(let E=0;E<l.length;E++){const S=l[E];if("number"!=typeof S){if(!v)if(4&h){if(h=2|1&h,""!==S&&!su(a,S,u)||""===S&&1===l.length){if(Qr(h))return!1;v=!0}}else{const M=8&h?S:l[++E];if(8&h&&null!==a.attrs){if(!V1(a.attrs,M,u)){if(Qr(h))return!1;v=!0}continue}const $=f_(8&h?"class":S,p,s0(a),u);if(-1===$){if(Qr(h))return!1;v=!0;continue}if(""!==M){let se;se=$>m?"":p[$+1].toLowerCase();const pe=8&h?se:null;if(pe&&-1!==F1(pe,M,0)||2&h&&M!==se){if(Qr(h))return!1;v=!0}}}}else{if(!v&&!Qr(h)&&!Qr(S))return!1;if(v&&Qr(S))continue;v=!1,h=S|1&h}}return Qr(h)||v}function Qr(a){return 0==(1&a)}function f_(a,l,u,h){if(null===l)return-1;let p=0;if(h||!u){let m=!1;for(;p<l.length;){const v=l[p];if(v===a)return p;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=l[++p];for(;"string"==typeof E;)E=l[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=m?1:2}return-1}return function sx(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function a0(a,l,u=!1){for(let h=0;h<l.length;h++)if(o0(a,l[h],u))return!0;return!1}function ox(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function U1(a,l){return a?":not("+l.trim()+")":l}function ax(a){let l=a[0],u=1,h=2,p="",m=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const E=a[++u];p+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?p+="."+v:4&h&&(p+=" "+v);else""!==p&&!Qr(v)&&(l+=U1(m,p),p=""),h=v,m=m||!Qr(h);u++}return""!==p&&(l+=U1(m,p)),l}const dn={};function j1(a){H1(sn(),$e(),Bi()+a,!1)}function H1(a,l,u,h){if(!h)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Fd(l,m,u)}else{const m=a.preOrderHooks;null!==m&&ga(l,m,0,u)}fr(u)}function z1(a,l=null,u=null,h){const p=ch(a,l,u,h);return p.resolveInjectorInitializers(),p}function ch(a,l=null,u=null,h,p=new Set){const m=[u||en,o1(a)];return h=h||("object"==typeof a?void 0:Ce(a)),new FA(m,l||Bv(),h||null,p)}let id=(()=>{class a{static create(u,h){if(Array.isArray(u))return z1({name:""},h,u,"");{const p=u.name??"";return z1({name:p},u.parent,u.providers,p)}}}return a.THROW_IF_NOT_FOUND=Cr,a.NULL=new s1,a.\u0275prov=ln({token:a,providedIn:"any",factory:()=>xi(r1)}),a.__NG_ELEMENT_ID__=-1,a})();function ff(a,l=wt.Default){const u=$e();return null===u?xi(a,l):Gl(Zn(),u,ce(a),l)}function __(){throw new Error("invalid")}function zp(a,l){return a<<17|l<<2}function Ma(a){return a>>17&32767}function y_(a){return 2|a}function Oa(a){return(131068&a)>>2}function p0(a,l){return-131069&a|l<<2}function pf(a){return 1|a}function aE(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],m=u[h+1];if(-1!==m){const v=a.data[m];Rs(p),v.contentQueries(2,l[m],m)}}}function uh(a,l,u,h,p,m,v,E,S,M,L){const $=l.blueprint.slice();return $[0]=p,$[2]=76|h,(null!==L||a&&1024&a[2])&&($[2]|=1024),ca($),$[3]=$[15]=a,$[8]=u,$[10]=v||a&&a[10],$[11]=E||a&&a[11],$[12]=S||a&&a[12]||null,$[9]=M||a&&a[9]||null,$[6]=m,$[20]=function pr(){return Ni++}(),$[21]=L,$[16]=2==l.type?a[16]:$,$}function _f(a,l,u,h,p){let m=a.data[l];if(null===m)m=E0(a,l,u,h,p),function Fu(){return Ct.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const v=Ms();m.injectorIndex=null===v?-1:v.injectorIndex}return hr(m,!0),m}function E0(a,l,u,h,p){const m=Rc(),v=No(),S=a.data[l]=function Fx(a,l,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,h,p);return null===a.firstChild&&(a.firstChild=S),null!==m&&(v?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}function yf(a,l,u,h){if(0===u)return-1;const p=l.length;for(let m=0;m<u;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function C_(a,l,u){Vc(l);try{const h=a.viewQuery;null!==h&&k_(1,h,u);const p=a.template;null!==p&&lE(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&aE(a,l),a.staticViewQueries&&k_(2,a.viewQuery,u);const m=a.components;null!==m&&function Mx(a,l){for(let u=0;u<l.length;u++)zx(a,l[u])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Bl()}}function Kp(a,l,u,h){const p=l[2];if(128!=(128&p)){Vc(l);try{ca(l),function Pc(a){return Ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&lE(a,l,u,2,h);const v=3==(3&p);if(v){const M=a.preOrderCheckHooks;null!==M&&Fd(l,M,null)}else{const M=a.preOrderHooks;null!==M&&ga(l,M,0,null),uo(l,0)}if(function S_(a){for(let l=Cn(a);null!==l;l=rh(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const p=u[h],m=p[3];0==(512&p[2])&&Ao(m,1),p[2]|=512}}}(l),function _E(a){for(let l=Cn(a);null!==l;l=rh(l))for(let u=10;u<l.length;u++){const h=l[u],p=h[1];dr(h)&&Kp(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&aE(a,l),v){const M=a.contentCheckHooks;null!==M&&Fd(l,M)}else{const M=a.contentHooks;null!==M&&ga(l,M,1),uo(l,1)}!function kx(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)fr(~p);else{const m=p,v=u[++h],E=u[++h];Fc(v,m),E(2,l[m])}}}finally{fr(-1)}}(a,l);const E=a.components;null!==E&&function Nx(a,l){for(let u=0;u<l.length;u++)A_(a,l[u])}(l,E);const S=a.viewQuery;if(null!==S&&k_(2,S,h),v){const M=a.viewCheckHooks;null!==M&&Fd(l,M)}else{const M=a.viewHooks;null!==M&&ga(l,M,2),uo(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Ao(l[3],-1))}finally{Bl()}}}function Ox(a,l,u,h){const p=l[10],v=so(l);try{!v&&p.begin&&p.begin(),v&&C_(a,l,h),Kp(a,l,u,h)}finally{!v&&p.end&&p.end()}}function lE(a,l,u,h,p){const m=Bi(),v=2&h;try{fr(-1),v&&l.length>22&&H1(a,l,22,!1),u(h,p)}finally{fr(m)}}function D0(a,l,u){if(Ol(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function T0(a,l,u){!xo()||(function Ux(a,l,u,h){const p=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||Mr(u,l),nn(h,l);const v=u.initialInputs;for(let E=p;E<m;E++){const S=a.data[E],M=kr(S);M&&Gx(l,u,S);const L=ba(l,a,E,u);nn(L,l),null!==v&&$x(0,E-p,L,S,0,v),M&&(Ii(u.index,l)[8]=L)}}(a,l,u,_i(u,l)),128==(128&u.flags)&&function k0(a,l,u){const h=u.directiveStart,p=u.directiveEnd,m=u.index,v=function Lc(){return Ct.lFrame.currentDirectiveIndex}();try{fr(m);for(let E=h;E<p;E++){const S=a.data[E],M=l[E];el(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&N0(S,M)}}finally{fr(-1),el(v)}}(a,l,u))}function E_(a,l,u=_i){const h=l.localNames;if(null!==h){let p=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],E=-1===v?u(l,a):a[v];a[p++]=E}}}function I0(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=D_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function D_(a,l,u,h,p,m,v,E,S,M){const L=22+h,$=L+p,se=function cE(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:dn);return u}(L,$),pe="function"==typeof M?M():M;return se[1]={type:a,blueprint:se,template:u,queries:null,viewQuery:E,declTNode:l,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:pe,incompleteFirstPass:!1}}function T_(a,l,u,h){const p=wE(l);null===u?p.push(h):(p.push(u),a.firstCreatePass&&N_(a).push(h,p.length-1))}function uE(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,p):u[h]=[l,p]}return u}function dE(a,l){const h=l.directiveEnd,p=a.data,m=l.attrs,v=[];let E=null,S=null;for(let M=l.directiveStart;M<h;M++){const L=p[M],$=L.inputs,se=null===m||s0(l)?null:gE($,m);v.push(se),E=uE($,M,E),S=uE(L.outputs,M,S)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=E,l.outputs=S}function $o(a,l,u,h,p,m,v,E){const S=_i(l,u);let L,M=l.inputs;!E&&null!=M&&(L=M[h])?(L0(a,u,L,h,p),To(l)&&S0(u,l.index)):3&l.type&&(h=function Lx(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=v?v(p,l.value||"",h):p,m.setProperty(S,h,p))}function S0(a,l){const u=Ii(l,a);16&u[2]||(u[2]|=32)}function x0(a,l,u,h){let p=!1;if(xo()){const m=function M0(a,l,u){const h=a.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];a0(u,v.selectors,!1)&&(p||(p=[]),ya(Mr(u,l),a,v.type),kr(v)?(I_(a,u),p.unshift(v)):p.push(v))}return p}(a,l,u),v=null===h?null:{"":-1};if(null!==m){p=!0,Yp(u,a.data.length,m.length);for(let L=0;L<m.length;L++){const $=m[L];$.providersResolver&&$.providersResolver($)}let E=!1,S=!1,M=yf(a,l,m.length,null);for(let L=0;L<m.length;L++){const $=m[L];u.mergedAttrs=Gc(u.mergedAttrs,$.hostAttrs),pE(a,u,l,M,$),Hx(M,$,v),null!==$.contentQueries&&(u.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(u.flags|=128);const se=$.type.prototype;!E&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),E=!0),!S&&(se.ngOnChanges||se.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),M++}dE(a,u)}v&&function jx(a,l,u){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=u[l[p+1]];if(null==m)throw new Le(-301,!1);h.push(l[p],m)}}}(u,h,v)}return u.mergedAttrs=Gc(u.mergedAttrs,u.attrs),p}function fE(a,l,u,h,p,m){const v=m.hostBindings;if(v){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const S=~l.index;(function Vx(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(E)!=S&&E.push(S),E.push(h,p,v)}}function N0(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function I_(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Hx(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;kr(l)&&(u[""]=a)}}function Yp(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function pE(a,l,u,h,p){a.data[h]=p;const m=p.factory||(p.factory=$r(p.type)),v=new ho(m,kr(p),ff);a.blueprint[h]=v,u[h]=v,fE(a,l,0,h,yf(a,u,p.hostVars,dn),p)}function Gx(a,l,u){const h=_i(l,a),p=I0(u),m=a[10],v=R0(a,uh(a,p,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));a[l.index]=v}function O0(a,l,u,h,p,m,v){if(null==m)a.removeAttribute(l,p,u);else{const E=null==v?Ne(m):v(m,h||"",p);a.setAttribute(l,p,E,u)}}function $x(a,l,u,h,p,m){const v=m[l];if(null!==v){const E=h.setInput;for(let S=0;S<v.length;){const M=v[S++],L=v[S++],$=v[S++];null!==E?h.setInput(u,$,M,L):u[L]=$}}}function gE(a,l){let u=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[h+1])),h+=2}else h+=2;else h+=4}return u}function mE(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function A_(a,l){const u=Ii(l,a);if(dr(u)){const h=u[1];48&u[2]?Kp(h,u,h.template,u[8]):u[5]>0&&x_(u)}}function x_(a){for(let h=Cn(a);null!==h;h=rh(h))for(let p=10;p<h.length;p++){const m=h[p];if(512&m[2]){const v=m[1];Kp(v,m,v.template,m[8])}else m[5]>0&&x_(m)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ii(u[h],a);dr(p)&&p[5]>0&&x_(p)}}function zx(a,l){const u=Ii(l,a),h=u[1];(function yE(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),C_(h,u,u[8])}function R0(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function vE(a){for(;a;){a[2]|=32;const l=sf(a);if(Ic(a)&&!l)return a;a=l}return null}function au(a){!function P0(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=$v(u);if(null!==h){const p=h[1];Ox(p,h,p.template,u)}}}(a[8])}function k_(a,l,u){Rs(0),l(a,u)}const qx=(()=>Promise.resolve(null))();function wE(a){return a[7]||(a[7]=[])}function N_(a){return a.cleanup||(a.cleanup=[])}function EE(a,l){const u=a[9],h=u?u.get(Vp,null):null;h&&h.handleError(l)}function L0(a,l,u,h,p){for(let m=0;m<u.length;){const v=u[m++],E=u[m++],S=l[v],M=a.data[v];null!==M.setInput?M.setInput(S,p,h,E):S[E]=p}}function lu(a,l,u){const h=Ya(l,a);Yv(a[11],h,u)}function Qp(a,l,u){let h=u?a.styles:null,p=u?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?m=E:1==m?p=Ae(p,E):2==m&&(h=Ae(h,E+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}function M_(a,l,u,h,p=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Qn(m)),Zi(m))for(let E=10;E<m.length;E++){const S=m[E],M=S[1].firstChild;null!==M&&M_(S[1],S,M,h)}const v=u.type;if(8&v)M_(a,l,u.child,h);else if(32&v){const E=Kv(u,l);let S;for(;S=E();)h.push(S)}else if(16&v){const E=ah(l,u);if(Array.isArray(E))h.push(...E);else{const S=sf(l[16]);M_(S[1],S,E,h,!0)}}u=p?u.projectionNext:u.next}return h}class vf{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return M_(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Zi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(o_(l,h),Zl(u,h))}this._attachedToViewContainer=!1}S1(this._lView[1],this._lView)}onDestroy(l){T_(this._lView[1],this._lView,null,l)}markForCheck(){vE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function F0(a,l,u){const h=l[10];h.begin&&h.begin();try{Kp(a,l,a.template,u)}catch(p){throw EE(l,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function r_(a,l){tc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=l}}class Wx extends vf{constructor(l){super(l),this._view=l}detectChanges(){au(this._view)}checkNoChanges(){}get context(){return null}}class B0 extends Km{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=J(l);return new Jp(u,this.ngModule)}}function V0(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class U0{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const p=this.injector.get(l,Vv,h);return p!==Vv||u===Vv?p:this.parentInjector.get(l,u,h)}}class Jp extends VA{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function lx(a){return a.map(ax).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return V0(this.componentDef.inputs)}get outputs(){return V0(this.componentDef.outputs)}create(l,u,h,p){let m=(p=p||this.ngModule)instanceof ef?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new U0(l,m):l,E=v.get(iu,null);if(null===E)throw new Le(407,!1);const S=v.get(Er,null),M=E.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",$=h?function Px(a,l,u){return a.selectRootElement(l,u===ct.ShadowDom)}(M,h,this.componentDef.encapsulation):cf(E.createRenderer(null,this.componentDef),L,function Kx(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(L)),se=this.componentDef.onPush?288:272,pe=function Xx(a,l){return{components:[],scheduler:a||KA,clean:qx,playerHandler:l||null,flags:0}}(),He=D_(0,null,null,1,0,null,null,null,null,null),it=uh(null,He,pe,se,null,null,E,M,S,v,null);let pt,Tt;Vc(it);try{const jt=function Qx(a,l,u,h,p,m){const v=u[1];u[22]=a;const S=_f(v,22,2,"#host",null),M=S.mergedAttrs=l.hostAttrs;null!==M&&(Qp(S,M,!0),null!==a&&(rl(p,a,M),null!==S.classes&&lh(p,a,S.classes),null!==S.styles&&h_(p,a,S.styles)));const L=h.createRenderer(a,l),$=uh(u,I0(l),null,l.onPush?32:16,u[22],S,h,L,m||null,null,null);return v.firstCreatePass&&(ya(Mr(S,u),v,l.type),I_(v,S),Yp(S,u.length,1)),R0(u,$),u[22]=$}($,this.componentDef,it,E,M);if($)if(h)rl(M,$,["ng-version",m1.full]);else{const{attrs:qe,classes:Bt}=function cx(a){const l=[],u=[];let h=1,p=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++h]):8===p&&u.push(m);else{if(!Qr(p))break;p=m}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);qe&&rl(M,$,qe),Bt&&Bt.length>0&&lh(M,$,Bt.join(" "))}if(Tt=So(He,22),void 0!==u){const qe=Tt.projection=[];for(let Bt=0;Bt<this.ngContentSelectors.length;Bt++){const Dn=u[Bt];qe.push(null!=Dn?Array.from(Dn):null)}}pt=function Jx(a,l,u,h,p){const m=u[1],v=function hE(a,l,u){const h=Zn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),pE(a,h,l,yf(a,l,1,null),u),dE(a,h));const p=ba(l,a,h.directiveStart,h);nn(p,l);const m=_i(h,l);return m&&nn(m,l),p}(m,u,l);if(h.components.push(v),a[8]=v,null!==p)for(const S of p)S(v,l);if(l.contentQueries){const S=Zn();l.contentQueries(1,v,S.directiveStart)}const E=Zn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(fr(E.index),fE(u[1],E,0,E.directiveStart,E.directiveEnd,l),N0(l,v)),v}(jt,this.componentDef,it,pe,[ds]),C_(He,it,null)}finally{Bl()}return new XL(this.componentType,pt,Lp(Tt,it),it,Tt)}}class XL extends class NL{}{constructor(l,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Wx(p),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[l])){const m=this._rootLView;L0(m[1],m,p,l,u),S0(m,this._tNode.index)}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function ds(){const a=Zn();Pd($e()[1],a)}function j0(a){let l=function DE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let p;if(kr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Le(903,!1);p=l.\u0275dir}if(p){if(u){h.push(p);const v=a;v.inputs=cu(a.inputs),v.declaredInputs=cu(a.declaredInputs),v.outputs=cu(a.outputs);const E=p.hostBindings;E&&Xp(a,E);const S=p.viewQuery,M=p.contentQueries;if(S&&nk(a,S),M&&ik(a,M),_e(a.inputs,p.inputs),_e(a.declaredInputs,p.declaredInputs),_e(a.outputs,p.outputs),kr(p)&&p.data.animation){const L=a.data;L.animation=(L.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(a),E===j0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function tk(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=Gc(p.hostAttrs,u=Gc(u,p.hostAttrs))}}(h)}function cu(a){return a===_n?{}:a===en?[]:a}function nk(a,l){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{l(h,p),u(h,p)}:l}function ik(a,l){const u=a.contentQueries;a.contentQueries=u?(h,p,m)=>{l(h,p,m),u(h,p,m)}:l}function Xp(a,l){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{l(h,p),u(h,p)}:l}let O_=null;function rc(){if(!O_){const a=at.Symbol;if(a&&a.iterator)O_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(O_=h)}}}return O_}function R_(a){return!!ai(a)&&(Array.isArray(a)||!(a instanceof Map)&&rc()in a)}function ai(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function sc(a,l,u){return a[l]=u}function hs(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function cd(a,l,u,h){const p=hs(a,l,u);return hs(a,l+1,h)||p}function H0(a,l,u,h){const p=$e();return hs(p,co(),l)&&(sn(),function ic(a,l,u,h,p,m){const v=_i(a,l);O0(l[11],v,m,a.value,u,h,p)}(Xn(),p,a,l,u,h)),H0}function Ra(a,l,u,h){return hs(a,co(),u)?l+Ne(u)+h:dn}function uu(a,l,u,h,p,m,v,E,S,M){const $=function go(a,l,u,h,p,m){const v=cd(a,l,u,h);return cd(a,l+2,p,m)||v}(a,ss(),u,p,v,S);return Os(4),$?l+Ne(u)+h+Ne(p)+m+Ne(v)+E+Ne(S)+M:dn}function Z0(a,l,u,h,p,m,v,E){const S=$e(),M=sn(),L=a+22,$=M.firstCreatePass?function NE(a,l,u,h,p,m,v,E,S){const M=l.consts,L=_f(l,a,4,v||null,nr(M,E));x0(l,u,L,nr(M,S)),Pd(l,L);const $=L.tViews=D_(2,L,h,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,L),$.queries=l.queries.embeddedTView(L)),L}(L,M,S,l,u,h,p,m,v):M.data[L];hr($,!1);const se=S[11].createComment("");td(M,S,se,$),nn(se,S),R0(S,S[L]=mE(se,S,se,$)),Tc($)&&T0(M,S,$),null!=v&&E_(S,$,E)}function q0(a){return zr(function Md(){return Ct.lFrame.contextLView}(),22+a)}function Tf(a,l,u){const h=$e();return hs(h,co(),l)&&$o(sn(),Xn(),h,a,l,h[11],u,!1),Tf}function L_(a,l,u,h,p){const v=p?"class":"style";L0(a,u,l.inputs[v],v,h)}function eg(a,l,u,h){const p=$e(),m=sn(),v=22+a,E=p[11],S=p[v]=cf(E,l,function jc(){return Ct.lFrame.currentNamespace}()),M=m.firstCreatePass?function OE(a,l,u,h,p,m,v){const E=l.consts,M=_f(l,a,2,p,nr(E,m));return x0(l,u,M,nr(E,v)),null!==M.attrs&&Qp(M,M.attrs,!1),null!==M.mergedAttrs&&Qp(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(v,m,p,0,l,u,h):m.data[v];hr(M,!0);const L=M.mergedAttrs;null!==L&&rl(E,S,L);const $=M.classes;null!==$&&lh(E,S,$);const se=M.styles;return null!==se&&h_(E,S,se),64!=(64&M.flags)&&td(m,p,S,M),0===function Oc(){return Ct.lFrame.elementDepthCount}()&&nn(S,p),function oo(){Ct.lFrame.elementDepthCount++}(),Tc(M)&&(T0(m,p,M),D0(m,M,p)),null!==h&&E_(p,M),eg}function tg(){let a=Zn();No()?ao():(a=a.parent,hr(a,!1));const l=a;!function Qa(){Ct.lFrame.elementDepthCount--}();const u=sn();return u.firstCreatePass&&(Pd(u,a),Ol(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Bd(a){return 0!=(16&a.flags)}(l)&&L_(u,l,$e(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Uh(a){return 0!=(32&a.flags)}(l)&&L_(u,l,$e(),l.stylesWithoutHost,!1),tg}function W0(a,l,u,h){return eg(a,l,u,h),tg(),W0}function ng(a,l,u){const h=$e(),p=sn(),m=a+22,v=p.firstCreatePass?function RE(a,l,u,h,p){const m=l.consts,v=nr(m,h),E=_f(l,a,8,"ng-container",v);return null!==v&&Qp(E,v,!0),x0(l,u,E,nr(m,p)),null!==l.queries&&l.queries.elementStart(l,E),E}(m,p,h,l,u):p.data[m];hr(v,!0);const E=h[m]=h[11].createComment("");return td(p,h,E,v),nn(E,h),Tc(v)&&(T0(p,h,v),D0(p,v,h)),null!=u&&E_(h,v),ng}function If(){let a=Zn();const l=sn();return No()?ao():(a=a.parent,hr(a,!1)),l.firstCreatePass&&(Pd(l,a),Ol(a)&&l.queries.elementEnd(a)),If}function B_(){return $e()}function V_(a){return!!a&&"function"==typeof a.then}function Y0(a){return!!a&&"function"==typeof a.subscribe}const Q0=Y0;function ig(a,l,u,h){const p=$e(),m=sn(),v=Zn();return function J0(a,l,u,h,p,m,v,E){const S=Tc(h),L=a.firstCreatePass&&N_(a),$=l[8],se=wE(l);let pe=!0;if(3&h.type||E){const pt=_i(h,l),Tt=E?E(pt):pt,jt=se.length,qe=E?Dn=>E(Qn(Dn[h.index])):h.index;let Bt=null;if(!E&&S&&(Bt=function PE(a,l,u,h){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const v=p[m];if(v===u&&p[m+1]===h){const E=l[7],S=p[m+2];return E.length>S?E[S]:null}"string"==typeof v&&(m+=2)}return null}(a,l,p,h.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=m,Bt.__ngLastListenerFn__=m,pe=!1;else{m=ps(h,l,$,m,!1);const Dn=u.listen(Tt,p,m);se.push(m,Dn),L&&L.push(p,qe,jt,jt+1)}}else m=ps(h,l,$,m,!1);const He=h.outputs;let it;if(pe&&null!==He&&(it=He[p])){const pt=it.length;if(pt)for(let Tt=0;Tt<pt;Tt+=2){const di=l[it[Tt]][it[Tt+1]].subscribe(m),gc=se.length;se.push(m,di),L&&L.push(p,h.index,gc,-(gc+1))}}}(m,p,p[11],v,a,l,0,h),ig}function X0(a,l,u,h){try{return!1!==u(h)}catch(p){return EE(a,p),!1}}function ps(a,l,u,h,p){return function m(v){if(v===Function)return h;vE(2&a.flags?Ii(a.index,l):l);let S=X0(l,0,h,v),M=m.__ngNextListenerFn__;for(;M;)S=X0(l,0,M,v)&&S,M=M.__ngNextListenerFn__;return p&&!1===S&&(v.preventDefault(),v.returnValue=!1),S}}function fu(a=1){return function pa(a){return(Ct.lFrame.contextLView=function Ro(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ct.lFrame.contextLView))[8]}(a)}function FE(a,l){let u=null;const h=function ix(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===h?a0(a,m,!0):ox(h,m))return p}else u=p}return u}function ak(a){const l=$e()[16][6];if(!l.projection){const h=l.projection=Lo(a?a.length:1,null),p=h.slice();let m=l.child;for(;null!==m;){const v=a?FE(m,a):0;null!==v&&(p[v]?p[v].projectionNext=m:h[v]=m,p[v]=m),m=m.next}}}function lk(a,l=0,u){const h=$e(),p=sn(),m=_f(p,22+a,16,null,u||null);null===m.projection&&(m.projection=l),ao(),64!=(64&m.flags)&&function tx(a,l,u){R1(l[11],0,l,u,A1(a,u,l),c_(u.parent||l[6],u,l))}(p,h,m)}function oc(a,l,u){return Pa(a,"",l,"",u),oc}function Pa(a,l,u,h,p){const m=$e(),v=Ra(m,l,u,h);return v!==dn&&$o(sn(),Xn(),m,a,v,m[11],p,!1),Pa}function hk(a,l,u,h,p){const m=a[u+1],v=null===l;let E=h?Ma(m):Oa(m),S=!1;for(;0!==E&&(!1===S||v);){const L=a[E+1];fk(a[E],l)&&(S=!0,a[E+1]=h?pf(L):y_(L)),E=h?Ma(L):Oa(L)}S&&(a[u+1]=h?y_(m):pf(m))}function fk(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Da(a,l)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VE(a){return a.substring(gr.key,gr.keyEnd)}function H_(a,l){const u=gr.textEnd;return u===l?-1:(l=gr.keyEnd=function eb(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,gr.key=l,u),ac(a,l,u))}function ac(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function $_(a,l,u){return cc(a,l,u,!1),$_}function z_(a,l){return cc(a,l,null,!0),z_}function _k(a){mo(qr,lc,a,!0)}function lc(a,l){for(let u=function gk(a){return function fh(a){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=a.length}(a),H_(a,ac(a,0,gr.textEnd))}(l);u>=0;u=H_(l,u))qr(a,VE(l),!0)}function cc(a,l,u,h){const p=$e(),m=sn(),v=Os(2);m.firstUpdatePass&&cg(m,a,v,h),l!==dn&&hs(p,v,l)&&zE(m,m.data[Bi()],p,p[11],a,p[v+1]=function ZE(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Ce(ka(a)))),a}(l,u),h,v)}function mo(a,l,u,h){const p=sn(),m=Os(2);p.firstUpdatePass&&cg(p,null,m,h);const v=$e();if(u!==dn&&hs(v,m,u)){const E=p.data[Bi()];if(bk(E,h)&&!Sf(p,m)){let S=h?E.classesWithoutHost:E.stylesWithoutHost;null!==S&&(u=Ae(S,u||"")),L_(p,E,v,u,h)}else!function $E(a,l,u,h,p,m,v,E){p===dn&&(p=en);let S=0,M=0,L=0<p.length?p[0]:null,$=0<m.length?m[0]:null;for(;null!==L||null!==$;){const se=S<p.length?p[S+1]:void 0,pe=M<m.length?m[M+1]:void 0;let it,He=null;L===$?(S+=2,M+=2,se!==pe&&(He=$,it=pe)):null===$||null!==L&&L<$?(S+=2,He=L):(M+=2,He=$,it=pe),null!==He&&zE(a,l,u,h,He,it,v,E),L=S<p.length?p[S]:null,$=M<m.length?m[M]:null}}(p,E,v,v[11],v[m+1],v[m+1]=function HE(a,l,u){if(null==u||""===u)return en;const h=[],p=ka(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(h,m,p[m]);else"string"==typeof p&&l(h,p);return h}(a,l,u),h,m)}}function Sf(a,l){return l>=a.expandoStartIndex}function cg(a,l,u,h){const p=a.data;if(null===p[u+1]){const m=p[Bi()],v=Sf(a,u);bk(m,h)&&null===l&&!v&&(l=!1),l=function Z_(a,l,u,h){const p=function Oo(a){const l=Ct.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let m=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(u=ug(u=nb(null,a,l,u,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==p)if(u=nb(p,a,l,u,h),null===m){let S=function yk(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Oa(h))return a[Ma(h)]}(a,l,h);void 0!==S&&Array.isArray(S)&&(S=nb(null,a,l,S[1],h),S=ug(S,l.attrs,h),function tb(a,l,u,h){a[Ma(u?l.classBindings:l.styleBindings)]=h}(a,l,h,S))}else m=function q_(a,l,u){let h;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)h=ug(h,a[m].hostAttrs,u);return ug(h,l.attrs,u)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(p,m,l,h),function tB(a,l,u,h,p,m){let v=m?l.classBindings:l.styleBindings,E=Ma(v),S=Oa(v);a[h]=u;let L,M=!1;if(Array.isArray(u)){const $=u;L=$[1],(null===L||Da($,L)>0)&&(M=!0)}else L=u;if(p)if(0!==S){const se=Ma(a[E+1]);a[h+1]=zp(se,E),0!==se&&(a[se+1]=p0(a[se+1],h)),a[E+1]=function wx(a,l){return 131071&a|l<<17}(a[E+1],h)}else a[h+1]=zp(E,0),0!==E&&(a[E+1]=p0(a[E+1],h)),E=h;else a[h+1]=zp(S,0),0===E?E=h:a[S+1]=p0(a[S+1],h),S=h;M&&(a[h+1]=y_(a[h+1])),hk(a,L,h,!0),hk(a,L,h,!1),function nB(a,l,u,h,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Da(m,l)>=0&&(u[h+1]=pf(u[h+1]))}(l,L,a,h,m),v=zp(E,S),m?l.classBindings=v:l.styleBindings=v}(p,m,l,u,v,h)}}function nb(a,l,u,h,p){let m=null;const v=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<v&&(m=l[E],h=ug(h,m.hostAttrs,p),m!==a);)E++;return null!==a&&(u.directiveStylingLast=E),h}function ug(a,l,u){const h=u?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?p=v:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),qr(a,v,!!u||l[++m]))}return void 0===a?null:a}function zE(a,l,u,h,p,m,v,E){if(!(3&l.type))return;const S=a.data,M=S[E+1];W_(function eE(a){return 1==(1&a)}(M)?vk(S,l,u,p,Oa(M),v):void 0)||(W_(m)||function X1(a){return 2==(2&a)}(M)&&(m=vk(S,null,u,p,E,v)),function nx(a,l,u,h,p){if(l)p?a.addClass(u,h):a.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:yl.DashCase;null==p?a.removeStyle(u,h,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=yl.Important),a.setStyle(u,h,p,m))}}(h,v,Ya(Bi(),u),p,m))}function vk(a,l,u,h,p,m){const v=null===l;let E;for(;p>0;){const S=a[p],M=Array.isArray(S),L=M?S[1]:S,$=null===L;let se=u[p+1];se===dn&&(se=$?en:void 0);let pe=$?zd(se,h):L===h?se:void 0;if(M&&!W_(pe)&&(pe=zd(S,h)),W_(pe)&&(E=pe,v))return E;const He=a[p+1];p=v?Ma(He):Oa(He)}if(null!==l){let S=m?l.residualClasses:l.residualStyles;null!=S&&(E=zd(S,h))}return E}function W_(a){return void 0!==a}function bk(a,l){return 0!=(a.flags&(l?16:32))}function K_(a,l=""){const u=$e(),h=sn(),p=a+22,m=h.firstCreatePass?_f(h,p,1,l,null):h.data[p],v=u[p]=i_(u[11],l);td(h,u,v,m),hr(m,!1)}function ib(a){return dg("",a,""),ib}function dg(a,l,u){const h=$e(),p=Ra(h,a,l,u);return p!==dn&&lu(h,Bi(),p),dg}function hg(a,l,u,h,p){const m=$e(),v=function fs(a,l,u,h,p,m){const E=cd(a,ss(),u,p);return Os(2),E?l+Ne(u)+h+Ne(p)+m:dn}(m,a,l,u,h,p);return v!==dn&&lu(m,Bi(),v),hg}function ob(a,l,u,h,p,m,v,E,S){mo(qr,lc,uu($e(),a,l,u,h,p,m,v,E,S),!0)}function vl(a,l,u){const h=$e();return hs(h,co(),l)&&$o(sn(),Xn(),h,a,l,h[11],u,!0),vl}const gu=void 0;var db=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sk(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ph={};function uc(a){const l=function Ak(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=iD(l);if(u)return u;const h=l.split("-")[0];if(u=iD(h),u)return u;if("en"===h)return db;throw new Le(701,!1)}function hb(a){return uc(a)[Gt.PluralCase]}function iD(a){return a in ph||(ph[a]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[a]),ph[a]}var Gt=(()=>((Gt=Gt||{})[Gt.LocaleId=0]="LocaleId",Gt[Gt.DayPeriodsFormat=1]="DayPeriodsFormat",Gt[Gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gt[Gt.DaysFormat=3]="DaysFormat",Gt[Gt.DaysStandalone=4]="DaysStandalone",Gt[Gt.MonthsFormat=5]="MonthsFormat",Gt[Gt.MonthsStandalone=6]="MonthsStandalone",Gt[Gt.Eras=7]="Eras",Gt[Gt.FirstDayOfWeek=8]="FirstDayOfWeek",Gt[Gt.WeekendRange=9]="WeekendRange",Gt[Gt.DateFormat=10]="DateFormat",Gt[Gt.TimeFormat=11]="TimeFormat",Gt[Gt.DateTimeFormat=12]="DateTimeFormat",Gt[Gt.NumberSymbols=13]="NumberSymbols",Gt[Gt.NumberFormats=14]="NumberFormats",Gt[Gt.CurrencyCode=15]="CurrencyCode",Gt[Gt.CurrencySymbol=16]="CurrencySymbol",Gt[Gt.CurrencyName=17]="CurrencyName",Gt[Gt.Currencies=18]="Currencies",Gt[Gt.Directionality=19]="Directionality",Gt[Gt.PluralCase=20]="PluralCase",Gt[Gt.ExtraData=21]="ExtraData",Gt))();const rD=["zero","one","two","few","many"],fg="en-US",kf={marker:"element"},pg={marker:"ICU"};var Ui=(()=>((Ui=Ui||{})[Ui.SHIFT=2]="SHIFT",Ui[Ui.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ui[Ui.COMMENT=2]="COMMENT",Ui))();let sD=fg;function pb(a){(function Xt(a,l){null==a&&tt(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(sD=a.toLowerCase().replace(/_/g,"-"))}function gb(a,l,u){const h=l.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?ex(a,0,u):Qn(u[p])}function oD(a,l,u,h,p){const m=l.insertBeforeIndex;if(Array.isArray(m)){let v=h,E=null;if(3&l.type||(E=v,v=p),null!==v&&0==(2&l.flags))for(let S=1;S<m.length;S++)sh(a,v,u[m[S]],E,!1)}}function aD(a,l){if(a.push(l),a.length>1)for(let u=a.length-2;u>=0;u--){const h=a[u];X_(h)||mb(h,l)&&null===Nk(h)&&lD(h,l.index)}}function X_(a){return!(64&a.type)}function mb(a,l){return X_(l)||a.index>l.index}function Nk(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function lD(a,l){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=l:(O1(gb,oD),a.insertBeforeIndex=l)}function gg(a,l){const u=a.data[l];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function uD(a,l,u){const h=E0(a,u,64,null,null);return aD(l,h),h}function ey(a,l){const u=l[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function _b(a){return a>>>17}function Ok(a){return(131070&a)>>>1}let Mf=0,Of=0;function Lk(a,l,u,h){const p=u[11];let v,m=null;for(let E=0;E<l.length;E++){const S=l[E];if("string"==typeof S){const M=l[++E];null===u[M]&&(u[M]=i_(p,S))}else if("number"==typeof S)switch(1&S){case 0:const M=_b(S);let L,$;if(null===m&&(m=M,v=l_(p,h)),M===m?(L=h,$=v):(L=null,$=Qn(u[M])),null!==$){const it=Ok(S);sh(p,$,u[it],L,!1);const Tt=gg(a,it);if(null!==Tt&&"object"==typeof Tt){const jt=ey(Tt,u);null!==jt&&Lk(a,Tt.create[jt],u,u[Tt.anchorIdx])}}break;case 1:const pe=l[++E],He=l[++E];O0(p,Ya(S>>>1,u),null,null,pe,He,null)}else switch(S){case pg:const M=l[++E],L=l[++E];null===u[L]&&nn(u[L]=QA(p,M),u);break;case kf:const $=l[++E],se=l[++E];null===u[se]&&nn(u[se]=cf(p,$,null),u)}}}function Bk(a,l,u,h,p){for(let m=0;m<u.length;m++){const v=u[m],E=u[++m];if(v&p){let S="";for(let M=m+1;M<=m+E;M++){const L=u[M];if("string"==typeof L)S+=L;else if("number"==typeof L)if(L<0)S+=Ne(l[h-L]);else{const $=L>>>2;switch(3&L){case 1:const se=u[++M],pe=u[++M],He=a.data[$];"string"==typeof He?O0(l[11],l[$],null,He,se,S,pe):$o(a,He,l,se,S,l[11],pe,!1);break;case 0:const it=l[$];null!==it&&Yv(l[11],it,S);break;case 2:pB(a,gg(a,$),l,S);break;case 3:Vk(a,gg(a,$),h,l)}}}}else{const S=u[m+1];if(S>0&&3==(3&S)){const L=gg(a,S>>>2);l[L.currentCaseLViewIndex]<0&&Vk(a,L,h,l)}}m+=E}}function Vk(a,l,u,h){let p=h[l.currentCaseLViewIndex];if(null!==p){let m=Mf;p<0&&(p=h[l.currentCaseLViewIndex]=~p,m=-1),Bk(a,h,l.update[p],u,m)}}function pB(a,l,u,h){const p=function gB(a,l){let u=a.cases.indexOf(l);if(-1===u)switch(a.type){case 1:{const h=function xk(a,l){const u=hb(l)(parseInt(a,10)),h=rD[u];return void 0!==h?h:"other"}(l,function kk(){return sD}());u=a.cases.indexOf(h),-1===u&&"other"!==h&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(l,h);if(ey(l,u)!==p&&(Uk(a,l,u),u[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=u[l.anchorIdx];v&&Lk(a,l.create[p],u,v)}}function Uk(a,l,u){let h=ey(l,u);if(null!==h){const p=l.remove[h];for(let m=0;m<p.length;m++){const v=p[m];if(v>0){const E=Ya(v,u);null!==E&&r0(u[11],E)}else Uk(a,gg(a,~v),u)}}}function jk(){const a=[];let u,h,l=-1;function m(E,S){l=0;const M=ey(E,S);h=null!==M?E.remove[M]:en}function v(){if(l<h.length){const E=h[l++];return E>0?u[E]:(a.push(l,h),m(u[1].data[~E],u),v())}return 0===a.length?null:(h=a.pop(),l=a.pop(),v())}return function p(E,S){for(u=S;a.length;)a.pop();return m(E.value,S),v}}const yo=/\ufffd(\d+):?\d*\ufffd/gi,zo=/\ufffd(\d+)\ufffd/,ty=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Rf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Gk=/\uE500/g;function hD(a,l,u,h,p,m,v){const E=yf(a,h,1,null);let S=E<<Ui.SHIFT,M=Ms();l===M&&(M=null),null===M&&(S|=Ui.APPEND_EAGERLY),v&&(S|=Ui.COMMENT,function C1(a){void 0===t_&&(t_=a())}(jk)),p.push(S,null===m?"":m);const L=E0(a,E,v?32:1,null===m?"":m,null);aD(u,L);const $=L.index;return hr(L,!1),null!==M&&l!==M&&function Mk(a,l){let u=a.insertBeforeIndex;null===u?(O1(gb,oD),u=a.insertBeforeIndex=[null,l]):(function Ee(a,l,u){a!=l&&tt(u,a,l,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(l))}(M,$),L}function fD(a,l,u,h,p,m,v){const E=v.match(yo),S=hD(a,l,u,m,h,E?null:v,!1);E&&Pf(p,v,S.index,null,0,null)}function Pf(a,l,u,h,p,m){const v=a.length,E=v+1;a.push(null,null);const S=v+2,M=l.split(yo);let L=0;for(let $=0;$<M.length;$++){const se=M[$];if(1&$){const pe=p+parseInt(se,10);a.push(-1-pe),L|=gD(pe)}else""!==se&&a.push(se)}return a.push(u<<2|(h?1:0)),h&&a.push(h,m),a[v]=L,a[E]=a.length-S,L}function gD(a){return 1<<Math.min(a,31)}function mD(a){let l,m,u="",h=0,p=!1;for(;null!==(l=Rf.exec(a));)p?l[0]===`\ufffd/*${m}\ufffd`&&(h=l.index,p=!1):(u+=a.substring(h,l.index+l[0].length),m=l[1],p=!0);return u+=a.slice(h),u}function _D(a,l,u,h,p,m){let v=0;const E={type:p.type,currentCaseLViewIndex:yf(a,l,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function bb(a,l,u){a.push(gD(l.mainBinding),2,-1-l.mainBinding,u<<2|2)})(u,p,m),function cD(a,l,u){const h=a.data[l];null===h?a.data[l]=u:h.value=u}(a,m,E);const S=p.values;for(let M=0;M<S.length;M++){const L=S[M],$=[];for(let se=0;se<L.length;se++){const pe=L[se];if("string"!=typeof pe){const He=$.push(pe)-1;L[se]=`\x3c!--\ufffd${He}\ufffd--\x3e`}}v=Wk(a,E,l,u,h,p.cases[M],L.join(""),$)|v}v&&function ud(a,l,u){a.push(l,1,u<<2|3)}(u,v,m)}function qk(a){const l=[],u=[];let h=1,p=0;const m=vb(a=a.replace(ty,function(v,E,S){return h="select"===S?0:1,p=parseInt(E.slice(1),10),""}));for(let v=0;v<m.length;){let E=m[v++].trim();1===h&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&l.push(E);const S=vb(m[v++]);l.length>u.length&&u.push(S)}return{type:h,mainBinding:p,cases:l,values:u}}function vb(a){if(!a)return[];let l=0;const u=[],h=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(a);){const E=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const S=a.substring(l,E);ty.test(S)?h.push(qk(S)):h.push(S),l=E+1}}else{if(0==u.length){const S=a.substring(l,E);h.push(S),l=E+1}u.push("{")}}const v=a.substring(l);return h.push(v),h}function Wk(a,l,u,h,p,m,v,E){const S=[],M=[],L=[];l.cases.push(m),l.create.push(S),l.remove.push(M),l.update.push(L);const se=function w(a){const l=new y(a);return function D(){try{return!!(new window.DOMParser).parseFromString(jo(""),"text/html")}catch{return!1}}()?new _(l):l}(function Yd(){return void 0!==Kd?Kd:typeof document<"u"?document:void 0}()).getInertBodyElement(v),pe=function Wm(a){return"content"in a&&function SA(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}(se)||se;return pe?Fa(a,l,u,h,S,M,L,pe,p,E,0):0}function Fa(a,l,u,h,p,m,v,E,S,M,L){let $=0,se=E.firstChild;for(;se;){const pe=yf(a,u,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const He=se,it=He.tagName.toLowerCase();if(nu.hasOwnProperty(it)){yu(p,kf,it,S,pe),a.data[pe]=it;const qe=He.attributes;for(let Bt=0;Bt<qe.length;Bt++){const Dn=qe.item(Bt),di=Dn.name.toLowerCase();Dn.value.match(yo)?Yu.hasOwnProperty(di)&&Pf(v,Dn.value,pe,Dn.name,0,Jd[di]?je:Ku[di]?gt:null):ny(p,pe,Dn)}$=Fa(a,l,u,h,p,m,v,se,pe,M,L+1)|$,gh(m,pe,L)}break;case Node.TEXT_NODE:const pt=se.textContent||"",Tt=pt.match(yo);yu(p,null,Tt?"":pt,S,pe),gh(m,pe,L),Tt&&($=Pf(v,pt,pe,null,0,null)|$);break;case Node.COMMENT_NODE:const jt=zo.exec(se.textContent||"");if(jt){const Bt=M[parseInt(jt[1],10)];yu(p,pg,"",S,pe),_D(a,u,h,S,Bt,pe),La(m,pe,L)}}se=se.nextSibling}return $}function gh(a,l,u){0===u&&a.push(l)}function La(a,l,u){0===u&&(a.push(~l),a.push(l))}function yu(a,l,u,h,p){null!==l&&a.push(l),a.push(u,p,function hB(a,l,u){return a|l<<17|u<<1}(0,h,p))}function ny(a,l,u){a.push(l<<1|1,u.name,u.value)}function ry(a,l,u=-1){const h=sn(),p=$e(),m=22+a,v=nr(h.consts,l),E=Ms();h.firstCreatePass&&function _g(a,l,u,h,p,m){const v=Ms(),E=[],S=[],M=[[]];p=function Zk(a,l){if(function zk(a){return-1===a}(l))return mD(a);{const u=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,h=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return mD(a.substring(u,h))}}(p,m);const L=function dD(a){return a.replace(Gk," ")}(p).split(mg);for(let $=0;$<L.length;$++){let se=L[$];if(0==(1&$)){const pe=vb(se);for(let He=0;He<pe.length;He++){let it=pe[He];if(0==(1&He)){const pt=it;""!==pt&&fD(a,v,M[0],E,S,u,pt)}else{const pt=it;if("object"!=typeof pt)throw new Error(`Unable to parse ICU expression in "${p}" message.`);_D(a,u,S,l,pt,hD(a,v,M[0],u,E,"",!0).index)}}}else{const pe=47===se.charCodeAt(0),it=(se.charCodeAt(pe?1:0),22+Number.parseInt(se.substring(pe?2:1)));if(pe)M.shift(),hr(Ms(),!1);else{const pt=uD(a,M[0],it);M.unshift([]),hr(pt,!0)}}}a.data[h]={create:E,update:S}}(h,null===E?0:E.index,p,m,v,u);const S=h.data[m],L=x1(h,E===p[6]?null:E,p);(function fB(a,l,u,h){const p=a[11];for(let m=0;m<l.length;m++){const v=l[m++],E=l[m],S=(v&Ui.COMMENT)===Ui.COMMENT,M=(v&Ui.APPEND_EAGERLY)===Ui.APPEND_EAGERLY,L=v>>>Ui.SHIFT;let $=a[L];null===$&&($=a[L]=S?p.createComment(E):i_(p,E)),M&&null!==u&&sh(p,u,$,h,!1)}})(p,S.create,L,E&&8&E.type?p[E.index]:null),Xa(!0)}function Lf(a,l,u){ry(a,l,u),function Eb(){Xa(!1)}()}function sy(a){return function Pk(a){a&&(Mf|=1<<Math.min(Of,31)),Of++}(hs($e(),co(),a)),sy}function yD(a){!function Fk(a,l,u){if(Of>0){const h=a.data[u];Bk(a,l,Array.isArray(h)?h:h.update,ss()-Of-1,Mf)}Mf=0,Of=0}(sn(),$e(),a+22)}function vg(a,l,u,h,p){if(a=ce(a),Array.isArray(a))for(let m=0;m<a.length;m++)vg(a[m],l,u,h,p);else{const m=sn(),v=$e();let E=eh(a)?a:ce(a.provide),S=LA(a);const M=Zn(),L=1048575&M.providerIndexes,$=M.directiveStart,se=M.providerIndexes>>20;if(eh(a)||!a.multi){const pe=new ho(S,p,ff),He=Ib(E,l,p?L:L+se,$);-1===He?(ya(Mr(M,v),m,E),Db(m,a,l.length),l.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(pe),v.push(pe)):(u[He]=pe,v[He]=pe)}else{const pe=Ib(E,l,L+se,$),He=Ib(E,l,L,L+se),it=pe>=0&&u[pe],pt=He>=0&&u[He];if(p&&!pt||!p&&!it){ya(Mr(M,v),m,E);const Tt=function bD(a,l,u,h,p){const m=new ho(a,u,ff);return m.multi=[],m.index=l,m.componentProviders=0,Tb(m,p,h&&!u),m}(p?Bf:Jk,u.length,p,h,S);!p&&pt&&(u[He].providerFactory=Tt),Db(m,a,l.length,0),l.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(Tt),v.push(Tt)}else Db(m,a,pe>-1?pe:He,Tb(u[p?He:pe],S,!p&&h));!p&&h&&pt&&u[He].componentProviders++}}}function Db(a,l,u,h){const p=eh(l),m=function PA(a){return!!a.useClass}(l);if(p||m){const S=(m?ce(l.useClass):l).prototype.ngOnDestroy;if(S){const M=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const L=M.indexOf(u);-1===L?M.push(u,[h,S]):M[L+1].push(h,S)}else M.push(u,S)}}}function Tb(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Ib(a,l,u,h){for(let p=u;p<h;p++)if(l[p]===a)return p;return-1}function Jk(a,l,u,h){return bg(this.multi,[])}function Bf(a,l,u,h){const p=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=ba(u,u[1],this.providerFactory.index,h);m=E.slice(0,v),bg(p,m);for(let S=v;S<E.length;S++)m.push(E[S])}else m=[],bg(p,m);return m}function bg(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function Sb(a,l=[]){return u=>{u.providersResolver=(h,p)=>function vD(a,l,u){const h=sn();if(h.firstCreatePass){const p=kr(a);vg(u,h.data,h.blueprint,p,!0),vg(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class _h{}class Ab{}function xb(a,l){return new wD(a,l??null)}class wD extends _h{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new B0(this);const h=et(l);this._bootstrapComponents=ec(h.bootstrap),this._r3Injector=ch(l,u,[{provide:_h,useValue:this},{provide:Km,useValue:this.componentFactoryResolver}],Ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class kb extends Ab{constructor(l){super(),this.moduleType=l}create(l){return new wD(this.moduleType,l)}}class Xk extends _h{constructor(l,u,h){super(),this.componentFactoryResolver=new B0(this),this.instance=null;const p=new FA([...l,{provide:_h,useValue:this},{provide:Km,useValue:this.componentFactoryResolver}],u||Bv(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Nb(a,l,u=null){return new Xk(a,l,u).injector}function Mb(a,l,u){const h=Si()+a,p=$e();return p[h]===dn?sc(p,h,u?l.call(u):l()):function ld(a,l){return a[l]}(p,h)}function xD(a,l,u,h){return kD($e(),Si(),a,l,u,h)}function aN(a,l,u,h,p){return function ND(a,l,u,h,p,m,v){const E=l+u;return cd(a,E,p,m)?sc(a,E+2,v?h.call(v,p,m):h(p,m)):Vf(a,E+2)}($e(),Si(),a,l,u,h,p)}function Eg(a,l,u,h,p,m){return function MD(a,l,u,h,p,m,v,E){const S=l+u;return function F_(a,l,u,h,p){const m=cd(a,l,u,h);return hs(a,l+2,p)||m}(a,S,p,m,v)?sc(a,S+3,E?h.call(E,p,m,v):h(p,m,v)):Vf(a,S+3)}($e(),Si(),a,l,u,h,p,m)}function Vf(a,l){const u=a[l];return u===dn?void 0:u}function kD(a,l,u,h,p,m){const v=l+u;return hs(a,v,p)?sc(a,v+1,m?h.call(m,p):h(p)):Vf(a,v+1)}function RD(a,l){const u=sn();let h;const p=a+22;u.firstCreatePass?(h=function gN(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=$r(h.type)),v=bn(ff);try{const E=O(!1),S=m();return O(E),function ME(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,$e(),p,S),S}finally{bn(v)}}function PD(a,l,u){const h=a+22,p=$e(),m=zr(p,h);return function Dg(a,l){return a[1].data[l].pure}(p,h)?kD(p,Si(),l,m.transform,u,m):m.transform(u)}function Ob(a){return l=>{setTimeout(a,void 0,l)}}const hc=class bN extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let p=l,m=u||(()=>null),v=h;if(l&&"object"==typeof l){const S=l;p=S.next?.bind(S),m=S.error?.bind(S),v=S.complete?.bind(S)}this.__isAsync&&(m=Ob(m),p&&(p=Ob(p)),v&&(v=Ob(v)));const E=super.subscribe({next:p,error:m,complete:v});return l instanceof q.w0&&l.add(E),E}};function CB(){return this._results[rc()]()}class oy{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=rc(),h=oy.prototype;h[u]||(h[u]=CB)}get changes(){return this._changes||(this._changes=new hc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const p=Or(l);(this._changesDetected=!function Gu(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],m=l[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tg=(()=>{class a{}return a.__NG_ELEMENT_ID__=EN,a})();const wN=Tg,CN=class extends wN{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,p=uh(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);p[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(p[19]=v.createEmbeddedView(h)),C_(h,p,l),new vf(p)}};function EN(){return ay(Zn(),$e())}function ay(a,l){return 4&a.type?new CN(l,a,Lp(a,l)):null}let Rb=(()=>{class a{}return a.__NG_ELEMENT_ID__=EB,a})();function EB(){return FD(Zn(),$e())}const DB=Rb,DN=class extends DB{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Lp(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const l=Bu(this._hostTNode,this._hostLView);if(Ud(l)){const u=T(l,this._hostLView),h=Hl(l);return new Ls(u[1].data[h+8],u)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=TN(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let p,m;"number"==typeof h?p=h:null!=h&&(p=h.index,m=h.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,p),v}createComponent(l,u,h,p,m){const v=l&&!function fo(a){return"function"==typeof a}(l);let E;if(v)E=u;else{const $=u||{};E=$.index,h=$.injector,p=$.projectableNodes,m=$.environmentInjector||$.ngModuleRef}const S=v?l:new Jp(J(l)),M=h||this.parentInjector;if(!m&&null==S.ngModule){const se=(v?M:this.parentInjector).get(ef,null);se&&(m=se)}const L=S.create(M,p,void 0,m);return this.insert(L.hostView,E),L}insert(l,u){const h=l._lView,p=h[1];if(function Nc(a){return Zi(a[3])}(h)){const L=this.indexOf(l);if(-1!==L)this.detach(L);else{const $=h[3],se=new DN($,$[6],$[3]);se.detach(se.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function Qv(a,l,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=l),h<m-10?(l[4]=u[p],$h(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function s_(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=64}(p,h,v,m);const E=u_(m,v),S=h[11],M=l_(S,v[7]);return null!==M&&function I1(a,l,u,h,p,m){h[0]=p,h[6]=l,tc(a,h,u,1,p,m)}(p,v[6],S,h,M,E),l.attachToViewContainerRef(),$h(Pb(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=TN(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=o_(this._lContainer,u);h&&(Zl(Pb(this._lContainer),u),S1(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=o_(this._lContainer,u);return h&&null!=Zl(Pb(this._lContainer),u)?new vf(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function TN(a){return a[8]}function Pb(a){return a[8]||(a[8]=[])}function FD(a,l){let u;const h=l[a.index];if(Zi(h))u=h;else{let p;if(8&a.type)p=Qn(h);else{const m=l[11];p=m.createComment("");const v=_i(a,l);sh(m,l_(m,v),p,function oh(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=u=mE(h,l,p,a),R0(l,u)}return new DN(u,a,l)}class LD{constructor(l){this.queryList=l,this.matches=null}clone(){return new LD(this.queryList)}setDirty(){this.queryList.setDirty()}}class BD{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);p.push(this.queries[v.indexInDeclarationView].clone())}return new BD(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==$D(l,u).matches&&this.queries[u].setDirty()}}class SN{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class Fb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Fb(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Lb{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Lb(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(l,u,IB(u,m)),this.matchTNodeWithReadOption(l,u,Fo(u,l,m,!1,!1))}else h===Tg?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Fo(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Ym||p===Rb||p===Tg&&4&u.type)this.addMatch(u.index,-2);else{const m=Fo(u,l,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function IB(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function AB(a,l,u,h){return-1===u?function SB(a,l){return 11&a.type?Lp(a,l):4&a.type?ay(a,l):null}(l,a):-2===u?function xB(a,l,u){return u===Ym?Lp(l,a):u===Tg?ay(l,a):u===Rb?FD(l,a):void 0}(a,l,h):ba(a,a[1],u,l)}function VD(a,l,u,h){const p=l[19].queries[h];if(null===p.matches){const m=a.data,v=u.matches,E=[];for(let S=0;S<v.length;S+=2){const M=v[S];E.push(M<0?null:AB(l,m[M],v[S+1],u.metadata.read))}p.matches=E}return p.matches}function Bb(a,l,u,h){const p=a.queries.getByIndex(u),m=p.matches;if(null!==m){const v=VD(a,l,p,u);for(let E=0;E<m.length;E+=2){const S=m[E];if(S>0)h.push(v[E/2]);else{const M=m[E+1],L=l[-S];for(let $=10;$<L.length;$++){const se=L[$];se[17]===se[3]&&Bb(se[1],se,M,h)}if(null!==L[9]){const $=L[9];for(let se=0;se<$.length;se++){const pe=$[se];Bb(pe[1],pe,M,h)}}}}}return h}function AN(a){const l=$e(),u=sn(),h=Bc();Rs(h+1);const p=$D(u,h);if(a.dirty&&so(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?Bb(u,l,h,[]):VD(u,l,p,h);a.reset(m,jA),a.notifyOnChanges()}return!0}return!1}function UD(a,l,u){const h=sn();h.firstCreatePass&&(kN(h,new SN(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),GD(h,$e(),l)}function jD(a,l,u,h){const p=sn();if(p.firstCreatePass){const m=Zn();kN(p,new SN(l,u,h),m.index),function NN(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}GD(p,$e(),u)}function HD(){return function xN(a,l){return a[19].queries[l].queryList}($e(),Bc())}function GD(a,l,u){const h=new oy(4==(4&u));T_(a,l,h,h.destroy),null===l[19]&&(l[19]=new BD),l[19].queries.push(new LD(h))}function kN(a,l,u){null===a.queries&&(a.queries=new Fb),a.queries.track(new Lb(l,u))}function $D(a,l){return a.queries.getByIndex(l)}function zD(a,l){return ay(a,l)}function jf(a){const l=J(a)||X(a)||Me(a);return null!==l&&l.standalone}function Sg(...a){}const wl=new On("Application Initializer");let Gf=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Sg,this.reject=Sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(V_(m))u.push(m);else if(Q0(m)){const v=new Promise((E,S)=>{m.subscribe({complete:E,error:S})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(xi(wl,8))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const dd=new On("AppId",{providedIn:"root",factory:function $b(){return`${rT()}${rT()}${rT()}`}});function rT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JN=new On("Platform Initializer"),XN=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yh=new On("appBootstrapListener"),GB=new On("AnimationModuleType");let eM=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const uy=new On("LocaleId",{providedIn:"root",factory:()=>Wr(uy,wt.Optional|wt.SkipSelf)||function sT(){return typeof $localize<"u"&&$localize.locale||fg}()}),tM=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nM{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let oT=(()=>{class a{compileModuleSync(u){return new kb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=ec(et(u).declarations).reduce((v,E)=>{const S=J(E);return S&&v.push(new Jp(S)),v},[]);return new nM(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const sM=(()=>Promise.resolve(0))();function py(a){typeof Zone>"u"?sM.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ba{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hc(!1),this.onMicrotaskEmpty=new hc(!1),this.onStable=new hc(!1),this.onError=new hc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function aT(){let a=at.requestAnimationFrame,l=at.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function qB(a){const l=()=>{!function ZB(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(at,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,gy(a),a.isCheckStableRunning=!0,cT(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),gy(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,v,E)=>{try{return bu(a),u.invokeTask(p,m,v,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),Zb(a)}},onInvoke:(u,h,p,m,v,E,S)=>{try{return bu(a),u.invoke(p,m,v,E,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Zb(a)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,gy(a),cT(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ba.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ba.isInAngularZone())throw new Le(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,p){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+p,l,lT,Sg,Sg);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const lT={};function cT(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function gy(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function bu(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Zb(a){a._nesting--,cT(a)}class Ag{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hc,this.onMicrotaskEmpty=new hc,this.onStable=new hc,this.onError=new hc}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,p){return l.apply(u,h)}}const xg=new On(""),uT=new On("");let my,oM=(()=>{class a{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,my||(function aM(a){my=a}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ba.assertNotInAngularZone(),py(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())py(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(xi(Ba),xi(dT),xi(uT))},a.\u0275prov=ln({token:a,factory:a.\u0275fac}),a})(),dT=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return my?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),hd=null;const fd=new On("AllowMultipleToken"),hT=new On("PlatformDestroyListeners");class pc{constructor(l,u){this.name=l,this.token=u}}function lM(a,l,u=[]){const h=`Platform: ${l}`,p=new On(h);return(m=[])=>{let v=gT();if(!v||v.injector.get(fd,!1)){const E=[...u,...m,{provide:p,useValue:!0}];a?a(E):function KB(a){if(hd&&!hd.get(fd,!1))throw new Le(400,!1);hd=a;const l=a.get(uM);(function pT(a){const l=a.get(JN,null);l&&l.forEach(u=>u())})(a)}(function cM(a=[],l){return id.create({name:l,providers:[{provide:h1,useValue:"platform"},{provide:hT,useValue:new Set([()=>hd=null])},...a]})}(E,h))}return function QB(a){const l=gT();if(!l)throw new Le(401,!1);return l}()}}function gT(){return hd?.get(uM)??null}let uM=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function hM(a,l){let u;return u="noop"===a?new Ag:("zone.js"===a?void 0:a)||new Ba(l),u}(h?.ngZone,function dM(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Ba,useValue:p}];return p.run(()=>{const v=id.create({providers:m,parent:this.injector,name:u.moduleType.name}),E=u.create(v),S=E.injector.get(Vp,null);if(!S)throw new Le(402,!1);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:L=>{S.handleError(L)}});E.onDestroy(()=>{Wb(this._modules,E),M.unsubscribe()})}),function mT(a,l,u){try{const h=u();return V_(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(S,p,()=>{const M=E.injector.get(Gf);return M.runInitializers(),M.donePromise.then(()=>(pb(E.injector.get(uy,fg)||fg),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,h=[]){const p=fM({},h);return function WB(a,l,u){const h=new kb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get(qb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Le(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(hT,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(xi(id))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function fM(a,l){return Array.isArray(l)?l.reduce(fM,a):{...a,...l}}let qb=(()=>{class a{constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new V.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new V.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ba.assertNotInAngularZone(),py(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ge.T)(m,v.pipe((0,be.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof VA;if(!this._injector.get(Gf).done)throw!p&&jf(u),new Le(405,false);let v;v=p?u:this._injector.get(Km).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const E=function fT(a){return a.isBoundToModule}(v)?void 0:this._injector.get(_h),M=v.create(id.NULL,[],h||v.selector,E),L=M.location.nativeElement,$=M.injector.get(xg,null);return $?.registerApplication(L),M.onDestroy(()=>{this.detachView(M.hostView),Wb(this.components,M),$?.unregisterApplication(L)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Wb(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(yh,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Wb(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Le(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(xi(Ba),xi(ef),xi(Vp))},a.\u0275prov=ln({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Wb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let mM=!0,_M=!1;function yM(){return _M=!0,mM}function JB(){if(_M)throw new Error("Cannot enable prod mode after platform setup.");mM=!1}let XB=(()=>{class a{}return a.__NG_ELEMENT_ID__=bM,a})();function bM(a){return function eV(a,l,u){if(To(a)&&!u){const h=Ii(a.index,l);return new vf(h,h)}return 47&a.type?new vf(l[16],l):null}(Zn(),$e(),16==(16&a))}class bT{constructor(){}supports(l){return R_(l)}create(l){return new EM(l)}}const CM=(a,l)=>l;class EM{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||CM}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<Xb(h,p,m)?u:h,E=Xb(v,p,m),S=v.currentIndex;if(v===h)p--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)p++;else{m||(m=[]);const M=E-p,L=S-p;if(M!=L){for(let se=0;se<M;se++){const pe=se<m.length?m[se]:m[se]=0,He=pe+se;L<=He&&He<M&&(m[se]=pe+1)}m[v.previousIndex]=L-M}}E!==S&&l(v,E,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!R_(l))throw new Le(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)m=l[E],v=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,E),h=!0),u=u._next}else p=0,function ok(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[rc()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,E=>{v=this._trackByFn(p,E),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,E,v,p)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,v,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,p)):l=this._addAfter(new DM(u,h),m,p),l}_verifyReinsertion(l,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Jb),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jb),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class DM{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TM{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Jb{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new TM,this.map.set(u,h)),h.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xb(a,l,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+l+p}class wT{constructor(){}supports(l){return l instanceof Map||ai(l)}create(){return new oV}}class oV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||ai(l)))throw new Le(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const m=p._prev,v=p._next;return m&&(m._next=v),v&&(v._prev=m),p._next=null,p._prev=null,p}const h=new IM(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class IM{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SM(){return new CT([new bT])}let CT=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||SM()),deps:[[a,new Rt,new Ze]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Le(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:SM}),a})();function AM(){return new ET([new wT])}let ET=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||AM()),deps:[[a,new Rt,new Ze]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Le(901,!1)}}return a.\u0275prov=ln({token:a,providedIn:"root",factory:AM}),a})();const uV=lM(null,"core",[]);let dV=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(xi(qb))},a.\u0275mod=Ft({type:a}),a.\u0275inj=Jt({}),a})();function hV(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function fV(a,l){const u=J(a),h=l.elementInjector||Bv();return new Jp(u).create(h,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(St,Ve,j)=>{"use strict";j.d(Ve,{Z:()=>Le});var o=j(2090),q=j(4859),V=j(9681),ge=j(1877);class be{constructor(Ne,Ie){this._delegate=Ne,this.firebase=Ie,(0,V._addComponent)(Ne,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Ne,Ie=V._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ne);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Ie})}_removeServiceInstance(Ne,Ie=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Ie)}_addComponent(Ne){(0,V._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,V._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Ae(){const _t=function Ce(_t){const Ne={},Ie={__esModule:!0,initializeApp:function Ke(G,ve={}){const Ee=V.initializeApp(G,ve);if((0,o.r3)(Ne,Ee.name))return Ne[Ee.name];const ae=new _t(Ee,Ie);return Ne[Ee.name]=ae,ae},app:ft,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Be(G){const ve=G.name,Ee=ve.replace("-compat","");if(V._registerComponent(G)&&"PUBLIC"===G.type){const ae=(le=ft())=>{if("function"!=typeof le[Ee])throw _e.create("invalid-app-argument",{appName:ve});return le[Ee]()};void 0!==G.serviceProps&&(0,o.ZB)(ae,G.serviceProps),Ie[Ee]=ae,_t.prototype[Ee]=function(...le){return this._getService.bind(this,ve).apply(this,G.multipleInstances?le:[])}}return"PUBLIC"===G.type?Ie[Ee]:null},removeApp:function ht(G){delete Ne[G]},useAsService:function lt(G,ve){return"serverAuth"===ve?null:ve},modularAPIs:V}};function ft(G){if(!(0,o.r3)(Ne,G=G||V._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:G});return Ne[G]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function ze(){return Object.keys(Ne).map(G=>Ne[G])}}),ft.App=_t,Ie}(be);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Ne(Ie){(0,o.ZB)(_t,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),_t}(),ne=new ge.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=ee;!function We(_t){(0,V.registerVersion)("@firebase/app-compat","0.1.31",_t)}()},9681:(St,Ve,j)=>{"use strict";j.r(Ve),j.d(Ve,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Xi,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>ln,_apps:()=>vn,_clearComponents:()=>ns,_components:()=>ii,_getProvider:()=>Jt,_registerComponent:()=>Qt,_removeServiceInstance:()=>Di,deleteApp:()=>wt,getApp:()=>Gn,getApps:()=>Kn,initializeApp:()=>Ar,onLog:()=>bn,registerVersion:()=>Bn,setLogLevel:()=>fi});var o=j(5861),q=j(4859),V=j(1877),ge=j(2090),be=j(8766);class Se{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function _e(Q){return"VERSION"===Q.getComponent()?.type}(re)){const Ue=re.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(re=>re).join(" ")}}const Ce="@firebase/app",ee=new V.Yd("@firebase/app"),Xt="[DEFAULT]",tt={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vn=new Map,ii=new Map;function hn(Q,ie){try{Q.container.addComponent(ie)}catch(re){ee.debug(`Component ${ie.name} failed to register with FirebaseApp ${Q.name}`,re)}}function ln(Q,ie){Q.container.addOrOverwriteComponent(ie)}function Qt(Q){const ie=Q.name;if(ii.has(ie))return ee.debug(`There were multiple attempts to register component ${ie}.`),!1;ii.set(ie,Q);for(const re of vn.values())hn(re,Q);return!0}function Jt(Q,ie){const re=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),Q.container.getProvider(ie)}function Di(Q,ie,re=Xt){Jt(Q,ie).clearInstance(re)}function ns(){ii.clear()}const Hn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sr{constructor(ie,re,Ue){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Xi="9.9.2";function Ar(Q,ie={}){"object"!=typeof ie&&(ie={name:ie});const re=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},ie),Ue=re.name;if("string"!=typeof Ue||!Ue)throw Hn.create("bad-app-name",{appName:String(Ue)});const nt=vn.get(Ue);if(nt){if((0,ge.vZ)(Q,nt.options)&&(0,ge.vZ)(re,nt.config))return nt;throw Hn.create("duplicate-app",{appName:Ue})}const Ft=new q.H0(Ue);for(const Sn of ii.values())Ft.addComponent(Sn);const kn=new Sr(Q,re,Ft);return vn.set(Ue,kn),kn}function Gn(Q=Xt){const ie=vn.get(Q);if(!ie)throw Hn.create("no-app",{appName:Q});return ie}function Kn(){return Array.from(vn.values())}function wt(Q){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(Q){const ie=Q.name;vn.has(ie)&&(vn.delete(ie),yield Promise.all(Q.container.getProviders().map(re=>re.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function Bn(Q,ie,re){var Ue;let nt=null!==(Ue=tt[Q])&&void 0!==Ue?Ue:Q;re&&(nt+=`-${re}`);const Ft=nt.match(/\s|\//),kn=ie.match(/\s|\//);if(Ft||kn){const Sn=[`Unable to register library "${nt}" with version "${ie}":`];return Ft&&Sn.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),Ft&&kn&&Sn.push("and"),kn&&Sn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void ee.warn(Sn.join(" "))}Qt(new q.wA(`${nt}-version`,()=>({library:nt,version:ie}),"VERSION"))}function bn(Q,ie){if(null!==Q&&"function"!=typeof Q)throw Hn.create("invalid-log-argument");(0,V.Am)(Q,ie)}function fi(Q){(0,V.Ub)(Q)}const fn="firebase-heartbeat-store";let ri=null;function In(){return ri||(ri=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:(Q,ie)=>{0===ie&&Q.createObjectStore(fn)}}).catch(Q=>{throw Hn.create("idb-open",{originalErrorMessage:Q.message})})),ri}function at(){return(at=(0,o.Z)(function*(Q){var ie;try{return(yield In()).transaction(fn).objectStore(fn).get(_n(Q))}catch(re){if(re instanceof ge.ZR)ee.warn(re.message);else{const Ue=Hn.create("idb-get",{originalErrorMessage:null===(ie=re)||void 0===ie?void 0:ie.message});ee.warn(Ue.message)}}})).apply(this,arguments)}function $n(Q,ie){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(Q,ie){var re;try{const nt=(yield In()).transaction(fn,"readwrite");return yield nt.objectStore(fn).put(ie,_n(Q)),nt.done}catch(Ue){if(Ue instanceof ge.ZR)ee.warn(Ue.message);else{const nt=Hn.create("idb-set",{originalErrorMessage:null===(re=Ue)||void 0===re?void 0:re.message});ee.warn(nt.message)}}})).apply(this,arguments)}function _n(Q){return`${Q.name}!${Q.options.appId}`}class er{constructor(ie){this.container=ie,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new qt(re),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var ie=this;return(0,o.Z)(function*(){const Ue=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=Zt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==nt&&!ie._heartbeatsCache.heartbeats.some(Ft=>Ft.date===nt))return ie._heartbeatsCache.heartbeats.push({date:nt,agent:Ue}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Ft=>{const kn=new Date(Ft.date).valueOf();return Date.now()-kn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,o.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const re=Zt(),{heartbeatsToSend:Ue,unsentEntries:nt}=function xr(Q,ie=1024){const re=[];let Ue=Q.slice();for(const nt of Q){const Ft=re.find(kn=>kn.agent===nt.agent);if(Ft){if(Ft.dates.push(nt.date),oe(re)>ie){Ft.dates.pop();break}}else if(re.push({agent:nt.agent,dates:[nt.date]}),oe(re)>ie){re.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:re,unsentEntries:Ue}}(ie._heartbeatsCache.heartbeats),Ft=(0,ge.L)(JSON.stringify({version:2,heartbeats:Ue}));return ie._heartbeatsCache.lastSentHeartbeatDate=re,nt.length>0?(ie._heartbeatsCache.heartbeats=nt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Ft})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,o.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function ct(Q){return at.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var re=this;return(0,o.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return $n(re.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ft.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var re=this;return(0,o.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return $n(re.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...ie.heartbeats]})}})()}}function oe(Q){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function W(Q){Qt(new q.wA("platform-logger",ie=>new Se(ie),"PRIVATE")),Qt(new q.wA("heartbeat",ie=>new er(ie),"PRIVATE")),Bn(Ce,"0.7.30",Q),Bn(Ce,"0.7.30","esm2017"),Bn("fire-js","")}("")},4859:(St,Ve,j)=>{"use strict";j.d(Ve,{H0:()=>Ce,wA:()=>V,zt:()=>be});var o=j(5861),q=j(2090);class V{constructor(ee,ne,ce){this.name=ee,this.instanceFactory=ne,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ge="[DEFAULT]";class be{constructor(ee,ne){this.name=ee,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ne=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ne)){const ce=new q.BH;if(this.instancesDeferred.set(ne,ce),this.isInitialized(ne)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ne});st&&ce.resolve(st)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(ee){var ne;const ce=this.normalizeInstanceIdentifier(ee?.identifier),st=null!==(ne=ee?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(We){if(st)return null;throw We}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function _e(Ae){return"EAGER"===Ae.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[ne,ce]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ne);try{const We=this.getOrInitializeService({instanceIdentifier:st});ce.resolve(We)}catch{}}}}clearInstance(ee=ge){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,o.Z)(function*(){const ne=Array.from(ee.instances.values());yield Promise.all([...ne.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...ne.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ge){return this.instances.has(ee)}getOptions(ee=ge){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ne={}}=ee,ce=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ce,options:ne});for(const[We,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(We)&&Le.resolve(st);return st}onInit(ee,ne){var ce;const st=this.normalizeInstanceIdentifier(ne),We=null!==(ce=this.onInitCallbacks.get(st))&&void 0!==ce?ce:new Set;We.add(ee),this.onInitCallbacks.set(st,We);const Le=this.instances.get(st);return Le&&ee(Le,st),()=>{We.delete(ee)}}invokeOnInitCallbacks(ee,ne){const ce=this.onInitCallbacks.get(ne);if(ce)for(const st of ce)try{st(ee,ne)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ne={}}){let ce=this.instances.get(ee);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=ee,Ae===ge?void 0:Ae),options:ne}),this.instances.set(ee,ce),this.instancesOptions.set(ee,ne),this.invokeOnInitCallbacks(ce,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(ee=ge){return this.component?this.component.multipleInstances?ee:ge:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ne=this.getProvider(ee.name);if(ne.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ne.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ne=new be(ee,this);return this.providers.set(ee,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(St,Ve,j)=>{"use strict";j.d(Ve,{Am:()=>Ae,Ub:()=>Ce,Yd:()=>_e,in:()=>q});const o=[];var q=(()=>{return(ee=q||(q={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",q;var ee})();const V={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ge=q.INFO,be={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Se=(ee,ne,...ce)=>{if(ne<ee.logLevel)return;const st=(new Date).toISOString(),We=be[ne];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[We](`[${st}]  ${ee.name}:`,...ce)};class _e{constructor(ne){this.name=ne,this._logLevel=ge,this._logHandler=Se,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in q))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?V[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...ne),this._logHandler(this,q.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...ne),this._logHandler(this,q.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,q.INFO,...ne),this._logHandler(this,q.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,q.WARN,...ne),this._logHandler(this,q.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...ne),this._logHandler(this,q.ERROR,...ne)}}function Ce(ee){o.forEach(ne=>{ne.setLogLevel(ee)})}function Ae(ee,ne){for(const ce of o){let st=null;ne&&ne.level&&(st=V[ne.level]),ce.userLogHandler=null===ee?null:(We,Le,..._t)=>{const Ne=_t.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Le>=(st??We.logLevel)&&ee({level:q[Le].toLowerCase(),message:Ne,args:_t,type:We.name})}}}},8766:(St,Ve,j)=>{"use strict";j.d(Ve,{Lj:()=>Ke,X3:()=>ft});var o=j(5861);let V,ge;const _e=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,ee=new WeakMap,ne=new WeakMap;let We={get(ve,Ee,ae){if(ve instanceof IDBTransaction){if("done"===Ee)return Ce.get(ve);if("objectStoreNames"===Ee)return ve.objectStoreNames||Ae.get(ve);if("store"===Ee)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Ie(ve[Ee])},set:(ve,Ee,ae)=>(ve[Ee]=ae,!0),has:(ve,Ee)=>ve instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in ve};function Ne(ve){return"function"==typeof ve?function _t(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Ee){return ve.apply(ht(this),Ee),Ie(_e.get(this))}:function(...Ee){return Ie(ve.apply(ht(this),Ee))}:function(Ee,...ae){const le=ve.call(ht(this),Ee,...ae);return Ae.set(le,Ee.sort?Ee.sort():[Ee]),Ie(le)}}(ve):(ve instanceof IDBTransaction&&function st(ve){if(Ce.has(ve))return;const Ee=new Promise((ae,le)=>{const he=()=>{ve.removeEventListener("complete",me),ve.removeEventListener("error",Qe),ve.removeEventListener("abort",Qe)},me=()=>{ae(),he()},Qe=()=>{le(ve.error||new DOMException("AbortError","AbortError")),he()};ve.addEventListener("complete",me),ve.addEventListener("error",Qe),ve.addEventListener("abort",Qe)});Ce.set(ve,Ee)}(ve),((ve,Ee)=>Ee.some(ae=>ve instanceof ae))(ve,function be(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,We):ve)}function Ie(ve){if(ve instanceof IDBRequest)return function ce(ve){const Ee=new Promise((ae,le)=>{const he=()=>{ve.removeEventListener("success",me),ve.removeEventListener("error",Qe)},me=()=>{ae(Ie(ve.result)),he()},Qe=()=>{le(ve.error),he()};ve.addEventListener("success",me),ve.addEventListener("error",Qe)});return Ee.then(ae=>{ae instanceof IDBCursor&&_e.set(ae,ve)}).catch(()=>{}),ne.set(Ee,ve),Ee}(ve);if(ee.has(ve))return ee.get(ve);const Ee=Ne(ve);return Ee!==ve&&(ee.set(ve,Ee),ne.set(Ee,ve)),Ee}const ht=ve=>ne.get(ve);function ft(ve,Ee,{blocked:ae,upgrade:le,blocking:he,terminated:me}={}){const Qe=indexedDB.open(ve,Ee),Ye=Ie(Qe);return le&&Qe.addEventListener("upgradeneeded",Nt=>{le(Ie(Qe.result),Nt.oldVersion,Nt.newVersion,Ie(Qe.transaction))}),ae&&Qe.addEventListener("blocked",()=>ae()),Ye.then(Nt=>{me&&Nt.addEventListener("close",()=>me()),he&&Nt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ye}function Ke(ve,{blocked:Ee}={}){const ae=indexedDB.deleteDatabase(ve);return Ee&&ae.addEventListener("blocked",()=>Ee()),Ie(ae).then(()=>{})}const ze=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],lt=new Map;function G(ve,Ee){if(!(ve instanceof IDBDatabase)||Ee in ve||"string"!=typeof Ee)return;if(lt.get(Ee))return lt.get(Ee);const ae=Ee.replace(/FromIndex$/,""),le=Ee!==ae,he=Be.includes(ae);if(!(ae in(le?IDBIndex:IDBObjectStore).prototype)||!he&&!ze.includes(ae))return;const me=function(){var Qe=(0,o.Z)(function*(Ye,...Nt){const mn=this.transaction(Ye,he?"readwrite":"readonly");let Xt=mn.store;return le&&(Xt=Xt.index(Nt.shift())),(yield Promise.all([Xt[ae](...Nt),he&&mn.done]))[0]});return function(Nt){return Qe.apply(this,arguments)}}();return lt.set(Ee,me),me}!function Le(ve){We=ve(We)}(ve=>({...ve,get:(Ee,ae,le)=>G(Ee,ae)||ve.get(Ee,ae,le),has:(Ee,ae)=>!!G(Ee,ae)||ve.has(Ee,ae)}))},5861:(St,Ve,j)=>{"use strict";function o(V,ge,be,Se,_e,Ce,Ae){try{var ee=V[Ce](Ae),ne=ee.value}catch(ce){return void be(ce)}ee.done?ge(ne):Promise.resolve(ne).then(Se,_e)}function q(V){return function(){var ge=this,be=arguments;return new Promise(function(Se,_e){var Ce=V.apply(ge,be);function Ae(ne){o(Ce,Se,_e,Ae,ee,"next",ne)}function ee(ne){o(Ce,Se,_e,Ae,ee,"throw",ne)}Ae(void 0)})}}j.d(Ve,{Z:()=>q})}},St=>{St(St.s=9577)}]);