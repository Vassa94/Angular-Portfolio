(self.webpackChunkAng_Portfolio=self.webpackChunkAng_Portfolio||[]).push([[179],{2011:(St,Ve,j)=>{"use strict";j.d(Ve,{Dh:()=>Ce,GT:()=>Ie,cc:()=>Ze,hO:()=>st,on:()=>ee,pX:()=>ve,xv:()=>Ae});var u=j(4650),W=j(127),B=j(5813);St=j.hmd(St);const ge=["ngOnDestroy"],ve=(Te,ht,ft,Ke={})=>new Proxy(Te,{get:(ze,Be)=>ft.runOutsideAngular(()=>{var lt;if(Te[Be])return!(null===(lt=Ke?.spy)||void 0===lt)&&lt.get&&Ke.spy.get(Be,Te[Be]),Te[Be];if(ge.indexOf(Be)>-1)return()=>{};const G=ht.toPromise().then(ye=>{const Ee=ye&&ye[Be];return"function"==typeof Ee?Ee.bind(ye):Ee&&Ee.then?Ee.then(ae=>ft.run(()=>ae)):ft.run(()=>Ee)});return new Proxy(()=>{},{get:(ye,Ee)=>G[Ee],apply:(ye,Ee,ae)=>G.then(le=>{var he;const me=le&&le(...ae);return!(null===(he=Ke?.spy)||void 0===he)&&he.apply&&Ke.spy.apply(Be,ae,me),me})})})}),Ie=(Te,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Ke=>{Object.defineProperty(Te.prototype,Ke,Object.getOwnPropertyDescriptor(ft.prototype||ft,Ke))})})};class _e{constructor(ht){return ht}}const Ce=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function ee(Te,ht,ft){const ze="object"==typeof ft&&ft||{};ze.name=ze.name||"string"==typeof ft&&ft||"[DEFAULT]";const lt=W.Z.apps.filter(G=>G&&G.name===ze.name)[0]||ht.runOutsideAngular(()=>W.Z.initializeApp(Te,ze));try{JSON.stringify(Te)!==JSON.stringify(lt.options)&&te("error",`${lt.name} Firebase App already initialized with different options${St.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(lt)}const te=(Te,...ht)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Te](...ht)},ce={provide:_e,useFactory:ee,deps:[Ce,u.R0b,[new u.FiY,Ae]]};let st=(()=>{class Te{constructor(ft){W.Z.registerVersion("angularfire",B.q4.full,"core"),W.Z.registerVersion("angularfire",B.q4.full,"app-compat"),W.Z.registerVersion("angular",u.q4F.full,ft.toString())}static initializeApp(ft,Ke){return{ngModule:Te,providers:[{provide:Ce,useValue:ft},{provide:Ae,useValue:Ke}]}}}return Te.\u0275fac=function(ft){return new(ft||Te)(u.LFG(u.Lbi))},Te.\u0275mod=u.oAB({type:Te}),Te.\u0275inj=u.cJS({providers:[ce]}),Te})();function Ze(Te,ht,ft,Ke,ze){const[,Be,lt]=globalThis.\u0275AngularfireInstanceCache.find(G=>G[0]===Te)||[];if(Be)return function Le(Te,ht){try{return Te.toString()===ht.toString()}catch{return Te===ht}}(ze,lt)||(Oe("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ze,was:lt})),Be;{const G=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Te,G,ze]),G}}const _t=!!St.hot,Oe=(Te,...ht)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Te](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(St,Ve,j)=>{"use strict";j.d(Ve,{q4:()=>Pd,iC:()=>jc,fc:()=>sl,HU:()=>Uc,vb:()=>Lh,JM:()=>Rs});var u=j(4650),W=j(5867),B=j(5861),ge=j(9681),ve=j(2090),Ie=j(4859),_e=j(1877),Ce=j(8766);const Ae="@firebase/installations",ee="0.5.12",ce=`w:${ee}`,st="FIS_v2",ht=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(N){return N instanceof ve.ZR&&N.code.includes("request-failed")}function Ke({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function ze(N){return{token:N.token,requestStatus:2,expiresIn:le(N.expiresIn),creationTime:Date.now()}}function Be(N,x){return lt.apply(this,arguments)}function lt(){return(lt=(0,B.Z)(function*(N,x){const K=(yield x.json()).error;return ht.create("request-failed",{requestName:N,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function G({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function ye(N,{refreshToken:x}){const F=G(N);return F.append("Authorization",function he(N){return`${st} ${N}`}(x)),F}function Ee(N){return ae.apply(this,arguments)}function ae(){return(ae=(0,B.Z)(function*(N){const x=yield N();return x.status>=500&&x.status<600?N():x})).apply(this,arguments)}function le(N){return Number(N.replace("s","000"))}function me(N,x){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*({appConfig:N,heartbeatServiceProvider:x},{fid:F}){const K=Ke(N),ue=G(N),we=x.getImmediate({optional:!0});if(we){const Kt=yield we.getHeartbeatsHeader();Kt&&ue.append("x-firebase-client",Kt)}const ut={method:"POST",headers:ue,body:JSON.stringify({fid:F,authVersion:st,appId:N.appId,sdkVersion:ce})},Mt=yield Ee(()=>fetch(K,ut));if(Mt.ok){const Kt=yield Mt.json();return{fid:Kt.fid||F,registrationStatus:2,refreshToken:Kt.refreshToken,authToken:ze(Kt.authToken)}}throw yield Be("Create Installation",Mt)})).apply(this,arguments)}function Ye(N){return new Promise(x=>{setTimeout(x,N)})}const gn=/^[cdef][\w-]{21}$/;function tt(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const F=function yn(N){return function Ot(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return gn.test(F)?F:""}catch{return""}}function ni(N){return`${N.appName}!${N.appId}`}const un=new Map;function on(N,x){const F=ni(N);Ci(F,x),function Qr(N,x){const F=function jn(){return!Ki&&"BroadcastChannel"in self&&(Ki=new BroadcastChannel("[Firebase] FID Change"),Ki.onmessage=N=>{Ci(N.data.key,N.data.fid)}),Ki}();F&&F.postMessage({key:N,fid:x}),function Dr(){0===un.size&&Ki&&(Ki.close(),Ki=null)}()}(F,x)}function Ci(N,x){const F=un.get(N);if(F)for(const K of F)K(x)}let Ki=null;const Hn="firebase-installations-store";let Zn=null;function wt(){return Zn||(Zn=(0,Ce.X3)("firebase-installations-database",1,{upgrade:(N,x)=>{0===x&&N.createObjectStore(Hn)}})),Zn}function Pn(N,x){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,B.Z)(function*(N,x){const F=ni(N),ue=(yield wt()).transaction(Hn,"readwrite"),we=ue.objectStore(Hn),We=yield we.get(F);return yield we.put(x,F),yield ue.done,(!We||We.fid!==x.fid)&&on(N,x.fid),x})).apply(this,arguments)}function vn(N){return di.apply(this,arguments)}function di(){return(di=(0,B.Z)(function*(N){const x=ni(N),K=(yield wt()).transaction(Hn,"readwrite");yield K.objectStore(Hn).delete(x),yield K.done})).apply(this,arguments)}function Ui(N,x){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,B.Z)(function*(N,x){const F=ni(N),ue=(yield wt()).transaction(Hn,"readwrite"),we=ue.objectStore(Hn),We=yield we.get(F),ut=x(We);return void 0===ut?yield we.delete(F):yield we.put(ut,F),yield ue.done,ut&&(!We||We.fid!==ut.fid)&&on(N,ut.fid),ut})).apply(this,arguments)}function dn(N){return ii.apply(this,arguments)}function ii(){return(ii=(0,B.Z)(function*(N){let x;const F=yield Ui(N.appConfig,K=>{const ue=Tn(K),we=ct(N,ue);return x=we.registrationPromise,we.installationEntry});return""===F.fid?{installationEntry:yield x}:{installationEntry:F,registrationPromise:x}})).apply(this,arguments)}function Tn(N){return Kn(N||{fid:tt(),registrationStatus:0})}function ct(N,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(ht.create("app-offline"))};const F={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},K=function at(N,x){return Gn.apply(this,arguments)}(N,F);return{installationEntry:F,registrationPromise:K}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ki(N)}:{installationEntry:x}}function Gn(){return(Gn=(0,B.Z)(function*(N,x){try{const F=yield me(N,x);return Pn(N.appConfig,F)}catch(F){throw ft(F)&&409===F.customData.serverCode?yield vn(N.appConfig):yield Pn(N.appConfig,{fid:x.fid,registrationStatus:0}),F}})).apply(this,arguments)}function ki(N){return mn.apply(this,arguments)}function mn(){return(mn=(0,B.Z)(function*(N){let x=yield Xt(N.appConfig);for(;1===x.registrationStatus;)yield Ye(100),x=yield Xt(N.appConfig);if(0===x.registrationStatus){const{installationEntry:F,registrationPromise:K}=yield dn(N);return K||F}return x})).apply(this,arguments)}function Xt(N){return Ui(N,x=>{if(!x)throw ht.create("installation-not-found");return Kn(x)})}function Kn(N){return function Qi(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Wt(N,x){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,B.Z)(function*({appConfig:N,heartbeatServiceProvider:x},F){const K=qt(N,F),ue=ye(N,F),we=x.getImmediate({optional:!0});if(we){const Kt=yield we.getHeartbeatsHeader();Kt&&ue.append("x-firebase-client",Kt)}const ut={method:"POST",headers:ue,body:JSON.stringify({installation:{sdkVersion:ce,appId:N.appId}})},Mt=yield Ee(()=>fetch(K,ut));if(Mt.ok)return ze(yield Mt.json());throw yield Be("Generate Auth Token",Mt)})).apply(this,arguments)}function qt(N,{fid:x}){return`${Ke(N)}/${x}/authTokens:generate`}function oe(N){return q.apply(this,arguments)}function q(){return(q=(0,B.Z)(function*(N,x=!1){let F;const K=yield Ui(N.appConfig,we=>{if(!Ft(we))throw ht.create("not-registered");const We=we.authToken;if(!x&&Nn(We))return we;if(1===We.requestStatus)return F=Q(N,x),we;{if(!navigator.onLine)throw ht.create("app-offline");const ut=hi(we);return F=Ue(N,ut),ut}});return F?yield F:K.authToken})).apply(this,arguments)}function Q(N,x){return ie.apply(this,arguments)}function ie(){return(ie=(0,B.Z)(function*(N,x){let F=yield re(N.appConfig);for(;1===F.authToken.requestStatus;)yield Ye(100),F=yield re(N.appConfig);const K=F.authToken;return 0===K.requestStatus?oe(N,x):K})).apply(this,arguments)}function re(N){return Ui(N,x=>{if(!Ft(x))throw ht.create("not-registered");return function de(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Ue(N,x){return nt.apply(this,arguments)}function nt(){return(nt=(0,B.Z)(function*(N,x){try{const F=yield Wt(N,x),K=Object.assign(Object.assign({},x),{authToken:F});return yield Pn(N.appConfig,K),F}catch(F){if(!ft(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const K=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Pn(N.appConfig,K)}else yield vn(N.appConfig);throw F}})).apply(this,arguments)}function Ft(N){return void 0!==N&&2===N.registrationStatus}function Nn(N){return 2===N.requestStatus&&!function Sn(N){const x=Date.now();return x<N.creationTime||N.creationTime+N.expiresIn<x+36e5}(N)}function hi(N){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:x})}function X(){return(X=(0,B.Z)(function*(N){const x=N,{installationEntry:F,registrationPromise:K}=yield dn(x);return K?K.catch(console.error):oe(x).catch(console.error),F.fid})).apply(this,arguments)}function et(){return(et=(0,B.Z)(function*(N,x=!1){const F=N;return yield Pt(F),(yield oe(F,x)).token})).apply(this,arguments)}function Pt(N){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,B.Z)(function*(N){const{registrationPromise:x}=yield dn(N);x&&(yield x)})).apply(this,arguments)}function qs(N){return ht.create("missing-app-config-values",{valueName:N})}const en="installations",ys=N=>{const x=N.getProvider("app").getImmediate(),F=function Gt(N){if(!N||!N.options)throw qs("App Configuration");if(!N.name)throw qs("App Name");const x=["projectId","apiKey","appId"];for(const F of x)if(!N.options[F])throw qs(F);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(x);return{app:x,appConfig:F,heartbeatServiceProvider:(0,ge._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},pc=N=>{const x=N.getProvider("app").getImmediate(),F=(0,ge._getProvider)(x,en).getImmediate();return{getId:()=>function J(N){return X.apply(this,arguments)}(F),getToken:ue=>function ke(N){return et.apply(this,arguments)}(F,ue)}};(function Zs(){(0,ge._registerComponent)(new Ie.wA(en,ys,"PUBLIC")),(0,ge._registerComponent)(new Ie.wA("installations-internal",pc,"PRIVATE"))})(),(0,ge.registerVersion)(Ae,ee),(0,ge.registerVersion)(Ae,ee,"esm2017");const oi="@firebase/remote-config",ji=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yc{constructor(x,F,K,ue){this.client=x,this.storage=F,this.storageCache=K,this.logger=ue}isCachedDataFresh(x,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-F,ue=K<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ue}.`),ue}fetch(x){var F=this;return(0,B.Z)(function*(){const[K,ue]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ue&&F.isCachedDataFresh(x.cacheMaxAgeMillis,K))return ue;x.eTag=ue&&ue.eTag;const we=yield F.client.fetch(x),We=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&We.push(F.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(We),we})()}}function Es(N=navigator){return N.languages&&N.languages[0]||N.language}class Ks{constructor(x,F,K,ue,we,We){this.firebaseInstallations=x,this.sdkVersion=F,this.namespace=K,this.projectId=ue,this.apiKey=we,this.appId=We}fetch(x){var F=this;return(0,B.Z)(function*(){var K,ue,we;const[We,ut]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,an={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},kt={sdk_version:F.sdkVersion,app_instance_id:We,app_instance_id_token:ut,app_id:F.appId,language_code:Es()},_i={method:"POST",headers:an,body:JSON.stringify(kt)},Or=fetch(Kt,_i),Ro=new Promise((Mo,al)=>{x.signal.addEventListener(()=>{const Pu=new Error("The operation was aborted.");Pu.name="AbortError",al(Pu)})});let Bl;try{yield Promise.race([Or,Ro]),Bl=yield Or}catch(Mo){let al="fetch-client-network";throw"AbortError"===(null===(K=Mo)||void 0===K?void 0:K.name)&&(al="fetch-timeout"),ji.create(al,{originalErrorMessage:null===(ue=Mo)||void 0===ue?void 0:ue.message})}let Ms=Bl.status;const Ca=Bl.headers.get("ETag")||void 0;let Vl,Hc;if(200===Bl.status){let Mo;try{Mo=yield Bl.json()}catch(al){throw ji.create("fetch-client-parse",{originalErrorMessage:null===(we=al)||void 0===we?void 0:we.message})}Vl=Mo.entries,Hc=Mo.state}if("INSTANCE_STATE_UNSPECIFIED"===Hc?Ms=500:"NO_CHANGE"===Hc?Ms=304:("NO_TEMPLATE"===Hc||"EMPTY_CONFIG"===Hc)&&(Vl={}),304!==Ms&&200!==Ms)throw ji.create("fetch-status",{httpStatus:Ms});return{status:Ms,eTag:Ca,config:Vl}})()}}class Ds{constructor(x,F){this.client=x,this.storage=F}fetch(x){var F=this;return(0,B.Z)(function*(){const K=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(x,K)})()}attemptFetch(x,{throttleEndTimeMillis:F,backoffCount:K}){var ue=this;return(0,B.Z)(function*(){yield function Ar(N,x){return new Promise((F,K)=>{const ue=Math.max(x-Date.now(),0),we=setTimeout(F,ue);N.addEventListener(()=>{clearTimeout(we),K(ji.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,F);try{const we=yield ue.client.fetch(x);return yield ue.storage.deleteThrottleMetadata(),we}catch(we){if(!function Ih(N){if(!(N instanceof ve.ZR&&N.customData))return!1;const x=Number(N.customData.httpStatus);return 429===x||500===x||503===x||504===x}(we))throw we;const We={throttleEndTimeMillis:Date.now()+(0,ve.$s)(K),backoffCount:K+1};return yield ue.storage.setThrottleMetadata(We),ue.attemptFetch(x,We)}})()}}class Nh{constructor(x,F,K,ue,we){this.app=x,this._client=F,this._storageCache=K,this._storage=ue,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ha(N,x){var F;const K=N.target.error||void 0;return ji.create(x,{originalErrorMessage:K&&(null===(F=K)||void 0===F?void 0:F.message)})}const ea="app_namespace_store";class Eu{constructor(x,F,K,ue=function xh(){return new Promise((N,x)=>{var F;try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=ue=>{x(Ha(ue,"storage-open"))},K.onsuccess=ue=>{N(ue.target.result)},K.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(ea,{keyPath:"compositeKey"})}}catch(K){x(ji.create("storage-open",{originalErrorMessage:null===(F=K)||void 0===F?void 0:F.message}))}})}()){this.appId=x,this.appName=F,this.namespace=K,this.openDbPromise=ue}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var F=this;return(0,B.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ue,we)=>{var We;const Mt=K.transaction([ea],"readonly").objectStore(ea),Kt=F.createCompositeKey(x);try{const an=Mt.get(Kt);an.onerror=kt=>{we(Ha(kt,"storage-get"))},an.onsuccess=kt=>{const _i=kt.target.result;ue(_i?_i.value:void 0)}}catch(an){we(ji.create("storage-get",{originalErrorMessage:null===(We=an)||void 0===We?void 0:We.message}))}})})()}set(x,F){var K=this;return(0,B.Z)(function*(){const ue=yield K.openDbPromise;return new Promise((we,We)=>{var ut;const Kt=ue.transaction([ea],"readwrite").objectStore(ea),an=K.createCompositeKey(x);try{const kt=Kt.put({compositeKey:an,value:F});kt.onerror=_i=>{We(Ha(_i,"storage-set"))},kt.onsuccess=()=>{we()}}catch(kt){We(ji.create("storage-set",{originalErrorMessage:null===(ut=kt)||void 0===ut?void 0:ut.message}))}})})()}delete(x){var F=this;return(0,B.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ue,we)=>{var We;const Mt=K.transaction([ea],"readwrite").objectStore(ea),Kt=F.createCompositeKey(x);try{const an=Mt.delete(Kt);an.onerror=kt=>{we(Ha(kt,"storage-delete"))},an.onsuccess=()=>{ue()}}catch(an){we(ji.create("storage-delete",{originalErrorMessage:null===(We=an)||void 0===We?void 0:We.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Qs{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,B.Z)(function*(){const F=x.storage.getLastFetchStatus(),K=x.storage.getLastSuccessfulFetchTimestampMillis(),ue=x.storage.getActiveConfig(),we=yield F;we&&(x.lastFetchStatus=we);const We=yield K;We&&(x.lastSuccessfulFetchTimestampMillis=We);const ut=yield ue;ut&&(x.activeConfig=ut)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function hp(){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,B.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function vc(){(0,ge._registerComponent)(new Ie.wA("remote-config",function N(x,{instanceIdentifier:F}){const K=x.getProvider("app").getImmediate(),ue=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ji.create("registration-window");if(!(0,ve.hl)())throw ji.create("indexed-db-unavailable");const{projectId:we,apiKey:We,appId:ut}=K.options;if(!we)throw ji.create("registration-project-id");if(!We)throw ji.create("registration-api-key");if(!ut)throw ji.create("registration-app-id");const Mt=new Eu(ut,K.name,F=F||"firebase"),Kt=new Qs(Mt),an=new _e.Yd(oi);an.logLevel=_e.in.ERROR;const kt=new Ks(ue,ge.SDK_VERSION,F,we,We,ut),_i=new Ds(kt,Mt),Or=new yc(_i,Mt,Kt,an),Ro=new Nh(K,Or,Kt,Mt,an);return function Cs(N){const x=(0,ve.m9)(N);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ro),Ro},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(oi,"0.3.11"),(0,ge.registerVersion)(oi,"0.3.11","esm2017")}();const Jr="/firebase-messaging-sw.js",Js="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dl="google.c.a.c_id",Ga="google.c.a.c_l",Du="google.c.a.ts",na="google.c.a.e";var Xr=(()=>{return(N=Xr||(Xr={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Xr;var N})();function li(N){const x=new Uint8Array(N);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(N){const F=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(F),ue=new Uint8Array(K.length);for(let we=0;we<K.length;++we)ue[we]=K.charCodeAt(we);return ue}const $a="fcm_token_details_db",Tl="fcm_token_object_Store";function fp(N){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,B.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes($a))return null;let x=null;return(yield(0,Ce.X3)($a,5,{upgrade:(K=(0,B.Z)(function*(ue,we,We,ut){var Mt;if(we<2||!ue.objectStoreNames.contains(Tl))return;const Kt=ut.objectStore(Tl),an=yield Kt.index("fcmSenderId").get(N);if(yield Kt.clear(),an)if(2===we){const kt=an;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;x={token:kt.fcmToken,createTime:null!==(Mt=kt.createTime)&&void 0!==Mt?Mt:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:li(kt.vapidKey)}}}else if(3===we){const kt=an;x={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:li(kt.auth),p256dh:li(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:li(kt.vapidKey)}}}else if(4===we){const kt=an;x={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:li(kt.auth),p256dh:li(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:li(kt.vapidKey)}}}}),function(we,We,ut,Mt){return K.apply(this,arguments)})})).close(),yield(0,Ce.Lj)($a),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),bc(x)?x:null;var K}),Yn.apply(this,arguments)}function bc(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:x}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const pi="firebase-messaging-store";let bo=null;function wo(){return bo||(bo=(0,Ce.X3)("firebase-messaging-database",1,{upgrade:(N,x)=>{0===x&&N.createObjectStore(pi)}})),bo}function Ur(N){return Di.apply(this,arguments)}function Di(){return(Di=(0,B.Z)(function*(N){const x=ia(N),K=yield(yield wo()).transaction(pi).objectStore(pi).get(x);if(K)return K;{const ue=yield fp(N.appConfig.senderId);if(ue)return yield Xs(N,ue),ue}})).apply(this,arguments)}function Xs(N,x){return cr.apply(this,arguments)}function cr(){return(cr=(0,B.Z)(function*(N,x){const F=ia(N),ue=(yield wo()).transaction(pi,"readwrite");return yield ue.objectStore(pi).put(x,F),yield ue.done,x})).apply(this,arguments)}function wc(N){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,B.Z)(function*(N){const x=ia(N),K=(yield wo()).transaction(pi,"readwrite");yield K.objectStore(pi).delete(x),yield K.done})).apply(this,arguments)}function ia({appConfig:N}){return N.appId}const Ct=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Cc(N,x){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(N,x){var F;const K=yield Ss(N),ue=nn(x),we={method:"POST",headers:K,body:JSON.stringify(ue)};let We;try{We=yield(yield fetch(Sl(N.appConfig),we)).json()}catch(ut){throw Ct.create("token-subscribe-failed",{errorInfo:null===(F=ut)||void 0===F?void 0:F.toString()})}if(We.error)throw Ct.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw Ct.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function Ec(N,x){return eo.apply(this,arguments)}function eo(){return(eo=(0,B.Z)(function*(N,x){var F;const K=yield Ss(N),ue=nn(x.subscriptionOptions),we={method:"PATCH",headers:K,body:JSON.stringify(ue)};let We;try{We=yield(yield fetch(`${Sl(N.appConfig)}/${x.token}`,we)).json()}catch(ut){throw Ct.create("token-update-failed",{errorInfo:null===(F=ut)||void 0===F?void 0:F.toString()})}if(We.error)throw Ct.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw Ct.create("token-update-no-token");return We.token})).apply(this,arguments)}function Wa(N,x){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,B.Z)(function*(N,x){var F;const ue={method:"DELETE",headers:yield Ss(N)};try{const We=yield(yield fetch(`${Sl(N.appConfig)}/${x}`,ue)).json();if(We.error)throw Ct.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(we){throw Ct.create("token-unsubscribe-failed",{errorInfo:null===(F=we)||void 0===F?void 0:F.toString()})}})).apply(this,arguments)}function Sl({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function Ss(N){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*({appConfig:N,installations:x}){const F=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function nn({p256dh:N,auth:x,endpoint:F,vapidKey:K}){const ue={web:{endpoint:F,auth:x,p256dh:N}};return K!==vo&&(ue.web.applicationPubKey=K),ue}const Do=6048e5;function sa(N){return zn.apply(this,arguments)}function zn(){return(zn=(0,B.Z)(function*(N){const x=yield Cd(N.swRegistration,N.vapidKey),F={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:x.endpoint,auth:li(x.getKey("auth")),p256dh:li(x.getKey("p256dh"))},K=yield Ur(N.firebaseDependencies);if(K){if(So(K.subscriptionOptions,F))return Date.now()>=K.createTime+Do?ur(N,{token:K.token,createTime:Date.now(),subscriptionOptions:F}):K.token;try{yield Wa(N.firebaseDependencies,K.token)}catch(ue){console.warn(ue)}return to(N.firebaseDependencies,F)}return to(N.firebaseDependencies,F)})).apply(this,arguments)}function Dc(N){return Is.apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(N){const x=yield Ur(N.firebaseDependencies);x&&(yield Wa(N.firebaseDependencies,x.token),yield wc(N.firebaseDependencies));const F=yield N.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function ur(N,x){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(N,x){try{const F=yield Ec(N.firebaseDependencies,x),K=Object.assign(Object.assign({},x),{token:F,createTime:Date.now()});return yield Xs(N.firebaseDependencies,K),F}catch(F){throw yield Dc(N),F}})).apply(this,arguments)}function to(N,x){return qa.apply(this,arguments)}function qa(){return(qa=(0,B.Z)(function*(N,x){const K={token:yield Cc(N,x),createTime:Date.now(),subscriptionOptions:x};return yield Xs(N,K),K.token})).apply(this,arguments)}function Cd(N,x){return no.apply(this,arguments)}function no(){return(no=(0,B.Z)(function*(N,x){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts(x)})})).apply(this,arguments)}function So(N,x){return x.vapidKey===N.vapidKey&&x.endpoint===N.endpoint&&x.auth===N.auth&&x.p256dh===N.p256dh}function Ti(N){const x={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function es(N,x){if(!x.notification)return;N.notification={};const F=x.notification.title;F&&(N.notification.title=F);const K=x.notification.body;K&&(N.notification.body=K);const ue=x.notification.image;ue&&(N.notification.image=ue)}(x,N),function Tc(N,x){!x.data||(N.data=x.data)}(x,N),function io(N,x){var F,K,ue,we,We;if(!(x.fcmOptions||null!==(F=x.notification)&&void 0!==F&&F.click_action))return;N.fcmOptions={};const ut=null!==(ue=null===(K=x.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==ue?ue:null===(we=x.notification)||void 0===we?void 0:we.click_action;ut&&(N.fcmOptions.link=ut);const Mt=null===(We=x.fcmOptions)||void 0===We?void 0:We.analytics_label;Mt&&(N.fcmOptions.analyticsLabel=Mt)}(x,N),x}function As(N){return"object"==typeof N&&!!N&&Dl in N}function Tu(N,x){const F=[];for(let K=0;K<N.length;K++)F.push(N.charAt(K)),K<x.length&&F.push(x.charAt(K));return F.join("")}function Sc(N){return Ct.create("missing-app-config-values",{valueName:N})}Tu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ic{constructor(x,F,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ue=function Za(N){if(!N||!N.options)throw Sc("App Configuration Object");if(!N.name)throw Sc("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:F}=N;for(const K of x)if(!F[K])throw Sc(K);return{appName:N.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ue,installations:F,analyticsProvider:K}}_delete(){return Promise.resolve()}}function Ka(N){return Io.apply(this,arguments)}function Io(){return(Io=(0,B.Z)(function*(N){var x;try{N.swRegistration=yield navigator.serviceWorker.register(Jr,{scope:Js}),N.swRegistration.update().catch(()=>{})}catch(F){throw Ct.create("failed-service-worker-registration",{browserErrorMessage:null===(x=F)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function Ac(N,x){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,B.Z)(function*(N,x){if(!x&&!N.swRegistration&&(yield Ka(N)),x||!N.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Ct.create("invalid-sw-registration");N.swRegistration=x}})).apply(this,arguments)}function Il(N,x){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,B.Z)(function*(N,x){x?N.vapidKey=x:N.vapidKey||(N.vapidKey=vo)})).apply(this,arguments)}function oa(){return(oa=(0,B.Z)(function*(N,x){if(!navigator)throw Ct.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ct.create("permission-blocked");return yield Il(N,x?.vapidKey),yield Ac(N,x?.serviceWorkerRegistration),sa(N)})).apply(this,arguments)}function xc(N,x,F){return aa.apply(this,arguments)}function aa(){return(aa=(0,B.Z)(function*(N,x,F){const K=Qa(x);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:F[Dl],message_name:F[Ga],message_time:F[Du],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qa(N){switch(N){case Xr.NOTIFICATION_CLICKED:return"notification_open";case Xr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,B.Z)(function*(N,x){const F=x.data;if(!F.isFirebaseMessaging)return;N.onMessageHandler&&F.messageType===Xr.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(Ti(F)):N.onMessageHandler.next(Ti(F)));const K=F.data;As(K)&&"1"===K[na]&&(yield xc(N,F.messageType,K))})).apply(this,arguments)}const Ao="@firebase/messaging",dr=N=>{const x=new Ic(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Al(N,x){return la.apply(this,arguments)}(x,F)),x},Jn=N=>{const x=N.getProvider("messaging").getImmediate();return{getToken:K=>function Nc(N,x){return oa.apply(this,arguments)}(x,K)}};function Ed(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,B.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nl(){(0,ge._registerComponent)(new Ie.wA("messaging",dr,"PUBLIC")),(0,ge._registerComponent)(new Ie.wA("messaging-internal",Jn,"PRIVATE")),(0,ge.registerVersion)(Ao,"0.9.16"),(0,ge.registerVersion)(Ao,"0.9.16","esm2017")}();const xl="analytics",xs="firebase_id",Rc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",No="https://www.googletagmanager.com/gtag/js",gi=new _e.Yd("@firebase/analytics");function Ad(N){return Promise.all(N.map(x=>x.catch(F=>F)))}function Oh(N,x){const F=document.createElement("script");F.src=`${No}?l=${N}&id=${x}`,F.async=!0,document.head.appendChild(F)}function da(N,x,F,K,ue,we){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,B.Z)(function*(N,x,F,K,ue,we){const We=K[ue];try{if(We)yield x[We];else{const Mt=(yield Ad(F)).find(Kt=>Kt.measurementId===ue);Mt&&(yield x[Mt.appId])}}catch(ut){gi.error(ut)}N("config",ue,we)})).apply(this,arguments)}function Xa(N,x,F,K,ue){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,B.Z)(function*(N,x,F,K,ue){try{let we=[];if(ue&&ue.send_to){let We=ue.send_to;Array.isArray(We)||(We=[We]);const ut=yield Ad(F);for(const Mt of We){const Kt=ut.find(kt=>kt.measurementId===Mt),an=Kt&&x[Kt.appId];if(!an){we=[];break}we.push(an)}}0===we.length&&(we=Object.values(x)),yield Promise.all(we),N("event",K,ue||{})}catch(we){gi.error(we)}})).apply(this,arguments)}function xd(){const N=window.document.getElementsByTagName("script");for(const x of Object.values(N))if(x.src&&x.src.includes(No))return x;return null}const Gi=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Y=new class R{constructor(x={},F=1e3){this.throttleMetadata=x,this.intervalMillis=F}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,F){this.throttleMetadata[x]=F}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Re(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function xe(N){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,B.Z)(function*(N){var x;const{appId:F,apiKey:K}=N,ue={method:"GET",headers:Re(K)},we=Rc.replace("{app-id}",F),We=yield fetch(we,ue);if(200!==We.status&&304!==We.status){let ut="";try{const Mt=yield We.json();null!==(x=Mt.error)&&void 0!==x&&x.message&&(ut=Mt.error.message)}catch{}throw Gi.create("config-fetch-failed",{httpStatus:We.status,responseMessage:ut})}return We.json()})).apply(this,arguments)}function Qn(N){return mi.apply(this,arguments)}function mi(){return(mi=(0,B.Z)(function*(N,x=Y,F){const{appId:K,apiKey:ue,measurementId:we}=N.options;if(!K)throw Gi.create("no-app-id");if(!ue){if(we)return{measurementId:we,appId:K};throw Gi.create("no-api-key")}const We=x.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ut=new ha;return setTimeout((0,B.Z)(function*(){ut.abort()}),void 0!==F?F:6e4),Nr({appId:K,apiKey:ue,measurementId:we},We,ut,x)})).apply(this,arguments)}function Nr(N,x,F){return Os.apply(this,arguments)}function Os(){return(Os=(0,B.Z)(function*(N,{throttleEndTimeMillis:x,backoffCount:F},K,ue=Y){var we,We;const{appId:ut,measurementId:Mt}=N;try{yield Od(K,x)}catch(Kt){if(Mt)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${null===(we=Kt)||void 0===we?void 0:we.message}]`),{appId:ut,measurementId:Mt};throw Kt}try{const Kt=yield xe(N);return ue.deleteThrottleMetadata(ut),Kt}catch(Kt){const an=Kt;if(!Iu(an)){if(ue.deleteThrottleMetadata(ut),Mt)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Mt} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:ut,measurementId:Mt};throw Kt}const kt=503===Number(null===(We=an?.customData)||void 0===We?void 0:We.httpStatus)?(0,ve.$s)(F,ue.intervalMillis,30):(0,ve.$s)(F,ue.intervalMillis),_i={throttleEndTimeMillis:Date.now()+kt,backoffCount:F+1};return ue.setThrottleMetadata(ut,_i),gi.debug(`Calling attemptFetch again in ${kt} millis`),Nr(N,_i,K,ue)}})).apply(this,arguments)}function Od(N,x){return new Promise((F,K)=>{const ue=Math.max(x-Date.now(),0),we=setTimeout(F,ue);N.addEventListener(()=>{clearTimeout(we),K(Gi.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Iu(N){if(!(N instanceof ve.ZR&&N.customData))return!1;const x=Number(N.customData.httpStatus);return 429===x||500===x||503===x||504===x}class ha{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Pc,ks;function Fc(){return(Fc=(0,B.Z)(function*(N,x,F,K,ue){if(ue&&ue.global)N("event",F,K);else{const we=yield x;N("event",F,Object.assign(Object.assign({},K),{send_to:we}))}})).apply(this,arguments)}function kd(N){ks=N}function Au(N){Pc=N}function Rd(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,B.Z)(function*(){var N;if(!(0,ve.hl)())return gi.warn(Gi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(x){return gi.warn(Gi.create("indexeddb-unavailable",{errorInfo:null===(N=x)||void 0===N?void 0:N.toString()}).message),!1}return!0})).apply(this,arguments)}function Ml(){return(Ml=(0,B.Z)(function*(N,x,F,K,ue,we,We){var ut;const Mt=Qn(N);Mt.then(Or=>{F[Or.measurementId]=Or.appId,N.options.measurementId&&Or.measurementId!==N.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${Or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Or=>gi.error(Or)),x.push(Mt);const Kt=Rd().then(Or=>{if(Or)return K.getId()}),[an,kt]=yield Promise.all([Mt,Kt]);xd()||Oh(we,an.measurementId),ks&&(ue("consent","default",ks),kd(void 0)),ue("js",new Date);const _i=null!==(ut=We?.config)&&void 0!==ut?ut:{};return _i.origin="firebase",_i.update=!0,null!=kt&&(_i[xs]=kt),ue("config",an.measurementId,_i),Pc&&(ue("set",Pc),Au(void 0)),an.measurementId})).apply(this,arguments)}class jr{constructor(x){this.app=x}_delete(){return delete ln[this.app.options.appId],Promise.resolve()}}let ln={},ga=[];const nl={};let Rh,Si,Pl="dataLayer",kn=!1;function ma(N,x,F){!function gp(){const N=[];if((0,ve.ru)()&&N.push("This is a browser extension environment."),(0,ve.zI)()||N.push("Cookies are not available."),N.length>0){const x=N.map((K,ue)=>`(${ue+1}) ${K}`).join(" "),F=Gi.create("invalid-analytics-context",{errorInfo:x});gi.warn(F.message)}}();const K=N.options.appId;if(!K)throw Gi.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Gi.create("no-api-key");gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ln[K])throw Gi.create("already-exists",{id:K});if(!kn){!function ts(N){let x=[];Array.isArray(window[N])?x=window[N]:window[N]=x}(Pl);const{wrappedGtag:we,gtagCore:We}=function Nd(N,x,F,K,ue){let we=function(...We){window[K].push(arguments)};return window[ue]&&"function"==typeof window[ue]&&(we=window[ue]),window[ue]=function Mc(N,x,F,K){function we(){return(we=(0,B.Z)(function*(We,ut,Mt){try{"event"===We?yield Xa(N,x,F,ut,Mt):"config"===We?yield da(N,x,F,K,ut,Mt):"consent"===We?N("consent","update",Mt):N("set",ut)}catch(Kt){gi.error(Kt)}})).apply(this,arguments)}return function ue(We,ut,Mt){return we.apply(this,arguments)}}(we,N,x,F),{gtagCore:we,wrappedGtag:window[ue]}}(ln,ga,nl,Pl,"gtag");Si=we,Rh=We,kn=!0}return ln[K]=function Md(N,x,F,K,ue,we,We){return Ml.apply(this,arguments)}(N,ga,nl,x,Rh,Pl,F),new jr(N)}function Mh(){return xu.apply(this,arguments)}function xu(){return(xu=(0,B.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}const ku="@firebase/analytics";!function ns(){(0,ge._registerComponent)(new Ie.wA(xl,(x,{options:F})=>ma(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ge._registerComponent)(new Ie.wA("analytics-internal",function N(x){try{const F=x.getProvider(xl).getImmediate();return{logEvent:(K,ue,we)=>function oo(N,x,F,K){N=(0,ve.m9)(N),function fa(N,x,F,K,ue){return Fc.apply(this,arguments)}(Si,ln[N.app.options.appId],x,F,K).catch(ue=>gi.error(ue))}(F,K,ue,we)}}catch(F){throw Gi.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ge.registerVersion)(ku,"0.8.0"),(0,ge.registerVersion)(ku,"0.8.0","esm2017")}();var Ph=j(4408),Oo=j(7565);const _p=new class Ru extends Oo.v{}(class Fl extends Ph.o{constructor(x,F){super(x,F),this.scheduler=x,this.work=F}schedule(x,F=0){return F>0?super.schedule(x,F):(this.delay=F,this.state=x,this.scheduler.flush(this),this)}execute(x,F){return F>0||this.closed?super.execute(x,F):this._execute(x,F)}requestAsyncId(x,F,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(x,F,K):x.flush(this)}});var Dm=j(4986),il=j(8505),Vc=j(5363),Hr=j(9468);const Pd=new u.GfV("7.4.1"),ya="__angularfire_symbol__analyticsIsSupportedValue",va="__angularfire_symbol__analyticsIsSupported",Rt="__angularfire_symbol__remoteConfigIsSupportedValue",Ll="__angularfire_symbol__remoteConfigIsSupported",Fd="__angularfire_symbol__messagingIsSupportedValue",is="__angularfire_symbol__messagingIsSupported";function Rs(N,x,F){if(x){if(1===x.length)return x[0];const we=x.filter(We=>We.app===F);if(1===we.length)return we[0]}return F.container.getProvider(N).getImmediate({optional:!0})}globalThis[va]||(globalThis[va]=Mh().then(N=>globalThis[ya]=N).catch(()=>globalThis[ya]=!1)),globalThis[is]||(globalThis[is]=Ed().then(N=>globalThis[Fd]=N).catch(()=>globalThis[Fd]=!1)),globalThis[Ll]||(globalThis[Ll]=hp().then(N=>globalThis[Rt]=N).catch(()=>globalThis[Rt]=!1));const Lh=(N,x)=>{const F=x?[x]:(0,W.C6)(),K=[];return F.forEach(ue=>{ue.container.getProvider(N).instances.forEach(We=>{K.includes(We)||K.push(We)})}),K};function vr(){}class Mu{constructor(x,F=_p){this.zone=x,this.delegate=F}now(){return this.delegate.now()}schedule(x,F,K){const ue=this.zone;return this.delegate.schedule(function(We){ue.runGuarded(()=>{x.apply(this,[We])})},F,K)}}class rl{constructor(x){this.zone=x,this.task=null}call(x,F){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vr,{},vr,vr)),F.pipe((0,il.b)({next:K,complete:K,error:K})).subscribe(x).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uc=(()=>{class N{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Mu(Zone.current)),this.insideAngular=F.run(()=>new Mu(Zone.current,Dm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(F){return new(F||N)(u.LFG(u.R0b))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function ko(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function sl(N){return N.pipe((0,Vc.Q)(ko().outsideAngular))}function jc(N){return ko(),function Ii(N){return function(F){return(F=F.lift(new rl(N.ngZone))).pipe((0,Hr.R)(N.outsideAngular),(0,Vc.Q)(N.insideAngular))}}(ko())(N)}},6457:(St,Ve,j)=>{"use strict";j.d(Ve,{$:()=>Sl,A:()=>te,B:()=>Ze,G:()=>pc,H:()=>ri,J:()=>Ds,L:()=>Nn,M:()=>Vr,N:()=>bd,P:()=>Dm,Q:()=>Dl,R:()=>Fi,T:()=>Ga,U:()=>vo,V:()=>Xr,W:()=>li,X:()=>fp,Y:()=>Co,Z:()=>Cc,_:()=>Ec,a:()=>S,a0:()=>sa,a1:()=>Dc,a2:()=>ur,a3:()=>to,a4:()=>Cd,a5:()=>So,a6:()=>es,a7:()=>Tc,a8:()=>As,a9:()=>Tu,aA:()=>Or,aB:()=>Mt,aC:()=>sl,aD:()=>wa,aE:()=>fi,aI:()=>Re,aL:()=>na,aa:()=>Ka,ab:()=>Ac,ac:()=>Il,af:()=>xc,ag:()=>Qa,ah:()=>Al,ak:()=>pi,al:()=>kc,an:()=>No,ao:()=>Ja,ap:()=>Fn,aq:()=>Ee,ar:()=>Ut,as:()=>Pt,at:()=>ft,au:()=>jh,av:()=>Ca,aw:()=>Ke,ax:()=>G,ay:()=>le,az:()=>Sn,b:()=>Gi,c:()=>Fd,d:()=>Tm,e:()=>rs,f:()=>Ii,g:()=>K,h:()=>N,i:()=>Nu,j:()=>We,k:()=>Am,l:()=>xr,m:()=>jd,o:()=>Ce,r:()=>Ph,s:()=>Em,u:()=>_p});var u=j(5861),W=j(2090),B=j(9681),ge=j(655),ve=j(1877),Ie=j(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new ve.Yd("@firebase/auth");function ht(w,..._){Te.logLevel<=ve.in.ERROR&&Te.error(`Auth (${B.SDK_VERSION}): ${w}`,..._)}function ft(w,..._){throw lt(w,..._)}function Ke(w,..._){return lt(w,..._)}function ze(w,_,y){const D=Object.assign(Object.assign({},Le()),{[_]:y});return new W.LL("auth","Firebase",D).create(_,{appName:w.name})}function Be(w,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&ft(w,"argument-error"),ze(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(w,..._){if("string"!=typeof w){const y=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return _t.create(w,..._)}function G(w,_,...y){if(!w)throw lt(_,...y)}function ye(w){const _="INTERNAL ASSERTION FAILED: "+w;throw ht(_),new Error(_)}function Ee(w,_){w||ye(_)}const ae=new Map;function le(w){Ee(w instanceof Function,"Expected a class definition");let _=ae.get(w);return _?(Ee(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,ae.set(w,_),_)}function Qe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ye(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class tt{constructor(_,y){this.shortDelay=_,this.longDelay=y,Ee(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yn(w,_){Ee(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class ni{static initialize(_,y,D){this.fetchImpl=_,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new tt(3e4,6e4);function Yt(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Qt(w,_,y,D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(w,_,y,D,P={}){return Qr(w,P,(0,u.Z)(function*(){let H={},fe={};D&&("GET"===_?fe=D:H={body:JSON.stringify(D)});const je=(0,W.xO)(Object.assign({key:w.config.apiKey},fe)).slice(1),gt=yield w._getAdditionalHeaders();return gt["Content-Type"]="application/json",w.languageCode&&(gt["X-Firebase-Locale"]=w.languageCode),ni.fetch()(Yi(w,w.config.apiHost,y,je),Object.assign({method:_,headers:gt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function Qr(w,_,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(w,_,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},un),_);try{const P=new Tr(w),H=yield Promise.race([y(),P.promise]);P.clearNetworkTimeout();const fe=yield H.json();if("needConfirmation"in fe)throw Hn(w,"account-exists-with-different-credential",fe);if(H.ok&&!("errorMessage"in fe))return fe;{const je=H.ok?fe.errorMessage:fe.error.message,[gt,Et]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Hn(w,"credential-already-in-use",fe);if("EMAIL_EXISTS"===gt)throw Hn(w,"email-already-in-use",fe);if("USER_DISABLED"===gt)throw Hn(w,"user-disabled",fe);const rn=D[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw ze(w,rn,Et);ft(w,rn)}}catch(P){if(P instanceof W.ZR)throw P;ft(w,"network-request-failed")}})).apply(this,arguments)}function jn(w,_,y,D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(w,_,y,D,P={}){const H=yield Qt(w,_,y,D,P);return"mfaPendingCredential"in H&&ft(w,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Yi(w,_,y,D){const P=`${_}${y}?${D}`;return w.config.emulator?yn(w.config,P):`${w.config.apiScheme}://${P}`}class Tr{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(Ke(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(w,_,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const P=Ke(w,_,D);return P.customData._tokenResponse=y,P}function wt(){return(wt=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Pn(w,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function vn(w,_){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Ui(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ii(){return(ii=(0,u.Z)(function*(w,_=!1){const y=(0,W.m9)(w),D=yield y.getIdToken(_),P=ct(D);G(P&&P.exp&&P.auth_time&&P.iat,y.auth,"internal-error");const H="object"==typeof P.firebase?P.firebase:void 0,fe=H?.sign_in_provider;return{claims:P,token:D,authTime:Ui(Tn(P.auth_time)),issuedAtTime:Ui(Tn(P.iat)),expirationTime:Ui(Tn(P.exp)),signInProvider:fe||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Tn(w){return 1e3*Number(w)}function ct(w){var _;const[y,D,P]=w.split(".");if(void 0===y||void 0===D||void 0===P)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,W.tV)(D);return H?JSON.parse(H):(ht("Failed to decode base64 JWT payload"),null)}catch(H){return ht("Caught error parsing JWT payload as JSON",null===(_=H)||void 0===_?void 0:_.toString()),null}}function Gn(w,_){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(w,_,y=!1){if(y)return _;try{return yield _}catch(D){throw D instanceof W.ZR&&mn(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function mn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Xt{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const P=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),D)}iteration(){var _=this;return(0,u.Z)(function*(){var y;try{yield _.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(y=D)||void 0===y?void 0:y.code)&&_.schedule(!0))}_.schedule()})()}}class Kn{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qi(w){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(w){var _;const y=w.auth,D=yield w.getIdToken(),P=yield Gn(w,vn(y,{idToken:D}));G(P?.users.length,y,"internal-error");const H=P.users[0];w._notifyReloadListener(H);const fe=null!==(_=H.providerUserInfo)&&void 0!==_&&_.length?q(H.providerUserInfo):[],je=oe(w.providerData,fe),rn=!!w.isAnonymous&&!(w.email&&H.passwordHash||je?.length),si={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:je,metadata:new Kn(H.createdAt,H.lastLoginAt),isAnonymous:rn};Object.assign(w,si)})).apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(w){const _=(0,W.m9)(w);yield Qi(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function oe(w,_){return[...w.filter(D=>!_.some(P=>P.providerId===D.providerId)),..._]}function q(w){return w.map(_=>{var{providerId:y}=_,D=(0,ge._T)(_,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function ie(){return(ie=(0,u.Z)(function*(w,_){const y=yield Qr(w,{},(0,u.Z)(function*(){const D=(0,W.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:P,apiKey:H}=w.config,fe=Yi(w,P,"/v1/token",`key=${H}`),je=yield w._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",ni.fetch()(fe,{method:"POST",headers:je,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){G(_.idToken,"internal-error"),G(typeof _.idToken<"u","internal-error"),G(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function at(w){const _=ct(w);return G(_,"internal-error"),G(typeof _.exp<"u","internal-error"),G(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var D=this;return(0,u.Z)(function*(){return G(!D.accessToken||D.refreshToken,_,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var D=this;return(0,u.Z)(function*(){const{accessToken:P,refreshToken:H,expiresIn:fe}=yield function Q(w,_){return ie.apply(this,arguments)}(_,y);D.updateTokensAndExpiration(P,H,Number(fe))})()}updateTokensAndExpiration(_,y,D){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,y){const{refreshToken:D,accessToken:P,expirationTime:H}=y,fe=new re;return D&&(G("string"==typeof D,"internal-error",{appName:_}),fe.refreshToken=D),P&&(G("string"==typeof P,"internal-error",{appName:_}),fe.accessToken=P),H&&(G("number"==typeof H,"internal-error",{appName:_}),fe.expirationTime=H),fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Ue(w,_){G("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class nt{constructor(_){var{uid:y,auth:D,stsTokenManager:P}=_,H=(0,ge._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Kn(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,u.Z)(function*(){const D=yield Gn(y,y.stsTokenManager.getToken(y.auth,_));return G(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(_){return function dn(w){return ii.apply(this,arguments)}(this,_)}reload(){return function Sr(w){return qt.apply(this,arguments)}(this)}_assign(_){this!==_&&(G(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new nt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var D=this;return(0,u.Z)(function*(){let P=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),P=!0),y&&(yield Qi(D)),yield D.auth._persistUserIfCurrent(D),P&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,u.Z)(function*(){const y=yield _.getIdToken();return yield Gn(_,function Zn(w,_){return wt.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var D,P,H,fe,je,gt,Et,rn;const si=null!==(D=y.displayName)&&void 0!==D?D:void 0,Fo=null!==(P=y.email)&&void 0!==P?P:void 0,cl=null!==(H=y.phoneNumber)&&void 0!==H?H:void 0,bp=null!==(fe=y.photoURL)&&void 0!==fe?fe:void 0,km=null!==(je=y.tenantId)&&void 0!==je?je:void 0,Rm=null!==(gt=y._redirectEventId)&&void 0!==gt?gt:void 0,qc=null!==(Et=y.createdAt)&&void 0!==Et?Et:void 0,Hd=null!==(rn=y.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:Bu,emailVerified:wp,isAnonymous:Mm,providerData:Vu,stsTokenManager:Gd}=y;G(Bu&&Gd,_,"internal-error");const Pm=re.fromJSON(this.name,Gd);G("string"==typeof Bu,_,"internal-error"),Ue(si,_.name),Ue(Fo,_.name),G("boolean"==typeof wp,_,"internal-error"),G("boolean"==typeof Mm,_,"internal-error"),Ue(cl,_.name),Ue(bp,_.name),Ue(km,_.name),Ue(Rm,_.name),Ue(qc,_.name),Ue(Hd,_.name);const Cp=new nt({uid:Bu,auth:_,email:Fo,emailVerified:wp,displayName:si,isAnonymous:Mm,photoURL:bp,phoneNumber:cl,tenantId:km,stsTokenManager:Pm,createdAt:qc,lastLoginAt:Hd});return Vu&&Array.isArray(Vu)&&(Cp.providerData=Vu.map(gv=>Object.assign({},gv))),Rm&&(Cp._redirectEventId=Rm),Cp}static _fromIdTokenResponse(_,y,D=!1){return(0,u.Z)(function*(){const P=new re;P.updateFromServerResponse(y);const H=new nt({uid:y.localId,auth:_,stsTokenManager:P,isAnonymous:D});return yield Qi(H),H})()}}const Nn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,D){var P=this;return(0,u.Z)(function*(){P.storage[y]=D})()}_get(y){var D=this;return(0,u.Z)(function*(){const P=D.storage[y];return void 0===P?null:P})()}_remove(y){var D=this;return(0,u.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function Sn(w,_,y){return`firebase:${w}:${_}:${y}`}class hi{constructor(_,y,D){this.persistence=_,this.auth=y,this.userKey=D;const{config:P,name:H}=this.auth;this.fullUserKey=Sn(this.userKey,P.apiKey,H),this.fullPersistenceKey=Sn("persistence",P.apiKey,H),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?nt._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,u.Z)(function*(){if(y.persistence===_)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,D="authUser"){return(0,u.Z)(function*(){if(!y.length)return new hi(le(Nn),_,D);const P=(yield Promise.all(y.map(function(){var Et=(0,u.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Et.apply(this,arguments)}}()))).filter(Et=>Et);let H=P[0]||le(Nn);const fe=Sn(D,_.config.apiKey,_.name);let je=null;for(const Et of y)try{const rn=yield Et._get(fe);if(rn){const si=nt._fromJSON(_,rn);Et!==H&&(je=si),H=Et;break}}catch{}const gt=P.filter(Et=>Et._shouldAllowMigration);return H._shouldAllowMigration&&gt.length?(H=gt[0],je&&(yield H._set(fe,je.toJSON())),yield Promise.all(y.map(function(){var Et=(0,u.Z)(function*(rn){if(rn!==H)try{yield rn._remove(fe)}catch{}});return function(rn){return Et.apply(this,arguments)}}())),new hi(H,_,D)):new hi(H,_,D)})()}}function de(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(et(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(J(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ge(_))return"Blackberry";if(dt(_))return"Webos";if(X(_))return"Safari";if((_.includes("chrome/")||ke(_))&&!_.includes("edge/"))return"Chrome";if(Pt(_))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function J(w=(0,W.z$)()){return/firefox\//i.test(w)}function X(w=(0,W.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ke(w=(0,W.z$)()){return/crios\//i.test(w)}function et(w=(0,W.z$)()){return/iemobile/i.test(w)}function Pt(w=(0,W.z$)()){return/android/i.test(w)}function Ge(w=(0,W.z$)()){return/blackberry/i.test(w)}function dt(w=(0,W.z$)()){return/webos/i.test(w)}function Ut(w=(0,W.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Fn(w=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Mi(w=(0,W.z$)()){return Ut(w)||Pt(w)||dt(w)||Ge(w)||/windows phone/i.test(w)||et(w)}function Gt(w,_=[]){let y;switch(w){case"Browser":y=de((0,W.z$)());break;case"Worker":y=`${de((0,W.z$)())}-${w}`;break;default:y=w}const D=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${D}`}class qs{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const D=H=>new Promise((fe,je)=>{try{fe(_(H))}catch(gt){je(gt)}});D.onAbort=y,this.queue.push(D);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,u.Z)(function*(){var D;if(y.auth.currentUser===_)return;const P=[];try{for(const H of y.queue)yield H(_),H.onAbort&&P.push(H.onAbort)}catch(H){P.reverse();for(const fe of P)try{fe()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=H)||void 0===D?void 0:D.message})}})()}}class en{constructor(_,y,D){this.app=_,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(_,y){var D=this;return y&&(this._popupRedirectResolver=le(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var P,H;if(!D._deleted&&(D.persistenceManager=yield hi.create(D,_),!D._deleted)){if(null!==(P=D._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(H=D.currentUser)||void 0===H?void 0:H.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,u.Z)(function*(){var D;const P=yield y.assertedPersistence.getCurrentUser();let H=P,fe=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const je=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,gt=H?._redirectEventId,Et=yield y.tryRedirectSignIn(_);(!je||je===gt)&&Et?.user&&(H=Et.user,fe=!0)}if(!H)return y.directlySetCurrentUser(null);if(!H._redirectEventId){if(fe)try{yield y.beforeStateQueue.runMiddleware(H)}catch(je){H=P,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(je))}return H?y.reloadAndSetCurrentUserOrClear(H):y.directlySetCurrentUser(null)}return G(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===H._redirectEventId?y.directlySetCurrentUser(H):y.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(_){var y=this;return(0,u.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,u.Z)(function*(){var D;try{yield Qi(_)}catch(P){if("auth/network-request-failed"!==(null===(D=P)||void 0===D?void 0:D.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,u.Z)(function*(){const D=_?(0,W.m9)(_):null;return D&&G(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(_,y=!1){var D=this;return(0,u.Z)(function*(){if(!D._deleted)return _&&G(D.tenantId===_.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(_)),D.queue((0,u.Z)(function*(){yield D.directlySetCurrentUser(_),D.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(le(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new W.LL("auth","Firebase",_())}onAuthStateChanged(_,y,D){return this.registerStateListener(this.authStateSubscription,_,y,D)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,D){return this.registerStateListener(this.idTokenSubscription,_,y,D)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var D=this;return(0,u.Z)(function*(){const P=yield D.getOrInitRedirectPersistenceManager(y);return null===_?P.removeCurrentUser():P.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const D=_&&le(_)||y._popupRedirectResolver;G(D,y,"argument-error"),y.redirectPersistenceManager=yield hi.create(y,[le(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,u.Z)(function*(){var D,P;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===_?y._currentUser:(null===(P=y.redirectUser)||void 0===P?void 0:P._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,u.Z)(function*(){if(_===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,D,P){if(this._deleted)return()=>{};const H="function"==typeof y?y:y.next.bind(y),fe=this._isInitialized?Promise.resolve():this._initializationPromise;return G(fe,this,"internal-error"),fe.then(()=>H(this.currentUser)),"function"==typeof y?_.addObserver(y,D,P):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==_&&(y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh()),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var y;const D={"X-Client-Version":_.clientVersion};_.app.options.appId&&(D["X-Firebase-gmpid"]=_.app.options.appId);const P=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return P&&(D["X-Firebase-Client"]=P),D})()}}function fi(w){return(0,W.m9)(w)}class ys{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,W.ne)(y=>this.observer=y)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pc(w,_,y){const D=fi(w);G(D._canInitEmulator,D,"emulator-config-failed"),G(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const P=!!y?.disableWarnings,H=Zs(_),{host:fe,port:je}=function oi(w){const _=Zs(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(D);if(P){const H=P[1];return{host:H,port:_r(D.substr(H.length+1))}}{const[H,fe]=D.split(":");return{host:H,port:_r(fe)}}}(_);D.config.emulator={url:`${H}//${fe}${null===je?"":`:${je}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:fe,port:je,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function vs(){function w(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Zs(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function _r(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class ri{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return ye("not implemented")}_getIdTokenResponse(_){return ye("not implemented")}_linkToIdToken(_,y){return ye("not implemented")}_getReauthenticationResolver(_){return ye("not implemented")}}function ai(w,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:resetPassword",Yt(w,_))})).apply(this,arguments)}function Rn(w,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function yd(w,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",Yt(w,_))})).apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithPassword",Yt(w,_))})).apply(this,arguments)}function or(w,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:sendOobCode",Yt(w,_))})).apply(this,arguments)}function Ei(w,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(w,_){return or(w,_)})).apply(this,arguments)}function ar(w,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(w,_){return or(w,_)})).apply(this,arguments)}function El(w,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(w,_){return or(w,_)})).apply(this,arguments)}function gc(w,_){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(w,_){return or(w,_)})).apply(this,arguments)}function _c(){return(_c=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithEmailLink",Yt(w,_))})).apply(this,arguments)}function yc(){return(yc=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithEmailLink",Yt(w,_))})).apply(this,arguments)}class Es extends ri{constructor(_,y,D,P=null){super("password",D),this._email=_,this._password=y,this._tenantId=P}static _fromEmailAndPassword(_,y){return new Es(_,y,"password")}static _fromEmailAndCode(_,y,D=null){return new Es(_,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return function Cl(w,_){return ws.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function mc(w,_){return _c.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:ft(_,"internal-error")}})()}_linkToIdToken(_,y){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return Rn(_,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Xo(w,_){return yc.apply(this,arguments)}(_,{idToken:y,email:D._email,oobCode:D._password});default:ft(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Ks(w,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithIdp",Yt(w,_))})).apply(this,arguments)}class Ds extends ri{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new Ds(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):ft("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:P}=y,H=(0,ge._T)(y,["providerId","signInMethod"]);if(!D||!P)return null;const fe=new Ds(D,P);return fe.idToken=H.idToken||void 0,fe.accessToken=H.accessToken||void 0,fe.secret=H.secret,fe.nonce=H.nonce,fe.pendingToken=H.pendingToken||null,fe}_getIdTokenResponse(_){return Ks(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,Ks(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Ks(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,W.xO)(y)}return _}}function Ah(w,_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:sendVerificationCode",Yt(w,_))})).apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,_))})).apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(w,_){const y=yield jn(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,_));if(y.temporaryProof)throw Hn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const vd={USER_NOT_FOUND:"user-not-found"};function Eu(){return(Eu=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),vd)})).apply(this,arguments)}class Qs extends ri{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new Qs({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new Qs({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Nh(w,_){return Ha.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function ea(w,_){return Ys.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function xh(w,_){return Eu.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:D,verificationCode:P}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:D,code:P}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:D,phoneNumber:P,temporaryProof:H}=_;return D||y||P||H?new Qs({verificationId:y,verificationCode:D,phoneNumber:P,temporaryProof:H}):null}}class ta{constructor(_){var y,D,P,H,fe,je;const gt=(0,W.zd)((0,W.pd)(_)),Et=null!==(y=gt.apiKey)&&void 0!==y?y:null,rn=null!==(D=gt.oobCode)&&void 0!==D?D:null,si=function vc(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=gt.mode)&&void 0!==P?P:null);G(Et&&rn&&si,"argument-error"),this.apiKey=Et,this.operation=si,this.code=rn,this.continueUrl=null!==(H=gt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(fe=gt.languageCode)&&void 0!==fe?fe:null,this.tenantId=null!==(je=gt.tenantId)&&void 0!==je?je:null}static parseLink(_){const y=function dp(w){const _=(0,W.zd)((0,W.pd)(w)).link,y=_?(0,W.zd)((0,W.pd)(_)).deep_link_id:null,D=(0,W.zd)((0,W.pd)(w)).deep_link_id;return(D?(0,W.zd)((0,W.pd)(D)).link:null)||D||y||_||w}(_);try{return new ta(y)}catch{return null}}}let Vr=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return Es._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const P=ta.parseLink(D);return G(P,"argument-error"),Es._fromEmailAndCode(y,P.code,P.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Jr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Js extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class vo extends Js{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return G("providerId"in y&&"signInMethod"in y,"argument-error"),Ds._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return G(_.idToken||_.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return vo.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return vo.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:P,pendingToken:H,nonce:fe,providerId:je}=_;if(!D&&!P&&!y&&!H||!je)return null;try{return new vo(je)._credential({idToken:y,accessToken:D,nonce:fe,pendingToken:H})}catch{return null}}}let bd=(()=>{class w extends Js{constructor(){super("facebook.com")}static credential(y){return Ds._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Dl=(()=>{class w extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return Ds._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:P}=y;if(!D&&!P)return null;try{return w.credential(D,P)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ga=(()=>{class w extends Js{constructor(){super("github.com")}static credential(y){return Ds._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class na extends ri{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return Ks(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,Ks(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,Ks(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:P,pendingToken:H}=y;return D&&P&&H&&D===P?new na(D,H):null}static _create(_,y){return new na(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xr extends Jr{constructor(_){G(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Xr.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Xr.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=na.fromJSON(_);return G(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:D}=_;if(!y||!D)return null;try{return na._create(D,y)}catch{return null}}}let li=(()=>{class w extends Js{constructor(){super("twitter.com")}static credential(y,D){return Ds._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:P}=y;if(!D||!P)return null;try{return w.credential(D,P)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ts(w,_){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signUp",Yt(w,_))})).apply(this,arguments)}class Ji{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,D,P=!1){return(0,u.Z)(function*(){const H=yield nt._fromIdTokenResponse(_,D,P),fe=Tl(D);return new Ji({user:H,providerId:fe,_tokenResponse:D,operationType:y})})()}static _forOperation(_,y,D){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const P=Tl(D);return new Ji({user:_,providerId:P,_tokenResponse:D,operationType:y})})()}}function Tl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function fp(w){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(w){var _;const y=fi(w);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new Ji({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Ts(y,{returnSecureToken:!0}),P=yield Ji._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class bc extends W.ZR{constructor(_,y,D,P){var H;super(y.code,y.message),this.operationType=D,this.user=P,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:_.name,tenantId:null!==(H=_.tenantId)&&void 0!==H?H:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(_,y,D,P){return new bc(_,y,D,P)}}function wd(w,_,y,D){return("reauthenticate"===_?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?bc._fromErrorAndOperation(w,H,_,D):H})}function za(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function pi(w,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(w,_){const y=(0,W.m9)(w);yield Di(!0,y,_);const{providerUserInfo:D}=yield Pn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),P=za(D||[]);return y.providerData=y.providerData.filter(H=>P.has(H.providerId)),P.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function wo(w,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(w,_,y=!1){const D=yield Gn(w,_._linkToIdToken(w.auth,yield w.getIdToken()),y);return Ji._forOperation(w,"link",D)})).apply(this,arguments)}function Di(w,_,y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(w,_,y){yield Qi(_);const P=!1===w?"provider-already-linked":"no-such-provider";G(za(_.providerData).has(y)===w,_.auth,P)})).apply(this,arguments)}function cr(w,_){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*(w,_,y=!1){var D;const{auth:P}=w,H="reauthenticate";try{const fe=yield Gn(w,wd(P,H,_,w),y);G(fe.idToken,P,"internal-error");const je=ct(fe.idToken);G(je,P,"internal-error");const{sub:gt}=je;return G(w.uid===gt,P,"user-mismatch"),Ji._forOperation(w,H,fe)}catch(fe){throw"auth/user-not-found"===(null===(D=fe)||void 0===D?void 0:D.code)&&ft(P,"user-mismatch"),fe}})).apply(this,arguments)}function Xi(w,_){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(w,_,y=!1){const D="signIn",P=yield wd(w,D,_),H=yield Ji._fromIdTokenResponse(w,D,P);return y||(yield w._updateCurrentUser(H.user)),H})).apply(this,arguments)}function Co(w,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(w,_){return Xi(fi(w),_)})).apply(this,arguments)}function Cc(w,_){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(w,_){const y=(0,W.m9)(w);return yield Di(!1,y,_.providerId),wo(y,_)})).apply(this,arguments)}function Ec(w,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(w,_){return cr((0,W.m9)(w),_)})).apply(this,arguments)}function Wa(w,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(w,_){return jn(w,"POST","/v1/accounts:signInWithCustomToken",Yt(w,_))})).apply(this,arguments)}function Sl(w,_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(w,_){const y=fi(w),D=yield Wa(y,{token:_,returnSecureToken:!0}),P=yield Ji._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(P.user),P})).apply(this,arguments)}class $e{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?nn._fromServerResponse(_,y):ft(_,"internal-error")}}class nn extends $e{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new nn(y)}}function Do(w,_,y){var D;G((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),G(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(G(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(G(y.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function sa(w,_,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w),P={requestType:"PASSWORD_RESET",email:_};y&&Do(D,P,y),yield ar(D,P)})).apply(this,arguments)}function Dc(w,_,y){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(w,_,y){yield ai((0,W.m9)(w),{oobCode:_,newPassword:y})})).apply(this,arguments)}function ur(w,_){return To.apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(w,_){yield yd((0,W.m9)(w),{oobCode:_})})).apply(this,arguments)}function to(w,_){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(w,_){const y=(0,W.m9)(w),D=yield ai(y,{oobCode:_}),P=D.requestType;switch(G(P,y,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(D.mfaInfo,y,"internal-error");default:G(D.email,y,"internal-error")}let H=null;return D.mfaInfo&&(H=$e._fromServerResponse(fi(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:H},operation:P}})).apply(this,arguments)}function Cd(w,_){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(w,_){const{data:y}=yield to((0,W.m9)(w),_);return y.email})).apply(this,arguments)}function So(w,_,y){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(w,_,y){const D=fi(w),P=yield Ts(D,{returnSecureToken:!0,email:_,password:y}),H=yield Ji._fromIdTokenResponse(D,"signIn",P);return yield D._updateCurrentUser(H.user),H})).apply(this,arguments)}function es(w,_,y){return Co((0,W.m9)(w),Vr.credential(_,y))}function Tc(w,_,y){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w),P={requestType:"EMAIL_SIGNIN",email:_};G(y.handleCodeInApp,D,"argument-error"),y&&Do(D,P,y),yield El(D,P)})).apply(this,arguments)}function As(w,_){return"EMAIL_SIGNIN"===ta.parseLink(_)?.operation}function Tu(w,_,y){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w),P=Vr.credentialWithLink(_,y||Qe());return G(P._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Co(D,P)})).apply(this,arguments)}function Sc(w,_){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:createAuthUri",Yt(w,_))})).apply(this,arguments)}function Ka(w,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(w,_){const D={identifier:_,continueUri:Ye()?Qe():"http://localhost"},{signinMethods:P}=yield Sc((0,W.m9)(w),D);return P||[]})).apply(this,arguments)}function Ac(w,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(w,_){const y=(0,W.m9)(w),P={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&Do(y.auth,P,_);const{email:H}=yield Ei(y.auth,P);H!==w.email&&(yield w.reload())})).apply(this,arguments)}function Il(w,_,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};y&&Do(D.auth,H,y);const{email:fe}=yield gc(D.auth,H);fe!==w.email&&(yield w.reload())})).apply(this,arguments)}function Nc(w,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(w,_){return Qt(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function xc(w,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(w,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const D=(0,W.m9)(w),H={idToken:yield D.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},fe=yield Gn(D,Nc(D.auth,H));D.displayName=fe.displayName||null,D.photoURL=fe.photoUrl||null;const je=D.providerData.find(({providerId:gt})=>"password"===gt);je&&(je.displayName=D.displayName,je.photoURL=D.photoURL),yield D._updateTokensIfNecessary(fe)})).apply(this,arguments)}function Qa(w,_){return la((0,W.m9)(w),_,null)}function Al(w,_){return la((0,W.m9)(w),null,_)}function la(w,_,y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(w,_,y){const{auth:D}=w,H={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(H.email=_),y&&(H.password=y);const fe=yield Gn(w,Rn(D,H));yield w._updateTokensIfNecessary(fe,!0)})).apply(this,arguments)}class dr{constructor(_,y,D={}){this.isNewUser=_,this.providerId=y,this.profile=D}}class Jn extends dr{constructor(_,y,D,P){super(_,y,D),this.username=P}}class Nl extends dr{constructor(_,y){super(_,"facebook.com",y)}}class Ed extends Jn{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Oc extends dr{constructor(_,y){super(_,"google.com",y)}}class Su extends Jn{constructor(_,y,D){super(_,"twitter.com",y,D)}}function kc(w){const{user:_,_tokenResponse:y}=w;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Pi(w){var _,y;if(!w)return null;const{providerId:D}=w,P=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},H=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&w?.idToken){const fe=null===(y=null===(_=ct(w.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(fe)return new dr(H,"anonymous"!==fe&&"custom"!==fe?fe:null)}if(!D)return null;switch(D){case"facebook.com":return new Nl(H,P);case"github.com":return new Ed(H,P);case"google.com":return new Oc(H,P);case"twitter.com":return new Su(H,P,w.screenName||null);case"custom":case"anonymous":return new dr(H,null);default:return new dr(H,D,P)}}(y)}class ua{constructor(_,y){this.type=_,this.credential=y}static _fromIdtoken(_){return new ua("enroll",_)}static _fromMfaPendingCredential(_){return new ua("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,D;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ua._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(D=_.multiFactorSession)&&void 0!==D&&D.idToken)return ua._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Rc{constructor(_,y,D){this.session=_,this.hints=y,this.signInResolver=D}static _fromError(_,y){const D=fi(_),P=y.customData._serverResponse,H=(P.mfaInfo||[]).map(je=>$e._fromServerResponse(D,je));G(P.mfaPendingCredential,D,"internal-error");const fe=ua._fromMfaPendingCredential(P.mfaPendingCredential);return new Rc(fe,H,function(){var je=(0,u.Z)(function*(gt){const Et=yield gt._process(D,fe);delete P.mfaInfo,delete P.mfaPendingCredential;const rn=Object.assign(Object.assign({},P),{idToken:Et.idToken,refreshToken:Et.refreshToken});switch(y.operationType){case"signIn":const si=yield Ji._fromIdTokenResponse(D,y.operationType,rn);return yield D._updateCurrentUser(si.user),si;case"reauthenticate":return G(y.user,D,"internal-error"),Ji._forOperation(y.user,y.operationType,rn);default:ft(D,"internal-error")}});return function(gt){return je.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,u.Z)(function*(){return y.signInResolver(_)})()}}function No(w,_){var y;const D=(0,W.m9)(w),P=_;return G(_.customData.operationType,D,"argument-error"),G(null===(y=P.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Rc._fromError(D,P)}function gi(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:start",Yt(w,_))}class ts{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>$e._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new ts(_)}getSession(){var _=this;return(0,u.Z)(function*(){return ua._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,y){var D=this;return(0,u.Z)(function*(){const P=_,H=yield D.getSession(),fe=yield Gn(D.user,P._process(D.user.auth,H,y));return yield D.user._updateTokensIfNecessary(fe),D.user.reload()})()}unenroll(_){var y=this;return(0,u.Z)(function*(){var D;const P="string"==typeof _?_:_.uid,H=yield y.user.getIdToken(),fe=yield Gn(y.user,function Oh(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(w,_))}(y.user.auth,{idToken:H,mfaEnrollmentId:P}));y.enrolledFactors=y.enrolledFactors.filter(({uid:je})=>je!==P),yield y.user._updateTokensIfNecessary(fe);try{yield y.user.reload()}catch(je){if("auth/user-token-expired"!==(null===(D=je)||void 0===D?void 0:D.code))throw je}})()}}const da=new WeakMap;function Ja(w){const _=(0,W.m9)(w);return da.has(_)||da.set(_,ts._fromUser(_)),da.get(_)}const Xa="__sak";class Ol{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Xa,"1"),this.storage.removeItem(Xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gi=(()=>{class w extends Ol{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mc(){const w=(0,W.z$)();return X(w)||Ut(w)}()&&function $n(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const P=this.storage.getItem(D),H=this.localCache[D];P!==H&&y(D,H,P)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((je,gt,Et)=>{this.notifyListeners(je,Et)});const P=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(P);if(y.newValue!==je)null!==y.newValue?this.storage.setItem(P,y.newValue):this.storage.removeItem(P);else if(this.localCache[P]===y.newValue&&!D)return}const H=()=>{const je=this.storage.getItem(P);!D&&this.localCache[P]===je||this.notifyListeners(P,je)},fe=this.storage.getItem(P);!function Lt(){return(0,W.w1)()&&10===document.documentMode}()||fe===y.newValue||y.newValue===y.oldValue?H():setTimeout(H,10)}notifyListeners(y,D){this.localCache[y]=D;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var P=()=>super._set,H=this;return(0,u.Z)(function*(){yield P().call(H,y,D),H.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,P=this;return(0,u.Z)(function*(){const H=yield D().call(P,y);return P.localCache[y]=JSON.stringify(H),H})()}_remove(y){var D=()=>super._remove,P=this;return(0,u.Z)(function*(){yield D().call(P,y),delete P.localCache[y]})()}}return w.type="LOCAL",w})(),S=(()=>{class w extends Ol{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let Y=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(H=>H.isListeningto(y));if(D)return D;const P=new w(y);return this.receivers.push(P),P}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,u.Z)(function*(){const P=y,{eventId:H,eventType:fe,data:je}=P.data,gt=D.handlersMap[fe];if(!gt?.size)return;P.ports[0].postMessage({status:"ack",eventId:H,eventType:fe});const Et=Array.from(gt).map(function(){var si=(0,u.Z)(function*(Fo){return Fo(P.origin,je)});return function(Fo){return si.apply(this,arguments)}}()),rn=yield function R(w){return Promise.all(w.map(function(){var _=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return _.apply(this,arguments)}}()))}(Et);P.ports[0].postMessage({status:"done",eventId:H,eventType:fe,response:rn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Re(w="",_=10){let y="";for(let D=0;D<_;D++)y+=Math.floor(10*Math.random());return w+y}class xe{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,D=50){var P=this;return(0,u.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let fe,je;return new Promise((gt,Et)=>{const rn=Re("",20);H.port1.start();const si=setTimeout(()=>{Et(new Error("unsupported_event"))},D);je={messageChannel:H,onMessage(Fo){const cl=Fo;if(cl.data.eventId===rn)switch(cl.data.status){case"ack":clearTimeout(si),fe=setTimeout(()=>{Et(new Error("timeout"))},3e3);break;case"done":clearTimeout(fe),gt(cl.data.response);break;default:clearTimeout(si),clearTimeout(fe),Et(new Error("invalid_response"))}}},P.handlers.add(je),H.port1.addEventListener("message",je.onMessage),P.target.postMessage({eventType:_,eventId:rn,data:y},[H.port2])}).finally(()=>{je&&P.removeMessageHandler(je)})})()}}function Zt(){return window}function mi(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function Os(){return(Os=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ha="firebaseLocalStorageDb",fa="firebaseLocalStorage",Fc="fbase_key";class Rl{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function el(w,_){return w.transaction([fa],_?"readwrite":"readonly").objectStore(fa)}function xo(){const w=indexedDB.open(ha,1);return new Promise((_,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(fa,{keyPath:Fc})}catch(P){y(P)}}),w.addEventListener("success",(0,u.Z)(function*(){const D=w.result;D.objectStoreNames.contains(fa)?_(D):(D.close(),yield function pp(){const w=indexedDB.deleteDatabase(ha);return new Rl(w).toPromise()}(),_(yield xo()))}))})}function pa(w,_,y){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(w,_,y){const D=el(w,!0).put({[Fc]:_,value:y});return new Rl(D).toPromise()})).apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(w,_){const y=el(w,!1).get(_),D=yield new Rl(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ks(w,_){const y=el(w,!0).delete(_);return new Rl(y).toPromise()}const Nu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield xo()),y.db})()}_withRetries(y){var D=this;return(0,u.Z)(function*(){let P=0;for(;;)try{const H=yield D._openDb();return yield y(H)}catch(H){if(P++>3)throw H;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return mi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=Y._getInstance(function Iu(){return mi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*(P,H){return{keyProcessed:(yield y._poll()).includes(H.key)}});return function(P,H){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*(P,H){return["keyChanged"]});return function(P,H){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var D,P;if(y.activeServiceWorker=yield function Nr(){return Os.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new xe(y.activeServiceWorker);const H=yield y.sender._send("ping",{},800);!H||(null===(D=H[0])||void 0===D?void 0:D.fulfilled)&&(null===(P=H[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Od(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield xo();return yield pa(y,Xa,"1"),yield ks(y,Xa),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var P=this;return(0,u.Z)(function*(){return P._withPendingWrite((0,u.Z)(function*(){return yield P._withRetries(H=>pa(H,y,D)),P.localCache[y]=D,P.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,u.Z)(function*(){const P=yield D._withRetries(H=>function kh(w,_){return tl.apply(this,arguments)}(H,y));return D.localCache[y]=P,P})()}_remove(y){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(P=>ks(P,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const D=yield y._withRetries(fe=>{const je=el(fe,!1).getAll();return new Rl(je).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const P=[],H=new Set;for(const{fbase_key:fe,value:je}of D)H.add(fe),JSON.stringify(y.localCache[fe])!==JSON.stringify(je)&&(y.notifyListeners(fe,je),P.push(fe));for(const fe of Object.keys(y.localCache))y.localCache[fe]&&!H.has(fe)&&(y.notifyListeners(fe,null),P.push(fe));return P})()}notifyListeners(y,D){this.localCache[y]=D;const P=this.listeners[y];if(P)for(const H of Array.from(P))H(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Md(w,_){return Qt(w,"POST","/v2/accounts/mfaSignIn:start",Yt(w,_))}function ln(){return(ln=(0,u.Z)(function*(w){return(yield Qt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nl(w){return new Promise((_,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=_,D.onerror=P=>{const H=Ke("internal-error");H.customData=P,y(H)},D.type="text/javascript",D.charset="UTF-8",function ga(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(D)})}function Pl(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Si=1e12;class kn{constructor(_){this.auth=_,this.counter=Si,this._widgets=new Map}render(_,y){const D=this.counter;return this._widgets.set(D,new bm(_,this.auth.name,y||{})),this.counter++,D}reset(_){var y;const D=_||Si;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(_){var y;return(null===(y=this._widgets.get(_||Si))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,u.Z)(function*(){var D;return null===(D=y._widgets.get(_||Si))||void 0===D||D.execute(),""})()}}class bm{constructor(_,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof _?document.getElementById(_):_;G(P,"argument-error",{appName:y}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gp(w){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ma=Pl("rcb"),mp=new tt(3e4,6e4);class Mh{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Zt().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return G(function xu(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Zt().grecaptcha):new Promise((D,P)=>{const H=Zt().setTimeout(()=>{P(Ke(_,"network-request-failed"))},mp.get());Zt()[ma]=()=>{Zt().clearTimeout(H),delete Zt()[ma];const je=Zt().grecaptcha;if(!je)return void P(Ke(_,"internal-error"));const gt=je.render;je.render=(Et,rn)=>{const si=gt(Et,rn);return this.counter++,si},this.hostLanguage=y,D(je)},nl(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:ma,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(H),P(Ke(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=Zt().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bc{load(_){return(0,u.Z)(function*(){return new kn(_)})()}clearedOneInstance(){}}const Cm="recaptcha",lv={theme:"light",type:"image"};class Fi{constructor(_,y=Object.assign({},lv),D){this.parameters=y,this.type=Cm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(D),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof _?document.getElementById(_):_;G(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bc:new Mh,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(y)||new Promise(H=>{const fe=je=>{!je||(_.tokenChangeListeners.delete(fe),H(je))};_.tokenChangeListeners.add(fe),_.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof _)_(y);else if("string"==typeof _){const D=Zt()[_];"function"==typeof D&&D(y)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){G(Ye()&&!mi(),_.auth,"internal-error"),yield function Ou(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function jr(w){return ln.apply(this,arguments)}(_.auth);G(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=Qs._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function Em(w,_,y){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(w,_,y){const D=fi(w),P=yield Oo(D,_,(0,W.m9)(y));return new oo(P,H=>Co(D,H))})).apply(this,arguments)}function xr(w,_,y){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w);yield Di(!1,D,"phone");const P=yield Oo(D.auth,_,(0,W.m9)(y));return new oo(P,H=>Cc(D,H))})).apply(this,arguments)}function Ph(w,_,y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w),P=yield Oo(D.auth,_,(0,W.m9)(y));return new oo(P,H=>Ec(D,H))})).apply(this,arguments)}function Oo(w,_,y){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(w,_,y){var D;const P=yield y.verify();try{let H;if(G("string"==typeof P,w,"argument-error"),G(y.type===Cm,w,"argument-error"),H="string"==typeof _?{phoneNumber:_}:_,"session"in H){const fe=H.session;if("phoneNumber"in H)return G("enroll"===fe.type,w,"internal-error"),(yield gi(w,{idToken:fe.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{G("signin"===fe.type,w,"internal-error");const je=(null===(D=H.multiFactorHint)||void 0===D?void 0:D.uid)||H.multiFactorUid;return G(je,w,"missing-multi-factor-info"),(yield Md(w,{mfaPendingCredential:fe.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:fe}=yield Ah(w,{phoneNumber:H.phoneNumber,recaptchaToken:P});return fe}}finally{y._reset()}})).apply(this,arguments)}function _p(w,_){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(w,_){yield wo((0,W.m9)(w),_)})).apply(this,arguments)}let Dm=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=fi(y)}verifyPhoneNumber(y,D){return Oo(this.auth,y,(0,W.m9)(D))}static credential(y,D){return Qs._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:P}=y;return D&&P?Qs._fromTokenResponse(D,P):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function il(w,_){return _?le(_):(G(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Vc extends ri{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Ks(_,this._buildIdpRequest())}_linkToIdToken(_,y){return Ks(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return Ks(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function Hr(w){return Xi(w.auth,new Vc(w),w.bypassAuthState)}function Pd(w){const{auth:_,user:y}=w;return G(y,_,"internal-error"),cr(y,new Vc(w),w.bypassAuthState)}function ya(w){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(w){const{auth:_,user:y}=w;return G(y,_,"internal-error"),wo(y,new Vc(w),w.bypassAuthState)})).apply(this,arguments)}class Rt{constructor(_,y,D,P,H=!1){this.auth=_,this.resolver=D,this.user=P,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,u.Z)(function*(D,P){_.pendingPromise={resolve:D,reject:P};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(H){_.reject(H)}});return function(D,P){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:P,postBody:H,tenantId:fe,error:je,type:gt}=_;if(je)return void y.reject(je);const Et={auth:y.auth,requestUri:D,sessionId:P,tenantId:fe||void 0,postBody:H||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(gt)(Et))}catch(rn){y.reject(rn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Hr;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return Pd;default:ft(this.auth,"internal-error")}}resolve(_){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ll=new tt(2e3,1e4);function Fd(w,_,y){return is.apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(w,_,y){const D=fi(w);Be(w,_,Jr);const P=il(D,y);return new Rs(D,"signInViaPopup",_,P).executeNotNull()})).apply(this,arguments)}function rs(w,_,y){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w);Be(D.auth,_,Jr);const P=il(D.auth,y);return new Rs(D.auth,"reauthViaPopup",_,P,D).executeNotNull()})).apply(this,arguments)}function Tm(w,_,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w);Be(D.auth,_,Jr);const P=il(D.auth,y);return new Rs(D.auth,"linkViaPopup",_,P,D).executeNotNull()})).apply(this,arguments)}let Rs=(()=>{class w extends Rt{constructor(y,D,P,H,fe){super(y,D,H,fe),this.provider=P,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const D=yield y.execute();return G(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,u.Z)(function*(){Ee(1===y.filter.length,"Popup operations only handle one event");const D=Re();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(P=>{y.reject(P)}),y.resolver._isIframeWebStorageSupported(y.auth,P=>{P||y.reject(Ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,P;this.pollId=null!==(P=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ll.get())};y()}}return w.currentPopupAction=null,w})();const vr=new Map;class Mu extends Rt{constructor(_,y,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,u.Z)(function*(){let D=vr.get(y.auth._key());if(!D){try{const H=(yield function rl(w,_){return Uc.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;D=()=>Promise.resolve(H)}catch(P){D=()=>Promise.reject(P)}vr.set(y.auth._key(),D)}return y.bypassAuthState||vr.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(D,_);if("unknown"!==_.type){if(_.eventId){const P=yield D.auth._redirectUserForId(_.eventId);if(P)return D.user=P,y().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Uc(){return(Uc=(0,u.Z)(function*(w,_){const y=jc(_),D=ol(w);if(!(yield D._isAvailable()))return!1;const P="true"===(yield D._get(y));return yield D._remove(y),P})).apply(this,arguments)}function ko(w,_){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,u.Z)(function*(w,_){return ol(w)._set(jc(_),"true")})).apply(this,arguments)}function wa(){vr.clear()}function sl(w,_){vr.set(w._key(),_)}function ol(w){return le(w._redirectPersistence)}function jc(w){return Sn("pendingRedirect",w.config.apiKey,w.name)}function Ii(w,_,y){return function ao(w,_,y){return Gr.apply(this,arguments)}(w,_,y)}function Gr(){return(Gr=(0,u.Z)(function*(w,_,y){const D=fi(w);Be(w,_,Jr);const P=il(D,y);return yield ko(P,D),P._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function N(w,_,y){return function x(w,_,y){return F.apply(this,arguments)}(w,_,y)}function F(){return(F=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w);Be(D.auth,_,Jr);const P=il(D.auth,y);yield ko(P,D.auth);const H=yield an(D);return P._openRedirect(D.auth,_,"reauthViaRedirect",H)})).apply(this,arguments)}function K(w,_,y){return function ue(w,_,y){return we.apply(this,arguments)}(w,_,y)}function we(){return(we=(0,u.Z)(function*(w,_,y){const D=(0,W.m9)(w);Be(D.auth,_,Jr);const P=il(D.auth,y);yield Di(!1,D,_.providerId),yield ko(P,D.auth);const H=yield an(D);return P._openRedirect(D.auth,_,"linkViaRedirect",H)})).apply(this,arguments)}function We(w,_){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(w,_){return yield fi(w)._initializationPromise,Mt(w,_,!1)})).apply(this,arguments)}function Mt(w,_){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(w,_,y=!1){const D=fi(w),P=il(D,_),fe=yield new Mu(D,P,y).execute();return fe&&!y&&(delete fe.user._redirectEventId,yield D._persistUserIfCurrent(fe.user),yield D._setRedirectUser(null,_)),fe})).apply(this,arguments)}function an(w){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(w){const _=Re(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Or{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(y=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ms(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bl(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var D;if(_.error&&!Bl(_)){const P=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(Ke(this.auth,P))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const D=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ro(_))}saveEventToCache(_){this.cachedEventUids.add(Ro(_)),this.lastProcessedEventTime=Date.now()}}function Ro(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function Bl({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function Ca(w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(w,_={}){return Qt(w,"GET","/v1/projects",_)})).apply(this,arguments)}const Hc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mo=/^https?/;function Pu(){return(Pu=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield Ca(w);for(const y of _)try{if(cv(y))return}catch{}ft(w,"unauthorized-domain")})).apply(this,arguments)}function cv(w){const _=Qe(),{protocol:y,hostname:D}=new URL(_);if(w.startsWith("chrome-extension://")){const fe=new URL(w);return""===fe.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&fe.hostname===D}if(!Mo.test(y))return!1;if(Hc.test(w))return D===w;const P=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(D)}const uv=new tt(3e4,6e4);function Sm(){const w=Zt().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Gc=null;function dv(w){return Gc=Gc||function Bd(w){return new Promise((_,y)=>{var D,P,H;function fe(){Sm(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Sm(),y(Ke(w,"network-request-failed"))},timeout:uv.get()})}if(null!==(P=null===(D=Zt().gapi)||void 0===D?void 0:D.iframes)&&void 0!==P&&P.Iframe)_(gapi.iframes.getContext());else{if(null===(H=Zt().gapi)||void 0===H||!H.load){const je=Pl("iframefcb");return Zt()[je]=()=>{gapi.load?fe():y(Ke(w,"network-request-failed"))},nl(`https://apis.google.com/js/api.js?onload=${je}`).catch(gt=>y(gt))}fe()}}).catch(_=>{throw Gc=null,_})}(w),Gc}const $c=new tt(5e3,15e3),zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bh(w){const _=w.config;G(_.authDomain,w,"auth-domain-config-required");const y=_.emulator?yn(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:_.apiKey,appName:w.name,v:B.SDK_VERSION},P=Vd.get(w.config.apiHost);P&&(D.eid=P);const H=w._getFrameworks();return H.length&&(D.fw=H.join(",")),`${y}?${(0,W.xO)(D).slice(1)}`}function Fu(){return Fu=(0,u.Z)(function*(w){const _=yield dv(w),y=Zt().gapi;return G(y,w,"internal-error"),_.open({where:document.body,url:Bh(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zc,dontclear:!0},D=>new Promise(function(){var P=(0,u.Z)(function*(H,fe){yield D.restyle({setHideOnLeave:!1});const je=Ke(w,"network-request-failed"),gt=Zt().setTimeout(()=>{fe(je)},$c.get());function Et(){Zt().clearTimeout(gt),H(D)}D.ping(Et).then(Et,()=>{fe(je)})});return function(H,fe){return P.apply(this,arguments)}}()))}),Fu.apply(this,arguments)}const Vh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wc{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jh(w,_,y,D,P,H){G(w.config.authDomain,w,"auth-domain-config-required"),G(w.config.apiKey,w,"invalid-api-key");const fe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:B.SDK_VERSION,eventId:P};if(_ instanceof Jr){_.setDefaultLanguage(w.languageCode),fe.providerId=_.providerId||"",(0,W.xb)(_.getCustomParameters())||(fe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[gt,Et]of Object.entries(H||{}))fe[gt]=Et}if(_ instanceof Js){const gt=_.getScopes().filter(Et=>""!==Et);gt.length>0&&(fe.scopes=gt.join(","))}w.tenantId&&(fe.tid=w.tenantId);const je=fe;for(const gt of Object.keys(je))void 0===je[gt]&&delete je[gt];return`${function pv({config:w}){return w.emulator?yn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,W.xO)(je).slice(1)}`}const vp="webStorageSupport",Am=class Ps{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S,this._completeRedirectFn=Mt,this._overrideRedirectResult=sl}_openPopup(_,y,D,P){var H=this;return(0,u.Z)(function*(){var fe;Ee(null===(fe=H.eventManagers[_._key()])||void 0===fe?void 0:fe.manager,"_initialize() not called before _openPopup()");const je=jh(_,y,D,Qe(),P);return function ll(w,_,y,D=500,P=600){const H=Math.max((window.screen.availHeight-P)/2,0).toString(),fe=Math.max((window.screen.availWidth-D)/2,0).toString();let je="";const gt=Object.assign(Object.assign({},Vh),{width:D.toString(),height:P.toString(),top:H,left:fe}),Et=(0,W.z$)().toLowerCase();y&&(je=ke(Et)?"_blank":y),J(Et)&&(_=_||"http://localhost",gt.scrollbars="yes");const rn=Object.entries(gt).reduce((Fo,[cl,bp])=>`${Fo}${cl}=${bp},`,"");if(function Ri(w=(0,W.z$)()){var _;return Ut(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Et)&&"_self"!==je)return function Ea(w,_){const y=document.createElement("a");y.href=w,y.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(_||"",je),new Wc(null);const si=window.open(_||"",je,rn);G(si,w,"popup-blocked");try{si.focus()}catch{}return new Wc(si)}(_,je,Re())})()}_openRedirect(_,y,D,P){var H=this;return(0,u.Z)(function*(){return yield H._originValidation(_),function Qn(w){Zt().location.href=w}(jh(_,y,D,Qe(),P)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:P,promise:H}=this.eventManagers[y];return P?Promise.resolve(P):(Ee(H,"If manager is not set, promise should be"),H)}const D=this.initAndGetManager(_);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(_){var y=this;return(0,u.Z)(function*(){const D=yield function Ud(w){return Fu.apply(this,arguments)}(_),P=new Or(_);return D.register("authEvent",H=>(G(H?.authEvent,_,"invalid-auth-event"),{status:P.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:P},y.iframes[_._key()]=D,P})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(vp,{type:vp},P=>{var H;const fe=null===(H=P?.[0])||void 0===H?void 0:H[vp];void 0!==fe&&y(!!fe),ft(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function al(w){return Pu.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Mi()||X()||Ut()}};class Da extends class Hh{constructor(_){this.factorId=_}_process(_,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,D);case"signin":return this._finalizeSignIn(_,y.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Da(_)}_finalizeEnroll(_,y,D){return function Ad(w,_){return Qt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(w,_))}(_,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function Ml(w,_){return Qt(w,"POST","/v2/accounts/mfaSignIn:finalize",Yt(w,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jd=(()=>{class w{constructor(){}static assertion(y){return Da._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Gh="@firebase/auth";class UC{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(D=>{var P;_((null===(P=D)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Om(w){(0,B._registerComponent)(new Ie.wA("auth",(_,{options:y})=>{const D=_.getProvider("app").getImmediate(),P=_.getProvider("heartbeat"),{apiKey:H,authDomain:fe}=D.options;return((je,gt)=>{G(H&&!H.includes(":"),"invalid-api-key",{appName:je.name}),G(!fe?.includes(":"),"argument-error",{appName:je.name});const Et={apiKey:H,authDomain:fe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(w)},rn=new en(je,gt,Et);return function me(w,_){const y=_?.persistence||[],D=(Array.isArray(y)?y:[y]).map(le);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(D,_?.popupRedirectResolver)}(rn,y),rn})(D,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,D)=>{_.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Ie.wA("auth-internal",_=>{const y=fi(_.getProvider("auth").getImmediate());return new UC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Gh,"0.20.5",function xm(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,B.registerVersion)(Gh,"0.20.5","esm2017")}("Browser")},2090:(St,Ve,j)=>{"use strict";j.d(Ve,{$s:()=>Qi,BH:()=>st,DV:()=>Qt,Dv:()=>Ui,G6:()=>G,GJ:()=>on,L:()=>Ce,LL:()=>Qe,Mn:()=>Be,Pz:()=>Jt,Sg:()=>Ze,UG:()=>Oe,UI:()=>Qr,US:()=>Ie,Wj:()=>ii,Yr:()=>lt,ZB:()=>te,ZR:()=>me,b$:()=>ft,cI:()=>gn,d:()=>Ke,dS:()=>ct,eu:()=>Ee,g5:()=>B,gK:()=>Vt,gQ:()=>Zn,h$:()=>_e,hl:()=>ye,hu:()=>W,jU:()=>Te,lb:()=>Tn,m9:()=>qt,ne:()=>wt,p$:()=>ee,pd:()=>Hn,r3:()=>Yt,ru:()=>ht,tV:()=>Ae,uI:()=>_t,ug:()=>at,vZ:()=>Ki,w1:()=>ze,w9:()=>un,xO:()=>Yi,xb:()=>Ci,z$:()=>Le,zI:()=>ae,zd:()=>Tr});const W=function(oe,q){if(!oe)throw B(q)},B=function(oe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+oe)},ge=function(oe){const q=[];let Q=0;for(let ie=0;ie<oe.length;ie++){let re=oe.charCodeAt(ie);re<128?q[Q++]=re:re<2048?(q[Q++]=re>>6|192,q[Q++]=63&re|128):55296==(64512&re)&&ie+1<oe.length&&56320==(64512&oe.charCodeAt(ie+1))?(re=65536+((1023&re)<<10)+(1023&oe.charCodeAt(++ie)),q[Q++]=re>>18|240,q[Q++]=re>>12&63|128,q[Q++]=re>>6&63|128,q[Q++]=63&re|128):(q[Q++]=re>>12|224,q[Q++]=re>>6&63|128,q[Q++]=63&re|128)}return q},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,q){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let re=0;re<oe.length;re+=3){const Ue=oe[re],nt=re+1<oe.length,Ft=nt?oe[re+1]:0,Nn=re+2<oe.length,Sn=Nn?oe[re+2]:0;let J=(15&Ft)<<2|Sn>>6,X=63&Sn;Nn||(X=64,nt||(J=64)),ie.push(Q[Ue>>2],Q[(3&Ue)<<4|Ft>>4],Q[J],Q[X])}return ie.join("")},encodeString(oe,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(oe):this.encodeByteArray(ge(oe),q)},decodeString(oe,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(oe):function(oe){const q=[];let Q=0,ie=0;for(;Q<oe.length;){const re=oe[Q++];if(re<128)q[ie++]=String.fromCharCode(re);else if(re>191&&re<224){const Ue=oe[Q++];q[ie++]=String.fromCharCode((31&re)<<6|63&Ue)}else if(re>239&&re<365){const Nn=((7&re)<<18|(63&oe[Q++])<<12|(63&oe[Q++])<<6|63&oe[Q++])-65536;q[ie++]=String.fromCharCode(55296+(Nn>>10)),q[ie++]=String.fromCharCode(56320+(1023&Nn))}else{const Ue=oe[Q++],nt=oe[Q++];q[ie++]=String.fromCharCode((15&re)<<12|(63&Ue)<<6|63&nt)}}return q.join("")}(this.decodeStringToByteArray(oe,q))},decodeStringToByteArray(oe,q){this.init_();const Q=q?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let re=0;re<oe.length;){const Ue=Q[oe.charAt(re++)],Ft=re<oe.length?Q[oe.charAt(re)]:0;++re;const Sn=re<oe.length?Q[oe.charAt(re)]:64;++re;const de=re<oe.length?Q[oe.charAt(re)]:64;if(++re,null==Ue||null==Ft||null==Sn||null==de)throw Error();ie.push(Ue<<2|Ft>>4),64!==Sn&&(ie.push(Ft<<4&240|Sn>>2),64!==de&&ie.push(Sn<<6&192|de))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},_e=function(oe){const q=ge(oe);return Ie.encodeByteArray(q,!0)},Ce=function(oe){return _e(oe).replace(/\./g,"")},Ae=function(oe){try{return Ie.decodeString(oe,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function ee(oe){return te(void 0,oe)}function te(oe,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return q}for(const Q in q)!q.hasOwnProperty(Q)||!ce(Q)||(oe[Q]=te(oe[Q],q[Q]));return oe}function ce(oe){return"__proto__"!==oe}class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,Q)=>{this.resolve=q,this.reject=Q})}wrapCallback(q){return(Q,ie)=>{Q?this.reject(Q):this.resolve(ie),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(Q):q(Q,ie))}}}function Ze(oe,q){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ie=q||"demo-project",re=oe.iat||0,Ue=oe.sub||oe.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nt=Object.assign({iss:`https://securetoken.google.com/${ie}`,aud:ie,iat:re,exp:re+3600,auth_time:re,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(nt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Te(){return"object"==typeof self&&self.self===self}function ht(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return Le().indexOf("Electron/")>=0}function ze(){const oe=Le();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Be(){return Le().indexOf("MSAppHost/")>=0}function lt(){return!1}function G(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function Ee(){return new Promise((oe,q)=>{try{let Q=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ie);re.onsuccess=()=>{re.result.close(),Q||self.indexedDB.deleteDatabase(ie),oe(!0)},re.onupgradeneeded=()=>{Q=!1},re.onerror=()=>{var Ue;q((null===(Ue=re.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(Q){q(Q)}})}function ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(q,Q,ie){super(Q),this.code=q,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(q,Q,ie){this.service=q,this.serviceName=Q,this.errors=ie}create(q,...Q){const ie=Q[0]||{},re=`${this.service}/${q}`,Ue=this.errors[q],nt=Ue?function Ye(oe,q){return oe.replace(Ot,(Q,ie)=>{const re=q[ie];return null!=re?String(re):`<${ie}?>`})}(Ue,ie):"Error";return new me(re,`${this.serviceName}: ${nt} (${re}).`,ie)}}const Ot=/\{\$([^}]+)}/g;function gn(oe){return JSON.parse(oe)}function Jt(oe){return JSON.stringify(oe)}const tt=function(oe){let q={},Q={},ie={},re="";try{const Ue=oe.split(".");q=gn(Ae(Ue[0])||""),Q=gn(Ae(Ue[1])||""),re=Ue[2],ie=Q.d||{},delete Q.d}catch{}return{header:q,claims:Q,data:ie,signature:re}},un=function(oe){const Q=tt(oe).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},on=function(oe){const q=tt(oe).claims;return"object"==typeof q&&!0===q.admin};function Yt(oe,q){return Object.prototype.hasOwnProperty.call(oe,q)}function Qt(oe,q){if(Object.prototype.hasOwnProperty.call(oe,q))return oe[q]}function Ci(oe){for(const q in oe)if(Object.prototype.hasOwnProperty.call(oe,q))return!1;return!0}function Qr(oe,q,Q){const ie={};for(const re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&(ie[re]=q.call(Q,oe[re],re,oe));return ie}function Ki(oe,q){if(oe===q)return!0;const Q=Object.keys(oe),ie=Object.keys(q);for(const re of Q){if(!ie.includes(re))return!1;const Ue=oe[re],nt=q[re];if(jn(Ue)&&jn(nt)){if(!Ki(Ue,nt))return!1}else if(Ue!==nt)return!1}for(const re of ie)if(!Q.includes(re))return!1;return!0}function jn(oe){return null!==oe&&"object"==typeof oe}function Yi(oe){const q=[];for(const[Q,ie]of Object.entries(oe))Array.isArray(ie)?ie.forEach(re=>{q.push(encodeURIComponent(Q)+"="+encodeURIComponent(re))}):q.push(encodeURIComponent(Q)+"="+encodeURIComponent(ie));return q.length?"&"+q.join("&"):""}function Tr(oe){const q={};return oe.replace(/^\?/,"").split("&").forEach(ie=>{if(ie){const[re,Ue]=ie.split("=");q[decodeURIComponent(re)]=decodeURIComponent(Ue)}}),q}function Hn(oe){const q=oe.indexOf("?");if(!q)return"";const Q=oe.indexOf("#",q);return oe.substring(q,Q>0?Q:void 0)}class Zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,Q){Q||(Q=0);const ie=this.W_;if("string"==typeof q)for(let de=0;de<16;de++)ie[de]=q.charCodeAt(Q)<<24|q.charCodeAt(Q+1)<<16|q.charCodeAt(Q+2)<<8|q.charCodeAt(Q+3),Q+=4;else for(let de=0;de<16;de++)ie[de]=q[Q]<<24|q[Q+1]<<16|q[Q+2]<<8|q[Q+3],Q+=4;for(let de=16;de<80;de++){const J=ie[de-3]^ie[de-8]^ie[de-14]^ie[de-16];ie[de]=4294967295&(J<<1|J>>>31)}let Sn,hi,re=this.chain_[0],Ue=this.chain_[1],nt=this.chain_[2],Ft=this.chain_[3],Nn=this.chain_[4];for(let de=0;de<80;de++){de<40?de<20?(Sn=Ft^Ue&(nt^Ft),hi=1518500249):(Sn=Ue^nt^Ft,hi=1859775393):de<60?(Sn=Ue&nt|Ft&(Ue|nt),hi=2400959708):(Sn=Ue^nt^Ft,hi=3395469782);const J=(re<<5|re>>>27)+Sn+Nn+hi+ie[de]&4294967295;Nn=Ft,Ft=nt,nt=4294967295&(Ue<<30|Ue>>>2),Ue=re,re=J}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ue&4294967295,this.chain_[2]=this.chain_[2]+nt&4294967295,this.chain_[3]=this.chain_[3]+Ft&4294967295,this.chain_[4]=this.chain_[4]+Nn&4294967295}update(q,Q){if(null==q)return;void 0===Q&&(Q=q.length);const ie=Q-this.blockSize;let re=0;const Ue=this.buf_;let nt=this.inbuf_;for(;re<Q;){if(0===nt)for(;re<=ie;)this.compress_(q,re),re+=this.blockSize;if("string"==typeof q){for(;re<Q;)if(Ue[nt]=q.charCodeAt(re),++nt,++re,nt===this.blockSize){this.compress_(Ue),nt=0;break}}else for(;re<Q;)if(Ue[nt]=q[re],++nt,++re,nt===this.blockSize){this.compress_(Ue),nt=0;break}}this.inbuf_=nt,this.total_+=Q}digest(){const q=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&Q,Q/=256;this.compress_(this.buf_);let ie=0;for(let re=0;re<5;re++)for(let Ue=24;Ue>=0;Ue-=8)q[ie]=this.chain_[re]>>Ue&255,++ie;return q}}function wt(oe,q){const Q=new Pn(oe,q);return Q.subscribe.bind(Q)}class Pn{constructor(q,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{q(this)}).catch(ie=>{this.error(ie)})}next(q){this.forEachObserver(Q=>{Q.next(q)})}error(q){this.forEachObserver(Q=>{Q.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,Q,ie){let re;if(void 0===q&&void 0===Q&&void 0===ie)throw new Error("Missing Observer.");re=function vn(oe,q){if("object"!=typeof oe||null===oe)return!1;for(const Q of q)if(Q in oe&&"function"==typeof oe[Q])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:Q,complete:ie},void 0===re.next&&(re.next=di),void 0===re.error&&(re.error=di),void 0===re.complete&&(re.complete=di);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ue}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,q)}sendOne(q,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{Q(this.observers[q])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const Ui=function(oe,q,Q,ie){let re;if(ie<q?re="at least "+q:ie>Q&&(re=0===Q?"none":"no more than "+Q),re)throw new Error(oe+" failed: Was called with "+ie+(1===ie?" argument.":" arguments.")+" Expects "+re+".")};function Vt(oe,q){return`${oe} failed: ${q} argument `}function ii(oe,q,Q,ie){if((!ie||Q)&&"function"!=typeof Q)throw new Error(Vt(oe,q)+"must be a valid function.")}function Tn(oe,q,Q,ie){if((!ie||Q)&&("object"!=typeof Q||null===Q))throw new Error(Vt(oe,q)+"must be a valid context object.")}const ct=function(oe){const q=[];let Q=0;for(let ie=0;ie<oe.length;ie++){let re=oe.charCodeAt(ie);if(re>=55296&&re<=56319){const Ue=re-55296;ie++,W(ie<oe.length,"Surrogate pair missing trail surrogate."),re=65536+(Ue<<10)+(oe.charCodeAt(ie)-56320)}re<128?q[Q++]=re:re<2048?(q[Q++]=re>>6|192,q[Q++]=63&re|128):re<65536?(q[Q++]=re>>12|224,q[Q++]=re>>6&63|128,q[Q++]=63&re|128):(q[Q++]=re>>18|240,q[Q++]=re>>12&63|128,q[Q++]=re>>6&63|128,q[Q++]=63&re|128)}return q},at=function(oe){let q=0;for(let Q=0;Q<oe.length;Q++){const ie=oe.charCodeAt(Q);ie<128?q++:ie<2048?q+=2:ie>=55296&&ie<=56319?(q+=4,Q++):q+=3}return q};function Qi(oe,q=1e3,Q=2){const ie=q*Math.pow(Q,oe),re=Math.round(.5*ie*(Math.random()-.5)*2);return Math.min(144e5,ie+re)}function qt(oe){return oe&&oe._delegate?oe._delegate:oe}},6478:(St,Ve,j)=>{"use strict";var u=j(4650);let W=null;function B(){return W}const _e=new u.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(te)}()},providedIn:"platform"}),n})();const ee=new u.OlP("Location Initialized");let te=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ce()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ce()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function st(){return new te((0,u.LFG)(_e))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _t(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ht)},providedIn:"root"}),n})();const Te=new u.OlP("appBaseHref");let ht=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ze(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+_t(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+_t(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+_t(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce),u.LFG(Te,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends Oe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ze(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+_t(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+_t(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce),u.LFG(Te,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ke=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Le(lt(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+_t(i))}normalize(t){return n.stripTrailingSlash(function Be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,lt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_t(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_t(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=_t,n.joinWithSlash=Ze,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(u.LFG(Oe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new Ke((0,u.LFG)(Oe))}()},providedIn:"root"}),n})();function lt(n){return n.replace(/\/index.html$/,"")}function Rn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let wl=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ws{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ws(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,l),Br(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Br(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Br(n,e){n.context.$implicit=e.item}let Cs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ar,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ar{constructor(){this.$implicit=null,this.ngIf=null}}function Hi(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let lr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Xr="browser";function Tl(n){return"server"===n}let wd=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new za((0,u.LFG)(_e),window)}),n})();class za{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pi(this.window.history)||pi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ur{}class Xs extends class Di extends class Ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ve(n){W||(W=n)}(new Xs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wc(){return cr=cr||document.querySelector("base"),cr?cr.getAttribute("href"):null}();return null==t?null:function ia(n){Xi=Xi||document.createElement("a"),Xi.setAttribute("href",n);const e=Xi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rn(document.cookie,e)}}let Xi,cr=null;const Co=new u.OlP("TRANSITION_ID"),Cc=[{provide:u.ip1,useFactory:function Ct(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Co,_e,u.zs3],multi:!0}];let Ec=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eo=new u.OlP("EventManagerPlugins");let Wa=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Eo{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Sl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ss=(()=>{class n extends Sl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach($e),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($e))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function $e(n){B().remove(n)}const nn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Do=/%COMP%/g;function to(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?to(n,r,t):(r=r.replace(Do,n),t.push(r))}return t}function qa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let no=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new So(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new io(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new As(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=to(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wa),u.LFG(Ss),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class So{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(nn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Tc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Tc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=nn[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=nn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qa(i)):this.eventManager.addEventListener(e,t,qa(i))}}function Tc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class io extends So{constructor(e,t,i,r){super(e),this.component=i;const s=to(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ur(n){return"_ngcontent-%COMP%".replace(Do,n)}(r+"-"+i.id),this.hostAttr=function To(n){return"_nghost-%COMP%".replace(Do,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class As extends So{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=to(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Tu=(()=>{class n extends Eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=["alt","control","meta","shift"],Ic={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ka={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Io={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ac=(()=>{class n extends Eo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="";if(Za.forEach(f=>{const g=i.indexOf(f);g>-1&&(i.splice(g,1),l+=f+".")}),l+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=l,d}static getEventFullKey(t){let i="",r=function Ns(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ka.hasOwnProperty(e)&&(e=Ka[e]))}return Ic[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Za.forEach(s=>{s!=r&&(0,Io[s])(t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Xr},{provide:u.g9A,useValue:function oa(){Xs.makeCurrent()},multi:!0},{provide:_e,useFactory:function aa(){return(0,u.RDi)(document),document},deps:[]}]),la=new u.OlP(""),Ao=[{provide:u.rWj,useClass:class ra{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(f){l=l||f,s--,0==s&&i(l)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Pi=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function xc(){return new u.qLn},deps:[]},{provide:eo,useClass:Tu,multi:!0,deps:[_e,u.R0b,u.Lbi]},{provide:eo,useClass:Ac,multi:!0,deps:[_e]},{provide:no,useClass:no,deps:[Wa,Ss,u.AFp]},{provide:u.FYo,useExisting:no},{provide:Sl,useExisting:Ss},{provide:Ss,useClass:Ss,deps:[_e]},{provide:Wa,useClass:Wa,deps:[eo,u.R0b]},{provide:Ur,useClass:Ec,deps:[]},[]];let dr=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Co,useExisting:u.AFp},Cc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(la,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Pi,...Ao],imports:[lr,u.hGG]}),n})(),Su=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Oc(){return new Su((0,u.LFG)(_e))}(),i},providedIn:"root"}),n})();function Re(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(t),!0).forEach(function(i){Od(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Zt(n){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Nr(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Od(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pc(n,e){return function Rl(n){if(Array.isArray(n))return n}(n)||function pp(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,d,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(l=t.next()).done)&&(i.push(l.value),!e||i.length!==e);r=!0);}catch(f){s=!0,d=f}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw d}}return i}}(n,e)||xo(n,e)||function kh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fa(n){return function Fc(n){if(Array.isArray(n))return pa(n)}(n)||function el(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||xo(n)||function Lc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(n,e){if(n){if("string"==typeof n)return pa(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pa(n,e)}}function pa(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}typeof window<"u"&&window;var tl=function(){},ks={},kd={},Au=null,Rd={mark:tl,measure:tl};try{typeof window<"u"&&(ks=window),typeof document<"u"&&(kd=document),typeof MutationObserver<"u"&&(Au=MutationObserver),typeof performance<"u"&&(Rd=performance)}catch{}var Md=(ks.navigator||{}).userAgent,Ml=void 0===Md?"":Md,jr=ks,ln=kd,ga=Au,nl=Rd,yr=!!ln.documentElement&&!!ln.head&&"function"==typeof ln.addEventListener&&"function"==typeof ln.createElement,Rh=~Ml.indexOf("MSIE")||~Ml.indexOf("Trident/"),Si="___FONT_AWESOME___",gp="svg-inline--fa",ma="data-fa-i2svg",mp="data-fa-pseudo-element",Mh="data-prefix",xu="data-icon",Bc="fontawesome-i2svg",lv=["HTML","HEAD","STYLE","SCRIPT"],Fi=function(){try{return!0}catch{return!1}}(),Ou={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},oo={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Em={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},ku={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},xr=/fa[srltdbk]?[\-\ ]/,ns="fa-layers-text",Ph=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Fl={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Oo=[1,2,3,4,5,6,7,8,9,10],Ru=Oo.concat([11,12,13,14,15,16,17,18,19,20]),_p=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Dm=[].concat(fa(Object.keys(oo)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(Oo.map(function(n){return"".concat(n,"x")})).concat(Ru.map(function(n){return"w-".concat(n)})),il=jr.FontAwesomeConfig||{};ln&&"function"==typeof ln.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=Pc(n,2),i=e[1],r=function Hr(n){return""===n||"false"!==n&&("true"===n||n)}(function Vc(n){var e=ln.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(il[i]=r)});var va=xe(xe({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:gp,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),il);va.autoReplaceSvg||(va.observeMutations=!1);var Rt={};Object.keys(va).forEach(function(n){Object.defineProperty(Rt,n,{enumerable:!0,set:function(t){va[n]=t,Ll.forEach(function(i){return i(Rt)})},get:function(){return va[n]}})}),jr.FontAwesomeConfig=Rt;var Ll=[],rs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ba(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Rs(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Lh(n){return n.classList?Rs(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function vr(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rl(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function Uc(n){return n.size!==rs.size||n.x!==rs.x||n.y!==rs.y||n.rotate!==rs.rotate||n.flipX||n.flipY}function sl(){var n="fa",e=gp,t=Rt.familyPrefix,i=Rt.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(d,".".concat(i))}return r}var ol=!1;function jc(){Rt.autoAddCss&&!ol&&(function Fh(n){if(n&&yr){var e=ln.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=ln.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(i=s)}ln.head.insertBefore(e,i)}}(sl()),ol=!0)}var Ii={mixout:function(){return{dom:{css:sl,insertCss:jc}}},hooks:function(){return{beforeDOMElementCreation:function(){jc()},beforeI2svg:function(){jc()}}}},ao=jr||{};ao[Si]||(ao[Si]={}),ao[Si].styles||(ao[Si].styles={}),ao[Si].hooks||(ao[Si].hooks={}),ao[Si].shims||(ao[Si].shims=[]);var Gr=ao[Si],N=[],F=!1;function K(n){!yr||(F?setTimeout(n,0):N.push(n))}function ue(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?vr(n):"<".concat(e," ").concat(function Mu(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(vr(n[t]),'" ')},"").trim()}(i),">").concat(s.map(ue).join(""),"</").concat(e,">")}function we(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}yr&&((F=(ln.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ln.readyState))||ln.addEventListener("DOMContentLoaded",function n(){ln.removeEventListener("DOMContentLoaded",n),F=1,N.map(function(e){return e()})}));var ut=function(e,t,i,r){var f,g,b,s=Object.keys(e),l=s.length,d=void 0!==r?function(e,t){return function(i,r,s,l){return e.call(t,i,r,s,l)}}(t,r):t;for(void 0===i?(f=1,b=e[s[0]]):(f=0,b=i);f<l;f++)b=d(b,e[g=s[f]],g,e);return b};function Kt(n){var e=function Mt(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function kt(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function _i(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.skipHooks,r=void 0!==i&&i,s=kt(e);"function"!=typeof Gr.hooks.addPack||r?Gr.styles[n]=xe(xe({},Gr.styles[n]||{}),s):Gr.hooks.addPack(n,kt(e)),"fas"===n&&_i("fa",e)}var Ro=Gr.styles,Bl=Gr.shims,Ms=Object.values(Em),Ca=null,Vl={},Hc={},Mo={},al={},Pu={},cv=Object.keys(Ou);function Sm(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function uv(n){return~Dm.indexOf(n)}(r)?null:r}var Bd=function(){var e=function(s){return ut(Ro,function(l,d,f){return l[f]=ut(d,s,{}),l},{})};Vl=e(function(r,s,l){return s[3]&&(r[s[3]]=l),s[2]&&s[2].filter(function(f){return"number"==typeof f}).forEach(function(f){r[f.toString(16)]=l}),r}),Hc=e(function(r,s,l){return r[l]=l,s[2]&&s[2].filter(function(f){return"string"==typeof f}).forEach(function(f){r[f]=l}),r}),Pu=e(function(r,s,l){var d=s[2];return r[l]=l,d.forEach(function(f){r[f]=l}),r});var t="far"in Ro||Rt.autoFetchSvg,i=ut(Bl,function(r,s){var l=s[0],d=s[1],f=s[2];return"far"===d&&!t&&(d="fas"),"string"==typeof l&&(r.names[l]={prefix:d,iconName:f}),"number"==typeof l&&(r.unicodes[l.toString(16)]={prefix:d,iconName:f}),r},{names:{},unicodes:{}});Mo=i.names,al=i.unicodes,Ca=Bh(Rt.styleDefault)};function Gc(n,e){return(Vl[n]||{})[e]}function $c(n,e){return(Pu[n]||{})[e]}function hv(n){return Mo[n]||{prefix:null,iconName:null}}function zc(){return Ca}function Bh(n){return oo[n]||oo[Ou[n]]||(n in Gr.styles?n:null)||null}function Ud(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.skipLookups,i=void 0!==t&&t,r=null,s=n.reduce(function(l,d){var f=Sm(Rt.familyPrefix,d);if(Ro[d]?(d=Ms.includes(d)?ku[d]:d,r=d,l.prefix=d):cv.indexOf(d)>-1?(r=d,l.prefix=Bh(d)):f?l.iconName=f:d!==Rt.replacementClass&&l.rest.push(d),!i&&l.prefix&&l.iconName){var g="fa"===r?hv(l.iconName):{},b=$c(l.prefix,l.iconName);g.prefix&&(r=null),l.iconName=g.iconName||b||l.iconName,l.prefix=g.prefix||l.prefix,"far"===l.prefix&&!Ro.far&&Ro.fas&&!Rt.autoFetchSvg&&(l.prefix="fas")}return l},{prefix:null,iconName:null,rest:[]});return("fa"===s.prefix||"fa"===r)&&(s.prefix=zc()||"fas"),s}(function Fd(n){Ll.push(n)})(function(n){Ca=Bh(n.styleDefault)}),Bd();var Fu=function(){function n(){(function mi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Os(n,e,t){e&&Nr(n.prototype,e),t&&Nr(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=r.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(d){t.definitions[d]=xe(xe({},t.definitions[d]||{}),l[d]),_i(d,l[d]);var f=Em[d];f&&_i(f,l[d]),Bd()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var l=r[s],d=l.prefix,f=l.iconName,g=l.icon,b=g[2];t[d]||(t[d]={}),b.length>0&&b.forEach(function(E){"string"==typeof E&&(t[d][E]=g)}),t[d][f]=g}),t}}]),n}(),Vh=[],Po={},Lu={},fv=Object.keys(Lu);function Wc(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=Po[n]||[];return s.forEach(function(l){e=l.apply(null,[e].concat(i))}),e}function ll(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=Po[n]||[];r.forEach(function(s){s.apply(null,t)})}function Ea(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Lu[n]?Lu[n].apply(null,e):void 0}function Uh(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||zc();if(e)return e=$c(t,e)||e,we(yp.definitions,t,e)||we(Gr.styles,t,e)}var yp=new Fu,pv={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yr?(ll("beforeI2svg",e),Ea("pseudoElements2svg",e),Ea("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Rt.autoReplaceSvg&&(Rt.autoReplaceSvg=!0),Rt.observeMutations=!0,K(function(){Am({autoReplaceSvgRoot:t}),ll("watch",e)})}},Ps={noAuto:function(){Rt.autoReplaceSvg=!1,Rt.observeMutations=!1,ll("noAuto")},config:Rt,dom:pv,parse:{icon:function(e){if(null===e)return null;if("object"===Zt(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:$c(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=Bh(e[0]);return{prefix:i,iconName:$c(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Rt.familyPrefix,"-"))>-1||e.match(xr))){var r=Ud(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||zc(),iconName:$c(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=zc();return{prefix:s,iconName:$c(s,e)||e}}}},library:yp,findIconDefinition:Uh,toHtml:ue},Am=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,i=void 0===t?ln:t;(Object.keys(Gr.styles).length>0||Rt.autoFetchSvg)&&yr&&Rt.autoReplaceSvg&&Ps.dom.i2svg({node:i})};function Hh(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return ue(i)})}}),Object.defineProperty(n,"node",{get:function(){if(yr){var i=ln.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function Gh(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,l=n.transform,d=n.symbol,f=n.title,g=n.maskId,b=n.titleId,E=n.extra,O=n.watchable,M=void 0!==O&&O,V=i.found?i:t,z=V.width,ne=V.height,be="fak"===r,Se=[Rt.replacementClass,s?"".concat(Rt.familyPrefix,"-").concat(s):""].filter(function(On){return-1===E.classes.indexOf(On)}).filter(function(On){return""!==On||!!On}).concat(E.classes).join(" "),Fe={children:[],attributes:xe(xe({},E.attributes),{},{"data-prefix":r,"data-icon":s,class:Se,role:E.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(z," ").concat(ne)})},Me=be&&!~E.classes.indexOf("fa-fw")?{width:"".concat(z/ne*16*.0625,"em")}:{};M&&(Fe.attributes[ma]=""),f&&(Fe.children.push({tag:"title",attributes:{id:Fe.attributes["aria-labelledby"]||"title-".concat(b||ba())},children:[f]}),delete Fe.attributes.title);var Je=xe(xe({},Fe),{},{prefix:r,iconName:s,main:t,mask:i,maskId:g,transform:l,symbol:d,styles:xe(xe({},Me),E.styles)}),rt=i.found&&t.found?Ea("generateAbstractMask",Je)||{children:[],attributes:{}}:Ea("generateAbstractIcon",Je)||{children:[],attributes:{}},Ht=rt.attributes;return Je.children=rt.children,Je.attributes=Ht,d?function jd(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,l=!0===s?"".concat(n.prefix,"-").concat(Rt.familyPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xe(xe({},r),{},{id:l}),children:i}]}]}(Je):function Da(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,l=n.transform;if(Uc(l)&&t.found&&!i.found){var g={x:t.width/t.height/2,y:.5};r.style=rl(xe(xe({},s),{},{"transform-origin":"".concat(g.x+l.x/16,"em ").concat(g.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(Je)}function Nm(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,l=n.extra,d=n.watchable,f=void 0!==d&&d,g=xe(xe(xe({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});f&&(g[ma]="");var b=xe({},l.styles);Uc(r)&&(b.transform=function Ld(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?16:r,l=n.startCentered,d=void 0!==l&&l,f="";return f+=d&&Rh?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-s/2,"em) "):d?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(f+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),b["-webkit-transform"]=b.transform);var E=rl(b);E.length>0&&(g.style=E);var O=[];return O.push({tag:"span",attributes:g,children:[e]}),s&&O.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),O}function UC(n){var e=n.content,t=n.title,i=n.extra,r=xe(xe(xe({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=rl(i.styles);s.length>0&&(r.style=s);var l=[];return l.push({tag:"span",attributes:r,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var xm=Gr.styles;function Om(n){var e=n[0],t=n[1],s=Pc(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Rt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var fA={found:!1,width:512,height:512};function _(n,e){var t=e;return"fa"===e&&null!==Rt.styleDefault&&(e=zc()),new Promise(function(i,r){if(Ea("missingIconAbstract"),"fa"===t){var l=hv(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&xm[e]&&xm[e][n])return i(Om(xm[e][n]));(function w(n,e){!Fi&&!Rt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(xe(xe({},fA),{},{icon:Rt.showMissingIcons&&n&&Ea("missingIconAbstract")||{}}))})}var y=function(){},D=Rt.measurePerformance&&nl&&nl.mark&&nl.measure?nl:{mark:y,measure:y},P='FA "6.1.2"',je_begin=function(e){return D.mark("".concat(P," ").concat(e," begins")),function(){return function(e){D.mark("".concat(P," ").concat(e," ends")),D.measure("".concat(P," ").concat(e),"".concat(P," ").concat(e," begins"),"".concat(P," ").concat(e," ends"))}(e)}},gt=function(){};function Et(n){return"string"==typeof(n.getAttribute?n.getAttribute(ma):null)}function cl(n){return ln.createElementNS("http://www.w3.org/2000/svg",n)}function bp(n){return ln.createElement(n)}function km(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,i=void 0===t?"svg"===n.tag?cl:bp:t;if("string"==typeof n)return ln.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(l){r.setAttribute(l,n.attributes[l])});var s=n.children||[];return s.forEach(function(l){r.appendChild(km(l,{ceFn:i}))}),r}var qc={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(km(r),t)}),null===t.getAttribute(ma)&&Rt.keepOriginalSource){var i=ln.createComment(function Rm(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~Lh(t).indexOf(Rt.replacementClass))return qc.replace(e);var r=new RegExp("".concat(Rt.familyPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(d,f){return f===Rt.replacementClass||f.match(r)?d.toSvg.push(f):d.toNode.push(f),d},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var l=i.map(function(d){return ue(d)}).join("\n");t.setAttribute(ma,""),t.innerHTML=l}};function Hd(n){n()}function Bu(n,e){var t="function"==typeof e?e:gt;if(0===n.length)t();else{var i=Hd;"async"===Rt.mutateApproach&&(i=jr.requestAnimationFrame||Hd),i(function(){var r=function Fo(){return!0===Rt.autoReplaceSvg?qc.replace:qc[Rt.autoReplaceSvg]||qc.replace}(),s=je_begin("mutate");n.map(r),s(),t()})}}var wp=!1;function Mm(){wp=!0}function Vu(){wp=!1}var Gd=null;function Pm(n){if(ga&&Rt.observeMutations){var e=n.treeCallback,t=void 0===e?gt:e,i=n.nodeCallback,r=void 0===i?gt:i,s=n.pseudoElementsCallback,l=void 0===s?gt:s,d=n.observeMutationsRoot,f=void 0===d?ln:d;Gd=new ga(function(g){if(!wp){var b=zc();Rs(g).forEach(function(E){if("childList"===E.type&&E.addedNodes.length>0&&!Et(E.addedNodes[0])&&(Rt.searchPseudoElements&&l(E.target),t(E.target)),"attributes"===E.type&&E.target.parentNode&&Rt.searchPseudoElements&&l(E.target.parentNode),"attributes"===E.type&&Et(E.target)&&~_p.indexOf(E.attributeName))if("class"===E.attributeName&&function rn(n){var e=n.getAttribute?n.getAttribute(Mh):null,t=n.getAttribute?n.getAttribute(xu):null;return e&&t}(E.target)){var O=Ud(Lh(E.target)),V=O.iconName;E.target.setAttribute(Mh,O.prefix||b),V&&E.target.setAttribute(xu,V)}else(function si(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Rt.replacementClass)})(E.target)&&r(E.target)})}}),yr&&Gd.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function gv(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),l=s[0],d=s.slice(1);return l&&d.length>0&&(i[l]=d.join(":").trim()),i},{})),t}function jC(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=Ud(Lh(n));return r.prefix||(r.prefix=zc()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function dv(n,e){return(Hc[n]||{})[e]}(r.prefix,n.innerText)||Gc(r.prefix,Kt(n.innerText))),!r.iconName&&Rt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Fm(n){var e=Rs(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Rt.autoA11y&&(t?e["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(i||ba()):(e["aria-hidden"]="true",e.focusable="false")),e}function Lm(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=jC(n),i=t.iconName,r=t.prefix,s=t.rest,l=Fm(n),d=Wc("parseNodeAttributes",{},n),f=e.styleParser?gv(n):[];return xe({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:rs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:f,attributes:l}},d)}var gA=Gr.styles;function er(n){var e="nest"===Rt.autoReplaceSvg?Lm(n,{styleParser:!1}):Lm(n);return~e.extra.classes.indexOf(ns)?Ea("generateLayersText",n,e):Ea("generateSvgReplacementMutation",n,e)}function HC(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!yr)return Promise.resolve();var t=ln.documentElement.classList,i=function(E){return t.add("".concat(Bc,"-").concat(E))},r=function(E){return t.remove("".concat(Bc,"-").concat(E))},s=Object.keys(Rt.autoFetchSvg?Ou:gA);s.includes("fa")||s.push("fa");var l=[".".concat(ns,":not([").concat(ma,"])")].concat(s.map(function(b){return".".concat(b,":not([").concat(ma,"])")})).join(", ");if(0===l.length)return Promise.resolve();var d=[];try{d=Rs(n.querySelectorAll(l))}catch{}if(!(d.length>0))return Promise.resolve();i("pending"),r("complete");var f=je_begin("onTree"),g=d.reduce(function(b,E){try{var O=er(E);O&&b.push(O)}catch(M){Fi||"MissingIcon"===M.name&&console.error(M)}return b},[]);return new Promise(function(b,E){Promise.all(g).then(function(O){Bu(O,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),f(),b()})}).catch(function(O){f(),E(O)})})}function mA(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;er(n).then(function(t){t&&Bu([t],e)})}var GC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?rs:i,s=t.symbol,l=void 0!==s&&s,d=t.mask,f=void 0===d?null:d,g=t.maskId,b=void 0===g?null:g,E=t.title,O=void 0===E?null:E,M=t.titleId,V=void 0===M?null:M,z=t.classes,ne=void 0===z?[]:z,be=t.attributes,Se=void 0===be?{}:be,Fe=t.styles,Me=void 0===Fe?{}:Fe;if(e){var Je=e.prefix,rt=e.iconName,bt=e.icon;return Hh(xe({type:"icon"},e),function(){return ll("beforeDOMElementCreation",{iconDefinition:e,params:t}),Rt.autoA11y&&(O?Se["aria-labelledby"]="".concat(Rt.replacementClass,"-title-").concat(V||ba()):(Se["aria-hidden"]="true",Se.focusable="false")),Gh({icons:{main:Om(bt),mask:f?Om(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Je,iconName:rt,transform:xe(xe({},rs),r),symbol:l,title:O,maskId:b,titleId:V,extra:{attributes:Se,styles:Me,classes:ne}})})}},_A={mixout:function(){return{icon:(n=GC,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:Uh(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Uh(r||{})),n(i,xe(xe({},t),{},{mask:r}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=HC,t.nodeCallback=mA,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return HC(void 0===i?ln:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,l=i.titleId,d=i.prefix,f=i.transform,g=i.symbol,b=i.mask,E=i.maskId,O=i.extra;return new Promise(function(M,V){Promise.all([_(r,d),b.iconName?_(b.iconName,b.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(z){var ne=Pc(z,2);M([t,Gh({icons:{main:ne[0],mask:ne[1]},prefix:d,iconName:r,transform:f,symbol:g,maskId:E,title:s,titleId:l,extra:O,watchable:!0})])}).catch(V)})},e.generateAbstractIcon=function(t){var g,i=t.children,r=t.attributes,s=t.main,l=t.transform,f=rl(t.styles);return f.length>0&&(r.style=f),Uc(l)&&(g=Ea("generateAbstractTransformGrouping",{main:s,transform:l,containerWidth:s.width,iconWidth:s.width})),i.push(g||s.icon),{children:i,attributes:r}}}},yA={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return Hh({type:"layer"},function(){ll("beforeDOMElementCreation",{assembler:t,params:i});var l=[];return t(function(d){Array.isArray(d)?d.map(function(f){l=l.concat(f.abstract)}):l=l.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(Rt.familyPrefix,"-layers")].concat(fa(s)).join(" ")},children:l}]})}}}},vA={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,l=i.classes,d=void 0===l?[]:l,f=i.attributes,g=void 0===f?{}:f,b=i.styles,E=void 0===b?{}:b;return Hh({type:"counter",content:t},function(){return ll("beforeDOMElementCreation",{content:t,params:i}),UC({content:t.toString(),title:s,extra:{attributes:g,styles:E,classes:["".concat(Rt.familyPrefix,"-layers-counter")].concat(fa(d))}})})}}}},bA={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?rs:r,l=i.title,d=void 0===l?null:l,f=i.classes,g=void 0===f?[]:f,b=i.attributes,E=void 0===b?{}:b,O=i.styles,M=void 0===O?{}:O;return Hh({type:"text",content:t},function(){return ll("beforeDOMElementCreation",{content:t,params:i}),Nm({content:t,transform:xe(xe({},rs),s),title:d,extra:{attributes:E,styles:M,classes:["".concat(Rt.familyPrefix,"-layers-text")].concat(fa(g))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,l=i.extra,d=null,f=null;if(Rh){var g=parseInt(getComputedStyle(t).fontSize,10),b=t.getBoundingClientRect();d=b.width/g,f=b.height/g}return Rt.autoA11y&&!r&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,Nm({content:t.innerHTML,width:d,height:f,transform:s,title:r,extra:l,watchable:!0})])}}},wA=new RegExp('"',"ug"),CA=[1105920,1112319];function $h(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var l=Rs(n.children).filter(function(rt){return rt.getAttribute(mp)===e})[0],d=jr.getComputedStyle(n,e),f=d.getPropertyValue("font-family").match(Ph),g=d.getPropertyValue("font-weight"),b=d.getPropertyValue("content");if(l&&!f)return n.removeChild(l),i();if(f&&"none"!==b&&""!==b){var E=d.getPropertyValue("content"),O=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?oo[f[2].toLowerCase()]:Fl[g],M=function t2(n){var e=n.replace(wA,""),t=function an(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=CA[0]&&t<=CA[1],r=2===e.length&&e[0]===e[1];return{value:Kt(r?e[0]:e),isSecondary:i||r}}(E),V=M.value,z=M.isSecondary,ne=f[0].startsWith("FontAwesome"),be=Gc(O,V),Se=be;if(ne){var Fe=function Im(n){var e=al[n],t=Gc("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(V);Fe.iconName&&Fe.prefix&&(be=Fe.iconName,O=Fe.prefix)}if(!be||z||l&&l.getAttribute(Mh)===O&&l.getAttribute(xu)===Se)i();else{n.setAttribute(t,Se),l&&n.removeChild(l);var Me=function pA(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Je=Me.extra;Je.attributes[mp]=e,_(be,O).then(function(rt){var bt=Gh(xe(xe({},Me),{},{icons:{main:rt,mask:{prefix:null,iconName:null,rest:[]}},prefix:O,iconName:Se,extra:Je,watchable:!0})),Ht=ln.createElement("svg");"::before"===e?n.insertBefore(Ht,n.firstChild):n.appendChild(Ht),Ht.outerHTML=bt.map(function(On){return ue(On)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function _v(n){return Promise.all([$h(n,"::before"),$h(n,"::after")])}function $C(n){return!(n.parentNode===document.head||~lv.indexOf(n.tagName.toUpperCase())||n.getAttribute(mp)||n.parentNode&&"svg"===n.parentNode.tagName)}function yv(n){if(yr)return new Promise(function(e,t){var i=Rs(n.querySelectorAll("*")).filter($C).map(_v),r=je_begin("searchPseudoElements");Mm(),Promise.all(i).then(function(){r(),Vu(),e()}).catch(function(){r(),Vu(),t()})})}var WC=!1,vv=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),l=s[0],d=s.slice(1).join("-");if(l&&"h"===d)return i.flipX=!0,i;if(l&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(l){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ZC={x:0,y:0,width:"100%",height:"100%"};function KC(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}var YC={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?Ud(r.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=zc()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,i=t.children,r=t.attributes,s=t.main,l=t.mask,d=t.maskId,b=s.icon,O=l.icon,M=function ko(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:s.width}),V={tag:"rect",attributes:xe(xe({},ZC),{},{fill:"white"})},z=b.children?{children:b.children.map(KC)}:{},ne={tag:"g",attributes:xe({},M.inner),children:[KC(xe({tag:b.tag,attributes:xe(xe({},b.attributes),M.path)},z))]},be={tag:"g",attributes:xe({},M.outer),children:[ne]},Se="mask-".concat(d||ba()),Fe="clip-".concat(d||ba()),Me={tag:"mask",attributes:xe(xe({},ZC),{},{id:Se,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[V,be]},Je={tag:"defs",children:[{tag:"clipPath",attributes:{id:Fe},children:(n=O,"g"===n.tag?n.children:[n])},Me]};return i.push(Je,{tag:"rect",attributes:xe({fill:"currentColor","clip-path":"url(#".concat(Fe,")"),mask:"url(#".concat(Se,")")},ZC)}),{children:i,attributes:r}}}};!function VC(n,e){var t=e.mixoutsTo;Vh=n,Po={},Object.keys(Lu).forEach(function(i){-1===fv.indexOf(i)&&delete Lu[i]}),Vh.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(l){"function"==typeof r[l]&&(t[l]=r[l]),"object"===Zt(r[l])&&Object.keys(r[l]).forEach(function(d){t[l]||(t[l]={}),t[l][d]=r[l][d]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(l){Po[l]||(Po[l]=[]),Po[l].push(s[l])})}i.provides&&i.provides(Lu)})}([Ii,_A,yA,vA,bA,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=yv,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;Rt.searchPseudoElements&&yv(void 0===i?ln:i)}}},{mixout:function(){return{dom:{unwatch:function(){Mm(),WC=!0}}}},hooks:function(){return{bootstrap:function(){Pm(Wc("mutationObserverCallbacks",{}))},noAuto:function(){!function Cp(){!Gd||Gd.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;WC?Vu():Pm(Wc("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return vv(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=vv(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,l=t.iconWidth,d={transform:"translate(".concat(t.containerWidth/2," 256)")},f="translate(".concat(32*r.x,", ").concat(32*r.y,") "),g="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),b="rotate(".concat(r.rotate," 0 0)"),M={outer:d,inner:{transform:"".concat(f," ").concat(g," ").concat(b)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:xe({},M.outer),children:[{tag:"g",attributes:xe({},M.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:xe(xe({},i.icon.attributes),M.path)}]}]}}}},YC,{provides:function(e){var t=!1;jr.matchMedia&&(t=jr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:xe(xe({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=xe(xe({},s),{},{attributeName:"opacity"}),d={tag:"circle",attributes:xe(xe({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||d.children.push({tag:"animate",attributes:xe(xe({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xe(xe({},l),{},{values:"1;0;1;1;0;1;"})}),i.push(d),i.push({tag:"path",attributes:xe(xe({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:xe(xe({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:xe(xe({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xe(xe({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:Ps});let NA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Xn=j(8996),Zc=j(3269);function It(...n){const e=(0,Zc.yG)(n);return(0,Xn.D)(n,e)}var hn=j(7579);class kr extends hn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var $i=j(9751);const{isArray:nE}=Array,{getPrototypeOf:Dv,prototype:xA,keys:OA}=Object;function Um(n){if(1===n.length){const e=n[0];if(nE(e))return{args:e,keys:null};if(function f2(n){return n&&"object"==typeof n&&Dv(n)===xA}(e)){const t=OA(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Tp=j(4671),Dt=j(4004);const{isArray:p2}=Array;function iE(n){return(0,Dt.U)(e=>function g2(n,e){return p2(e)?n(...e):n(e)}(n,e))}function kA(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var yi=j(5403),RA=j(9672);function Sp(...n){const e=(0,Zc.yG)(n),t=(0,Zc.jO)(n),{args:i,keys:r}=Um(n);if(0===i.length)return(0,Xn.D)([],e);const s=new $i.y(function Tv(n,e,t=Tp.y){return i=>{Sv(e,()=>{const{length:r}=n,s=new Array(r);let l=r,d=r;for(let f=0;f<r;f++)Sv(e,()=>{const g=(0,Xn.D)(n[f],e);let b=!1;g.subscribe((0,yi.x)(i,E=>{s[f]=E,b||(b=!0,d--),d||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>kA(r,l):Tp.y));return t?s.pipe(iE(t)):s}function Sv(n,e,t){n?(0,RA.f)(t,n,e):e()}var Wh=j(8189);function zd(...n){return function rE(){return(0,Wh.J)(1)}()((0,Xn.D)(n,(0,Zc.yG)(n)))}var ul=j(8421);function jm(n){return new $i.y(e=>{(0,ul.Xf)(n()).subscribe(e)})}var Ip=j(9635),Ul=j(576);function Ap(n,e){const t=(0,Ul.m)(n)?n:()=>n,i=r=>r.error(t());return new $i.y(e?r=>e.schedule(i,0,r):i)}const Wd=(0,j(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kc=j(515),Uu=j(727),tr=j(4482);function Iv(){return(0,tr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,yi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hm extends $i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return Iv()(this)}}function Ai(n,e){return(0,tr.e)((t,i)=>{let r=null,s=0,l=!1;const d=()=>l&&!r&&i.complete();t.subscribe((0,yi.x)(i,f=>{r?.unsubscribe();let g=0;const b=s++;(0,ul.Xf)(n(f,b)).subscribe(r=(0,yi.x)(i,E=>i.next(e?e(f,E,b,g++):E),()=>{r=null,d()}))},()=>{l=!0,d()}))})}function br(n){return n<=0?()=>Kc.E:(0,tr.e)((e,t)=>{let i=0;e.subscribe((0,yi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function jl(...n){const e=(0,Zc.yG)(n);return(0,tr.e)((t,i)=>{(e?zd(n,t,e):zd(n,t)).subscribe(i)})}function nr(n,e){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,yi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var $r=j(5577);function Gm(n){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,yi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ss(n=Av){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,yi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Av(){return new Wd}function Hl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?nr((r,s)=>n(r,s,i)):Tp.y,br(1),t?Gm(e):ss(()=>new Wd))}function Gl(n,e){return(0,Ul.m)(e)?(0,$r.z)(n,e,1):(0,$r.z)(n,1)}var Mn=j(8505);function Ta(n){return(0,tr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,yi.x)(t,void 0,void 0,l=>{s=(0,ul.Xf)(n(l,Ta(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Nv(n,e,t,i,r){return(s,l)=>{let d=t,f=e,g=0;s.subscribe((0,yi.x)(l,b=>{const E=g++;f=d?n(f,b,E):(d=!0,b),i&&l.next(f)},r&&(()=>{d&&l.next(f),l.complete()})))}}function qd(n,e){return(0,tr.e)(Nv(n,e,arguments.length>=2,!0))}function xv(n){return n<=0?()=>Kc.E:(0,tr.e)((e,t)=>{let i=[];e.subscribe((0,yi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ov(n,e){const t=arguments.length>=2;return i=>i.pipe(n?nr((r,s)=>n(r,s,i)):Tp.y,xv(1),t?Gm(e):ss(()=>new Wd))}function Rv(n){return(0,tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const bn="primary";class FA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qh(n){return new FA(n)}function LA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $l(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!sE(n[r],e[r]))return!1;return!0}function sE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Zd(n){return Array.prototype.concat.apply([],n)}function zl(n){return n.length>0?n[n.length-1]:null}function zr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ju(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Xn.D)(Promise.resolve(n)):It(n)}const _2={exact:function lE(n,e,t){if(!Kh(n.segments,e.segments)||!zm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!lE(n.children[i],e.children[i],t))return!1;return!0},subset:uE},dl={exact:function Mv(n,e){return $l(n,e)},subset:function cE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sE(n[t],e[t]))},ignored:()=>!0};function $m(n,e,t){return _2[t.paths](n.root,e.root,t.matrixParams)&&dl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uE(n,e,t){return Zh(n,e,e.segments,t)}function Zh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Kh(r,t)||e.hasChildren()||!zm(r,t,i))}if(n.segments.length===t.length){if(!Kh(n.segments,t)||!zm(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!uE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Kh(n.segments,r)&&zm(n.segments,r,i)&&n.children[bn])&&Zh(n.children[bn],e,s,i)}}function zm(n,e,t){return e.every((i,r)=>dl[t](n[r].parameters,i.parameters))}class Hu{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return VA.serialize(this)}}class wn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class Kd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qh(this.parameters)),this._parameterMap}toString(){return Km(this)}}function Kh(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Wm{}class Pv{parse(e){const t=new _E(e);return new Hu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Np(e.root,!0)}`,i=function Bv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${qm(t)}=${qm(r)}`).join("&"):`${qm(t)}=${qm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function UA(n){return encodeURI(n)}(e.fragment)}`:""}`}}const VA=new Pv;function Qh(n){return n.segments.map(e=>Km(e)).join("/")}function Np(n,e){if(!n.hasChildren())return Qh(n);if(e){const t=n.children[bn]?Np(n.children[bn],!1):"",i=[];return zr(n.children,(r,s)=>{s!==bn&&i.push(`${s}:${Np(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Yh(n,e){let t=[];return zr(n.children,(i,r)=>{r===bn&&(t=t.concat(e(i,r)))}),zr(n.children,(i,r)=>{r!==bn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===bn?[Np(n.children[bn],!1)]:[`${r}:${Np(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bn]?`${Qh(n)}/${t[0]}`:`${Qh(n)}/(${t.join("//")})`}}function hE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qm(n){return hE(n).replace(/%3B/gi,";")}function Fv(n){return hE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zm(n){return decodeURIComponent(n)}function Lv(n){return Zm(n.replace(/\+/g,"%20"))}function Km(n){return`${Fv(n.path)}${function fE(n){return Object.keys(n).map(e=>`;${Fv(e)}=${Fv(n[e])}`).join("")}(n.parameters)}`}const jA=/^[^\/()?;=#]+/;function Ym(n){const e=n.match(jA);return e?e[0]:""}const pE=/^[^=?&#]+/,Yd=/^[^&#]+/;class _E{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[bn]=new wn(e,t)),i}parseSegment(){const e=Ym(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Kd(Zm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ym(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ym(this.remaining);r&&(i=r,this.capture(i))}e[Zm(t)]=Zm(i)}parseQueryParam(e){const t=function gE(n){const e=n.match(pE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function mE(n){const e=n.match(Yd);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Lv(t),s=Lv(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ym(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[bn]:new wn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Vv(n){return n.segments.length>0?new wn([],{[bn]:n}):n}function Uv(n){const e={};for(const i of Object.keys(n.children)){const s=Uv(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Qm(n){if(1===n.numberOfChildren&&n.children[bn]){const e=n.children[bn];return new wn(n.segments.concat(e.segments),e.children)}return n}(new wn(n.segments,e))}function Qd(n){return n instanceof Hu}function vE(n,e,t,i,r){if(0===t.length)return Jd(e.root,e.root,e.root,i,r);const s=function e_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hv(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return zr(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Hv(t,e,i)}(t);return s.toRoot()?Jd(e.root,e.root,new wn([],{}),i,r):function l(f){const g=function bE(n,e,t,i){if(n.isAbsolute)return new Wl(e.root,!0,0);if(-1===i)return new Wl(t,t===e.root,0);return function wE(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Wl(i,!1,r-s)}(t,i+(Gu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),b=g.processChildren?Xd(g.segmentGroup,g.index,s.commands):t_(g.segmentGroup,g.index,s.commands);return Jd(e.root,g.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function Gu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $u(n){return"object"==typeof n&&null!=n&&n.outlets}function Jd(n,e,t,i,r){let l,s={};i&&zr(i,(f,g)=>{s[g]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),l=n===e?t:Xm(n,e,t);const d=Vv(Uv(l));return new Hu(d,s,r)}function Xm(n,e,t){const i={};return zr(n.children,(r,s)=>{i[s]=r===e?t:Xm(r,e,t)}),new wn(n.segments,i)}class Hv{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gu(i[0]))throw new u.vHH(4003,!1);const r=i.find($u);if(r&&r!==zl(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function t_(n,e,t){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return Xd(n,e,t);const i=function CE(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],d=t[i];if($u(d))break;const f=`${d}`,g=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!Gv(f,g,l))return s;i+=2}else{if(!Gv(f,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new wn(n.segments.slice(0,i.pathIndex),{});return s.children[bn]=new wn(n.segments.slice(i.pathIndex),n.children),Xd(s,0,r)}return i.match&&0===r.length?new wn(n.segments,{}):i.match&&!n.hasChildren()?EE(n,e,t):i.match?Xd(n,0,r):EE(n,e,t)}function Xd(n,e,t){if(0===t.length)return new wn(n.segments,{});{const i=function $A(n){return $u(n[0])?n[0].outlets:{[bn]:n}}(t),r={};return zr(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=t_(n.children[l],e,s))}),zr(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new wn(n.segments,r)}}function EE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if($u(s)){const f=DE(s.outlets);return new wn(i,f)}if(0===r&&Gu(t[0])){i.push(new Kd(n.segments[e].path,TE(t[0]))),r++;continue}const l=$u(s)?s.outlets[bn]:`${s}`,d=r<t.length-1?t[r+1]:null;l&&d&&Gu(d)?(i.push(new Kd(l,TE(d))),r+=2):(i.push(new Kd(l,{})),r++)}return new wn(i,{})}function DE(n){const e={};return zr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=EE(new wn([],{}),0,t))}),e}function TE(n){const e={};return zr(n,(t,i)=>e[i]=`${t}`),e}function Gv(n,e,t){return n==t.path&&$l(e,t.parameters)}class Yc{constructor(e,t){this.id=e,this.url=t}}class $v extends Yc{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wr extends Yc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n_ extends Yc{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zv extends Yc{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zA extends Yc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WA extends Yc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qA extends Yc{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZA extends Yc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SE extends Yc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class YA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QA{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wv{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=i_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=i_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return qv(e,this._root).map(t=>t.value)}}function i_(n,e){if(n===e.value)return e;for(const t of e.children){const i=i_(n,t);if(i)return i}return null}function qv(n,e){if(n===e.value)return[e];for(const t of e.children){const i=qv(n,t);if(i.length)return i.unshift(e),i}return[]}class ql{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xE extends NE{constructor(e,t){super(e),this.snapshot=t,Zv(this,e)}toString(){return this.snapshot.toString()}}function XA(n,e){const t=function OE(n,e){const l=new Xh([],{},{},"",{},bn,e,null,n.root,-1,{});return new r_("",new ql(l,[]))}(n,e),i=new kr([new Kd("",{})]),r=new kr({}),s=new kr({}),l=new kr({}),d=new kr(""),f=new eh(i,r,l,d,s,bn,e,t.root);return f.snapshot=t.root,new xE(new ql(f,[]),t)}class eh{constructor(e,t,i,r,s,l,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>qh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>qh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zu(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function eN(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Xh{constructor(e,t,i,r,s,l,d,f,g,b,E,O){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=b,this._correctedLastPathIndex=O??b,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r_ extends NE{constructor(e,t){super(t),this.url=e,Zv(this,t)}toString(){return tN(this._root)}}function Zv(n,e){e.value._routerState=n,e.children.forEach(t=>Zv(n,t))}function tN(n){const e=n.children.length>0?` { ${n.children.map(tN).join(", ")} } `:"";return`${n.value}${e}`}function kE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$l(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$l(e.params,t.params)||n.params.next(t.params),function BA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$l(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$l(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function RE(n,e){const t=$l(n.params,e.params)&&function dE(n,e){return Kh(n,e)&&n.every((t,i)=>$l(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||RE(n.parent,e.parent))}function ef(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function y2(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ef(n,i,r);return ef(n,i)})}(n,e,t);return new ql(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>ef(n,d)),l}}const i=function iN(n){return new eh(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ef(n,s));return new ql(i,r)}}const Wu="ngNavigationCancelingError";function ME(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Qd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Kv(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Kv(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Wu]=!0,i.cancellationCode=e,t&&(i.url=t),i}function xp(n){return PE(n)&&Qd(n.url)}function PE(n){return n&&n[Wu]}class FE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Op,this.attachRef=null}}class Op{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new FE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const s_=!1;let Yv=(()=>{class n{constructor(t,i,r,s,l){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||bn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,s_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,s_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,s_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,s_);this._activatedRoute=t;const r=this.location,l=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new rN(t,d,r.injector);if(i&&function sN(n){return!!n.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(l);this.activated=r.createComponent(g,r.length,f)}else this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Op),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class rN{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===eh?this.route:e===Op?this.childContexts:this.parent.get(e,t)}}let Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[Yv],encapsulation:2}),n})();function LE(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function o_(n){const e=n.children&&n.children.map(o_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bn&&(t.component=Qv),t}function Lo(n){return n.outlet||bn}function Rp(n,e){const t=n.filter(i=>Lo(i)===e);return t.push(...n.filter(i=>Lo(i)!==e)),t}function Sa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cN{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),kE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Jh(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),zr(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jh(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jh(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Jh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new AE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new cn(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(kE(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),kE(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=Sa(r.snapshot),f=d?.get(u._Vd)??null;l.attachRef=null,l.route=r,l.resolver=f,l.injector=d,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class a_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ia{constructor(e,t){this.component=e,this.route=t}}function Jv(n,e,t){const i=n._root;return l_(i,e?e._root:null,t,[i.value])}function nf(n,e,t){return(Sa(e)??t).get(n)}function l_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jh(e);return n.children.forEach(l=>{(function jE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function b2(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kh(n.url,e.url)||!$l(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RE(n,e)||!$l(n.queryParams,e.queryParams);default:return!RE(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new a_(i)):(s.data=l.data,s._resolvedData=l._resolvedData),l_(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Ia(d.outlet.component,l))}else l&&qu(e,d,r),r.canActivateChecks.push(new a_(i)),l_(n,null,s.component?d?d.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),zr(s,(l,d)=>qu(l,t.getContext(d),r)),r}function qu(n,e,t){const i=Jh(n),r=n.value;zr(i,(s,l)=>{qu(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Ia(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Zu(n){return"function"==typeof n}const Mp=Symbol("INITIAL_VALUE");function Pp(){return Ai(n=>Sp(n.map(e=>e.pipe(br(1),jl(Mp)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===Mp)return Mp;if(!1===t||t instanceof Hu)return t}return!0}),nr(e=>e!==Mp),br(1)))}function gN(n){return(0,Ip.z)((0,Mn.b)(e=>{if(Qd(e))throw ME(0,e)}),(0,Dt.U)(e=>!0===e))}const $E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mN(n,e,t,i,r){const s=zE(n,e,t);return s.matched?function I2(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?It(r.map(l=>{const d=n.get(l),f=function dN(n){return n&&Zu(n.canMatch)}(d)?d.canMatch(e,t):d(e,t);return ju(f)})).pipe(Pp(),gN()):It(!0)}(i=LE(e,i),e,t).pipe((0,Dt.U)(l=>!0===l?s:{...$E})):It(s)}function zE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$E}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||LA)(t,n,e);if(!r)return{...$E};const s={};zr(r.posParams,(d,f)=>{s[f]=d.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function r0(n,e,t,i,r="corrected"){if(t.length>0&&function s0(n,e,t){return t.some(i=>Fp(n,e,i)&&Lo(i)!==bn)}(n,t,i)){const l=new wn(e,function Ku(n,e,t,i){const r={};r[bn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Lo(s)!==bn){const l=new wn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[Lo(s)]=l}return r}(n,e,i,new wn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function _N(n,e,t){return t.some(i=>Fp(n,e,i))}(n,t,i)){const l=new wn(n.segments,function A2(n,e,t,i,r,s){const l={};for(const d of i)if(Fp(n,t,d)&&!r[Lo(d)]){const f=new wn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[Lo(d)]=f}return{...r,...l}}(n,e,t,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new wn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function c_(n,e,t,i){return!!(Lo(n)===i||i!==bn&&Fp(e,t,n))&&("**"===n.path||zE(e,n,t).matched)}function o0(n,e,t){return 0===e.length&&!n.children[t]}const rf=!1;class u_{constructor(e){this.segmentGroup=e||null}}class Qc{constructor(e){this.urlTree=e}}function sf(n){return Ap(new u_(n))}function WE(n){return Ap(new Qc(n))}class vN{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=r0(this.urlTree.root,[],[],this.config).segmentGroup,t=new wn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,bn).pipe((0,Dt.U)(s=>this.createUrlTree(Uv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ta(s=>{if(s instanceof Qc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof u_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,bn).pipe((0,Dt.U)(r=>this.createUrlTree(Uv(r),e.queryParams,e.fragment))).pipe(Ta(r=>{throw r instanceof u_?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,rf)}createUrlTree(e,t,i){const r=Vv(e);return new Hu(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Dt.U)(s=>new wn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Xn.D)(r).pipe(Gl(s=>{const l=i.children[s],d=Rp(t,s);return this.expandSegmentGroup(e,d,l,s).pipe((0,Dt.U)(f=>({segment:f,outlet:s})))}),qd((s,l)=>(s[l.outlet]=l.segment,s),{}),Ov())}expandSegment(e,t,i,r,s,l){return(0,Xn.D)(i).pipe(Gl(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,l).pipe(Ta(g=>{if(g instanceof u_)return It(null);throw g}))),Hl(d=>!!d),Ta((d,f)=>{if(d instanceof Wd||"EmptyError"===d.name)return o0(t,r,s)?It(new wn([],{})):sf(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,l,d){return c_(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):sf(t):sf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?WE(s):this.lineralizeSegments(i,s).pipe((0,$r.z)(l=>{const d=new wn(l,{});return this.expandSegment(e,d,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:b}=zE(t,r,s);if(!d)return sf(t);const E=this.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?WE(E):this.lineralizeSegments(r,E).pipe((0,$r.z)(O=>this.expandSegment(e,t,i,O.concat(g),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=LE(i,e),i.loadChildren?(i._loadedRoutes?It({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Dt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new wn(r,{})))):It(new wn(r,{}))):mN(t,i,r,e).pipe(Ai(({matched:l,consumedSegments:d,remainingSegments:f})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,$r.z)(b=>{const E=b.injector??e,O=b.routes,{segmentGroup:M,slicedSegments:V}=r0(t,d,f,O),z=new wn(M.segments,M.children);if(0===V.length&&z.hasChildren())return this.expandChildren(E,O,z).pipe((0,Dt.U)(Fe=>new wn(d,Fe)));if(0===O.length&&0===V.length)return It(new wn(d,{}));const ne=Lo(i)===s;return this.expandSegment(E,z,O,V,ne?bn:s,!0).pipe((0,Dt.U)(Se=>new wn(d.concat(Se.segments),Se.children)))})):sf(t)))}getChildConfig(e,t,i){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function S2(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?It(!0):It(r.map(l=>{const d=n.get(l),f=function e0(n){return n&&Zu(n.canLoad)}(d)?d.canLoad(e,t):d(e,t);return ju(f)})).pipe(Pp(),gN())}(e,t,i).pipe((0,$r.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Mn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function yN(n){return Ap(Kv(rf,3))}())):It({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return It(i);if(r.numberOfChildren>1||!r.children[bn])return Ap(new u.vHH(4e3,rf));r=r.children[bn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Hu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return zr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return zr(t.children,(d,f)=>{l[f]=this.createSegmentGroup(e,d,i,r)}),new wn(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,rf);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class af{}class d_{constructor(e,t,i,r,s,l,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=r0(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bn).pipe((0,Dt.U)(t=>{if(null===t)return null;const i=new Xh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ql(i,t),s=new r_(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=zu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Xn.D)(Object.keys(i.children)).pipe(Gl(r=>{const s=i.children[r],l=Rp(t,r);return this.processSegmentGroup(e,l,s,r)}),qd((r,s)=>r&&s?(r.push(...s),r):null),function PA(n,e=!1){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,yi.x)(i,s=>{const l=n(s,r++);(l||e)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),Gm(null),Ov(),(0,Dt.U)(r=>{if(null===r)return null;const s=c0(r);return function Lp(n){n.sort((e,t)=>e.value.outlet===bn?-1:t.value.outlet===bn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,Xn.D)(t).pipe(Gl(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,s)),Hl(l=>!!l),Ta(l=>{if(l instanceof Wd)return o0(i,r,s)?It([]):It(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!c_(t,i,r,s))return It(null);let l;if("**"===t.path){const d=r.length>0?zl(r).parameters:{},f=d0(i)+r.length;l=It({snapshot:new Xh(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KE(t),Lo(t),t.component??t._loadedComponent??null,t,h_(i),f,CN(t),f),consumedSegments:[],remainingSegments:[]})}else l=mN(i,t,r,e).pipe((0,Dt.U)(({matched:d,consumedSegments:f,remainingSegments:g,parameters:b})=>{if(!d)return null;const E=d0(i)+f.length;return{snapshot:new Xh(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KE(t),Lo(t),t.component??t._loadedComponent??null,t,h_(i),E,CN(t),E),consumedSegments:f,remainingSegments:g}}));return l.pipe(Ai(d=>{if(null===d)return It(null);const{snapshot:f,consumedSegments:g,remainingSegments:b}=d;e=t._injector??e;const E=t._loadedInjector??e,O=function wN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:V}=r0(i,g,b,O.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===V.length&&M.hasChildren())return this.processChildren(E,O,M).pipe((0,Dt.U)(ne=>null===ne?null:[new ql(f,ne)]));if(0===O.length&&0===V.length)return It([new ql(f,[])]);const z=Lo(t)===s;return this.processSegment(E,O,M,V,z?bn:s).pipe((0,Dt.U)(ne=>null===ne?null:[new ql(f,ne)]))}))}}function ZE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function c0(n){const e=[],t=new Set;for(const i of n){if(!ZE(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=c0(i.children);e.push(new ql(i.value,r))}return e.filter(i=>!t.has(i))}function h_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function d0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function KE(n){return n.data||{}}function CN(n){return n.resolve||{}}const p_=Symbol("RouteTitle");function DN(n,e){return(0,$r.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return It(t);let s=0;return(0,Xn.D)(r).pipe(Gl(l=>function YE(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!h0(r)&&(s[p_]=r.title),function QE(n,e,t,i){const r=function TN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return It({});const s={};return(0,Xn.D)(r).pipe((0,$r.z)(l=>function Bo(n,e,t,i){const r=nf(n,e,i);return ju(r.resolve?r.resolve(e,t):r(e,t))}(n[l],e,t,i).pipe(Hl(),(0,Mn.b)(d=>{s[l]=d}))),xv(1),function kv(n){return(0,Dt.U)(()=>n)}(s),Ta(l=>l instanceof Wd?Kc.E:Ap(l)))}(s,n,e,i).pipe((0,Dt.U)(l=>(n._resolvedData=l,n.data=zu(n,t).resolve,r&&h0(r)&&(n.data[p_]=r.title),null)))}(l.route,i,n,e)),(0,Mn.b)(()=>s++),xv(1),(0,$r.z)(l=>s===r.length?It(t):Kc.E))})}function h0(n){return"string"==typeof n.title||null===n.title}function f0(n){return Ai(e=>{const t=n(e);return t?(0,Xn.D)(t).pipe((0,Dt.U)(()=>e)):It(e)})}let SN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===bn);return i}getResolvedTitleForRoute(t){return t.data[p_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(JE)},providedIn:"root"}),n})(),JE=(()=>{class n extends SN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Su))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class p0{}class IN extends class XE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const g0=new u.OlP("",{providedIn:"root",factory:()=>({})}),_0=new u.OlP("ROUTES");let g_=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ju(t.loadComponent()).pipe((0,Mn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Rv(()=>{this.componentLoaders.delete(t)})),r=new Hm(i,()=>new hn.x).pipe(Iv());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return It({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Dt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,b=!1;Array.isArray(d)?g=d:(f=d.create(t).injector,g=Zd(f.get(_0,[],u.XFs.Self|u.XFs.Optional)));return{routes:g.map(o_),injector:f}}),Rv(()=>{this.childrenLoaders.delete(i)})),l=new Hm(s,()=>new hn.x).pipe(Iv());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return ju(t()).pipe((0,$r.z)(i=>i instanceof u.YKP||Array.isArray(i)?It(i):(0,Xn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class NN{}class xN{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function eD(n){throw n}function ON(n,e,t){return e.parse("/")}const Zl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tD(){const n=(0,u.f3M)(Wm),e=(0,u.f3M)(Op),t=(0,u.f3M)(Ke),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),s=(0,u.f3M)(_0,{optional:!0})??[],l=(0,u.f3M)(g0,{optional:!0})??{},d=(0,u.f3M)(JE),f=(0,u.f3M)(SN,{optional:!0}),g=(0,u.f3M)(NN,{optional:!0}),b=(0,u.f3M)(p0,{optional:!0}),E=new Fs(null,n,e,t,i,r,Zd(s));return g&&(E.urlHandlingStrategy=g),b&&(E.routeReuseStrategy=b),E.titleStrategy=f??d,function kN(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,E),E}let Fs=(()=>{class n{constructor(t,i,r,s,l,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hn.x,this.errorHandler=eD,this.malformedUriErrorHandler=ON,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>It(void 0),this.urlHandlingStrategy=new xN,this.routeReuseStrategy=new IN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(g_),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new YA(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new KA(O)),this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const E=l.get(u.R0b);this.isNgZoneEnabled=E instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function aE(){return new Hu(new wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XA(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(nr(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ai(r=>{let s=!1,l=!1;return It(r).pipe((0,Mn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ai(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return iD(d.source)&&(this.browserUrlTree=d.extractedUrl),It(d).pipe(Ai(E=>{const O=this.transitions.getValue();return i.next(new $v(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),O!==this.transitions.getValue()?Kc.E:Promise.resolve(E)}),function bN(n,e,t,i){return Ai(r=>function qE(n,e,t,i,r){return new vN(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Dt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mn.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function EN(n,e,t,i,r,s){return(0,$r.z)(l=>function lf(n,e,t,i,r,s,l="emptyOnly",d="legacy"){return new d_(n,e,t,i,r,l,d,s).recognize().pipe(Ai(f=>null===f?function l0(n){return new $i.y(e=>e.error(n))}(new af):It(f)))}(n,e,t,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,s).pipe((0,Dt.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mn.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(M,E)}this.browserUrlTree=E.urlAfterRedirects}const O=new zA(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(O)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:M,source:V,restoredState:z,extras:ne}=d,be=new $v(O,this.serializeUrl(M),V,z);i.next(be);const Se=XA(M,this.rootComponentType).snapshot;return It(r={...d,targetSnapshot:Se,urlAfterRedirects:M,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Kc.E}),(0,Mn.b)(d=>{const f=new WA(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Dt.U)(d=>r={...d,guards:Jv(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function fN(n,e){return(0,$r.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?It({...t,guardsResult:!0}):function E2(n,e,t,i){return(0,Xn.D)(n).pipe((0,$r.z)(r=>function T2(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?It(s.map(d=>{const f=nf(d,e,r);return ju(function uN(n){return n&&Zu(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,i):f(n,e,t,i)).pipe(Hl())})).pipe(Pp()):It(!0)}(r.component,r.route,t,e,i)),Hl(r=>!0!==r,!0))}(l,i,r,n).pipe((0,$r.z)(d=>d&&function Xv(n){return"boolean"==typeof n}(d)?function HE(n,e,t,i){return(0,Xn.D)(e).pipe(Gl(r=>zd(function pN(n,e){return null!==n&&e&&e(new QA(n)),It(!0)}(r.route.parent,i),function GE(n,e){return null!==n&&e&&e(new IE(n)),It(!0)}(r.route,i),function D2(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function UE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>jm(()=>It(l.guards.map(f=>{const g=nf(f,l.node,t);return ju(function w2(n){return n&&Zu(n.canActivateChild)}(g)?g.canActivateChild(i,n):g(i,n)).pipe(Hl())})).pipe(Pp())));return It(s).pipe(Pp())}(n,r.path,t),function n0(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const r=i.map(s=>jm(()=>{const l=nf(s,e,t);return ju(function t0(n){return n&&Zu(n.canActivate)}(l)?l.canActivate(e,n):l(e,n)).pipe(Hl())}));return It(r).pipe(Pp())}(n,r.route,t))),Hl(r=>!0!==r,!0))}(i,s,n,e):It(d)),(0,Dt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Mn.b)(d=>{if(r.guardsResult=d.guardsResult,Qd(d.guardsResult))throw ME(0,d.guardsResult);const f=new qA(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),nr(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),f0(d=>{if(d.guards.canActivateChecks.length)return It(d).pipe((0,Mn.b)(f=>{const g=new ZA(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),Ai(f=>{let g=!1;return It(f).pipe(DN(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mn.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Mn.b)(f=>{const g=new SE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),f0(d=>{const f=g=>{const b=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Mn.b)(E=>{g.component=E}),(0,Dt.U)(()=>{})));for(const E of g.children)b.push(...f(E));return b};return Sp(f(d.targetSnapshot.root)).pipe(Gm(),br(1))}),f0(()=>this.afterPreactivation()),(0,Dt.U)(d=>{const f=function nN(n,e,t){const i=ef(n,e._root,t?t._root:void 0);return new xE(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,Mn.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(i=>(new cN(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Mn.b)({next(){s=!0},complete(){s=!0}}),Rv(()=>{s||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ta(d=>{if(l=!0,PE(d)){xp(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new n_(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),xp(d)){const g=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iD(r.source)};this.scheduleNavigation(g,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new zv(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(g){r.reject(g)}}return Kc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(o_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,b=f?this.currentUrlTree.fragment:l;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),vE(g,this.currentUrlTree,t,E,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Qd(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function nD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Zl}:!1===i?{...y0}:i,Qd(t))return $m(this.currentUrlTree,t,r);const s=this.parseUrl(t);return $m(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Wr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let d,f,g;l?(d=l.resolve,f=l.reject,g=l.promise):g=new Promise((O,M)=>{d=O,f=M});const b=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:b,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(O=>Promise.reject(O))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new n_(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return tD()},providedIn:"root"}),n})();function iD(n){return"imperative"!==n}let m_=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new hn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,u.D6c)(this.skipLocationChange),replaceUrl:(0,u.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,u.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fs),u.Y36(eh),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Vp=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new hn.x,this.subscription=t.events.subscribe(s=>{s instanceof Wr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,l){if(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:(0,u.D6c)(this.skipLocationChange),replaceUrl:(0,u.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,u.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fs),u.Y36(eh),u.Y36(Oe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),__=(()=>{class n{constructor(t,i,r,s,l,d){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Wr&&this.update()})}ngAfterContentInit(){It(this.links.changes,this.linksWithHrefs.changes,It(null)).pipe((0,Wh.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Xn.D)(t).pipe((0,Wh.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function RN(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fs),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(m_,8),u.Y36(Vp,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,m_,5),u.Suo(r,Vp,5)),2&t){let s;u.iGM(s=u.CRH())&&(i.links=s),u.iGM(s=u.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class rD{}let oD=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(nr(t=>t instanceof Wr),Gl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,u.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,d=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,Xn.D)(r).pipe((0,Wh.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):It(null);const s=r.pipe((0,$r.z)(l=>null===l?It(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Xn.D)([s,l]).pipe((0,Wh.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fs),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(rD),u.LFG(g_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const b0=new u.OlP("");let w0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $v?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Wv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const MN=new u.OlP("ROUTER_FORROOT_GUARD"),y_=new u.OlP(""),N2=[Ke,{provide:Wm,useClass:Pv},{provide:Fs,useFactory:tD},Op,{provide:eh,useFactory:function PN(n){return n.routerState.root},deps:[Fs]},g_];function aD(){return new u.PXZ("Router",Fs)}let v_=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[N2,[],Up(t),{provide:MN,useFactory:Xc,deps:[[Fs,new u.FiY,new u.tp0]]},{provide:g0,useValue:i||{}},i?.useHash?{provide:Oe,useClass:ft}:{provide:Oe,useClass:ht},{provide:b0,useFactory:()=>{const n=(0,u.f3M)(Fs),e=(0,u.f3M)(wd),t=(0,u.f3M)(g0);return t.scrollOffset&&e.setOffset(t.scrollOffset),new w0(n,e,t)}},i?.preloadingStrategy?x2(i.preloadingStrategy):[],{provide:u.PXZ,multi:!0,useFactory:aD},i?.initialNavigation?FN(i):[],[{provide:cf,useFactory:b_},{provide:u.tb,multi:!0,useExisting:cf}]]}}static forChild(t){return{ngModule:n,providers:[Up(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MN,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Xc(n){return"guarded"}function Up(n){return[{provide:_0,multi:!0,useValue:n}]}function b_(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Fs),r=n.get(D0);1===n.get(T0)&&i.initialNavigation(),n.get(y_,null,u.XFs.Optional)?.setUpPreloading(),n.get(b0,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const cf=new u.OlP("");function FN(n){return["disabled"===n.initialNavigation?[{provide:u.ip1,multi:!0,useFactory:()=>{const n=(0,u.f3M)(Fs);return()=>{n.setUpLocationChangeListener()}}},{provide:T0,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:T0,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:n=>{const e=n.get(ee,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const s=n.get(Fs),l=n.get(D0);(function i(r){n.get(Fs).events.pipe(nr(l=>l instanceof Wr||l instanceof n_||l instanceof zv),(0,Dt.U)(l=>l instanceof Wr||l instanceof n_&&(0===l.code||1===l.code)&&null),nr(l=>null!==l),br(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),s.afterPreactivation=()=>(r(!0),t||l.closed?It(void 0):l),s.initialNavigation()}))}}]:[]]}const D0=new u.OlP("",{factory:()=>new hn.x}),T0=new u.OlP("",{providedIn:"root",factory:()=>1});function x2(n){return[oD,{provide:y_,useExisting:oD},{provide:rD,useExisting:n}]}var k2=j(1144);const VN=["addListener","removeListener"],UN=["addEventListener","removeEventListener"],jN=["on","off"];function os(n,e,t,i){if((0,Ul.m)(t)&&(i=t,t=void 0),i)return os(n,e,t).pipe(iE(i));const[r,s]=function GN(n){return(0,Ul.m)(n.addEventListener)&&(0,Ul.m)(n.removeEventListener)}(n)?UN.map(l=>d=>n[l](e,d,t)):function uD(n){return(0,Ul.m)(n.addListener)&&(0,Ul.m)(n.removeListener)}(n)?VN.map(HN(n,e)):function S0(n){return(0,Ul.m)(n.on)&&(0,Ul.m)(n.off)}(n)?jN.map(HN(n,e)):[];if(!r&&(0,k2.z)(n))return(0,$r.z)(l=>os(l,e,t))((0,ul.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new $i.y(l=>{const d=(...f)=>l.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function HN(n,e){return t=>i=>n[t](e,i)}var eu=j(4986),$N=j(3532);function Hp(n=0,e,t=eu.P){let i=-1;return null!=e&&((0,$N.K)(e)?t=e:i=e),new $i.y(r=>{let s=function zN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:WN}=Array;function dD(n){return 1===n.length&&WN(n[0])?n[0]:n}var Kl=j(5032);function E_(...n){const e=(0,Zc.jO)(n),t=dD(n);return t.length?new $i.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let l=0;!i.closed&&l<t.length;l++)(0,ul.Xf)(t[l]).subscribe((0,yi.x)(i,d=>{if(r[l].push(d),r.every(f=>f.length)){const f=r.map(g=>g.shift());i.next(e?e(...f):f),r.some((g,b)=>!g.length&&s[b])&&i.complete()}},()=>{s[l]=!0,!r[l].length&&i.complete()}));return()=>{r=s=null}}):Kc.E}function vi(n){return(0,tr.e)((e,t)=>{(0,ul.Xf)(n).subscribe((0,yi.x)(t,()=>t.complete(),Kl.Z)),!t.closed&&e.subscribe(t)})}function Gp(n,e=Tp.y){return n=n??Yl,(0,tr.e)((t,i)=>{let r,s=!0;t.subscribe((0,yi.x)(i,l=>{const d=e(l);(s||!n(r,d))&&(s=!1,r=d,i.next(l))}))})}function Yl(n,e){return n===e}function Yu(...n){const e=(0,Zc.jO)(n);return(0,tr.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,ul.Xf)(n[f]).subscribe((0,yi.x)(i,g=>{s[f]=g,!d&&!l[f]&&(l[f]=!0,(d=l.every(Tp.y))&&(l=null))},Kl.Z));t.subscribe((0,yi.x)(i,f=>{if(d){const g=[f,...s];i.next(e?e(...g):g)}}))})}new $i.y(Kl.Z);let nh=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Na=(()=>{class n extends nh{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ls=new u.OlP("NgValueAccessor"),df={provide:Ls,useExisting:(0,u.Gpc)(()=>tu),multi:!0},ff=new u.OlP("CompositionEventMode");let tu=(()=>{class n extends nh{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hf(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ff,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[u._Bn([df]),u.qOj]}),n})();const qr=new u.OlP("NgValidators"),iu=new u.OlP("NgAsyncValidators");function T_(n){return null!=n}function vD(n){return(0,u.QGY)(n)?(0,Xn.D)(n):n}function $p(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zp(n,e){return e.map(t=>t(n))}function bD(n){return n.map(e=>function R0(n){return!n.validate}(e)?e:t=>e.validate(t))}function gf(n){return null!=n?function Wp(n){if(!n)return null;const e=n.filter(T_);return 0==e.length?null:function(t){return $p(zp(t,e))}}(bD(n)):null}function S_(n){return null!=n?function M0(n){if(!n)return null;const e=n.filter(T_);return 0==e.length?null:function(t){return function I0(...n){const e=(0,Zc.jO)(n),{args:t,keys:i}=Um(n),r=new $i.y(s=>{const{length:l}=t;if(!l)return void s.complete();const d=new Array(l);let f=l,g=l;for(let b=0;b<l;b++){let E=!1;(0,ul.Xf)(t[b]).subscribe((0,yi.x)(s,O=>{E||(E=!0,g--),d[b]=O},()=>f--,void 0,()=>{(!f||!E)&&(g||s.next(i?kA(i,d):d),s.complete())}))}});return e?r.pipe(iE(e)):r}(zp(t,e).map(vD)).pipe((0,Dt.U)($p))}}(bD(n)):null}function I_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qp(n){return n?Array.isArray(n)?n:[n]:[]}function Zp(n,e){return Array.isArray(n)?n.includes(e):n===e}function wD(n,e){const t=qp(e);return qp(n).forEach(r=>{Zp(t,r)||t.push(r)}),t}function L0(n,e){return qp(e).filter(t=>!Zp(n,t))}class B0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=S_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ls extends B0{get formDirective(){return null}get path(){return null}}class ru extends B0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let A_=(()=>{class n extends CD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ru,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),Ju=(()=>{class n extends CD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ls,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const Yp="VALID",Qp="INVALID",rh="PENDING",Ql="DISABLED";function V0(n){return(Jp(n)?n.validators:n)||null}function SD(n){return Array.isArray(n)?gf(n):n||null}function k_(n,e){return(Jp(e)?e.asyncValidators:n)||null}function ID(n){return Array.isArray(n)?S_(n):n||null}function Jp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class M_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=SD(this._rawValidators),this._composedAsyncValidatorFn=ID(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yp}get invalid(){return this.status===Qp}get pending(){return this.status==rh}get disabled(){return this.status===Ql}get enabled(){return this.status!==Ql}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=SD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ID(e)}addValidators(e){this.setValidators(wD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L0(e,this._rawAsyncValidators))}hasValidator(e){return Zp(this._rawValidators,e)}hasAsyncValidator(e){return Zp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yp||this.status===rh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ql:Yp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rh,this._hasOwnPendingAsyncValidator=!0;const t=vD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Ql:this.errors?Qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rh)?rh:this._anyControlsHaveStatus(Qp)?Qp:Yp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class xa extends M_{constructor(e,t,i){super(V0(t),k_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function R_(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function sx(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function mf(n,e){U0(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function j0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AD(n,e)})}(n,e),function ND(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function eg(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ax(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function P_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function U0(n,e){const t=function P0(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(I_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function F0(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(I_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();P_(e._rawValidators,r),P_(e._rawAsyncValidators,r)}function AD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const MD={provide:ls,useExisting:(0,u.Gpc)(()=>Xu)},_f=(()=>Promise.resolve(null))();let Xu=(()=>{class n extends ls{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new xa({},gf(t),S_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_f.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),mf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_f.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_f.then(()=>{const i=this._findContainer(t.path),r=new xa({});(function xD(n,e){U0(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_f.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){_f.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function tg(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qr,10),u.Y36(iu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([MD]),u.qOj]}),n})();function G0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const PD=class extends M_{constructor(e=null,t,i){super(V0(t),k_(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){G0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){G0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fx={provide:ru,useExisting:(0,u.Gpc)(()=>z0)},BD=(()=>Promise.resolve(null))();let z0=(()=>{class n extends ru{constructor(t,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new PD,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ng(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===tu?t=s:function H0(n){return Object.getPrototypeOf(n.constructor)===Na}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){BD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);BD.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function lo(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ls,9),u.Y36(qr,10),u.Y36(iu,10),u.Y36(Ls,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([fx]),u.qOj,u.TTD]}),n})(),ig=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[W0]}),n})(),vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lg]}),n})();Math,Math,Math;const vb=["*"],wO=["dialog"];function W1(n){return"string"==typeof n}function td(n){return null!=n}function ch(n){return(n||document.body).getBoundingClientRect()}const Z1={animation:!0,transitionTimerDelayMs:5},J_=()=>{},{transitionTimerDelayMs:$O}=Z1,X_=new Map,ho=(n,e,t,i)=>{let r=i.context||{};const s=X_.get(e);if(s)switch(i.runningTransition){case"continue":return Kc.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),X_.delete(e)}const l=t(e,i.animation,r)||J_;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>l()),It(void 0).pipe(function CB(n){return e=>new $i.y(t=>e.subscribe({next:l=>n.run(()=>t.next(l)),error:l=>n.run(()=>t.error(l)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new hn.x,f=new hn.x,g=d.pipe(function ZN(...n){return e=>zd(e,It(...n))}(!0));X_.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const b=function GO(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const E=os(e,"transitionend").pipe(vi(g),nr(({target:M})=>M===e));(function hD(...n){return 1===(n=dD(n)).length?(0,ul.Xf)(n[0]):new $i.y(function w_(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,ul.Xf)(n[i]).subscribe((0,yi.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(Hp(b+$O).pipe(vi(g)),E,f).pipe(vi(g)).subscribe(()=>{X_.delete(e),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};let ey=(()=>{class n{constructor(){this.animation=Z1.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),iy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),ic=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),nT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Rr=(()=>{return(n=Rr||(Rr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Rr;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const oy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ay(n){const e=Array.from(n.querySelectorAll(oy)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr,vf]}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Cg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let p8=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(br(1)).subscribe(()=>{ho(this._zone,this._el.nativeElement,(t,i)=>{i&&ch(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ho(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class JB{close(e){}dismiss(e){}}class g8{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new hn.x,this._dismissed=new hn.x,this._hidden=new hn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function xb(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():It(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),E_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var dh=(()=>{return(n=dh||(dh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",dh;var n})();let m8=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new hn.x,this.hidden=new hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":W1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(br(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=E_(ho(this._zone,t,()=>t.classList.remove("show"),i),ho(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};E_(ho(this._zone,this._elRef.nativeElement,(s,l)=>{l&&ch(s),s.classList.add("show")},t),ho(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{os(t,"keydown").pipe(vi(this._closed$),nr(r=>r.which===Rr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(dh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;os(this._dialogEl.nativeElement,"mousedown").pipe(vi(this._closed$),(0,Mn.b)(()=>i=!1),Ai(()=>os(t,"mouseup").pipe(vi(this._closed$),br(1))),nr(({target:r})=>t===r)).subscribe(()=>{i=!0}),os(t,"click").pipe(vi(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(dh.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=ay(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ho(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(_e),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&u.Gf(wO,7),2&t){let r;u.iGM(r=u.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:vb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),_8=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:l}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=l),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y8=(()=>{class n{constructor(t,i,r,s,l,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=os(e,"focusin").pipe(vi(t),(0,Dt.U)(s=>s.target));os(e,"keydown").pipe(vi(t),nr(s=>s.which===Rr.Tab),Yu(r)).subscribe(([s,l])=>{const[d,f]=ay(e);(l===d||l===e)&&s.shiftKey&&(f.focus(),s.preventDefault()),l===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&os(e,"click").pipe(vi(t),Yu(r),(0,Dt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:td(r.container)?this._document.querySelector(r.container):this._document.body,l=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new JB,f=this._getContentRef(r.injector||t,i,d,r);let g=!1!==r.backdrop?this._attachBackdrop(s):void 0,b=this._attachWindowComponent(s,f.nodes),E=new g8(b,f,g,r.beforeDismiss);return this._registerModalRef(E),this._registerWindowCmpt(b),E.hidden.pipe(br(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=O=>{E.close(O)},d.dismiss=O=>{E.dismiss(O)},this._applyWindowOptions(b.instance,r),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),g&&g.instance&&(this._applyBackdropOptions(g.instance,r),g.changeDetectorRef.detectChanges()),b.changeDetectorRef.detectChanges(),E}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.LMc)(p8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,u.LMc)(m8,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{td(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{td(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,r):W1(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new Cg([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(s),new Cg([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Cg([[i]])}_createFromComponent(t,i,r,s){const l=u.zs3.create({providers:[{provide:JB,useValue:r}],parent:t}),d=(0,u.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:l}),f=d.location.nativeElement;return s.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new Cg([[f]],d.hostView,d)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(_e),u.LFG(_8),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v8=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ey))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bk=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(y8),u.LFG(v8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bk]}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),fV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),mV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),yV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function k8(){return 100}});let vV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lr]}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const R8=[Q1,iy,ic,nT,ZB,QB,XB,iV,bV,dV,fV,pV,gV,mV,_V,yV,vV];let M8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[R8,Q1,iy,ic,nT,ZB,QB,XB,iV,bV,dV,fV,pV,gV,mV,_V,yV,vV]}),n})();class wV{}class CV{}class hh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class P8{encodeKey(e){return EV(e)}encodeValue(e){return EV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const L8=/%(\d[a-f0-9])/gi,B8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EV(n){return encodeURIComponent(n).replace(L8,(e,t)=>B8[t]??e)}function CT(n){return`${n}`}class xf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new P8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(l)||[];f.push(d),t.set(l,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(CT):[CT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(CT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(CT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class V8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TV(n){return typeof Blob<"u"&&n instanceof Blob}function SV(n){return typeof FormData<"u"&&n instanceof FormData}class Ub{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function U8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hh),this.context||(this.context=new V8),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+l}}else this.params=new xf,this.urlWithParams=t}serializeBody(){return null===this.body?null:DV(this.body)||TV(this.body)||SV(this.body)||function j8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SV(this.body)?null:TV(this.body)?this.body.type||null:DV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,g=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((E,O)=>E.set(O,e.setHeaders[O]),f)),e.setParams&&(g=Object.keys(e.setParams).reduce((E,O)=>E.set(O,e.setParams[O]),g)),new Ub(t,i,s,{params:g,headers:f,context:b,reportProgress:d,responseType:r,withCredentials:l})}}var Mr=(()=>((Mr=Mr||{})[Mr.Sent=0]="Sent",Mr[Mr.UploadProgress=1]="UploadProgress",Mr[Mr.ResponseHeader=2]="ResponseHeader",Mr[Mr.DownloadProgress=3]="DownloadProgress",Mr[Mr.Response=4]="Response",Mr[Mr.User=5]="User",Mr))();class Dk{constructor(e,t=200,i="OK"){this.headers=e.headers||new hh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Tk extends Dk{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new Tk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ET extends Dk{constructor(e={}){super(e),this.type=Mr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ET({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IV extends Dk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Sk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let AV=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ub)s=t;else{let f,g;f=r.headers instanceof hh?r.headers:new hh(r.headers),r.params&&(g=r.params instanceof xf?r.params:new xf({fromObject:r.params})),s=new Ub(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=It(s).pipe(Gl(f=>this.handler.handle(f)));if(t instanceof Ub||"events"===r.observe)return l;const d=l.pipe(nr(f=>f instanceof ET));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Dt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Dt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new xf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Sk(r,i))}post(t,i,r={}){return this.request("POST",t,Sk(r,i))}put(t,i,r={}){return this.request("PUT",t,Sk(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class NV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const xV=new u.OlP("HTTP_INTERCEPTORS");let H8=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const G8=/^\)\]\}',?\n/;let OV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $i.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((M,V)=>r.setRequestHeader(M,V.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&r.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();r.responseType="json"!==M?M:"text"}const s=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const M=r.statusText||"OK",V=new hh(r.getAllResponseHeaders()),z=function $8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new Tk({headers:V,status:r.status,statusText:M,url:z}),l},f=()=>{let{headers:M,status:V,statusText:z,url:ne}=d(),be=null;204!==V&&(be=typeof r.response>"u"?r.responseText:r.response),0===V&&(V=be?200:0);let Se=V>=200&&V<300;if("json"===t.responseType&&"string"==typeof be){const Fe=be;be=be.replace(G8,"");try{be=""!==be?JSON.parse(be):null}catch(Me){be=Fe,Se&&(Se=!1,be={error:Me,text:be})}}Se?(i.next(new ET({body:be,headers:M,status:V,statusText:z,url:ne||void 0})),i.complete()):i.error(new IV({error:be,headers:M,status:V,statusText:z,url:ne||void 0}))},g=M=>{const{url:V}=d(),z=new IV({error:M,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(z)};let b=!1;const E=M=>{b||(i.next(d()),b=!0);let V={type:Mr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(V.total=M.total),"text"===t.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},O=M=>{let V={type:Mr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(V.total=M.total),i.next(V)};return r.addEventListener("load",f),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),t.reportProgress&&(r.addEventListener("progress",E),null!==s&&r.upload&&r.upload.addEventListener("progress",O)),r.send(s),i.next({type:Mr.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",f),r.removeEventListener("timeout",g),t.reportProgress&&(r.removeEventListener("progress",E),null!==s&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ur))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ik=new u.OlP("XSRF_COOKIE_NAME"),Ak=new u.OlP("XSRF_HEADER_NAME");class kV{}let z8=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(u.Lbi),u.LFG(Ik))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Nk=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kV),u.LFG(Ak))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),W8=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(xV,[]);this.chain=i.reduceRight((r,s)=>new NV(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(CV),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),q8=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Nk,useClass:H8}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Ik,useValue:t.cookieName}:[],t.headerName?{provide:Ak,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nk,{provide:xV,useExisting:Nk,multi:!0},{provide:kV,useClass:z8},{provide:Ik,useValue:"XSRF-TOKEN"},{provide:Ak,useValue:"X-XSRF-TOKEN"}]}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[AV,{provide:wV,useClass:W8},OV,{provide:CV,useExisting:OV}],imports:[q8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),uy=(()=>{class n{constructor(t){this.http=t}obtenerDatos(){return this.http.get("./assets/data/data.json")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(AV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jb(n){return null!=n&&"false"!=`${n}`}function RV(n,e=0){return function K8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ma(n){return n instanceof u.SBq?n.nativeElement:n}var MV=j(4408);const Hb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Hb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Uu.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Hb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Hb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var PV=j(7565);const FV=new class J8 extends PV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Q8 extends MV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Hb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Hb.cancelAnimationFrame(t),e._scheduled=void 0)}});let xk,X8=1;const DT={};function LV(n){return n in DT&&(delete DT[n],!0)}const eW={setImmediate(n){const e=X8++;return DT[e]=!0,xk||(xk=Promise.resolve()),xk.then(()=>LV(e)&&n()),e},clearImmediate(n){LV(n)}},{setImmediate:tW,clearImmediate:nW}=eW,TT={setImmediate(...n){const{delegate:e}=TT;return(e?.setImmediate||tW)(...n)},clearImmediate(n){const{delegate:e}=TT;return(e?.clearImmediate||nW)(n)},delegate:void 0};new class rW extends PV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class iW extends MV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=TT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(TT.clearImmediate(t),e._scheduled=void 0)}});function BV(n,e=eu.z){return function oW(n){return(0,tr.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const g=r;r=null,t.next(g)}l&&t.complete()},f=()=>{s=null,l&&t.complete()};e.subscribe((0,yi.x)(t,g=>{i=!0,r=g,s||(0,ul.Xf)(n(g)).subscribe(s=(0,yi.x)(t,d,f))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>Hp(n,e))}let Ok;try{Ok=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ok=!1}let Gb,kk,VV=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ji(n){return n===Xr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ok)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $b(n){return function aW(){if(null==Gb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gb=!0}))}finally{Gb=Gb||!1}return Gb}()?n:!!n.capture}function jV(n){if(function lW(){if(null==kk){const n=typeof document<"u"?document.head:null;kk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function IT(n){return n.composedPath?n.composedPath()[0]:n.target}let uW=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new $i.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(BV(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):It()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(nr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ma(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>os(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(VV),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hW=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new hn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(BV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VV),u.LFG(u.R0b),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var zb=j(6451);const xW=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function OW(){return(0,u.f3M)(_e)}}),kW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zV=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function RW(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xW,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rk(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function hy(n,e){const t=e?"":"none";Rk(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function WV(n,e,t){Rk(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function AT(n,e){return e&&"none"!=e?n+" "+e:n}function qV(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Mk(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}function Pk(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Fk(n,e,t){const{top:i,bottom:r,left:s,right:l}=n;return t>=i&&t<=r&&e>=s&&e<=l}function Wb(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function ZV(n,e,t,i){const{top:r,right:s,bottom:l,left:d,width:f,height:g}=n,b=f*e,E=g*e;return i>r-E&&i<l+E&&t>d-b&&t<s+b}class KV{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Pk(t)})})}handleScroll(e){const t=IT(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let s,l;if(t===this._document){const g=this.getViewportScrollPosition();s=g.top,l=g.left}else s=t.scrollTop,l=t.scrollLeft;const d=r.top-s,f=r.left-l;return this.positions.forEach((g,b)=>{g.clientRect&&t!==b&&t.contains(b)&&Wb(g.clientRect,d,f)}),r.top=s,r.left=l,{top:d,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function YV(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?XV(n,e):("input"===i||"select"===i||"textarea"===i)&&JV(n,e),QV("canvas",n,e,XV),QV("input, textarea, select",n,e,JV),e}function QV(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const s=t.querySelectorAll(n);for(let l=0;l<r.length;l++)i(r[l],s[l])}}let PW=0;function JV(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${PW++}`)}function XV(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const eU=$b({passive:!0}),NT=$b({passive:!1}),Lk=new Set(["position"]);class LW{constructor(e,t,i,r,s,l){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new hn.x,this._pointerMoveSubscription=Uu.w0.EMPTY,this._pointerUpSubscription=Uu.w0.EMPTY,this._scrollSubscription=Uu.w0.EMPTY,this._resizeSubscription=Uu.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new hn.x,this.started=new hn.x,this.released=new hn.x,this.ended=new hn.x,this.entered=new hn.x,this.exited=new hn.x,this.dropped=new hn.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const f=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),V=this._dropContainer;if(!M)return void this._endDragSequence(d);(!V||!V.isDragging()&&!V.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.preventDefault();const g=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(g),this._dropContainer)this._updateActiveDropContainer(g,f);else{const b=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,E=this._activeTransform;E.x=g.x-b.x+this._passiveTransform.x,E.y=g.y-b.y+this._passiveTransform.y,this._applyRootElementTransform(E.x,E.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:g,event:d,distance:this._getDragDistance(g),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new KV(i),l.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=jb(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>hy(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Ma(i)),this._handles.forEach(i=>hy(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Ma(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,NT),t.addEventListener("touchstart",this._pointerDown,eU),t.addEventListener("dragstart",this._nativeDragStart,NT)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Ma(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),hy(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),hy(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){qb(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();r.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),WV(i,!1,Lk),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,d).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=qb(t),s=!r&&0!==t.button,l=this._rootElement,d=IT(t),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),g=r?function IW(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function SW(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(d&&d.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||f||g)return;if(this._handles.length){const O=l.style;this._rootElementTapHighlight=O.webkitTapHighlightColor||"",O.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(O=>this._updateOnScroll(O)),this._boundaryElement&&(this._boundaryRect=Pk(this._boundaryElement));const b=this._previewTemplate;this._pickupPositionInElement=b&&b.template&&!b.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){WV(this._rootElement,!0,Lk),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),l=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:s,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,l,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let r;if(i&&e){const s=e.matchSize?this._initialClientRect:null,l=e.viewContainer.createEmbeddedView(i,e.context);l.detectChanges(),r=nU(l,this._document),this._previewRef=l,e.matchSize?iU(r,s):r.style.transform=xT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=YV(this._rootElement),iU(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Rk(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Lk),hy(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>r.classList.add(s)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function MW(n){const e=getComputedStyle(n),t=Mk(e,"transition-property"),i=t.find(d=>"transform"===d||"all"===d);if(!i)return 0;const r=t.indexOf(i),s=Mk(e,"transition-duration"),l=Mk(e,"transition-delay");return qV(s[r])+qV(l[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=l=>{(!l||IT(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=nU(this._placeholderRef,this._document)):i=YV(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():e,l=qb(i)?i.targetTouches[0]:i,d=this._getViewportScrollPosition();return{x:s.left-e.left+(l.pageX-s.left-d.left),y:s.top-e.top+(l.pageY-s.top-d.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=qb(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const d=this._ownerSVGElement.createSVGPoint();return d.x=r,d.y=s,d.matrixTransform(l.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:l}=this._pickupPositionInElement,d=this._boundaryRect,{width:f,height:g}=this._getPreviewRect(),b=d.top+l,E=d.bottom-(g-l);i=tU(i,d.left+s,d.right-(f-s)),r=tU(r,b,E)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,l=Math.abs(t-s.x),d=Math.abs(i-s.y);return l>this._config.pointerDirectionChangeThreshold&&(r.x=t>s.x?1:-1,s.x=t),d>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,hy(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,NT),e.removeEventListener("touchstart",this._pointerDown,eU),e.removeEventListener("dragstart",this._nativeDragStart,NT)}_applyRootElementTransform(e,t){const i=xT(e,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=AT(i,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=xT(e,t);this._preview.style.transform=AT(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,l=i.right-r.right,d=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),l>0&&(e-=l)):e=0,r.height>i.height?(d>0&&(t+=d),f>0&&(t-=f)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:qb(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=IT(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Wb(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=jV(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ma(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function xT(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function tU(n,e,t){return Math.max(e,Math.min(t,n))}function qb(n){return"t"===n.type[0]}function nU(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function iU(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=xT(e.left,e.top)}function OT(n,e,t){const i=Zb(e,n.length-1),r=Zb(t,n.length-1);if(i===r)return;const s=n[i],l=r<i?-1:1;for(let d=i;d!==r;d+=l)n[d]=n[d+l];n[r]=s}function Zb(n,e){return Math.max(0,Math.min(e,n))}class BW{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const s=this._itemPositions,l=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===l&&s.length>0)return null;const d="horizontal"===this.orientation,f=s.findIndex(ne=>ne.drag===e),g=s[l],E=g.clientRect,O=f>l?1:-1,M=this._getItemOffsetPx(s[f].clientRect,E,O),V=this._getSiblingOffsetPx(f,s,O),z=s.slice();return OT(s,f,l),s.forEach((ne,be)=>{if(z[be]===ne)return;const Se=ne.drag===e,Fe=Se?M:V,Me=Se?e.getPlaceholderElement():ne.drag.getRootElement();ne.offset+=Fe,d?(Me.style.transform=AT(`translate3d(${Math.round(ne.offset)}px, 0, 0)`,ne.initialTransform),Wb(ne.clientRect,0,Fe)):(Me.style.transform=AT(`translate3d(0, ${Math.round(ne.offset)}px, 0)`,ne.initialTransform),Wb(ne.clientRect,Fe,0))}),this._previousSwap.overlaps=Fk(E,t,i),this._previousSwap.drag=g.drag,this._previousSwap.delta=d?r.x:r.y,{previousIndex:f,currentIndex:l}}enter(e,t,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,l=this._activeDraggables,d=l.indexOf(e),f=e.getPlaceholderElement();let g=l[s];if(g===e&&(g=l[s+1]),!g&&(null==s||-1===s||s<l.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(g=l[0]),d>-1&&l.splice(d,1),g&&!this._dragDropRegistry.isDragging(g)){const b=g.getRootElement();b.parentElement.insertBefore(f,b),l.splice(s,0,e)}else Ma(this._element).appendChild(f),l.push(e);f.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{Wb(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Pk(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let s=r?t.left-e.left:t.top-e.top;return-1===i&&(s+=r?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,s=t[e].clientRect,l=t[e+-1*i];let d=s[r?"width":"height"]*i;if(l){const f=r?"left":"top",g=r?"right":"bottom";-1===i?d-=l.clientRect[f]-s[g]:d+=s[f]-l.clientRect[g]}return d}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const l=i[i.length-1].clientRect;return r?e>=l.right:t>=l.bottom}{const l=i[0].clientRect;return r?e<=l.left:t<=l.top}}_getItemIndexFromPointerPosition(e,t,i,r){const s="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:d,clientRect:f})=>{if(d===e)return!1;if(r){const g=s?r.x:r.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&g===this._previousSwap.delta)return!1}return s?t>=Math.floor(f.left)&&t<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom)});return-1!==l&&this._sortPredicate(l,e)?l:-1}}class VW{constructor(e,t,i,r,s){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new hn.x,this.entered=new hn.x,this.exited=new hn.x,this.dropped=new hn.x,this.sorted=new hn.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Uu.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new hn.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function NW(n=0,e=eu.z){return n<0&&(n=0),Hp(n,n,e)}(0,FV).pipe(vi(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-d):2===this._verticalScrollDirection&&l.scrollBy(0,d),1===this._horizontalScrollDirection?l.scrollBy(-d,0):2===this._horizontalScrollDirection&&l.scrollBy(d,0)})},this.element=Ma(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new KV(i),this._sortStrategy=new BW(this.element,t),this._sortStrategy.withSortPredicate((l,d)=>this.sortPredicate(l,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,s,l,d,f={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:l,dropPoint:d,event:f})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=Ma(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._clientRect||!ZV(this._clientRect,.05,t,i))return;const s=this._sortStrategy.sort(e,t,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((l,d)=>{d===this._document||!l.clientRect||i||ZV(l.clientRect,.05,e,t)&&([r,s]=function UW(n,e,t,i){const r=oU(e,i),s=aU(e,t);let l=0,d=0;if(r){const f=n.scrollTop;1===r?f>0&&(l=1):n.scrollHeight-f>n.clientHeight&&(l=2)}if(s){const f=n.scrollLeft;1===s?f>0&&(d=1):n.scrollWidth-f>n.clientWidth&&(d=2)}return[l,d]}(d,l.clientRect,e,t),(r||s)&&(i=d))}),!r&&!s){const{width:l,height:d}=this._viewportRuler.getViewportSize(),f={width:l,height:d,top:0,right:l,bottom:d,left:0};r=oU(f,t),s=aU(f,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Ma(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Ma(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=Ma(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&Fk(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._clientRect||!Fk(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);if(!r)return!1;const s=Ma(this.element);return r===s||s.contains(r)}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=jV(Ma(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function oU(n,e){const{top:t,bottom:i,height:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}function aU(n,e){const{left:t,right:i,width:r}=n,s=.05*r;return e>=t-s&&e<=t+s?1:e>=i-s&&e<=i+s?2:0}const kT=$b({passive:!1,capture:!0});let jW=(()=>{class n{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new hn.x,this.pointerUp=new hn.x,this.scroll=new hn.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,kT)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,kT)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kT}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:kT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,l)=>{this._document.addEventListener(l,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new $i.y(r=>this._ngZone.runOutsideAngular(()=>{const l=d=>{this._activeDragInstances.length&&r.next(d)};return t.addEventListener("scroll",l,!0),()=>{t.removeEventListener("scroll",l,!0)}}))),(0,zb.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HW={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Bk=(()=>{class n{constructor(t,i,r,s){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(t,i=HW){return new LW(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new VW(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(u.R0b),u.LFG(hW),u.LFG(jW))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lU=new u.OlP("CDK_DRAG_PARENT"),cU=new u.OlP("CdkDropListGroup"),uU=new u.OlP("CDK_DRAG_CONFIG");let GW=0;const dU=new u.OlP("CdkDropList");let hU=(()=>{class n{constructor(t,i,r,s,l,d,f){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=l,this._group=d,this._destroyed=new hn.x,this.connectedTo=[],this.id="cdk-drop-list-"+GW++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.sorted=new u.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,f&&this._assignDefaults(f),this._dropListRef.enterPredicate=(g,b)=>this.enterPredicate(g.data,b.data),this._dropListRef.sortPredicate=(g,b,E)=>this.sortPredicate(g,b.data,E.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),d&&d._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=jb(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(jl(this._dir.value),vi(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=function Y8(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(l=>l.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=jb(this.sortingDisabled),t.autoScrollDisabled=jb(this.autoScrollDisabled),t.autoScrollStep=RV(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:l,listOrientation:d}=t;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=l??!1,this.orientation=d||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Bk),u.Y36(u.sBO),u.Y36(uW),u.Y36(zV,8),u.Y36(cU,12),u.Y36(uU,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("id",i.id),u.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[u._Bn([{provide:cU,useValue:void 0},{provide:dU,useExisting:n}])]}),n})();const fU=new u.OlP("CdkDragHandle"),$W=new u.OlP("CdkDragPlaceholder"),zW=new u.OlP("CdkDragPreview");let pU=(()=>{class n{constructor(t,i,r,s,l,d,f,g,b,E,O){this.element=t,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=l,this._dir=f,this._changeDetectorRef=b,this._selfHandle=E,this._parentDrag=O,this._destroyed=new hn.x,this.started=new u.vpe,this.released=new u.vpe,this.ended=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.dropped=new u.vpe,this.moved=new $i.y(M=>{const V=this._dragRef.moved.pipe((0,Dt.U)(z=>({source:this,pointerPosition:z.pointerPosition,event:z.event,delta:z.delta,distance:z.distance}))).subscribe(M);return()=>{V.unsubscribe()}}),this._dragRef=g.createDrag(t,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:d?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),d&&this._assignDefaults(d),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=jb(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(br(1),vi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Ma(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:RV(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(br(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:l,boundaryElement:d,draggingDisabled:f,rootElementSelector:g,previewContainer:b}=t;this.disabled=f??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),l&&(this.previewClass=l),d&&(this.boundaryElement=d),g&&(this.rootElementSelector=g),b&&(this.previewContainer=b)}_setupHandlesListener(){this._handles.changes.pipe(jl(this._handles),(0,Mn.b)(t=>{const i=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ai(t=>(0,zb.T)(...t.map(i=>i._stateChanges.pipe(jl(i))))),vi(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(dU,12),u.Y36(_e),u.Y36(u.R0b),u.Y36(u.s_b),u.Y36(uU,8),u.Y36(zV,8),u.Y36(Bk),u.Y36(u.sBO),u.Y36(fU,10),u.Y36(lU,12))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,zW,5),u.Suo(r,$W,5),u.Suo(r,fU,5)),2&t){let s;u.iGM(s=u.CRH())&&(i._previewTemplate=s.first),u.iGM(s=u.CRH())&&(i._placeholderTemplate=s.first),u.iGM(s=u.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[u._Bn([{provide:lU,useExisting:n}]),u.TTD]}),n})(),qW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Bk],imports:[fW]}),n})(),ZW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:32,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-5","copyright"],["id","current-year"],[1,"col-sm-2","top"],["id","to-top"],["aria-hidden","true",1,"fa","fa-chevron-up"],[1,"col-sm-5","social"],["href","https://github.com/Vassa94","target","_blank"],["aria-hidden","true",1,"fa","fa-github"],["href","https://es.stackoverflow.com/users/278904/ignacio-vassallo","target","_blank"],["aria-hidden","true",1,"fa","fa-stack-overflow"],["href","https://www.linkedin.com/in/ignacio-vassallo-668699133/","target","_blank"],["aria-hidden","true",1,"fa","fa-linkedin"],["href","https://www.facebook.com/ignacio.vassallo.54/","target","_blank"],["aria-hidden","true",1,"fa","fa-facebook"],["href","https://twitter.com/Vassa1994","target","_blank"],["aria-hidden","true",1,"fa","fa-twitter"],["href","https://plus.google.com/","target","_blank"],["aria-hidden","true",1,"fa","fa-google-plus"]],template:function(t,i){1&t&&(u.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"p"),u._uU(5," Copyright \xa9 "),u.TgZ(6,"span",3),u._uU(7,"2022"),u.qZA(),u._uU(8," Ignacio Vassallo "),u.qZA()(),u.TgZ(9,"div",4)(10,"span",5),u._UZ(11,"i",6),u.qZA()(),u.TgZ(12,"div",7)(13,"ul")(14,"li")(15,"a",8),u._UZ(16,"i",9),u.qZA()(),u.TgZ(17,"li")(18,"a",10),u._UZ(19,"i",11),u.qZA()(),u.TgZ(20,"li")(21,"a",12),u._UZ(22,"i",13),u.qZA()(),u.TgZ(23,"li")(24,"a",14),u._UZ(25,"i",15),u.qZA()(),u.TgZ(26,"li")(27,"a",16),u._UZ(28,"i",17),u.qZA()(),u.TgZ(29,"li")(30,"a",18),u._UZ(31,"i",19),u.qZA()()()()()()())}}),n})(),KW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contacto"]],decls:13,vars:0,consts:[["id","contact"],["id","contact-form"],["action","https://formspree.io/f/xvoypvzn","method","POST"],["type","hidden","name","_subject","value","Contact request from personal website"],["type","email","name","_replyto","placeholder","Email","required",""],["name","Mensaje","placeholder","Mensaje","required",""],["type","submit"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2,"Contacto"),u.qZA(),u.TgZ(3,"div",1)(4,"form",2)(5,"label"),u._UZ(6,"input",3),u.qZA(),u.TgZ(7,"label"),u._UZ(8,"input",4)(9,"textarea",5),u.qZA(),u.TgZ(10,"button",6),u._uU(11,"Enviar"),u.qZA()()()(),u._UZ(12,"app-footer"))},dependencies:[ig,Ju,Xu,ZW]}),n})();function YW(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"li"),u._uU(2),u.TgZ(3,"button",3),u._UZ(4,"i",4),u.qZA()(),u.BQk()),2&n){const t=e.$implicit;u.xp6(2),u.hij(" ",t," ")}}let QW=(()=>{class n{constructor(t){this.datosPortfolio=t}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.skills=t.habilities})}drop(t){OT(this.skills,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-skills"]],decls:6,vars:1,consts:[["id","skills"],[1,"heading"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-link","logged"],[1,"fa","fa-square-xmark"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h2",1),u._uU(2,"Habilidades"),u.qZA(),u.TgZ(3,"ul"),u.YNc(4,YW,5,1,"ng-container",2),u.qZA()(),u._UZ(5,"app-contacto")),2&t&&(u.xp6(4),u.Q6J("ngForOf",i.skills))},dependencies:[or,KW]}),n})();function JW(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),u._UZ(4,"img",11),u.qZA(),u.TgZ(5,"ul",12)(6,"li",3)(7,"button",13),u._UZ(8,"i",14),u.qZA()(),u.TgZ(9,"li",3)(10,"button",15),u._UZ(11,"i",16),u.qZA()()(),u.TgZ(12,"div",17)(13,"h3"),u._uU(14),u.qZA(),u.TgZ(15,"p"),u._uU(16),u.qZA(),u.TgZ(17,"a",18),u._uU(18,"Ver pagina"),u.qZA()()()()()),2&n){const t=e.$implicit;u.xp6(4),u.Q6J("src",t.image,u.LSH),u.xp6(10),u.Oqu(t.name),u.xp6(2),u.Oqu(t.description),u.xp6(1),u.Q6J("href",t.link,u.LSH)}}let XW=(()=>{class n{constructor(t){this.datosPortfolio=t}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.misProyectos=t.projects})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-proyectos"]],decls:9,vars:1,consts:[["id","projects",1,"background-alt"],[1,"heading"],[1,"edicion","botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary"],[1,"fa","fa-square-plus"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"project","shadow-large"],[1,"project-image"],["width","300","height","300",3,"src"],[1,"botones"],["type","button",1,"btn","btn-sm","btn-link"],[1,"fa","fa-pencil-square"],[1,"btn","btn-link","btn-sm"],[1,"fa","fa-square-xmark"],[1,"project-info"],["target","_blank",3,"href"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"h2",1),u._uU(2,"Proyectos"),u.qZA(),u.TgZ(3,"ul",2)(4,"li",3)(5,"button",4),u._UZ(6,"i",5),u.qZA()()(),u.YNc(7,JW,19,4,"div",6),u.qZA(),u._UZ(8,"app-skills")),2&t&&(u.xp6(7),u.Q6J("ngForOf",i.misProyectos))},dependencies:[or,QW],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}"]}),n})();function eq(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"ul",8)(2,"li",3)(3,"button",9),u._UZ(4,"i",10),u.qZA()(),u.TgZ(5,"li",3)(6,"button",11),u._UZ(7,"i",12),u.qZA()()(),u.TgZ(8,"h3"),u._uU(9),u.qZA(),u.TgZ(10,"span",13),u._uU(11),u.qZA(),u.TgZ(12,"h4"),u._uU(13),u.qZA(),u.TgZ(14,"p"),u._uU(15),u.qZA()()),2&n){const t=e.$implicit;u.xp6(9),u.Oqu(t.name),u.xp6(2),u.AsE("",t.dates.start," - ",t.dates.finish,""),u.xp6(2),u.Oqu(t.career),u.xp6(2),u.Oqu(t.observations)}}let tq=(()=>{class n{constructor(t){this.datosPortfolio=t}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.miEducacion=t.education})}drop(t){OT(this.miEducacion,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-educacion"]],decls:9,vars:1,consts:[["id","education","cdkDropList","",3,"cdkDropListDropped"],[1,"heading"],[1,"edicion","botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary"],[1,"fa","fa-square-plus"],["class","education-block","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"education-block"],[1,"botones"],["type","button",1,"btn","btn-sm","btn-link"],[1,"fa","fa-pencil-square"],["color","#6c757d",1,"btn","btn-link","btn-sm"],[1,"fa","fa-square-xmark"],[1,"education-date"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),u.TgZ(1,"h2",1),u._uU(2,"Educaci\xf3n"),u.qZA(),u.TgZ(3,"ul",2)(4,"li",3)(5,"button",4),u._UZ(6,"i",5),u.qZA()()(),u.YNc(7,eq,16,5,"div",6),u.qZA(),u._UZ(8,"app-proyectos")),2&t&&(u.xp6(7),u.Q6J("ngForOf",i.miEducacion))},dependencies:[or,hU,pU,XW],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,10,1)}"]}),n})();function nq(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"div",8)(2,"ul",2)(3,"li",3)(4,"button",9),u._UZ(5,"i",10),u.qZA()(),u.TgZ(6,"li",3)(7,"button",11),u._UZ(8,"i",12),u.qZA()()(),u.TgZ(9,"div",13),u._UZ(10,"i",14),u.qZA(),u.TgZ(11,"div",15)(12,"span",16),u._uU(13),u.qZA(),u.TgZ(14,"div",17)(15,"h3"),u._uU(16),u.qZA(),u.TgZ(17,"h4"),u._uU(18),u.qZA(),u.TgZ(19,"p"),u._uU(20),u.qZA()()()()()),2&n){const t=e.$implicit;u.xp6(13),u.AsE("",t.dates.start," \u2013 ",t.dates.finish,""),u.xp6(3),u.Oqu(t.name),u.xp6(2),u.Oqu(t.position),u.xp6(2),u.Oqu(t.description)}}let iq=(()=>{class n{constructor(t){this.datosPortfolio=t}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.miExperiencia=t.jobs})}drop(t){OT(this.miExperiencia,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-experiencia"]],decls:9,vars:1,consts:[["id","experience","cdkDropList","",1,"background-alt",3,"cdkDropListDropped"],[1,"heading"],[1,"botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary"],[1,"fa","fa-square-plus"],["id","experience-timeline","cdkDrag","",4,"ngFor","ngForOf"],["id","experience-timeline","cdkDrag",""],[1,"vtimeline-point"],["type","button",1,"btn","btn-sm","btn-link"],[1,"fa","fa-pencil-square"],[1,"btn","btn-link","btn-sm"],[1,"fa","fa-square-xmark"],[1,"vtimeline-icon"],[1,"fa-solid","fa-location-dot"],[1,"vtimeline-block"],[1,"vtimeline-date"],["data-date","Diciembre 2012 \u2013 Enero 2016",1,"vtimeline-content"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.NdJ("cdkDropListDropped",function(s){return i.drop(s)}),u.TgZ(1,"h2",1),u._uU(2," Experiencia "),u.qZA(),u.TgZ(3,"ul",2)(4,"li",3)(5,"button",4),u._UZ(6,"i",5),u.qZA()()(),u.YNc(7,nq,21,5,"div",6),u.qZA(),u._UZ(8,"app-educacion")),2&t&&(u.xp6(7),u.Q6J("ngForOf",i.miExperiencia))},dependencies:[or,hU,pU,tq],styles:[".fa-location-dot[_ngcontent-%COMP%]{padding-top:8px;height:2rem}.edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,10,1)}"]}),n})();function rq(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14)(1,"h2",15),u._uU(2,"Sobre Mi"),u.qZA(),u.TgZ(3,"button",16),u.NdJ("click",function(){const s=u.CHM(t).$implicit;return u.KtG(s.dismiss("Cross click"))}),u._UZ(4,"i",17),u.qZA()(),u.TgZ(5,"div",18)(6,"form")(7,"div",19)(8,"label",20),u._uU(9,"Descripcion"),u.qZA(),u.TgZ(10,"div"),u._UZ(11,"input",21),u.qZA(),u.TgZ(12,"label",20),u._uU(13,"Imagen de perfil"),u.qZA(),u.TgZ(14,"div"),u._UZ(15,"input",22),u.qZA()()()(),u.TgZ(16,"div",23)(17,"button",24),u.NdJ("click",function(){const s=u.CHM(t).$implicit;return u.KtG(s.close("Save click"))}),u._uU(18,"Guardar cambios"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(11),u.s9C("placeholder",t.miPortfolio.miInfo)}}let sq=(()=>{class n{constructor(t,i){this.datosPortfolio=t,this.modalService=i}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.miInfo=t.about})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}openLg(t){this.modalService.open(t,{size:"lg"})}openVerticallyCentered(t){this.modalService.open(t,{centered:!0})}getDismissReason(t){return t===dh.ESC?"by pressing ESC":t===dh.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy),u.Y36(bk))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sobre-mi"]],decls:20,vars:1,consts:[["id","about"],[1,"titulo","heading"],[1,"botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-pencil-square"],["type","button",1,"btn","edicion","btn-outline-secondary"],[1,"fa-solid","fa-square-xmark"],[1,"container"],[1,"row"],[1,"col-md-4"],["src","https://media-exp1.licdn.com/dms/image/C4D03AQHgxdc5uMAjiw/profile-displayphoto-shrink_800_800/0/1649944767427?e=1665619200&v=beta&t=pOt_N715DHs6--nsurk-E8zNxN_DOa74_lXo1yfDUpI","alt","Avatar",1,"perfil"],[1,"col-md-8"],["content",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","firstname"],["id","firstname",1,"form-control",3,"placeholder"],["placeholder","URL","id","firstname",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"div",0)(1,"h2",1),u._uU(2,"Sobre mi"),u.qZA(),u.TgZ(3,"ul",2)(4,"li",3)(5,"button",4),u.NdJ("click",function(){u.CHM(r);const l=u.MAs(18);return u.KtG(i.openVerticallyCentered(l))}),u._UZ(6,"i",5),u.qZA()(),u.TgZ(7,"li",3)(8,"button",6),u._UZ(9,"i",7),u.qZA()()(),u.TgZ(10,"div",8)(11,"div",9)(12,"div",10),u._UZ(13,"img",11),u.qZA(),u.TgZ(14,"div",12)(15,"p"),u._uU(16),u.qZA()()()()(),u.YNc(17,rq,19,1,"ng-template",null,13,u.W1O),u._UZ(19,"app-experiencia")}2&t&&(u.xp6(16),u.Oqu(i.miInfo))},dependencies:[ig,Ju,Xu,iq],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.botones[_ngcontent-%COMP%]{float:right;position:relative;list-style-type:none;text-align:right;z-index:10}.orden[_ngcontent-%COMP%]{float:left;margin-right:10px;padding:0 4px}.perfil[_ngcontent-%COMP%]{border-radius:80%;float:center;width:200px;display:inline-block}.titulo[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();function oq(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13)(1,"h2",14),u._uU(2,"Datos personales"),u.qZA(),u.TgZ(3,"button",15),u.NdJ("click",function(){const s=u.CHM(t).$implicit;return u.KtG(s.dismiss("Cross click"))}),u._UZ(4,"i",16),u.qZA()(),u.TgZ(5,"div",17)(6,"form")(7,"div",18)(8,"label",19),u._uU(9,"Nombre"),u.qZA(),u.TgZ(10,"div"),u._UZ(11,"input",20),u.qZA(),u.TgZ(12,"label",19),u._uU(13,"Apellido"),u.qZA(),u.TgZ(14,"div"),u._UZ(15,"input",20),u.qZA(),u.TgZ(16,"label",19),u._uU(17,"Titulo"),u.qZA(),u.TgZ(18,"div"),u._UZ(19,"input",20),u.qZA()()()(),u.TgZ(20,"div",21)(21,"button",22),u.NdJ("click",function(){const s=u.CHM(t).$implicit;return u.KtG(s.close("Save click"))}),u._uU(22,"Guardar cambios"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(11),u.s9C("placeholder",t.miPortfolio.name),u.xp6(4),u.s9C("placeholder",t.miPortfolio.apellido),u.xp6(4),u.s9C("placeholder",t.miPortfolio.position)}}let aq=(()=>{class n{constructor(t,i){this.datosPortfolio=t,this.modalService=i,this.isShow=!1}ngOnInit(){this.datosPortfolio.obtenerDatos().subscribe(t=>{this.miPortfolio=t})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(t){return t===dh.ESC?"by pressing ESC":t===dh.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}toggleDisplay(){this.isShow=!this.isShow}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uy),u.Y36(bk))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:22,vars:4,consts:[["id","lead"],[1,"botones"],[1,"orden"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"click"],[1,"fa","fa-pencil-square"],["type","button",1,"btn","edicion","btn-outline-secondary",3,"hidden","click"],[1,"fa-solid","fa-eye"],["id","lead-content"],["id","lead-overlay"],["id","lead-down"],["aria-hidden","true",1,"fa-solid","fa-chevron-down"],["href","#experiencia",1,"nav-link"],["content",""],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close","edicion",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","firstname"],["id","firstname",1,"form-control",3,"placeholder"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-modal",3,"click"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"ul",1)(3,"li",2)(4,"button",3),u.NdJ("click",function(){u.CHM(r);const l=u.MAs(20);return u.KtG(i.open(l))}),u._UZ(5,"i",4),u.qZA()(),u.TgZ(6,"li",2)(7,"button",5),u.NdJ("click",function(){return i.toggleDisplay()}),u._UZ(8,"i",6),u.qZA()()()(),u.TgZ(9,"div",7)(10,"h1"),u._uU(11),u.qZA(),u.TgZ(12,"h2"),u._uU(13),u.qZA()(),u._UZ(14,"div",8),u.TgZ(15,"div",9)(16,"span")(17,"i",10),u._UZ(18,"a",11),u.qZA()()()(),u.YNc(19,oq,23,3,"ng-template",null,12,u.W1O),u._UZ(21,"app-sobre-mi")}2&t&&(u.xp6(7),u.Q6J("hidden",i.isShow),u.xp6(4),u.AsE(" ",i.miPortfolio.name," ",i.miPortfolio.apellido," "),u.xp6(2),u.hij(" ",i.miPortfolio.position," "))},dependencies:[ig,Ju,Xu,sq],styles:[".edicion[_ngcontent-%COMP%]{border-radius:2rem;border-width:2px}.botones[_ngcontent-%COMP%]{float:right;position:relative;list-style-type:none;text-align:right;z-index:10}.orden[_ngcontent-%COMP%]{float:left;margin-right:10px;padding:0 4px}.overlay-buttons[_ngcontent-%COMP%]{z-index:10}.modal-header[_ngcontent-%COMP%]{background-color:#212529;color:#fff}.modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#dcd9d9}"]}),n})();var lq=j(5226),Vk=j.n(lq),U=(j(6457),j(2090)),jo=j(9681),hu=j(1877),fu=j(4859),RT=j(5363),cq=j(6063);class uq extends hn.x{constructor(e=1/0,t=1/0,i=cq.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=l;f+=2)d=f;d&&i.splice(0,d+1)}}}var gU=j(3099);function mU(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,gU.B)({connector:()=>new uq(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _U(n,e){return(0,Ul.m)(e)?Ai(()=>n,e):Ai(()=>n)}var Uk=j(9468),Wn=j(5813),Zr=j(2011);j(5867);var Pe=j(5861);const vU=new Map,gq={activated:!1,tokenObservers:[]},mq={initialized:!1,enabled:!1};function cs(n){return vU.get(n)||gq}function pu(n,e){vU.set(n,e)}function PT(){return mq}class wq{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function Cq(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ho=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wU(n){if(!cs(n).activated)throw Ho.create("use-before-activation",{appName:n.name})}function $k(n,e){return zk.apply(this,arguments)}function zk(){return(zk=(0,Pe.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const M=yield l.getHeartbeatsHeader();M&&(s["X-Firebase-Client"]=M)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,g;try{f=yield fetch(n,d)}catch(M){throw Ho.create("fetch-network-error",{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}if(200!==f.status)throw Ho.create("fetch-status-error",{httpStatus:f.status});try{g=yield f.json()}catch(M){throw Ho.create("fetch-parse-error",{originalErrorMessage:null===(r=M)||void 0===r?void 0:r.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const E=1e3*Number(b[1]),O=Date.now();return{token:g.token,expireTimeMillis:O+E,issuedAtTimeMillis:O}})).apply(this,arguments)}function Sq(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Kb="firebase-app-check-store";let BT=null;function EU(){return BT||(BT=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Ho.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kb,{keyPath:"compositeKey"})}}catch(i){e(Ho.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),BT)}function Wk(){return(Wk=(0,Pe.Z)(function*(n,e){const i=(yield EU()).transaction(Kb,"readwrite"),s=i.objectStore(Kb).put({compositeKey:n,value:e});return new Promise((l,d)=>{s.onsuccess=f=>{l()},i.onerror=f=>{var g;d(Ho.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Yb=new hu.Yd("@firebase/app-check");function IU(n,e){return(0,U.hl)()?function xq(n,e){return function DU(n,e){return Wk.apply(this,arguments)}(function SU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Yb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function AU(){return PT().enabled}function NU(){return Yk.apply(this,arguments)}function Yk(){return(Yk=(0,Pe.Z)(function*(){const n=PT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fq={error:"UNKNOWN_ERROR"};function Lq(n){return U.US.encodeString(JSON.stringify(n),!1)}function VT(n){return Qk.apply(this,arguments)}function Qk(){return(Qk=(0,Pe.Z)(function*(n,e=!1){const t=n.app;wU(t);const i=cs(t);let s,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&UT(f)&&(r=f)}if(!e&&r&&UT(r))return{token:r.token};let d,l=!1;if(AU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$k(Sq(t,yield NU()),n.heartbeatServiceProvider).then(g=>(i.exchangeTokenPromise=void 0,g)),l=!0);const f=yield i.exchangeTokenPromise;return yield IU(t,f),pu(t,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),l=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Yb.warn(f.message):Yb.error(f),s=f}return r?(d={token:r.token},pu(t,Object.assign(Object.assign({},i),{token:r})),yield IU(t,r)):d=Vq(s),l&&OU(t,d),d})).apply(this,arguments)}function Xk(n,e){const t=cs(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),pu(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function xU(n){const{app:e}=n,t=cs(e);let i=t.tokenRefresher;i||(i=function Bq(n){const{app:e}=n;return new wq((0,Pe.Z)(function*(){let i;if(i=cs(e).token?yield VT(n,!0):yield VT(n),i.error)throw i.error}),()=>!0,()=>{const t=cs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),pu(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function OU(n,e){const t=cs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function UT(n){return n.expireTimeMillis-Date.now()>0}function Vq(n){return{token:Lq(Fq),error:n}}class Uq{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=cs(this.app);for(const t of e)Xk(this.app,t.next);return Promise.resolve()}}const VU="app-check-internal";!function e7(){(0,jo._registerComponent)(new fu.wA("app-check",n=>function jq(n,e){return new Uq(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(VU).initialize()})),(0,jo._registerComponent)(new fu.wA(VU,n=>function Hq(n){return{getToken:e=>VT(n,e),addTokenListener:e=>function Jk(n,e,t,i){const{app:r}=n,s=cs(r),l={next:t,error:i,type:e};if(pu(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&UT(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),xU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>xU(n))}(n,"INTERNAL",e),removeTokenListener:e=>Xk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,jo.registerVersion)("@firebase/app-check","0.5.12")}();class Qb{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var HT=j(127);const rR=new u.OlP("angularfire2.auth.use-emulator"),sR=new u.OlP("angularfire2.auth.settings"),oR=new u.OlP("angularfire2.auth.tenant-id"),aR=new u.OlP("angularfire2.auth.langugage-code"),lR=new u.OlP("angularfire2.auth.use-device-language"),cR=new u.OlP("angularfire.auth.persistence"),uR=(n,e,t,i,r,s,l,d)=>(0,Zr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),l)for(const[g,b]of Object.entries(l))f.settings[g]=b;return d&&f.setPersistence(d),f},[t,i,r,s,l,d]);let Jb=(()=>{class n{constructor(t,i,r,s,l,d,f,g,b,E,O,M){const V=new hn.x,z=It(void 0).pipe((0,RT.Q)(l.outsideAngular),Ai(()=>s.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,Dt.U)(()=>(0,Zr.on)(t,s,i)),(0,Dt.U)(ne=>uR(ne,s,d,g,b,E,f,O)),mU({bufferSize:1,refCount:!1}));if(Tl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=It(null);else{z.pipe(Hl()).subscribe();const be=z.pipe(Ai(Me=>Me.getRedirectResult().then(Je=>Je,()=>null)),Wn.iC,mU({bufferSize:1,refCount:!1})),Se=z.pipe(Ai(Me=>new $i.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Me.onAuthStateChanged(rt=>Je.next(rt),rt=>Je.error(rt),()=>Je.complete()))})))),Fe=z.pipe(Ai(Me=>new $i.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Me.onIdTokenChanged(rt=>Je.next(rt),rt=>Je.error(rt),()=>Je.complete()))}))));this.authState=be.pipe(_U(Se),(0,Uk.R)(l.outsideAngular),(0,RT.Q)(l.insideAngular)),this.user=be.pipe(_U(Fe),(0,Uk.R)(l.outsideAngular),(0,RT.Q)(l.insideAngular)),this.idToken=this.user.pipe(Ai(Me=>Me?(0,Xn.D)(Me.getIdToken()):It(null))),this.idTokenResult=this.user.pipe(Ai(Me=>Me?(0,Xn.D)(Me.getIdTokenResult()):It(null))),this.credential=(0,zb.T)(be,V,this.authState.pipe(nr(Me=>!Me))).pipe((0,Dt.U)(Me=>Me?.user?Me:null),(0,Uk.R)(l.outsideAngular),(0,RT.Q)(l.insideAngular))}return(0,Zr.pX)(this,z,s,{spy:{apply:(ne,be,Se)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Se.then(Fe=>V.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zr.Dh),u.LFG(Zr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wn.HU),u.LFG(rR,8),u.LFG(sR,8),u.LFG(oR,8),u.LFG(aR,8),u.LFG(lR,8),u.LFG(cR,8),u.LFG(Qb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),o7=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",Wn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Jb]}),n})(),jU=(()=>{class n{constructor(t,i){this.angularFireAuth=t,this.router=i,this.login=(r,s)=>{this.angularFireAuth.signInWithEmailAndPassword(r,s).then(l=>{Vk().fire({title:"\xa1Genial!",text:"Inicio de sesi\xf3n con \xe9xito",icon:"success",showConfirmButton:!1,timer:1500}),this.router.navigate([""])}).catch(l=>{Vk().fire("Ops...",`Ha ocurrido un ${l}`,"error")})},this.isLogged()}isLogged(){return this.angularFireAuth.authState}logout(){this.angularFireAuth.signOut(),Vk().fire("\xa1Adi\xf3s!","Sesi\xf3n cerrada con \xe9xito","success"),this.router.navigate([""])}getUser(){return this.angularFireAuth}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Jb),u.LFG(Fs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HU=function(){return{standalone:!0}},a7=[{path:"",component:aq},{path:"login",component:(()=>{class n{constructor(t){this.authService=t,this.loginParams={}}login(){this.authService.login(this.loginParams.email,this.loginParams.password),console.log(this.user),console.log(this.pass)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jU))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:6,consts:[[1,"container","align-self-center","pad-t"],[1,"row","justify-content-center","bg-light"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"text-center","margin-t"],["aria-hidden","true",1,"fa","fa-user-circle"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"form-text","text-muted"],["for","exampleInputPassword1"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["routerLink","/registro"],["type","submit",1,"btn","btn-secondary","btn-block",3,"click"],["type","submit","routerLink","/lugares",1,"btn","btn-danger","btn-block"]],template:function(t,i){1&t&&(u._uU(0,"\xa0\n"),u.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2",3),u._uU(5,"Login "),u._UZ(6,"i",4),u.qZA(),u._UZ(7,"hr"),u.TgZ(8,"form")(9,"div",5)(10,"label",6),u._uU(11,"Email"),u.qZA(),u.TgZ(12,"input",7),u.NdJ("ngModelChange",function(s){return i.loginParams.email=s}),u.qZA(),u.TgZ(13,"small",8),u._uU(14,"Nunca compartiremos tu informaci\xf3n."),u.qZA()(),u.TgZ(15,"div",5)(16,"label",9),u._uU(17,"Contrase\xf1a"),u.qZA(),u.TgZ(18,"input",10),u.NdJ("ngModelChange",function(s){return i.loginParams.password=s}),u.qZA()(),u.TgZ(19,"small",8),u._uU(20," Not registered? "),u.TgZ(21,"a",11),u._uU(22,"Create an account"),u.qZA()(),u._UZ(23,"hr"),u.TgZ(24,"button",12),u.NdJ("click",function(){return i.login()}),u._uU(25,"Iniciar Sesi\xf3n"),u.qZA(),u.TgZ(26,"button",13),u._uU(27,"Cancelar"),u.qZA()(),u._UZ(28,"hr"),u.qZA()()()),2&t&&(u.xp6(12),u.Q6J("ngModel",i.loginParams.email)("ngModelOptions",u.DdM(4,HU)),u.xp6(6),u.Q6J("ngModel",i.loginParams.password)("ngModelOptions",u.DdM(5,HU)))},dependencies:[m_,Vp,ig,tu,A_,Ju,z0,Xu],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:#ecf0f3}h1[_ngcontent-%COMP%]{margin:0;padding:0}.custom-form[_ngcontent-%COMP%]{min-width:300px;max-width:60%;background:rgba(255,255,255,.15);padding:2rem 3rem;margin:auto;border-radius:2.5rem;background-color:#ecf0f3;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff;color:#000;margin-top:10rem}.custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;margin:2rem 0;width:100%;border-radius:.5rem;padding:1rem;border:none;box-shadow:inset -5px -5px 15px #fffc,inset 5px 5px 10px #0000001a;border:0 none;background:#ebf5fc}.custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;border:none;font-size:.875rem;color:#fff;font-weight:700;background-color:#bcd8c1;width:100%;display:block;padding:.875rem 1rem;border-radius:1.5rem;box-shadow:3px 3px 8px #b1b1b1,-3px -3px 8px #fff;cursor:pointer}"]}),n})()}];let l7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[v_.forRoot(a7),v_]}),n})();function c7(n,e){1&n&&(u.TgZ(0,"ul",18)(1,"li",19)(2,"a",20),u._UZ(3,"i",21),u._uU(4," Login "),u.qZA()()())}function u7(n,e){if(1&n&&(u.TgZ(0,"li")(1,"a",25),u._UZ(2,"i",26),u._uU(3),u.qZA()()),2&n){const t=u.oxw(2);u.xp6(3),u.hij(" ",t.loggedUser," ")}}function d7(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ul",18),u.YNc(1,u7,4,1,"li",22),u.TgZ(2,"li")(3,"a",23),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.logout())}),u._uU(4,"Logout "),u._UZ(5,"i",24),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.loggedUser)}}const h7=function(n){return{collapse:n}},f7=function(){return{collapse:!0}};let p7=(()=>{class n{constructor(t){var i=this;this.autorizacionService=t,this.title="Ang_Portfolio",this.isCollapse=!1,this.loggedIn=!1,this.loggedUser=null,this.autorizacionService.isLogged().subscribe(r=>{r&&r.uid?(this.loggedIn=!0,setTimeout((0,Pe.Z)(function*(){i.loggedUser=(yield i.autorizacionService.getUser().currentUser).email}),500)):this.loggedIn=!1},r=>{this.loggedIn=!1})}ngOnInit(){document.querySelectorAll(".edicion").forEach(i=>{i.textContent="edicion-hide"})}toggleState(){this.isCollapse=!1===this.isCollapse}logout(){this.autorizacionService.logout()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jU))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:41,vars:7,consts:[[1,"navbar","sticky-top","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["src","../assets/APLogo-20-20.png","alt","logo","width","200"],["type","button",1,"navbar-toggler","collapsed",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","mr-auto"],["routerlinkactive","active",1,"nav-item"],["href","#about",1,"nav-link"],[1,"sr-only"],["href","#experience",1,"nav-link"],["href","#education",1,"nav-link"],["href","#projects",1,"nav-link"],["href","#skills",1,"nav-link"],["href","#contact",1,"nav-link"],["class","nav navbar-nav navbar-right",4,"ngIf"],[1,"navbar-collapse",3,"ngClass"],[1,"nav","navbar-nav"],[1,"nav","navbar-nav","navbar-right"],["routerLinkActive","active",1,"nav-item"],["routerLink","/login",1,"nav-link"],["aria-hidden","true",1,"fa","fa-lock"],[4,"ngIf"],[1,"nav-link",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"],[1,"nav-link","disabled"],["aria-hidden","true",1,"fa","fa-user"]],template:function(t,i){1&t&&(u.TgZ(0,"nav")(1,"div",0)(2,"a",1),u._UZ(3,"img",2),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return i.toggleState()}),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u._uU(10,"About"),u.TgZ(11,"span",9),u._uU(12,"(current)"),u.qZA()()(),u.TgZ(13,"li",7)(14,"a",10),u._uU(15,"Experiencia"),u.qZA()(),u.TgZ(16,"li",7)(17,"a",11),u._uU(18,"Educaci\xf3n"),u.qZA()(),u.TgZ(19,"li",7)(20,"a",12),u._uU(21,"Projectos"),u.qZA()(),u.TgZ(22,"li",7)(23,"a",13),u._uU(24,"Habilidades"),u.qZA()(),u.TgZ(25,"li",7)(26,"a",14),u._uU(27,"Contacto"),u.qZA()()(),u.YNc(28,c7,5,0,"ul",15),u.YNc(29,d7,6,1,"ul",15),u.qZA()(),u.TgZ(30,"div",16)(31,"ul",17)(32,"li")(33,"a"),u._uU(34,"Link 1"),u.qZA()(),u._UZ(35,"li"),u.TgZ(36,"li")(37,"a"),u._uU(38,"Link 2"),u.qZA()(),u._UZ(39,"li"),u.qZA()()(),u._UZ(40,"router-outlet")),2&t&&(u.xp6(6),u.Q6J("ngClass",u.VKq(4,h7,i.isCollapse)),u.xp6(22),u.Q6J("ngIf",!i.loggedIn),u.xp6(1),u.Q6J("ngIf",i.loggedIn),u.xp6(1),u.Q6J("ngClass",u.DdM(6,f7)))},dependencies:[wl,Cs,Yv,Vp,__,vk],styles:[".navbar-nav[_ngcontent-%COMP%]{--bs-nav-link-color:#fff ;background:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none;float:right}.mr-auto[_ngcontent-%COMP%], .mx-auto[_ngcontent-%COMP%]{margin-right:auto}.navbar-collapse[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;text-align:left;margin-left:30px;margin-right:30px}.navbar-toggler[_ngcontent-%COMP%]{margin-right:30px}.container[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll;overflow-x:hidden}.nav[_ngcontent-%COMP%]{height:50px;display:flex}.nav.hide-nav[_ngcontent-%COMP%], .edicion-hide[_ngcontent-%COMP%]{display:none}"]}),n})();class GU{}const fh="*";function $U(n,e=null){return{type:2,steps:n,options:e}}function zU(n){return{type:6,styles:n,offset:null}}function WU(n){Promise.resolve(null).then(n)}class Xb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?WU(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function ZU(n){return new u.vHH(3e3,!1)}function Y7(){return typeof window<"u"&&typeof window.document<"u"}function hR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Of(n){switch(n.length){case 0:return new Xb;case 1:return n[0];default:return new qU(n)}}function KU(n,e,t,i,r=new Map,s=new Map){const l=[],d=[];let f=-1,g=null;if(i.forEach(b=>{const E=b.get("offset"),O=E==f,M=O&&g||new Map;b.forEach((V,z)=>{let ne=z,be=V;if("offset"!==z)switch(ne=e.normalizePropertyName(ne,l),be){case"!":be=r.get(z);break;case fh:be=s.get(z);break;default:be=e.normalizeStyleValue(z,ne,be,l)}M.set(ne,be)}),O||d.push(M),g=M,f=E}),l.length)throw function B7(n){return new u.vHH(3502,!1)}();return d}function fR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&pR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&pR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&pR(t,"destroy",n)))}}function pR(n,e,t){const s=gR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function gR(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function fl(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function YU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let mR=(n,e)=>!1,QU=(n,e,t)=>[],JU=null;function _R(n){const e=n.parentNode||n.host;return e===JU?null:e}(hR()||typeof Element<"u")&&(Y7()?(JU=(()=>document.documentElement)(),mR=(n,e)=>{for(;e;){if(e===n)return!0;e=_R(e)}return!1}):mR=(n,e)=>n.contains(e),QU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Dg=null,XU=!1;const ej=mR,tj=QU;let nj=(()=>{class n{validateStyleProperty(t){return function J7(n){Dg||(Dg=function X7(){return typeof document<"u"?document.body:null}()||{},XU=!!Dg.style&&"WebkitAppearance"in Dg.style);let e=!0;return Dg.style&&!function Q7(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Dg.style,!e&&XU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return ej(t,i)}getParentElement(t){return _R(t)}query(t,i,r){return tj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,d=[],f){return new Xb(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yR=(()=>{class n{}return n.NOOP=new nj,n})();const vR="ng-enter",GT="ng-leave",$T="ng-trigger",zT=".ng-trigger",rj="ng-animating",bR=".ng-animating";function kf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wR(parseFloat(e[1]),e[2])}function wR(n,e){return"s"===e?1e3*n:n}function WT(n,e,t){return n.hasOwnProperty("duration")?n:function nZ(n,e,t){let r,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(ZU()),{duration:0,delay:0,easing:""};r=wR(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=wR(parseFloat(f),d[4]));const g=d[5];g&&(l=g)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function m7(){return new u.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function _7(){return new u.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,ZU())}return{duration:r,delay:s,easing:l}}(n,e,t)}function ew(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Rf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function aj(n,e,t){return t?e+":"+t+";":""}function lj(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=aj(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aj(0,oZ(t),n.style[t]));n.setAttribute("style",e)}function rd(n,e,t){n.style&&(e.forEach((i,r)=>{const s=ER(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),hR()&&lj(n))}function Tg(n,e){n.style&&(e.forEach((t,i)=>{const r=ER(i);n.style[r]=""}),hR()&&lj(n))}function tw(n){return Array.isArray(n)?1==n.length?n[0]:$U(n):n}const CR=new RegExp("{{\\s*(.+?)\\s*}}","g");function cj(n){let e=[];if("string"==typeof n){let t;for(;t=CR.exec(n);)e.push(t[1]);CR.lastIndex=0}return e}function qT(n,e,t){const i=n.toString(),r=i.replace(CR,(s,l)=>{let d=e[l];return null==d&&(t.push(function v7(n){return new u.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function ZT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sZ=/-+([a-z0-9])/g;function ER(n){return n.replace(sZ,(...e)=>e[1].toUpperCase())}function oZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function b7(n){return new u.vHH(3004,!1)}()}}function uj(n,e){return window.getComputedStyle(n)[e]}function hZ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fZ(n,e,t){if(":"==n[0]){const f=function pZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function M7(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function R7(n){return new u.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(dj(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&e.push(dj(l,r))}(i,t,e)):t.push(n),t}const JT=new Set(["true","1"]),XT=new Set(["false","0"]);function dj(n,e){const t=JT.has(n)||XT.has(n),i=JT.has(e)||XT.has(e);return(r,s)=>{let l="*"==n||n==r,d="*"==e||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?JT.has(n):XT.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?JT.has(e):XT.has(e)),l&&d}}const gZ=new RegExp("s*:selfs*,?","g");function DR(n,e,t,i){return new mZ(n).build(e,t,i)}class mZ{constructor(e){this._driver=e}build(e,t,i){const r=new vZ(t);return this._resetContextStyleTimingState(r),pl(this,tw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function C7(){return new u.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,s.push(this.visitState(f,t))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,l.push(f)}else t.errors.push(function E7(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{cj(f).forEach(g=>{l.hasOwnProperty(g)||s.add(g)})})}),s.size&&(ZT(s.values()),t.errors.push(function D7(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=pl(this,tw(e.animation),t);return{type:1,matchers:hZ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Sg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>pl(this,i,t)),options:Sg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const d=pl(this,l,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:Sg(e.options)}}visitAnimate(e,t){const i=function wZ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TR(WT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=TR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=WT(t,e);return TR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:zU({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,d=!1;if(!l){d=!0;const g={};i.easing&&(g.easing=i.easing),l=zU(g)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===fh?i.push(d):t.errors.push(new u.vHH(3002,!1)):i.push(sj(d));let s=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,f)=>{const g=t.collectedStyles.get(t.currentQuerySelector),b=g.get(f);let E=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function S7(n,e,t,i,r){return new u.vHH(3010,!1)}()),E=!1),s=b.startTime),E&&g.set(f,{startTime:s,endTime:r}),t.options&&function rZ(n,e,t){const i=e.params||{},r=cj(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function y7(n){return new u.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function I7(){return new u.vHH(3011,!1)}()),i;let s=0;const l=[];let d=!1,f=!1,g=0;const b=e.steps.map(be=>{const Se=this._makeStyleAst(be,t);let Fe=null!=Se.offset?Se.offset:function bZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Se.styles),Me=0;return null!=Fe&&(s++,Me=Se.offset=Fe),f=f||Me<0||Me>1,d=d||Me<g,g=Me,l.push(Me),Se});f&&t.errors.push(function A7(){return new u.vHH(3012,!1)}()),d&&t.errors.push(function N7(){return new u.vHH(3200,!1)}());const E=e.steps.length;let O=0;s>0&&s<E?t.errors.push(function x7(){return new u.vHH(3202,!1)}()):0==s&&(O=1/(E-1));const M=E-1,V=t.currentTime,z=t.currentAnimateTimings,ne=z.duration;return b.forEach((be,Se)=>{const Fe=O>0?Se==M?1:O*Se:l[Se],Me=Fe*ne;t.currentTime=V+z.delay+Me,z.duration=Me,this._validateStyleAst(be,t),be.offset=Fe,i.styles.push(be)}),i}visitReference(e,t){return{type:8,animation:pl(this,tw(e.animation),t),options:Sg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function _Z(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(gZ,"")),n=n.replace(/@\*/g,zT).replace(/@\w+/g,t=>zT+"-"+t.slice(1)).replace(/:animating/g,bR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,fl(t.collectedStyles,t.currentQuerySelector,new Map);const d=pl(this,tw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:Sg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function O7(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:WT(e.timings,t.errors,!0);return{type:12,animation:pl(this,tw(e.animation),t),timings:i,options:null}}}class vZ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sg(n){return n?(n=ew(n)).params&&(n.params=function yZ(n){return n?ew(n):null}(n.params)):n={},n}function TR(n,e,t){return{duration:n,delay:e,easing:t}}function SR(n,e,t,i,r,s,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:d}}class eS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const DZ=new RegExp(":enter","g"),SZ=new RegExp(":leave","g");function IR(n,e,t,i,r,s=new Map,l=new Map,d,f,g=[]){return(new IZ).buildKeyframes(n,e,t,i,r,s,l,d,f,g)}class IZ{buildKeyframes(e,t,i,r,s,l,d,f,g,b=[]){g=g||new eS;const E=new AR(e,t,g,r,s,b,[]);E.options=f;const O=f.delay?kf(f.delay):0;E.currentTimeline.delayNextStep(O),E.currentTimeline.setStyles([l],null,E.errors,f),pl(this,i,E);const M=E.timelines.filter(V=>V.containsAnimation());if(M.length&&d.size){let V;for(let z=M.length-1;z>=0;z--){const ne=M[z];if(ne.element===t){V=ne;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([d],null,E.errors,f)}return M.length?M.map(V=>V.buildKeyframes()):[SR(t,[],[],[],0,O,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?kf(i.duration):null,d=null!=i.delay?kf(i.delay):null;return 0!==l&&e.forEach(f=>{const g=t.appendInstructionToTimeline(f,l,d);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),pl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tS);const l=kf(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>pl(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?kf(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),pl(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return WT(t.params?qT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?kf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tS);let l=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((g,b)=>{t.currentQueryIndex=b;const E=t.createSubContext(e.options,g);s&&E.delayNextStep(s),g===t.element&&(f=E.currentTimeline),pl(this,e.animation,E),E.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,E.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),d=l*(t.currentQueryTotal-1);let f=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const b=t.currentTimeline;f&&b.delayNextStep(f);const E=b.currentTime;pl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const tS={};class AR{constructor(e,t,i,r,s,l,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new nS(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=kf(i.duration)),null!=i.delay&&(r.delay=kf(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=qT(s[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new AR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=tS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new AZ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(DZ,"."+this._enterClassName)).replace(SZ,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!s&&0==d.length&&l.push(function k7(n){return new u.vHH(3014,!1)}()),d}}class nS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||fh),this._currentKeyframe.set(t,fh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function NZ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,fh)}else Rf(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of l){const g=qT(f,s,i);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??fh),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=Rf(d,new Map,this._backFill);g.forEach((b,E)=>{"!"===b?e.add(E):b===fh&&t.add(E)}),i||g.set("offset",f/this.duration),r.push(g)});const s=e.size?ZT(e.values()):[],l=t.size?ZT(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return SR(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class AZ extends nS{constructor(e,t,i,r,s,l,d=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,d=t/l,f=Rf(e[0]);f.set("offset",0),s.push(f);const g=Rf(e[0]);g.set("offset",pj(d)),s.push(g);const b=e.length-1;for(let E=1;E<=b;E++){let O=Rf(e[E]);const M=O.get("offset");O.set("offset",pj((t+M*i)/l)),s.push(O)}i=l,t=0,r="",e=s}return SR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function pj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NR{}const xZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class OZ extends NR{normalizePropertyName(e,t){return ER(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(xZ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function w7(n,e){return new u.vHH(3005,!1)}())}return l+s}}function gj(n,e,t,i,r,s,l,d,f,g,b,E,O){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:b,totalTime:E,errors:O}}const xR={};class mj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function kZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,d,f,g,b){const E=[],O=this.ast.options&&this.ast.options.params||xR,V=this.buildStyles(i,d&&d.params||xR,E),z=f&&f.params||xR,ne=this.buildStyles(r,z,E),be=new Set,Se=new Map,Fe=new Map,Me="void"===r,Je={params:RZ(z,O),delay:this.ast.options?.delay},rt=b?[]:IR(e,t,this.ast.animation,s,l,V,ne,Je,g,E);let bt=0;if(rt.forEach(On=>{bt=Math.max(On.duration+On.delay,bt)}),E.length)return gj(t,this._triggerName,i,r,Me,V,ne,[],[],Se,Fe,bt,E);rt.forEach(On=>{const wi=On.element,Vi=fl(Se,wi,new Set);On.preStyleProps.forEach(Cr=>Vi.add(Cr));const Ws=fl(Fe,wi,new Set);On.postStyleProps.forEach(Cr=>Ws.add(Cr)),wi!==t&&be.add(wi)});const Ht=ZT(be.values());return gj(t,this._triggerName,i,r,Me,V,ne,rt,Ht,Se,Fe,bt)}}function RZ(n,e){const t=ew(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class MZ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=ew(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=qT(l,r,t));const f=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,f,l,t),i.set(f,l)})}),i}}class FZ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new MZ(r.style,r.options&&r.options.params||{},i))}),_j(this.states,"true","1"),_j(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new mj(e,r,this.states))}),this.fallbackTransition=function LZ(n,e,t){return new mj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function _j(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const BZ=new eS;class VZ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=DR(this._driver,t,i,[]);if(i.length)throw function V7(n){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=KU(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const d=new Map;if(s?(l=IR(this._driver,t,s,vR,GT,new Map,new Map,i,BZ,r),l.forEach(b=>{const E=fl(d,b.element,new Map);b.postStyleProps.forEach(O=>E.set(O,null))})):(r.push(function U7(){return new u.vHH(3300,!1)}()),l=[]),r.length)throw function j7(n){return new u.vHH(3504,!1)}();d.forEach((b,E)=>{b.forEach((O,M)=>{b.set(M,this._driver.computeStyle(E,M,fh))})});const g=Of(l.map(b=>{const E=d.get(b.element);return this._buildPlayer(b,new Map,E)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function H7(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=gR(t,"","","");return fR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const yj="ng-animate-queued",OR="ng-animate-disabled",$Z=[],vj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oc="__ng_removed";class kR{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function KZ(n){return n??null}(i?e.value:e),i){const s=ew(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const nw="void",RR=new kR(nw);class WZ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ac(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function G7(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function $7(n){return new u.vHH(3303,!1)}();if(!function YZ(n){return"start"==n||"done"==n}(i))throw function z7(n,e){return new u.vHH(3400,!1)}();const s=fl(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const d=fl(this._engine.statesByElement,e,new Map);return d.has(t)||(ac(e,$T),ac(e,$T+"-"+t),d.set(t,RR)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function W7(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new MR(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(ac(e,$T),ac(e,$T+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const g=new kR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(t,g),f||(f=RR),g.value!==nw&&f.value===g.value){if(!function XZ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,g.params)){const z=[],ne=s.matchStyles(f.value,f.params,z),be=s.matchStyles(g.value,g.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{Tg(e,ne),rd(e,be)})}return}const O=fl(this._engine.playersByElement,e,[]);O.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let M=s.matchTransition(f.value,g.value,e,g.params),V=!1;if(!M){if(!r)return;M=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:f,toState:g,player:l,isFallbackTransition:V}),V||(ac(e,yj),l.onStart(()=>{fy(e,yj)})),l.onDone(()=>{let z=this.players.indexOf(l);z>=0&&this.players.splice(z,1);const ne=this._engine.playersByElement.get(e);if(ne){let be=ne.indexOf(l);be>=0&&ne.splice(be,1)}}),this.players.push(l),O.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,zT,!0);i.forEach(r=>{if(r[oc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const d=[];if(s.forEach((f,g)=>{if(l.set(g,f.value),this._triggers.has(g)){const b=this.trigger(e,g,nw,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Of(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,g=i.get(l)||RR,b=new kR(nw),E=new MR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:f,fromState:g,toState:b,player:E,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[oc];(!s||s===vj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ac(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==i.triggerName){const f=gR(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,fR(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class qZ{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new WZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(iS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!iS(t))return;const s=t[oc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ac(e,OR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fy(e,OR))}removeNode(e,t,i,r){if(iS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[oc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return iS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,zT,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Of(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[oc];if(t&&t.setForRemoval){if(e[oc]=vj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(OR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ac(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Of(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function q7(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new eS,r=[],s=new Map,l=[],d=new Map,f=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(vt=>{b.add(vt);const xt=this.driver.query(vt,".ng-animate-queued",!0);for(let zt=0;zt<xt.length;zt++)b.add(xt[zt])});const E=this.bodyNode,O=Array.from(this.statesByElement.keys()),M=Cj(O,this.collectedEnterElements),V=new Map;let z=0;M.forEach((vt,xt)=>{const zt=vR+z++;V.set(xt,zt),vt.forEach(Dn=>ac(Dn,zt))});const ne=[],be=new Set,Se=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const xt=this.collectedLeaveElements[vt],zt=xt[oc];zt&&zt.setForRemoval&&(ne.push(xt),be.add(xt),zt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(Dn=>be.add(Dn)):Se.add(xt))}const Fe=new Map,Me=Cj(O,Array.from(be));Me.forEach((vt,xt)=>{const zt=GT+z++;Fe.set(xt,zt),vt.forEach(Dn=>ac(Dn,zt))}),e.push(()=>{M.forEach((vt,xt)=>{const zt=V.get(xt);vt.forEach(Dn=>fy(Dn,zt))}),Me.forEach((vt,xt)=>{const zt=Fe.get(xt);vt.forEach(Dn=>fy(Dn,zt))}),ne.forEach(vt=>{this.processLeaveNode(vt)})});const Je=[],rt=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(zt=>{const Dn=zt.player,sr=zt.element;if(Je.push(Dn),this.collectedEnterElements.length){const Er=sr[oc];if(Er&&Er.setForMove){if(Er.previousTriggersValues&&Er.previousTriggersValues.has(zt.triggerName)){const Jo=Er.previousTriggersValues.get(zt.triggerName),_o=this.statesByElement.get(zt.element);if(_o&&_o.has(zt.triggerName)){const av=_o.get(zt.triggerName);av.value=Jo,_o.set(zt.triggerName,av)}}return void Dn.destroy()}}const ja=!E||!this.driver.containsElement(E,sr),Yr=Fe.get(sr),bl=V.get(sr),ti=this._buildInstruction(zt,i,bl,Yr,ja);if(ti.errors&&ti.errors.length)return void rt.push(ti);if(ja)return Dn.onStart(()=>Tg(sr,ti.fromStyles)),Dn.onDestroy(()=>rd(sr,ti.toStyles)),void r.push(Dn);if(zt.isFallbackTransition)return Dn.onStart(()=>Tg(sr,ti.fromStyles)),Dn.onDestroy(()=>rd(sr,ti.toStyles)),void r.push(Dn);const wu=[];ti.timelines.forEach(Er=>{Er.stretchStartingKeyframe=!0,this.disabledNodes.has(Er.element)||wu.push(Er)}),ti.timelines=wu,i.append(sr,ti.timelines),l.push({instruction:ti,player:Dn,element:sr}),ti.queriedElements.forEach(Er=>fl(d,Er,[]).push(Dn)),ti.preStyleProps.forEach((Er,Jo)=>{if(Er.size){let _o=f.get(Jo);_o||f.set(Jo,_o=new Set),Er.forEach((av,ym)=>_o.add(ym))}}),ti.postStyleProps.forEach((Er,Jo)=>{let _o=g.get(Jo);_o||g.set(Jo,_o=new Set),Er.forEach((av,ym)=>_o.add(ym))})});if(rt.length){const vt=[];rt.forEach(xt=>{vt.push(function Z7(n,e){return new u.vHH(3505,!1)}())}),Je.forEach(xt=>xt.destroy()),this.reportError(vt)}const bt=new Map,Ht=new Map;l.forEach(vt=>{const xt=vt.element;i.has(xt)&&(Ht.set(xt,xt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,bt))}),r.forEach(vt=>{const xt=vt.element;this._getPreviousPlayers(xt,!1,vt.namespaceId,vt.triggerName,null).forEach(Dn=>{fl(bt,xt,[]).push(Dn),Dn.destroy()})});const On=ne.filter(vt=>Dj(vt,f,g)),wi=new Map;wj(wi,this.driver,Se,g,fh).forEach(vt=>{Dj(vt,f,g)&&On.push(vt)});const Ws=new Map;M.forEach((vt,xt)=>{wj(Ws,this.driver,new Set(vt),f,"!")}),On.forEach(vt=>{const xt=wi.get(vt),zt=Ws.get(vt);wi.set(vt,new Map([...Array.from(xt?.entries()??[]),...Array.from(zt?.entries()??[])]))});const Cr=[],cp=[],up={};l.forEach(vt=>{const{element:xt,player:zt,instruction:Dn}=vt;if(i.has(xt)){if(b.has(xt))return zt.onDestroy(()=>rd(xt,Dn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(Dn.totalTime),void r.push(zt);let sr=up;if(Ht.size>1){let Yr=xt;const bl=[];for(;Yr=Yr.parentNode;){const ti=Ht.get(Yr);if(ti){sr=ti;break}bl.push(Yr)}bl.forEach(ti=>Ht.set(ti,sr))}const ja=this._buildAnimation(zt.namespaceId,Dn,bt,s,Ws,wi);if(zt.setRealPlayer(ja),sr===up)Cr.push(zt);else{const Yr=this.playersByElement.get(sr);Yr&&Yr.length&&(zt.parentPlayer=Of(Yr)),r.push(zt)}}else Tg(xt,Dn.fromStyles),zt.onDestroy(()=>rd(xt,Dn.toStyles)),cp.push(zt),b.has(xt)&&r.push(zt)}),cp.forEach(vt=>{const xt=s.get(vt.element);if(xt&&xt.length){const zt=Of(xt);vt.setRealPlayer(zt)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<ne.length;vt++){const xt=ne[vt],zt=xt[oc];if(fy(xt,GT),zt&&zt.hasAnimation)continue;let Dn=[];if(d.size){let ja=d.get(xt);ja&&ja.length&&Dn.push(...ja);let Yr=this.driver.query(xt,bR,!0);for(let bl=0;bl<Yr.length;bl++){let ti=d.get(Yr[bl]);ti&&ti.length&&Dn.push(...ti)}}const sr=Dn.filter(ja=>!ja.destroyed);sr.length?QZ(this,xt,sr):this.processLeaveNode(xt)}return ne.length=0,Cr.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const xt=this.players.indexOf(vt);this.players.splice(xt,1)}),vt.play()}),Cr}elementContainsData(e,t){let i=!1;const r=t[oc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==nw;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||l.push(g)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const g=f.element,b=g!==s,E=fl(i,g,[]);this._getPreviousPlayers(g,b,l,d,t.toState).forEach(M=>{const V=M.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),M.destroy(),E.push(M)})}Tg(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const d=t.triggerName,f=t.element,g=[],b=new Set,E=new Set,O=t.timelines.map(V=>{const z=V.element;b.add(z);const ne=z[oc];if(ne&&ne.removedBeforeQueried)return new Xb(V.duration,V.delay);const be=z!==f,Se=function JZ(n){const e=[];return Ej(n,e),e}((i.get(z)||$Z).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===z),Fe=s.get(z),Me=l.get(z),Je=KU(0,this._normalizer,0,V.keyframes,Fe,Me),rt=this._buildPlayer(V,Je,Se);if(V.subTimeline&&r&&E.add(z),be){const bt=new MR(e,d,z);bt.setRealPlayer(rt),g.push(bt)}return rt});g.forEach(V=>{fl(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function ZZ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),b.forEach(V=>ac(V,rj));const M=Of(O);return M.onDestroy(()=>{b.forEach(V=>fy(V,rj)),rd(f,t.toStyles)}),E.forEach(V=>{fl(r,V,[]).push(M)}),M}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xb(e.duration,e.delay)}}class MR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>fR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iS(n){return n&&1===n.nodeType}function bj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function wj(n,e,t,i,r){const s=[];t.forEach(f=>s.push(bj(f)));const l=[];i.forEach((f,g)=>{const b=new Map;f.forEach(E=>{const O=e.computeStyle(g,E,r);b.set(E,O),(!O||0==O.length)&&(g[oc]=zZ,l.push(g))}),n.set(g,b)});let d=0;return t.forEach(f=>bj(f,s[d++])),l}function Cj(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(d){if(!d)return 1;let f=s.get(d);if(f)return f;const g=d.parentNode;return f=t.has(g)?g:r.has(g)?1:l(g),s.set(d,f),f}return e.forEach(d=>{const f=l(d);1!==f&&t.get(f).push(d)}),t}function ac(n,e){n.classList?.add(e)}function fy(n,e){n.classList?.remove(e)}function QZ(n,e,t){Of(t).onDone(()=>n.processLeaveNode(e))}function Ej(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof qU?Ej(i.players,e):e.push(i)}}function Dj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class rS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new qZ(e,t,i),this._timelineEngine=new VZ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let d=this._triggerCache[l];if(!d){const f=[],b=DR(this._driver,s,f,[]);if(f.length)throw function L7(n,e){return new u.vHH(3404,!1)}();d=function PZ(n,e,t){return new FZ(n,e,t)}(r,b,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=YU(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,d]=YU(i);return this._timelineEngine.listen(l,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tK=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Tg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tg(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function PR(n){let e=null;return n.forEach((t,i)=>{(function nK(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Tj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:uj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iK{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ej(e,t)}getParentElement(e){return _R(e)}query(e,t,i){return tj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const g=new Map,b=l.filter(M=>M instanceof Tj);(function aZ(n,e){return 0===n||0===e})(i,r)&&b.forEach(M=>{M.currentSnapshot.forEach((V,z)=>g.set(z,V))});let E=function iZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>sj(e)):[]}(t).map(M=>Rf(M));E=function lZ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(d=>l.set(d,uj(n,d)))}}return e}(e,E,g);const O=function eK(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=PR(e[0]),e.length>1&&(i=PR(e[e.length-1]))):e instanceof Map&&(t=PR(e)),t||i?new tK(n,t,i):null}(e,E);return new Tj(e,E,f,O)}}let rK=(()=>{class n extends GU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?$U(t):t;return Sj(this._renderer,null,i,"register",[r]),new sK(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class sK extends class g7{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oK(this._id,e,t||{},this._renderer)}}class oK{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Sj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Sj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Ij="@.disabled";let aK=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new Aj("",s,this.engine),this._rendererCache.set(s,b)),b}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(l,d,t,b.name,b)};return i.data.animation.forEach(f),new lK(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(rS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Aj{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Ij?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lK extends Aj{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ij?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function cK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function uK(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let dK=(()=>{class n extends rS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(yR),u.LFG(NR),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Nj=[{provide:GU,useClass:rK},{provide:NR,useFactory:function hK(){return new OZ}},{provide:rS,useClass:dK},{provide:u.FYo,useFactory:function fK(n,e,t){return new aK(n,e,t)},deps:[no,rS,u.R0b]}],FR=[{provide:yR,useFactory:()=>new iK},{provide:u.QbO,useValue:"BrowserAnimations"},...Nj],xj=[{provide:yR,useClass:nj},{provide:u.QbO,useValue:"NoopAnimations"},...Nj];let pK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xj:FR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:FR,imports:[dr]}),n})();var LR=j(3942);const Oj="firebasestorage.googleapis.com",kj="storageBucket";class fr extends U.ZR{constructor(e,t){super(BR(e),`Firebase Storage: ${t} (${BR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}_codeEquals(e){return BR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function BR(n){return"storage/"+n}function VR(){return new fr("unknown","An unknown error occurred, please check the error payload for server response.")}function Rj(){return new fr("canceled","User canceled the upload/download.")}function Mj(){return new fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function py(n){return new fr("invalid-argument",n)}function Pj(){return new fr("app-deleted","The Firebase app was deleted.")}function Fj(n){return new fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iw(n,e){return new fr("invalid-format","String does not match format '"+n+"': "+e)}function rw(n){throw new fr("internal-error","Internal error: "+n)}class fo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=fo.makeFromUrl(e,t)}catch{return new fo(e,"")}if(""===i.path)return i;throw function TK(n){return new fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function g(Me){Me.path_=decodeURIComponent(Me.path)}const E=t.replace(/[.]/g,"\\."),Fe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Me){"/"===Me.path.charAt(Me.path.length-1)&&(Me.path_=Me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${t===Oj?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let Me=0;Me<Fe.length;Me++){const Je=Fe[Me],rt=Je.regex.exec(e);if(rt){let Ht=rt[Je.indices.path];Ht||(Ht=""),i=new fo(rt[Je.indices.bucket],Ht),Je.postModify(i);break}}if(null==i)throw function DK(n){return new fr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class NK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oS(n){return"string"==typeof n||n instanceof String}function Lj(n){return UR()&&n instanceof Blob}function UR(){return typeof Blob<"u"}function jR(n,e,t,i){if(i<e)throw py(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw py(`Invalid value for '${n}'. Expected ${t} or less.`)}function ph(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Bj(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Mf=(()=>{return(n=Mf||(Mf={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Mf;var n})();class PK{constructor(e,t,i,r,s,l,d,f,g,b,E){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function kK(n){return void 0!==n}(f)?s():s(f)}catch(f){l(f)}else if(null!==d){const f=VR();f.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,f):f)}else l(r.canceled?this.appDelete_?Pj():Rj():function EK(){return new fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new aS(!1,null,!0)):this.backoffId_=function xK(n,e,t){let i=1,r=null,s=null,l=!1,d=0;function f(){return 2===d}let g=!1;function b(...ne){g||(g=!0,e.apply(null,ne))}function E(ne){r=setTimeout(()=>{r=null,n(M,f())},ne)}function O(){s&&clearTimeout(s)}function M(ne,...be){if(g)return void O();if(ne)return O(),void b.call(null,ne,...be);if(f()||l)return O(),void b.call(null,ne,...be);let Fe;i<64&&(i*=2),1===d?(d=2,Fe=0):Fe=1e3*(i+Math.random()),E(Fe)}let V=!1;function z(ne){V||(V=!0,O(),!g&&(null!==r?(ne||(d=2),clearTimeout(r),E(0)):ne||(d=1)))}return E(0),s=setTimeout(()=>{l=!0,z(!0)},t),z}((i,r)=>{if(r)return void i(!1,new aS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const d=s.getErrorCode()===Mf.NO_ERROR,f=s.getStatus();if(!d||this.isRetryStatusCode_(f)){const b=s.getErrorCode()===Mf.ABORT;return void i(!1,new aS(!1,null,b))}const g=-1!==this.successCodes_.indexOf(f);i(!0,new aS(g,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function OK(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class aS{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function HK(...n){const e=function jK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(UR())return new Blob(n);throw new fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const gl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class HR{constructor(e,t){this.data=e,this.contentType=t||null}}function GR(n,e){switch(n){case gl.RAW:return new HR(Vj(e));case gl.BASE64:case gl.BASE64URL:return new HR(Uj(n,e));case gl.DATA_URL:return new HR(function WK(n){const e=new jj(n);return e.base64?Uj(gl.BASE64,e.rest):function zK(n){let e;try{e=decodeURIComponent(n)}catch{throw iw(gl.DATA_URL,"Malformed data URL.")}return Vj(e)}(e.rest)}(e),function qK(n){return new jj(n).contentType}(e))}throw VR()}function Vj(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Uj(n,e){switch(n){case gl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw iw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case gl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw iw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function $K(n){return atob(n)}(e)}catch{throw iw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class jj{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw iw(gl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function ZK(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class sd{constructor(e,t){let i=0,r="";Lj(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lj(this.data_)){const r=function GK(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new sd(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new sd(i,!0)}}static getBlob(...e){if(UR()){const t=e.map(i=>i instanceof sd?i.data_:i);return new sd(HK.apply(null,t))}{const t=e.map(l=>oS(l)?GR(gl.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let d=0;d<l.length;d++)r[s++]=l[d]}),new sd(r,!0)}}uploadData(){return this.data_}}function $R(n){let e;try{e=JSON.parse(n)}catch{return null}return function MK(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Hj(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function QK(n,e){return e}class Go{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||QK}}let lS=null;function sw(){if(lS)return lS;const n=[];n.push(new Go("bucket")),n.push(new Go("generation")),n.push(new Go("metageneration")),n.push(new Go("name","fullPath",!0));const t=new Go("name");t.xform=function e(s,l){return function JK(n){return!oS(n)||n.length<2?n:Hj(n)}(l)},n.push(t);const r=new Go("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Go("timeCreated")),n.push(new Go("updated")),n.push(new Go("md5Hash",null,!0)),n.push(new Go("cacheControl",null,!0)),n.push(new Go("contentDisposition",null,!0)),n.push(new Go("contentEncoding",null,!0)),n.push(new Go("contentLanguage",null,!0)),n.push(new Go("contentType",null,!0)),n.push(new Go("metadata","customMetadata",!0)),lS=n,lS}function Gj(n,e,t){const i=$R(e);return null===i?null:function eY(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function XK(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new fo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function zR(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const $j="prefixes";class od{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ad(n){if(!n)throw VR()}function cS(n,e){return function t(i,r){const s=Gj(n,r,e);return ad(null!==s),s}}function gy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function wK(){return new fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function bK(){return new fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function vK(n){return new fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function CK(n){return new fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function ow(n){const e=gy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function yK(n){return new fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Wj(n,e,t){const r=ph(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new od(r,"GET",cS(n,t),l);return d.errorHandler=ow(e),d}function oY(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=ph(e.bucketOnlyServerUrl(),n.host,n._protocol),g=n.maxOperationRetryTime,b=new od(d,"GET",function rY(n,e){return function t(i,r){const s=function iY(n,e,t){const i=$R(t);return null===i?null:function nY(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$j])for(const r of t[$j]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new fo(e,s));i.prefixes.push(l)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new fo(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return ad(null!==s),s}}(n,e.bucket),g);return b.urlParams=s,b.errorHandler=gy(e),b}function Zj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function uY(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class uS{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function WR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ad(!1)}return ad(!!t&&-1!==(e||["active"]).indexOf(t)),t}const pY={STATE_CHANGED:"state_changed"},$o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qR(n){switch(n){case"running":case"pausing":case"canceling":return $o.RUNNING;case"paused":return $o.PAUSED;case"success":return $o.SUCCESS;case"canceled":return $o.CANCELED;default:return $o.ERROR}}class gY{constructor(e,t,i){if(function RK(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function my(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class _Y extends class mY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw rw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function gu(){return new _Y}class Jj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=sw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function dY(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=Zj(e,i,r),d={name:l.fullPath},f=ph(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},E=zR(l,t),V=new od(f,"POST",function M(z){let ne;WR(z);try{ne=z.getResponseHeader("X-Goog-Upload-URL")}catch{ad(!1)}return ad(oS(ne)),ne},n.maxUploadRetryTime);return V.urlParams=d,V.headers=b,V.body=E,V.errorHandler=gy(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function hY(n,e,t,i){const f=new od(t,"POST",function s(g){const b=WR(g,["active","final"]);let E=null;try{E=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ad(!1)}E||ad(!1);const O=Number(E);return ad(!isNaN(O)),new uS(O,i.size(),"final"===b)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=gy(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,gu,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new uS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function fY(n,e,t,i,r,s,l,d){const f=new uS(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function IK(){return new fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const g=f.total-f.current;let b=g;r>0&&(b=Math.min(b,r));const E=f.current,V={"X-Goog-Upload-Command":b===g?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},z=i.slice(E,E+b);if(null===z)throw Mj();const Fe=new od(t,"POST",function ne(Me,Je){const rt=WR(Me,["active","final"]),bt=f.current+b,Ht=i.size();let On;return On="final"===rt?cS(e,s)(Me,Je):null,new uS(bt,Ht,"final"===rt,On)},e.maxUploadRetryTime);return Fe.headers=V,Fe.body=z.uploadData(),Fe.progressCallback=d||null,Fe.errorHandler=gy(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(l,gu,r,s);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=Wj(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,gu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Kj(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Fe="";for(let Me=0;Me<2;Me++)Fe+=Math.random().toString().slice(2);return Fe}();l["Content-Type"]="multipart/related; boundary="+f;const g=Zj(e,i,r),b=zR(g,t),M=sd.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+f+"\r\nContent-Type: "+g.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===M)throw Mj();const V={name:g.fullPath},z=ph(s,n.host,n._protocol),be=n.maxUploadRetryTime,Se=new od(z,"POST",cS(n,t),be);return Se.urlParams=V,Se.headers=l,Se.body=M.uploadData(),Se.errorHandler=gy(e),Se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Rj(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=qR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new gY(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(qR(this._state)){case $o.SUCCESS:my(this._resolve.bind(null,this.snapshot))();break;case $o.CANCELED:case $o.ERROR:my(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qR(this._state)){case $o.RUNNING:case $o.PAUSED:e.next&&my(e.next.bind(e,this.snapshot))();break;case $o.SUCCESS:e.complete&&my(e.complete.bind(e))();break;default:e.error&&my(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ig{constructor(e,t){this._service=e,this._location=t instanceof fo?t:fo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ig(e,t)}get root(){const e=new fo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hj(this._location.path)}get storage(){return this._service}get parent(){const e=function KK(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new fo(this._location.bucket,e);return new Ig(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Fj(e)}}function eH(n,e,t){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,Pe.Z)(function*(n,e,t){const r=yield tH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield eH(n,e,r.nextPageToken))})).apply(this,arguments)}function tH(n,e){null!=e&&"number"==typeof e.maxResults&&jR("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=oY(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,gu)}function NY(n){n._throwIfRoot("getDownloadURL");const e=function aY(n,e,t){const r=ph(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,d=new od(r,"GET",function sY(n,e){return function t(i,r){const s=Gj(n,r,e);return ad(null!==s),function tY(n,e,t,i){const r=$R(e);if(null===r||!oS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(g=>{const E=n.fullPath;return ph("/b/"+l(n.bucket)+"/o/"+l(E),t,i)+Bj({alt:"media",token:g})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return d.errorHandler=ow(e),d}(n.storage,n._location,sw());return n.storage.makeRequestWithTokens(e,gu).then(t=>{if(null===t)throw function AK(){return new fr("no-download-url","The given file does not have any download URLs.")}();return t})}function nH(n,e){const t=function YK(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new fo(n._location.bucket,t);return new Ig(n.storage,i)}function iH(n,e){if(n instanceof KR){const t=n;if(null==t._bucket)throw function SK(){return new fr("no-default-bucket","No default bucket found. Did you set the '"+kj+"' property when initializing the app?")}();const i=new Ig(t,t._bucket);return null!=e?iH(i,e):i}return void 0!==e?nH(n,e):n}function RY(n,e){if(e&&function OY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof KR)return function kY(n,e){return new Ig(n,e)}(n,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}return iH(n,e)}function rH(n,e){const t=e?.[kj];return null==t?null:fo.makeFromBucketSpec(t,n)}class KR{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Oj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?fo.makeFromBucketSpec(r,this._host):rH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?fo.makeFromBucketSpec(this._url,e):rH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ig(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new NK(Pj());{const s=function UK(n,e,t,i,r,s){const l=Bj(n.urlParams),d=n.url+l,f=Object.assign({},n.headers);return function BK(n,e){e&&(n["X-Firebase-GMPID"]=e)}(f,e),function FK(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(f,t),function LK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(f,s),function VK(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(f,i),new PK(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Pe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const sH="@firebase/storage";function lH(n,e){return RY(n=(0,U.m9)(n),e)}function $Y(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new KR(t,i,r,e,jo.SDK_VERSION)}!function zY(){(0,jo._registerComponent)(new fu.wA("storage",$Y,"PUBLIC").setMultipleInstances(!0)),(0,jo.registerVersion)(sH,"0.9.9",""),(0,jo.registerVersion)(sH,"0.9.9","esm2017")}();class dS{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new dS(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new dS(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new dS(l,this,this._ref)):{next:t.next?l=>t.next(new dS(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class uH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new gh(e,this._service))}get items(){return this._delegate.items.map(e=>new gh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function HY(n,e){return nH(n,e)}(this._delegate,e);return new gh(t,this.storage)}get root(){return new gh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new cH(function PY(n,e,t){return function DY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Jj(n,new sd(e),t)}(n=(0,U.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=gl.RAW,i){this._throwIfRoot("putString");const r=GR(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new cH(new Jj(this._delegate,new sd(r.data,!0),s),this)}listAll(){return function VY(n){return function SY(n){const e={prefixes:[],items:[]};return eH(n,e).then(()=>e)}(n=(0,U.m9)(n))}(this._delegate).then(e=>new uH(e,this.storage))}list(e){return function BY(n,e){return tH(n=(0,U.m9)(n),e)}(this._delegate,e||void 0).then(t=>new uH(t,this.storage))}getMetadata(){return function FY(n){return function IY(n){n._throwIfRoot("getMetadata");const e=Wj(n.storage,n._location,sw());return n.storage.makeRequestWithTokens(e,gu)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(e){return function LY(n,e){return function AY(n,e){n._throwIfRoot("updateMetadata");const t=function lY(n,e,t,i){const s=ph(e.fullServerUrl(),n.host,n._protocol),d=zR(t,i),g=n.maxOperationRetryTime,b=new od(s,"PATCH",cS(n,i),g);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=ow(e),b}(n.storage,n._location,e,sw());return n.storage.makeRequestWithTokens(t,gu)}(n=(0,U.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function UY(n){return NY(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function jY(n){return function xY(n){n._throwIfRoot("deleteObject");const e=function cY(n,e){const i=ph(e.fullServerUrl(),n.host,n._protocol),d=new od(i,"DELETE",function l(f,g){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=ow(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,gu)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Fj(e)}}class dH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(hH(e))throw py("ref() expected a child path but got a URL, use refFromURL instead.");return new gh(lH(this._delegate,e),this)}refFromURL(e){if(!hH(e))throw py("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fo.makeFromUrl(e,this._delegate.host)}catch{throw py("refFromUrl() expected a valid full URL but got an invalid one.")}return new gh(lH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function GY(n,e,t,i={}){!function MY(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function hH(n){return/^[A-Za-z]+:\/\//.test(n)}function KY(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new dH(t,i)}function fH(n){const e=function QY(n){return new $i.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(function gK(n,e=eu.z){return(0,tr.e)((t,i)=>{let r=null,s=null,l=null;const d=()=>{if(r){r.unsubscribe(),r=null;const g=s;s=null,i.next(g)}};function f(){const g=l+n,b=e.now();if(b<g)return r=this.schedule(void 0,g-b),void i.add(r);d()}t.subscribe((0,yi.x)(i,g=>{s=g,l=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function hS(n){return{getDownloadURL:()=>It(void 0).pipe(Wn.fc,Ai(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>It(void 0).pipe(Wn.fc,Ai(()=>n.getMetadata()),Wn.iC),delete:()=>(0,Xn.D)(n.delete()),child:e=>hS(n.child(e)),updateMetadata:e=>(0,Xn.D)(n.updateMetadata(e)),put:(e,t)=>fH(n.put(e,t)),putString:(e,t,i)=>fH(n.putString(e,t,i)),list:e=>(0,Xn.D)(n.list(e)),listAll:()=>(0,Xn.D)(n.listAll())}}!function YY(n){const e={TaskState:$o,TaskEvent:pY,StringFormat:gl,Storage:dH,Reference:gh};n.INTERNAL.registerComponent(new fu.wA("storage-compat",KY,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(LR.Z);const JY=new u.OlP("angularfire2.storageBucket"),XY=new u.OlP("angularfire2.storage.maxUploadRetryTime"),e9=new u.OlP("angularfire2.storage.maxOperationRetryTime"),t9=new u.OlP("angularfire2.storage.use-emulator");let n9=(()=>{class n{constructor(t,i,r,s,l,d,f,g,b,E){const O=(0,Zr.on)(t,l,i);this.storage=(0,Zr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const M=l.runOutsideAngular(()=>O.storage(r||void 0)),V=b;return V&&M.useEmulator(...V),f&&M.setMaxUploadRetryTime(f),g&&M.setMaxOperationRetryTime(g),M},[f,g])}ref(t){return hS(this.storage.ref(t))}refFromURL(t){return hS(this.storage.refFromURL(t))}upload(t,i,r){return hS(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zr.Dh),u.LFG(Zr.xv,8),u.LFG(JY,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wn.HU),u.LFG(XY,8),u.LFG(e9,8),u.LFG(t9,8),u.LFG(Qb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),r9=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[n9],imports:[i9]}),n})();function YR(){return(0,tr.e)((n,e)=>{let t,i=!1;n.subscribe((0,yi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}j(5881);var At,s9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mh={},QR=QR||{},fn=s9||self;function fS(){}function JR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function aw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var XR="closure_uid_"+(1e9*Math.random()>>>0),a9=0;function l9(n,e,t){return n.call.apply(n.bind,arguments)}function c9(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Vs(n,e,t){return(Vs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l9:c9).apply(null,arguments)}function pS(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Us(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[r].apply(i,l)}}function Pf(){this.s=this.s,this.o=this.o}var d9={};Pf.prototype.s=!1,Pf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function o9(n){return Object.prototype.hasOwnProperty.call(n,XR)&&n[XR]||(n[XR]=++a9)}(this);delete d9[n]}},Pf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gH=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function mH(n){return Array.prototype.concat.apply([],arguments)}function eM(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function gS(n){return/^[\s\xa0]*$/.test(n)}var Wo,_H=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zo(n,e){return-1!=n.indexOf(e)}function tM(n,e){return n<e?-1:n>e?1:0}e:{var yH=fn.navigator;if(yH){var vH=yH.userAgent;if(vH){Wo=vH;break e}}Wo=""}function nM(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function bH(n){const e={};for(const t in n)e[t]=n[t];return e}var wH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CH(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<wH.length;s++)t=wH[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function iM(n){return iM[" "](n),n}iM[" "]=fS;var mS,n,p9=zo(Wo,"Opera"),_y=zo(Wo,"Trident")||zo(Wo,"MSIE"),EH=zo(Wo,"Edge"),rM=EH||_y,DH=zo(Wo,"Gecko")&&!(zo(Wo.toLowerCase(),"webkit")&&!zo(Wo,"Edge"))&&!(zo(Wo,"Trident")||zo(Wo,"MSIE"))&&!zo(Wo,"Edge"),g9=zo(Wo.toLowerCase(),"webkit")&&!zo(Wo,"Edge");function TH(){var n=fn.document;return n?n.documentMode:void 0}e:{var sM="",oM=(n=Wo,DH?/rv:([^\);]+)(\)|;)/.exec(n):EH?/Edge\/([\d\.]+)/.exec(n):_y?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):g9?/WebKit\/(\S+)/.exec(n):p9?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oM&&(sM=oM?oM[1]:""),_y){var aM=TH();if(null!=aM&&aM>parseFloat(sM)){mS=String(aM);break e}}mS=sM}var m9={};var y9=fn.document&&_y&&(TH()||parseInt(mS,10))||void 0,v9=function(){if(!fn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{fn.addEventListener("test",fS,e),fn.removeEventListener("test",fS,e)}catch{}return n}();function po(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function lw(n,e){if(po.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DH){e:{try{iM(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:b9[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lw.Z.h.call(this)}}po.prototype.h=function(){this.defaultPrevented=!0},Us(lw,po);var b9={2:"touch",3:"pen",4:"mouse"};lw.prototype.h=function(){lw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cw="closure_listenable_"+(1e6*Math.random()|0),w9=0;function C9(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++w9,this.ca=this.fa=!1}function _S(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function yS(n){this.src=n,this.g={},this.h=0}function cM(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=pH(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_S(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uM(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}yS.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=uM(n,e,i,r);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new C9(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var dM="closure_lm_"+(1e6*Math.random()|0),hM={};function IH(n,e,t,i,r){if(i&&i.once)return NH(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IH(n,e[s],t,i,r);return null}return t=mM(t),n&&n[cw]?n.N(e,t,aw(i)?!!i.capture:!!i,r):AH(n,e,t,!1,i,r)}function AH(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=aw(r)?!!r.capture:!!r,d=pM(n);if(d||(n[dM]=d=new yS(n)),(t=d.add(e,t,i,l,s)).proxy)return t;if(i=function E9(){var e=D9;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)v9||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OH(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function NH(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NH(n,e[s],t,i,r);return null}return t=mM(t),n&&n[cw]?n.O(e,t,aw(i)?!!i.capture:!!i,r):AH(n,e,t,!0,i,r)}function xH(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)xH(n,e[s],t,i,r);else i=aw(i)?!!i.capture:!!i,t=mM(t),n&&n[cw]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uM(s=n.g[e],t,i,r))&&(_S(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=pM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uM(e,t,i,r)),(t=-1<n?e[n]:null)&&fM(t))}function fM(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[cw])cM(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OH(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=pM(e))?(cM(t,n),0==t.h&&(t.src=null,e[dM]=null)):_S(n)}}}function OH(n){return n in hM?hM[n]:hM[n]="on"+n}function D9(n,e){if(n.ca)n=!0;else{e=new lw(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&fM(n),n=t.call(i,e)}return n}function pM(n){return(n=n[dM])instanceof yS?n:null}var gM="__closure_events_fn_"+(1e9*Math.random()>>>0);function mM(n){return"function"==typeof n?n:(n[gM]||(n[gM]=function(e){return n.handleEvent(e)}),n[gM])}function us(){Pf.call(this),this.i=new yS(this),this.P=this,this.I=null}function js(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new po(e,n);else if(e instanceof po)e.target=e.target||n;else{var r=e;CH(e=new po(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=vS(l,i,!0,e)&&r}if(r=vS(l=e.g=n,i,!0,e)&&r,r=vS(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=vS(l=e.g=t[s],i,!1,e)&&r}function vS(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ca&&l.capture==t){var d=l.listener,f=l.ia||l.src;l.fa&&cM(n.i,l),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Us(us,Pf),us.prototype[cw]=!0,us.prototype.removeEventListener=function(n,e,t,i){xH(this,n,e,t,i)},us.prototype.M=function(){if(us.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)_S(t[i]);delete n.g[e],n.h--}}this.I=null},us.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},us.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var _M=fn.JSON.stringify;function T9(){var n=RH;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vM,kH=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new I9,n=>n.reset());class I9{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function A9(n){fn.setTimeout(()=>{throw n},0)}function yM(n,e){vM||function N9(){var n=fn.Promise.resolve(void 0);vM=function(){n.then(x9)}}(),bM||(vM(),bM=!0),RH.add(n,e)}var bM=!1,RH=new class S9{constructor(){this.h=this.g=null}add(e,t){const i=kH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function x9(){for(var n;n=T9();){try{n.h.call(n.g)}catch(t){A9(t)}var e=kH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bM=!1}function bS(n,e){us.call(this),this.h=n||1,this.g=e||fn,this.j=Vs(this.kb,this),this.l=Date.now()}function wM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function CM(n,e,t){if("function"==typeof n)t&&(n=Vs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vs(n.handleEvent,n)}return 2147483647<Number(e)?-1:fn.setTimeout(n,e||0)}function MH(n){n.g=CM(()=>{n.g=null,n.i&&(n.i=!1,MH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Us(bS,us),(At=bS.prototype).da=!1,At.S=null,At.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),js(this,"tick"),this.da&&(wM(this),this.start()))}},At.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){bS.Z.M.call(this),wM(this),delete this.g};class O9 extends Pf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MH(this)}M(){super.M(),this.g&&(fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uw(n){Pf.call(this),this.h=n,this.g={}}Us(uw,Pf);var PH=[];function FH(n,e,t,i){Array.isArray(t)||(t&&(PH[0]=t.toString()),t=PH);for(var r=0;r<t.length;r++){var s=IH(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function LH(n){nM(n.g,function(e,t){this.g.hasOwnProperty(t)&&fM(e)},n),n.g={}}function wS(){this.g=!0}function yy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function P9(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return _M(t)}catch{return e}}(n,t)+(i?" "+i:"")})}uw.prototype.M=function(){uw.Z.M.call(this),LH(this)},uw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wS.prototype.Aa=function(){this.g=!1},wS.prototype.info=function(){};var Ag={},BH=null;function CS(){return BH=BH||new us}function VH(n){po.call(this,Ag.Ma,n)}function dw(n){const e=CS();js(e,new VH(e,n))}function UH(n,e){po.call(this,Ag.STAT_EVENT,n),this.stat=e}function qo(n){const e=CS();js(e,new UH(e,n))}function jH(n,e){po.call(this,Ag.Na,n),this.size=e}function hw(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return fn.setTimeout(function(){n()},e)}Ag.Ma="serverreachability",Us(VH,po),Ag.STAT_EVENT="statevent",Us(UH,po),Ag.Na="timingevent",Us(jH,po);var ES={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HH={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EM(){}function $H(){}EM.prototype.h=null;var SM,fw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function DM(){po.call(this,"d")}function TM(){po.call(this,"c")}function DS(){}function pw(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new uw(this),this.P=F9,this.W=new bS(n=rM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new zH}function zH(){this.i=null,this.g="",this.h=!1}Us(DM,po),Us(TM,po),Us(DS,EM),DS.prototype.g=function(){return new XMLHttpRequest},DS.prototype.i=function(){return{}},SM=new DS;var F9=45e3,IM={},TS={};function AM(n,e,t){n.K=1,n.v=xS(_h(e)),n.s=t,n.U=!0,WH(n,null)}function WH(n,e){n.F=Date.now(),gw(n),n.A=_h(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),t3(t.h,"t",i),n.C=0,t=n.l.H,n.h=new zH,n.g=T3(n.l,t?e:null,!n.s),0<n.O&&(n.L=new O9(Vs(n.Ia,n,n.g),n.O)),FH(n.V,n.g,"readystatechange",n.gb),e=n.H?bH(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),dw(1),function k9(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var b=g[0];g=g[1];var E=b.split("_");l=2<=E.length&&"type"==E[1]?l+(b+"=")+g+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function qH(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ZH(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=L9(n,t),r==TS){4==e&&(n.o=4,qo(14),i=!1),yy(n.j,n.m,null,"[Incomplete Response]");break}if(r==IM){n.o=4,qo(15),yy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}yy(n.j,n.m,r,null),NM(n,r)}qH(n)&&r!=TS&&r!=IM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),UM(e),e.L=!0,qo(11))):(yy(n.j,n.m,t,"[Invalid Chunked Response]"),Ng(n),mw(n))}function L9(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?TS:(t=Number(e.substring(t,i)),isNaN(t)?IM:(i+=1)+t>e.length?TS:(e=e.substr(i,t),n.C=i+t,e))}function gw(n){n.Y=Date.now()+n.P,KH(n,n.P)}function KH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hw(Vs(n.eb,n),e)}function SS(n){n.B&&(fn.clearTimeout(n.B),n.B=null)}function mw(n){0==n.l.G||n.I||w3(n.l,n)}function Ng(n){SS(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wM(n.W),LH(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function NM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kM(t.i,n)))if(t.I=n.N,!n.J&&kM(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;FS(t),MS(t)}VM(t),qo(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=hw(Vs(t.ab,t),6e3));if(1>=s3(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else kg(t,11)}else if((n.J||t.g==n)&&FS(t),!gS(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(t.U=g[0],g=g[1],2==t.G)if("c"==g[0]){t.J=g[1],t.la=g[2];const b=g[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const E=g[4];null!=E&&(t.za=E,t.h.info("SVER="+t.za));const O=g[5];null!=O&&"number"==typeof O&&0<O&&(t.K=i=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const M=n.g;if(M){const V=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;!s.g&&(zo(V,"spdy")||zo(V,"quic")||zo(V,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(RM(s,s.h),s.h=null))}if(i.D){const z=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.sa=z,zi(i.F,i.D,z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((i=t).oa=D3(i,i.H?i.la:null,i.W),l.J){o3(i.i,l);var d=l,f=i.K;f&&d.setTimeout(f),d.B&&(SS(d),gw(d)),i.g=l}else v3(i);0<t.l.length&&PS(t)}else"stop"!=g[0]&&"close"!=g[0]||kg(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?kg(t,7):LM(t):"noop"!=g[0]&&t.j&&t.j.wa(g),t.A=0)}dw(4)}catch{}}function xM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(JR(n)||"string"==typeof n)gH(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(JR(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function B9(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(JR(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function vy(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof vy)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function OM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];xg(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)xg(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function xg(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(At=pw.prototype).setTimeout=function(n){this.P=n},At.gb=function(n){n=n.target;const e=this.L;e&&3==yh(n)?e.l():this.Ia(n)},At.Ia=function(n){try{if(n==this.g)e:{const b=yh(this.g);var e=this.g.Da();const E=this.g.ba();if(!(3>b)&&(3!=b||rM||this.g&&(this.h.h||this.g.ga()||p3(this.g)))){this.I||4!=b||7==e||dw(8==e||0>=E?3:2),SS(this);var t=this.g.ba();this.N=t;t:if(qH(this)){var i=p3(this.g);n="";var r=i.length,s=4==yh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ng(this),mw(this);var l="";break t}this.h.i=new fn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function R9(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gS(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,qo(12),Ng(this),mw(this);break e}yy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NM(this,t)}this.U?(ZH(this,b,l),rM&&this.i&&3==b&&(FH(this.V,this.W,"tick",this.fb),this.W.start())):(yy(this.j,this.m,l,null),NM(this,l)),4==b&&Ng(this),this.i&&!this.I&&(4==b?w3(this.l,this):(this.i=!1,gw(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,qo(12)):(this.o=0,qo(13)),Ng(this),mw(this)}}}catch{}},At.fb=function(){if(this.g){var n=yh(this.g),e=this.g.ga();this.C<e.length&&(SS(this),ZH(this,n,e),this.i&&4!=n&&gw(this))}},At.cancel=function(){this.I=!0,Ng(this)},At.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function M9(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dw(3),qo(17)),Ng(this),this.o=2,mw(this)):KH(this,this.Y-n)},(At=vy.prototype).R=function(){OM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},At.T=function(){return OM(this),this.g.concat()},At.get=function(n,e){return xg(this.h,n)?this.h[n]:e},At.set=function(n,e){xg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},At.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var YH=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Og(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Og){this.g=void 0!==e?e:n.g,IS(this,n.j),this.s=n.s,AS(this,n.i),NS(this,n.m),this.l=n.l,e=n.h;var t=new vw;t.i=e.i,e.g&&(t.g=new vy(e.g),t.h=e.h),QH(this,t),this.o=n.o}else n&&(t=String(n).match(YH))?(this.g=!!e,IS(this,t[1]||"",!0),this.s=_w(t[2]||""),AS(this,t[3]||"",!0),NS(this,t[4]),this.l=_w(t[5]||"",!0),QH(this,t[6]||"",!0),this.o=_w(t[7]||"")):(this.g=!!e,this.h=new vw(null,this.g))}function _h(n){return new Og(n)}function IS(n,e,t){n.j=t?_w(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function AS(n,e,t){n.i=t?_w(e,!0):e}function NS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function QH(n,e,t){e instanceof vw?(n.h=e,function q9(n,e){e&&!n.j&&(Ff(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(XH(this,i),t3(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=yw(e,z9)),n.h=new vw(e,n.g))}function zi(n,e,t){n.h.set(e,t)}function xS(n){return zi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _w(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,H9),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function H9(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Og.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yw(e,JH,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yw(e,JH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(yw(t,"/"==t.charAt(0)?$9:G9,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yw(t,W9)),n.join("")};var JH=/[#\/\?@]/g,G9=/[#\?:]/g,$9=/[#\?]/g,z9=/[#\?@]/g,W9=/#/g;function vw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ff(n){n.g||(n.g=new vy,n.h=0,n.i&&function V9(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XH(n,e){Ff(n),e=by(n,e),xg(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xg((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&OM(n)))}function e3(n,e){return Ff(n),e=by(n,e),xg(n.g.h,e)}function t3(n,e,t){XH(n,e),0<t.length&&(n.i=null,n.g.set(by(n,e),eM(t)),n.h+=t.length)}function by(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function n3(n){this.l=n||K9,n=fn.PerformanceNavigationTiming?0<(n=fn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(fn.g&&fn.g.Ea&&fn.g.Ea()&&fn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=vw.prototype).add=function(n,e){Ff(this),this.i=null,n=by(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){Ff(this),this.g.forEach(function(t,i){gH(t,function(r){n.call(e,r,i,this)},this)},this)},At.T=function(){Ff(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},At.R=function(n){Ff(this);var e=[];if("string"==typeof n)e3(this,n)&&(e=mH(e,this.g.get(by(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=mH(e,n[t])}return e},At.set=function(n,e){return Ff(this),this.i=null,e3(this,n=by(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var l=r;""!==i[s]&&(l+="="+encodeURIComponent(String(i[s]))),n.push(l)}}return this.i=n.join("&")};var K9=10;function r3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function s3(n){return n.h?1:n.g?n.g.size:0}function kM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RM(n,e){n.g?n.g.add(e):n.h=e}function o3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function a3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return eM(n.i)}function MM(){}function Y9(){this.g=new MM}function Q9(n,e,t){const i=t||"";try{xM(n,function(r,s){let l=r;aw(r)&&(l=_M(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function OS(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bw(n){this.l=n.$b||null,this.j=n.ib||!1}function kS(n,e){us.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=PM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}n3.prototype.cancel=function(){if(this.i=a3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},MM.prototype.stringify=function(n){return fn.JSON.stringify(n,void 0)},MM.prototype.parse=function(n){return fn.JSON.parse(n,void 0)},Us(bw,EM),bw.prototype.g=function(){return new kS(this.l,this.j)},bw.prototype.i=function(n){return function(){return n}}({}),Us(kS,us);var PM=0;function l3(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ww(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cw(n)}function Cw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=kS.prototype).open=function(n,e){if(this.readyState!=PM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cw(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||fn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ww(this)),this.readyState=PM},At.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cw(this)),this.g&&(this.readyState=3,Cw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof fn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l3(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},At.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ww(this):Cw(this),3==this.readyState&&l3(this)}},At.Ua=function(n){this.g&&(this.response=this.responseText=n,ww(this))},At.Ta=function(n){this.g&&(this.response=n,ww(this))},At.ha=function(){this.g&&ww(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var X9=fn.JSON.parse;function Pr(n){us.call(this),this.headers=new vy,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=c3,this.K=this.L=!1}Us(Pr,us);var c3="",eQ=/^https?$/i,tQ=["POST","PUT"];function iQ(n){return"content-type"==n.toLowerCase()}function u3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,d3(n),RS(n)}function d3(n){n.D||(n.D=!0,js(n,"complete"),js(n,"error"))}function h3(n){if(n.h&&typeof QR<"u"&&(!n.C[1]||4!=yh(n)||2!=n.ba()))if(n.v&&4==yh(n))CM(n.Fa,0,n);else if(js(n,"readystatechange"),4==yh(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(YH)[1]||null;if(!r&&fn.self&&fn.self.location){var s=fn.self.location.protocol;r=s.substr(0,s.length-1)}i=!eQ.test(r?r.toLowerCase():"")}t=i}if(t)js(n,"complete"),js(n,"success");else{n.m=6;try{var l=2<yh(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.ba()+"]",d3(n)}}finally{RS(n)}}}function RS(n,e){if(n.g){f3(n);const t=n.g,i=n.C[0]?fS:null;n.g=null,n.C=null,e||js(n,"ready");try{t.onreadystatechange=i}catch{}}}function f3(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(fn.clearTimeout(n.A),n.A=null)}function yh(n){return n.g?n.g.readyState:0}function p3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case c3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function rQ(n){let e="";return nM(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zi(n,e,t))}function Ew(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function g3(n){this.za=0,this.l=[],this.h=new wS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ew("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ew("baseRetryDelayMs",5e3,n),this.$a=Ew("retryDelaySeedMs",1e4,n),this.Ya=Ew("forwardChannelMaxRetries",2,n),this.ra=Ew("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new n3(n&&n.concurrentRequestLimit),this.Ca=new Y9,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function LM(n){if(m3(n),3==n.G){var e=n.V++,t=_h(n.F);zi(t,"SID",n.J),zi(t,"RID",e),zi(t,"TYPE","terminate"),Dw(n,t),(e=new pw(n,n.h,e,void 0)).K=2,e.v=xS(_h(t)),t=!1,fn.navigator&&fn.navigator.sendBeacon&&(t=fn.navigator.sendBeacon(e.v.toString(),"")),!t&&fn.Image&&((new Image).src=e.v,t=!0),t||(e.g=T3(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gw(e)}E3(n)}function MS(n){n.g&&(UM(n),n.g.cancel(),n.g=null)}function m3(n){MS(n),n.u&&(fn.clearTimeout(n.u),n.u=null),FS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&fn.clearTimeout(n.m),n.m=null)}function BM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&PS(n)}function PS(n){r3(n.i)||n.m||(n.m=!0,yM(n.Ha,n),n.C=0)}function _3(n,e){var t;t=e?e.m:n.V++;const i=_h(n.F);zi(i,"SID",n.J),zi(i,"RID",t),zi(i,"AID",n.U),Dw(n,i),n.o&&n.s&&FM(i,n.o,n.s),t=new pw(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=y3(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),RM(n.i,t),AM(t,i,e)}function Dw(n,e){n.j&&xM({},function(t,i){zi(e,i,t)})}function y3(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Vs(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=r[f].h;const b=r[f].g;if(g-=s,0>g)s=Math.max(0,r[f].h-100),d=!1;else try{Q9(b,l,"req"+g+"_")}catch{i&&i(b)}}if(d){i=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function v3(n){n.g||n.u||(n.Y=1,yM(n.Ga,n),n.A=0)}function VM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=hw(Vs(n.Ga,n),C3(n,n.A)),n.A++,0))}function UM(n){null!=n.B&&(fn.clearTimeout(n.B),n.B=null)}function b3(n){n.g=new pw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=_h(n.oa);zi(e,"RID","rpc"),zi(e,"SID",n.J),zi(e,"CI",n.N?"0":"1"),zi(e,"AID",n.U),Dw(n,e),zi(e,"TYPE","xmlhttp"),n.o&&n.s&&FM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=xS(_h(e)),t.s=null,t.U=!0,WH(t,n)}function FS(n){null!=n.v&&(fn.clearTimeout(n.v),n.v=null)}function w3(n,e){var t=null;if(n.g==e){FS(n),UM(n),n.g=null;var i=2}else{if(!kM(n.i,e))return;t=e.D,o3(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;js(i=CS(),new jH(i,t,e,r)),PS(n)}else v3(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function sQ(n,e){return!(s3(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=hw(Vs(n.Ha,n,e),C3(n,n.C)),n.C++,0)))}(n,e)||2==i&&VM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:kg(n,5);break;case 4:kg(n,10);break;case 3:kg(n,6);break;default:kg(n,2)}}function C3(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function kg(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Vs(n.jb,n);t||(t=new Og("//www.google.com/images/cleardot.gif"),fn.location&&"http"==fn.location.protocol||IS(t,"https"),xS(t)),function J9(n,e){const t=new wS;if(fn.Image){const i=new Image;i.onload=pS(OS,t,i,"TestLoadImage: loaded",!0,e),i.onerror=pS(OS,t,i,"TestLoadImage: error",!1,e),i.onabort=pS(OS,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=pS(OS,t,i,"TestLoadImage: timeout",!1,e),fn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else qo(2);n.G=0,n.j&&n.j.va(e),E3(n),m3(n)}function E3(n){n.G=0,n.I=-1,n.j&&((0!=a3(n.i).length||0!=n.l.length)&&(n.i.i.length=0,eM(n.l),n.l.length=0),n.j.ua())}function D3(n,e,t){let i=function U9(n){return n instanceof Og?_h(n):new Og(n,void 0)}(t);if(""!=i.i)e&&AS(i,e+"."+i.i),NS(i,i.m);else{const r=fn.location;i=function j9(n,e,t,i){var r=new Og(null,void 0);return n&&IS(r,n),e&&AS(r,e),t&&NS(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&nM(n.aa,function(r,s){zi(i,s,r)}),t=n.sa,(e=n.D)&&t&&zi(i,e,t),zi(i,"VER",n.ma),Dw(n,i),i}function T3(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pr(t&&n.Ba&&!n.qa?new bw({ib:!0}):n.qa)).L=n.H,e}function S3(){}function LS(){if(_y&&!(10<=Number(y9)))throw Error("Environmental error: no available transport.")}function ml(n,e){us.call(this),this.g=new g3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!gS(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gS(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wy(this)}function I3(n){DM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function A3(){TM.call(this),this.status=1}function wy(n){this.g=n}(At=Pr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SM.g(),this.C=function GH(n){return n.h||(n.h=n.i())}(this.u?this.u:SM),this.g.onreadystatechange=Vs(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void u3(this,s)}n=t||"";const r=new vy(this.headers);i&&xM(i,function(s,l){r.set(l,s)}),i=function h9(n){e:{var e=iQ;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=fn.FormData&&n instanceof fn.FormData,!(0<=pH(tQ,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{f3(this),0<this.B&&((this.K=function nQ(n){return _y&&function _9(){return function f9(n){var e=m9;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_H(String(mS)).split("."),t=_H("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",s=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=tM(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||tM(0==r[2].length,0==s[2].length)||tM(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vs(this.pa,this)):this.A=CM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){u3(this,s)}},At.pa=function(){typeof QR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,js(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,js(this,"complete"),js(this,"abort"),RS(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),RS(this,!0)),Pr.Z.M.call(this)},At.Fa=function(){this.s||(this.F||this.v||this.l?h3(this):this.cb())},At.cb=function(){h3(this)},At.ba=function(){try{return 2<yh(this)?this.g.status:-1}catch{return-1}},At.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),X9(e)}},At.Da=function(){return this.m},At.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=g3.prototype).ma=8,At.G=1,At.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},At.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new pw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=bH(s),CH(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=y3(this,r,e),zi(t=_h(this.F),"RID",n),zi(t,"CVER",22),this.D&&zi(t,"X-HTTP-Session-Id",this.D),Dw(this,t),this.o&&s&&FM(t,this.o,s),RM(this.i,r),this.Ra&&zi(t,"TYPE","init"),this.ja?(zi(t,"$req",e),zi(t,"SID","null"),r.$=!0,AM(r,t,null)):AM(r,t,e),this.G=2}}else 3==this.G&&(n?_3(this,n):0==this.l.length||r3(this.i)||_3(this))},At.Ga=function(){if(this.u=null,b3(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=hw(Vs(this.bb,this),n)}},At.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qo(10),MS(this),b3(this))},At.ab=function(){null!=this.v&&(this.v=null,MS(this),VM(this),qo(19))},At.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qo(2)):(this.h.info("Failed to ping google.com"),qo(1))},(At=S3.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Oa=function(){},LS.prototype.g=function(n,e){return new ml(n,e)},Us(ml,us),ml.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yM(Vs(n.hb,n,e))),qo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=D3(n,null,n.W),PS(n)},ml.prototype.close=function(){LM(this.g)},ml.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,BM(this.g,e)}else this.v?((e={}).__data__=_M(n),BM(this.g,e)):BM(this.g,n)},ml.prototype.M=function(){this.g.j=null,delete this.j,LM(this.g),delete this.g,ml.Z.M.call(this)},Us(I3,DM),Us(A3,TM),Us(wy,S3),wy.prototype.xa=function(){js(this.g,"a")},wy.prototype.wa=function(n){js(this.g,new I3(n))},wy.prototype.va=function(n){js(this.g,new A3(n))},wy.prototype.ua=function(){js(this.g,"b")},LS.prototype.createWebChannel=LS.prototype.g,ml.prototype.send=ml.prototype.u,ml.prototype.open=ml.prototype.m,ml.prototype.close=ml.prototype.close,ES.NO_ERROR=0,ES.TIMEOUT=8,ES.HTTP_ERROR=6,HH.COMPLETE="complete",$H.EventType=fw,fw.OPEN="a",fw.CLOSE="b",fw.ERROR="c",fw.MESSAGE="d",us.prototype.listen=us.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.La,Pr.prototype.getLastErrorCode=Pr.prototype.Da,Pr.prototype.getStatus=Pr.prototype.ba,Pr.prototype.getResponseJson=Pr.prototype.Qa,Pr.prototype.getResponseText=Pr.prototype.ga,Pr.prototype.send=Pr.prototype.ea;var oQ=mh.createWebChannelTransport=function(){return new LS},aQ=mh.getStatEventTarget=function(){return CS()},jM=mh.ErrorCode=ES,lQ=mh.EventType=HH,cQ=mh.Event=Ag,N3=mh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uQ=mh.FetchXmlHttpFactory=bw,BS=mh.WebChannel=$H,dQ=mh.XhrIo=Pr;const x3="@firebase/firestore";class ds{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");let Cy="9.9.2";const Lf=new hu.Yd("@firebase/firestore");function HM(){return Lf.logLevel}function ot(n,...e){if(Lf.logLevel<=hu.in.DEBUG){const t=e.map(GM);Lf.debug(`Firestore (${Cy}): ${n}`,...t)}}function wr(n,...e){if(Lf.logLevel<=hu.in.ERROR){const t=e.map(GM);Lf.error(`Firestore (${Cy}): ${n}`,...t)}}function Rg(n,...e){if(Lf.logLevel<=hu.in.WARN){const t=e.map(GM);Lf.warn(`Firestore (${Cy}): ${n}`,...t)}}function GM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nt(n="Unexpected state"){const e=`FIRESTORE (${Cy}) INTERNAL ASSERTION FAILED: `+n;throw wr(e),new Error(e)}function sn(n,e){n||Nt()}function yt(n,e){return n}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends U.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ds.UNAUTHENTICATED))}shutdown(){}}class gQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mQ{constructor(e){this.t=e,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=l;e.enqueueRetryable((0,Pe.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},f=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(sn("string"==typeof i.accessToken),new O3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(null===e||"string"==typeof e),new ds(e)}}class _Q{constructor(e,t,i){this.type="FirstParty",this.user=ds.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class yQ{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new _Q(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vQ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,ot("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(sn("string"==typeof t.token),this.p=t.token,new k3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class R3{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=bQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function pn(n,e){return n<e?-1:n>e?1:0}function Ey(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function M3(n){return n+"\0"}class Wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wi.fromMillis(Date.now())}static fromDate(e){return Wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Wi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tn(e)}static min(){return new tn(new Wi(0,0))}static max(){return new tn(new Wi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tw{constructor(e,t,i){void 0===t?t=0:t>e.length&&Nt(),void 0===i?i=e.length-t:i>e.length-t&&Nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tw?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends Tw{construct(e,t,i){return new Vn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const wQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Tw{construct(e,t,i){return new pr(e,t,i)}static isValidIdentifier(e){return wQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Xe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Xe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(s(),r++)}if(s(),l)throw new Xe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Vn.fromString(e))}static fromName(e){return new mt(Vn.fromString(e).popFirst(5))}static empty(){return new mt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Vn(e.slice()))}}class VS{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function $M(n){return n.fields.find(e=>2===e.kind)}function Mg(n){return n.fields.filter(e=>2!==e.kind)}VS.UNKNOWN_ID=-1;class US{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sw(0,_l.min())}}function P3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=tn.fromTimestamp(1e9===i?new Wi(t+1,0):new Wi(t,i));return new _l(r,mt.empty(),e)}function F3(n){return new _l(n.readTime,n.key,-1)}class _l{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _l(tn.min(),mt.empty(),-1)}static max(){return new _l(tn.max(),mt.empty(),-1)}}function zM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mt.comparator(n.documentKey,e.documentKey),0!==t?t:pn(n.largestBatchId,e.largestBatchId))}const L3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bf(n){return WM.apply(this,arguments)}function WM(){return WM=(0,Pe.Z)(function*(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==L3)throw n;ot("LocalStore","Unexpectedly lost primary lease")}),WM.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,i)=>{t(e)})}static reject(e){return new De((t,i)=>{i(e)})}static waitFor(e){return new De((t,i)=>{let r=0,s=0,l=!1;e.forEach(d=>{++r,d.next(()=>{++s,l&&s===r&&t()},f=>i(f))}),l=!0,s===r&&t()})}static or(e){let t=De.resolve(!1);for(const i of e)t=t.next(r=>r?De.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new De((i,r)=>{const s=e.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(b=>{l[g]=b,++d,d===s&&i(l)},b=>r(b))}})}static doWhile(e,t){return new De((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class jS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new hs,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Iw(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=qM(i.target.error);this.T.reject(new Iw(e,r))}}static open(e,t,i,r){try{return new jS(t,e.transaction(r,i))}catch(s){throw new Iw(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new TQ(t)}}class mu{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===mu.v((0,U.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ot("SimpleDb","Removing database:",e),Pg(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,U.hl)())return!1;if(mu.S())return!0;const e=(0,U.z$)(),t=mu.v(e),i=0<t&&t<10,r=mu.D(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Iw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const d=l.target.error;r("VersionError"===d.name?new Xe(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Xe(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Iw(e,d))},s.onupgradeneeded=l=>{ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.P.M(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=i=>t.O(i)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Pe.Z)(function*(){const l="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.k(e);const f=jS.open(s.db,e,l?"readonly":"readwrite",i),g=r(f).next(b=>(f.R(),b)).catch(b=>(f.abort(b),De.reject(b))).toPromise();return g.catch(()=>{}),yield f.A,g}catch(f){const g=f,b="FirebaseError"!==g.name&&d<3;if(ot("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),s.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DQ{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Pg(this.$.delete())}}class Iw extends Xe{constructor(e,t){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vf(n){return"IndexedDbTransactionError"===n.name}class TQ{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ot("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Pg(i)}add(e){return ot("SimpleDb","ADD",this.store.name,e,e),Pg(this.store.add(e))}get(e){return Pg(this.store.get(e)).next(t=>(void 0===t&&(t=null),ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ot("SimpleDb","DELETE",this.store.name,e),Pg(this.store.delete(e))}count(){return ot("SimpleDb","COUNT",this.store.name),Pg(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(l,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new De((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new De((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}W(e,t){ot("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(s,l,d)=>d.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new De((i,r)=>{t.onerror=s=>{const l=qM(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(d=>{d?l.continue():i()}):i()}})}G(e,t){const i=[];return new De((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const d=l.target.result;if(!d)return void r();const f=new DQ(d),g=t(d.primaryKey,d.value,f);if(g instanceof De){const b=g.catch(E=>(f.done(),De.reject(E)));i.push(b)}f.isDone?r():null===f.U?d.continue():d.continue(f.U)}}).next(()=>De.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pg(n){return new De((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=qM(i.target.error);t(r)}})}let V3=!1;function qM(n){const e=mu.v((0,U.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V3||(V3=!0,setTimeout(()=>{throw i},0)),i}}return n}class SQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){t.task=null;try{ot("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Vf(i)?ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Bf(i)}yield t.Z(1)}))}}class IQ{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,s=!0;return De.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return ot("IndexBackiller",`Processing collection: ${l}`),this.nt(e,l,r).next(d=>{r-=d,i.add(l)});s=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.st(r,s)).next(d=>(ot("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>l.size)}))}st(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=F3(s);zM(l,i)>0&&(i=l)}),new _l(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Pa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function U3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Pa.ot=-1;class gr{constructor(e,t){this.comparator=e,this.root=t||Hs.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hs.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new HS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new HS(this.root,e,this.comparator,!1)}getReverseIterator(){return new HS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new HS(this.root,e,this.comparator,!0)}}class HS{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hs{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Hs.RED,this.left=r??Hs.EMPTY,this.right=s??Hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Hs(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nt();const e=this.left.check();if(e!==this.right.check())throw Nt();return e+(this.isRed()?0:1)}}Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1,Hs.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt()}get value(){throw Nt()}get color(){throw Nt()}get left(){throw Nt()}get right(){throw Nt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Hs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new H3(this.data.getIterator())}getIteratorFrom(e){return new H3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class H3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dy(n){return n.hasNext()?n.getNext():void 0}class yl{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new yl([])}unionWith(e){let t=new ui(pr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ey(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Kr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const NQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uf(n){if(sn(!!n),"string"==typeof n){let e=0;const t=NQ.exec(n);if(sn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lg(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function ZM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function G3(n){const e=n.mapValue.fields.__previous_value__;return ZM(e)?G3(e):e}function Aw(n){const e=Uf(n.mapValue.fields.__local_write_time__.timestampValue);return new Wi(e.seconds,e.nanos)}class xQ{constructor(e,t,i,r,s,l,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class vh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}function Nw(n){return null==n}function xw(n){return 0===n&&1/n==-1/0}function $3(n){return"number"==typeof n&&Number.isInteger(n)&&!xw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},GS={nullValue:"NULL_VALUE"};function Bg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ZM(n)?4:Z3(n)?9007199254740991:10:Nt()}function ld(n,e){if(n===e)return!0;const t=Bg(n);if(t!==Bg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Aw(n).isEqual(Aw(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Uf(i.timestampValue),l=Uf(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Lg(n.bytesValue).isEqual(Lg(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return mr(i.geoPointValue.latitude)===mr(r.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return mr(i.integerValue)===mr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=mr(i.doubleValue),l=mr(r.doubleValue);return s===l?xw(s)===xw(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Ey(n.arrayValue.values||[],e.arrayValue.values||[],ld);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(U3(s)!==U3(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!ld(s[d],l[d])))return!1;return!0}(n,e);default:return Nt()}var r}function Ow(n,e){return void 0!==(n.values||[]).find(t=>ld(t,e))}function Hf(n,e){if(n===e)return 0;const t=Bg(n),i=Bg(e);if(t!==i)return pn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return pn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=mr(r.integerValue||r.doubleValue),d=mr(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return z3(n.timestampValue,e.timestampValue);case 4:return z3(Aw(n),Aw(e));case 5:return pn(n.stringValue,e.stringValue);case 6:return function(r,s){const l=Lg(r),d=Lg(s);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),d=s.split("/");for(let f=0;f<l.length&&f<d.length;f++){const g=pn(l[f],d[f]);if(0!==g)return g}return pn(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=pn(mr(r.latitude),mr(s.latitude));return 0!==l?l:pn(mr(r.longitude),mr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],d=s.values||[];for(let f=0;f<l.length&&f<d.length;++f){const g=Hf(l[f],d[f]);if(g)return g}return pn(l.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===jf.mapValue&&s===jf.mapValue)return 0;if(r===jf.mapValue)return 1;if(s===jf.mapValue)return-1;const l=r.fields||{},d=Object.keys(l),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const E=pn(d[b],g[b]);if(0!==E)return E;const O=Hf(l[d[b]],f[g[b]]);if(0!==O)return O}return pn(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Nt()}}function z3(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pn(n,e);const t=Uf(n),i=Uf(e),r=pn(t.seconds,i.seconds);return 0!==r?r:pn(t.nanos,i.nanos)}function Ty(n){return KM(n)}function KM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Uf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lg(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=KM(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const d of r)l?l=!1:s+=",",s+=`${d}:${KM(i.fields[d])}`;return s+"}"}(n.mapValue):Nt();var e}function Vg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YM(n){return!!n&&"integerValue"in n}function kw(n){return!!n&&"arrayValue"in n}function W3(n){return!!n&&"nullValue"in n}function q3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $S(n){return!!n&&"mapValue"in n}function Rw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fg(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Z3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OQ(n){return"nullValue"in n?GS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vg(vh.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Nt()}function kQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vg(vh.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jf:Nt()}function K3(n,e){const t=Hf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Y3(n,e){const t=Hf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$S(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rw(t)}setAll(e){let t=pr.emptyPath(),i={},r=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}l?i[d.lastSegment()]=Rw(l):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());$S(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ld(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];$S(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fg(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Gs(Rw(this.value))}}function Q3(n){const e=[];return Fg(n.fields,(t,i)=>{const r=new pr([t]);if($S(i)){const s=Q3(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new yl(e)}class Ni{constructor(e,t,i,r,s,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ni(e,0,tn.min(),tn.min(),Gs.empty(),0)}static newFoundDocument(e,t,i){return new Ni(e,1,t,tn.min(),i,0)}static newNoDocument(e,t){return new Ni(e,2,t,tn.min(),Gs.empty(),0)}static newUnknownDocument(e,t){return new Ni(e,3,t,tn.min(),Gs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class RQ{constructor(e,t=null,i=[],r=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=d,this.ut=null}}function J3(n,e=null,t=[],i=[],r=null,s=null,l=null){return new RQ(n,e,t,i,r,s,l)}function Ug(n){const e=yt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ty(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Nw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ty(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ty(i)).join(",")),e.ut=t}return e.ut}function Mw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!HQ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ld(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iG(n.startAt,e.startAt)&&iG(n.endAt,e.endAt)}function zS(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function WS(n,e){return n.filters.filter(t=>t instanceof $s&&t.field.isEqual(e))}function X3(n,e,t){let i=GS,r=!0;for(const s of WS(n,e)){let l=GS,d=!0;switch(s.op){case"<":case"<=":l=OQ(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,d=!1;break;case"!=":case"not-in":l=GS}K3({value:i,inclusive:r},{value:l,inclusive:d})<0&&(i=l,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];K3({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function eG(n,e,t){let i=jf,r=!0;for(const s of WS(n,e)){let l=jf,d=!0;switch(s.op){case">=":case">":l=kQ(s.value),d=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,d=!1;break;case"!=":case"not-in":l=jf}Y3({value:i,inclusive:r},{value:l,inclusive:d})>0&&(i=l,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];Y3({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class $s extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new PQ(e,t,i):"array-contains"===t?new BQ(e,i):"in"===t?new VQ(e,i):"not-in"===t?new UQ(e,i):"array-contains-any"===t?new jQ(e,i):new $s(e,t,i)}static ct(e,t,i){return"in"===t?new FQ(e,i):new LQ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Hf(t,this.value)):null!==t&&Bg(this.value)===Bg(t)&&this.at(Hf(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class PQ extends $s{constructor(e,t,i){super(e,t,i),this.key=mt.fromName(i.referenceValue)}matches(e){const t=mt.comparator(e.key,this.key);return this.at(t)}}class FQ extends $s{constructor(e,t){super(e,"in",t),this.keys=tG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LQ extends $s{constructor(e,t){super(e,"not-in",t),this.keys=tG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>mt.fromName(i.referenceValue))}class BQ extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kw(t)&&Ow(t.arrayValue,this.value)}}class VQ extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ow(this.value.arrayValue,t)}}class UQ extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ow(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ow(this.value.arrayValue,t)}}class jQ extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ow(this.value.arrayValue,i))}}class Gf{constructor(e,t){this.position=e,this.inclusive=t}}class Sy{constructor(e,t="asc"){this.field=e,this.dir=t}}function HQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function nG(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?mt.comparator(mt.fromName(l.referenceValue),t.key):Hf(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function iG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ld(n.position[t],e.position[t]))return!1;return!0}class bh{constructor(e,t=null,i=[],r=[],s=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.lt=null,this.ft=null}}function rG(n,e,t,i,r,s,l,d){return new bh(n,e,t,i,r,s,l,d)}function Iy(n){return new bh(n)}function sG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JM(n){for(const e of n.filters)if(e.ht())return e.field;return null}function XM(n){return null!==n.collectionGroup}function Ay(n){const e=yt(n);if(null===e.lt){e.lt=[];const t=JM(e),i=QM(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new Sy(t)),e.lt.push(new Sy(pr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Sy(pr.keyField(),s))}}}return e.lt}function Fa(n){const e=yt(n);if(!e.ft)if("F"===e.limitType)e.ft=J3(e.path,e.collectionGroup,Ay(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ay(e))t.push(new Sy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Gf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gf(e.startAt.position,e.startAt.inclusive):null;e.ft=J3(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function qS(n,e,t){return new bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pw(n,e){return Mw(Fa(n),Fa(e))&&n.limitType===e.limitType}function oG(n){return`${Ug(Fa(n))}|lt:${n.limitType}`}function eP(n){return`Query(target=${function MQ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Ty(i.value)}`;var i}).join(", ")}]`),Nw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ty(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ty(t)).join(",")),`Target(${e})`}(Fa(n))}; limitType=${n.limitType})`}function tP(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):mt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const d=nG(r,s,l);return r.inclusive?d<=0:d<0}(t.startAt,Ay(t),i)||t.endAt&&!function(r,s,l){const d=nG(r,s,l);return r.inclusive?d>=0:d>0}(t.endAt,Ay(t),i)));var t,i}function aG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lG(n){return(e,t)=>{let i=!1;for(const r of Ay(n)){const s=GQ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function GQ(n,e,t){const i=n.field.isKeyField()?mt.comparator(e.key,t.key):function(r,s,l){const d=s.data.field(r),f=l.data.field(r);return null!==d&&null!==f?Hf(d,f):Nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Nt()}}function cG(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xw(e)?"-0":e}}function uG(n){return{integerValue:""+n}}function dG(n,e){return $3(e)?uG(e):cG(n,e)}class ZS{constructor(){this._=void 0}}function $Q(n,e,t){return n instanceof Ny?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof jg?fG(n,e):n instanceof Hg?pG(n,e):function(i,r){const s=hG(i,r),l=gG(s)+gG(i._t);return YM(s)&&YM(i._t)?uG(l):cG(i.wt,l)}(n,e)}function zQ(n,e,t){return n instanceof jg?fG(n,e):n instanceof Hg?pG(n,e):t}function hG(n,e){return n instanceof xy?YM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ny extends ZS{}class jg extends ZS{constructor(e){super(),this.elements=e}}function fG(n,e){const t=mG(e);for(const i of n.elements)t.some(r=>ld(r,i))||t.push(i);return{arrayValue:{values:t}}}class Hg extends ZS{constructor(e){super(),this.elements=e}}function pG(n,e){let t=mG(e);for(const i of n.elements)t=t.filter(r=>!ld(r,i));return{arrayValue:{values:t}}}class xy extends ZS{constructor(e,t){super(),this.wt=e,this._t=t}}function gG(n){return mr(n.integerValue||n.doubleValue)}function mG(n){return kw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fw{constructor(e,t){this.field=e,this.transform=t}}class qQ{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function KS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class YS{}function _G(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ky(n.key,ir.none()):new Oy(n.key,n.data,ir.none());{const t=n.data,i=Gs.empty();let r=new ui(pr.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new wh(n.key,i,new yl(r.toArray()),ir.none())}}function ZQ(n,e,t){n instanceof Oy?function(i,r,s){const l=i.value.clone(),d=bG(i.fieldTransforms,r,s.transformResults);l.setAll(d),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof wh?function(i,r,s){if(!KS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=bG(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(vG(i)),d.setAll(l),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lw(n,e,t,i){return n instanceof Oy?function(r,s,l,d){if(!KS(r.precondition,s))return l;const f=r.value.clone(),g=wG(r.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof wh?function(r,s,l,d){if(!KS(r.precondition,s))return l;const f=wG(r.fieldTransforms,d,s),g=s.data;return g.setAll(vG(r)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(l=t,KS(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function KQ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=hG(i.transform,r||null);null!=s&&(null===t&&(t=Gs.empty()),t.set(i.field,s))}return t||null}function yG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Ey(t,i,(r,s)=>function WQ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof jg&&i instanceof jg||t instanceof Hg&&i instanceof Hg?Ey(t.elements,i.elements,ld):t instanceof xy&&i instanceof xy?ld(t._t,i._t):t instanceof Ny&&i instanceof Ny);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Oy extends YS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wh extends YS{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bG(n,e,t){const i=new Map;sn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,d=e.data.field(s.field);i.set(s.field,zQ(l,d,t[r]))}return i}function wG(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,$Q(s,l,e))}return i}class ky extends YS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nP extends YS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YQ{constructor(e){this.count=e}}var Fr,Un;function CG(n){switch(n){default:return Nt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function EG(n){if(void 0===n)return wr("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case Fr.OK:return Ne.OK;case Fr.CANCELLED:return Ne.CANCELLED;case Fr.UNKNOWN:return Ne.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return Ne.INTERNAL;case Fr.UNAVAILABLE:return Ne.UNAVAILABLE;case Fr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Fr.NOT_FOUND:return Ne.NOT_FOUND;case Fr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Fr.ABORTED:return Ne.ABORTED;case Fr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Fr.DATA_LOSS:return Ne.DATA_LOSS;default:return Nt()}}(Un=Fr||(Fr={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";class $f{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fg(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return j3(this.inner)}size(){return this.innerSize}}const QQ=new gr(mt.comparator);function La(){return QQ}const DG=new gr(mt.comparator);function Bw(...n){let e=DG;for(const t of n)e=e.insert(t.key,t);return e}function TG(n){let e=DG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function cd(){return Vw()}function SG(){return Vw()}function Vw(){return new $f(n=>n.toString(),(n,e)=>n.isEqual(e))}const JQ=new gr(mt.comparator),XQ=new ui(mt.comparator);function Cn(...n){let e=XQ;for(const t of n)e=e.add(t);return e}const eJ=new ui(pn);function QS(){return eJ}class Uw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,jw.createSynthesizedTargetChangeForCurrentChange(e,t)),new Uw(tn.min(),i,QS(),La(),Cn())}}class jw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new jw(Kr.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class JS{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class IG{constructor(e,t){this.targetId=e,this.It=t}}class AG{constructor(e,t,i=Kr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class NG{constructor(){this.Tt=0,this.Et=OG(),this.At=Kr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Cn(),t=Cn(),i=Cn();return this.Et.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Nt()}}),new jw(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=OG()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class tJ{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=La(),this.Bt=xG(),this.Lt=new ui(pn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Mt(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:Nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const s=r.target;if(zS(s))if(0===i){const l=new mt(s.path);this.Kt(t,l,Ni.newNoDocument(l,tn.min()))}else sn(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,l)=>{const d=this.Ht(l);if(d){if(s.current&&zS(d.target)){const f=new mt(d.target.path);null!==this.$t.get(f)||this.Xt(l,f)||this.Kt(l,f,Ni.newNoDocument(f,e))}s.vt&&(t.set(l,s.St()),s.Dt())}});let i=Cn();this.Bt.forEach((s,l)=>{let d=!0;l.forEachWhile(f=>{const g=this.Ht(f);return!g||2===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.$t.forEach((s,l)=>l.setReadTime(e));const r=new Uw(e,t,this.Lt,this.$t,i);return this.$t=La(),this.Bt=xG(),this.Lt=new ui(pn),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new NG,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new ui(pn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new NG),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function xG(){return new gr(mt.comparator)}function OG(){return new gr(mt.comparator)}const nJ={asc:"ASCENDING",desc:"DESCENDING"},iJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rJ{constructor(e,t){this.databaseId=e,this.dt=t}}function Hw(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kG(n,e){return n.dt?e.toBase64():e.toUint8Array()}function sJ(n,e){return Hw(n,e.toTimestamp())}function fs(n){return sn(!!n),tn.fromTimestamp(function(e){const t=Uf(e);return new Wi(t.seconds,t.nanos)}(n))}function iP(n,e){return(t=n,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RG(n){const e=Vn.fromString(n);return sn(HG(e)),e}function Gw(n,e){return iP(n.databaseId,e.path)}function ud(n,e){const t=RG(e);if(t.get(1)!==n.databaseId.projectId)throw new Xe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Xe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mt(PG(t))}function rP(n,e){return iP(n.databaseId,e)}function MG(n){const e=RG(n);return 4===e.length?Vn.emptyPath():PG(e)}function $w(n){return new Vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PG(n){return sn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FG(n,e,t){return{name:Gw(n,e),fields:t.value.mapValue.fields}}function LG(n,e,t){const i=ud(n,e.name),r=fs(e.updateTime),s=new Gs({mapValue:{fields:e.fields}}),l=Ni.newFoundDocument(i,r,s);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function zw(n,e){let t;if(e instanceof Oy)t={update:FG(n,e.key,e.value)};else if(e instanceof ky)t={delete:Gw(n,e.key)};else if(e instanceof wh)t={update:FG(n,e.key,e.data),updateMask:pJ(e.fieldMask)};else{if(!(e instanceof nP))return Nt();t={verify:Gw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Ny)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof jg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof xy)return{fieldPath:s.field.canonicalString(),increment:l._t};throw Nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:sJ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Nt()),t;var r}function sP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ir.updateTime(fs(r.updateTime)):void 0!==r.exists?ir.exists(r.exists):ir.none():ir.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let d=null;"setToServerValue"in l?(sn("REQUEST_TIME"===l.setToServerValue),d=new Ny):"appendMissingElements"in l?d=new jg(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new Hg(l.removeAllFromArray.values||[]):"increment"in l?d=new xy(s,l.increment):Nt();const f=pr.fromServerFormat(l.fieldPath);return new Fw(f,d)}(n,r)):[];var r;if(e.update){const r=ud(n,e.update.name),s=new Gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new yl((e.updateMask.fieldPaths||[]).map(g=>pr.fromServerFormat(g)));return new wh(r,s,l,t,i)}return new Oy(r,s,t,i)}if(e.delete){const r=ud(n,e.delete);return new ky(r,t)}if(e.verify){const r=ud(n,e.verify);return new nP(r,t)}return Nt()}function BG(n,e){return{documents:[rP(n,e.path)]}}function VG(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=rP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const g=f.map(b=>function(E){if("=="===E.op){if(q3(E.value))return{unaryFilter:{field:Ry(E.field),op:"IS_NAN"}};if(W3(E.value))return{unaryFilter:{field:Ry(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(q3(E.value))return{unaryFilter:{field:Ry(E.field),op:"IS_NOT_NAN"}};if(W3(E.value))return{unaryFilter:{field:Ry(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ry(E.field),op:dJ(E.op),value:E.value}}}(b));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:Ry((b=g).field),direction:uJ(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(g=e.limit,n.dt||Nw(g)?g:{value:g});var g,d,f;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function UG(n){let e=MG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){sn(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=jG(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new Sy(My((E=b).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;t.limit&&(d=function(b){let E;return E="object"==typeof b?b.value:b,Nw(E)?null:E}(t.limit));let f=null;var b;t.startAt&&(f=new Gf((b=t.startAt).values||[],!!b.before));let g=null;return t.endAt&&(g=function(b){return new Gf(b.values||[],!b.before)}(t.endAt)),rG(e,r,l,s,d,"F",f,g)}function jG(n){return n?void 0!==n.unaryFilter?[fJ(n)]:void 0!==n.fieldFilter?[hJ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>jG(e)).reduce((e,t)=>e.concat(t)):Nt():[]}function uJ(n){return nJ[n]}function dJ(n){return iJ[n]}function Ry(n){return{fieldPath:n.canonicalString()}}function My(n){return pr.fromServerFormat(n.fieldPath)}function hJ(n){return $s.create(My(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function fJ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=My(n.unaryFilter.field);return $s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=My(n.unaryFilter.field);return $s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=My(n.unaryFilter.field);return $s.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=My(n.unaryFilter.field);return $s.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Nt()}}function pJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GG(e)),e=gJ(n.get(t),e);return GG(e)}function gJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function GG(n){return n+"\x01\x01"}function dd(n){const e=n.length;if(sn(e>=2),2===e)return sn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Vn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&Nt(),n.charAt(l+1)){case"\x01":const d=n.substring(s,l);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:Nt()}s=l+2}return new Vn(i)}const $G=["userId","batchId"];function XS(n,e){return[n,Zo(e)]}function zG(n,e,t){return[n,Zo(e),t]}const mJ={},_J=["prefixPath","collectionGroup","readTime","documentId"],yJ=["prefixPath","collectionGroup","documentId"],vJ=["collectionGroup","readTime","prefixPath","documentId"],bJ=["canonicalId","targetId"],wJ=["targetId","path"],CJ=["path","targetId"],EJ=["collectionId","parent"],DJ=["indexId","uid"],TJ=["uid","sequenceNumber"],SJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IJ=["indexId","uid","orderedDocumentKey"],AJ=["userId","collectionPath","documentId"],NJ=["userId","collectionPath","largestBatchId"],xJ=["userId","collectionGroup","largestBatchId"],WG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OJ=[...WG,"documentOverlays"],qG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZG=qG,kJ=[...ZG,"indexConfiguration","indexState","indexEntries"];class oP extends B3{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function ps(n,e){const t=yt(n);return mu.N(t.ee,e)}class aP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&ZQ(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=SG();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=t.has(r.key)?null:d;const f=_G(l,d);null!==f&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(tn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Ey(this.mutations,e.mutations,(t,i)=>yG(t,i))&&Ey(this.baseMutations,e.baseMutations,(t,i)=>yG(t,i))}}class lP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){sn(e.mutations.length===i.length);let r=JQ;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new lP(e,t,i,r)}}class cP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zf{constructor(e,t,i,r,s=tn.min(),l=tn.min(),d=Kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(e){return new zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KG{constructor(e){this.ne=e}}function YG(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Gw(r=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Hw(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Gg(e.version)};else{if(!e.isUnknownDocument())return Nt();i.unknownDocument={path:t.path.toArray(),version:Gg(e.version)}}var r,s;return i}function eI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $g(n){const e=new Wi(n.seconds,n.nanoseconds);return tn.fromTimestamp(e)}function zg(n,e){const t=(e.baseMutations||[]).map(s=>sP(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(l.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>sP(n.ne,s)),r=Wi.fromMillis(e.localWriteTimeMs);return new aP(e.batchId,r,t,i)}function Ww(n){const e=$g(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$g(n.lastLimboFreeSnapshotVersion):tn.min();let i;var r;return void 0!==n.query.documents?(sn(1===(r=n.query).documents.length),i=Fa(Iy(MG(r.documents[0])))):i=Fa(UG(n.query)),new zf(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function QG(n,e){const t=Gg(e.snapshotVersion),i=Gg(e.lastLimboFreeSnapshotVersion);let r;r=zS(e.target)?BG(n.ne,e.target):VG(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ug(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function uP(n){const e=UG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qS(e,e.limit,"L"):e}function dP(n,e){return new cP(e.largestBatchId,sP(n.ne,e.overlayMutation))}function JG(n,e){const t=e.path.lastSegment();return[n,Zo(e.path.popLast()),t]}function XG(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gg(i.readTime),documentKey:Zo(i.documentKey.path),largestBatchId:i.largestBatchId}}class MJ{getBundleMetadata(e,t){return e$(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:$g(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return e$(e).put({bundleId:(i=t).id,createTime:Gg(fs(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return t$(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:uP(r.bundledQuery),readTime:$g(r.readTime)};var r})}saveNamedQuery(e,t){return t$(e).put({name:(i=t).name,readTime:Gg(fs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function e$(n){return ps(n,"bundles")}function t$(n){return ps(n,"namedQueries")}class tI{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new tI(e,t.uid||"")}getOverlay(e,t){return qw(e).get(JG(this.userId,t)).next(i=>i?dP(this.wt,i):null)}getOverlays(e,t){const i=cd();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const d=new cP(t,l);r.push(this.ie(e,d))}),De.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Zo(l.getCollectionPath())));const s=[];return r.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(qw(e).W("collectionPathOverlayIndex",d))}),De.waitFor(s)}getOverlaysForCollection(e,t,i){const r=cd(),s=Zo(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return qw(e).K("collectionPathOverlayIndex",l).next(d=>{for(const f of d){const g=dP(this.wt,f);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=cd();let l;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qw(e).J({index:"collectionGroupOverlayIndex",range:d},(f,g,b)=>{const E=dP(this.wt,g);s.size()<r||E.largestBatchId===l?(s.set(E.getKey(),E),l=E.largestBatchId):b.done()}).next(()=>s)}ie(e,t){return qw(e).put(function(i,r,s){const[l,d,f]=JG(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:zw(i.ne,s.mutation)}}(this.wt,this.userId,t))}}function qw(n){return ps(n,"documentOverlays")}class Wg{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(mr(e.integerValue));else if("doubleValue"in e){const i=mr(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),xw(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Lg(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Z3(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Nt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),mt.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function PJ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function n$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=PJ(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Wg.ye=new Wg;class FJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=n$(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=n$(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class LJ{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class BJ{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class Zw{constructor(){this.Oe=new FJ,this.Fe=new LJ(this.Oe),this.$e=new BJ(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class qg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new qg(this.indexId,this.documentKey,this.arrayValue,i)}}function Zg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=i$(n.arrayValue,e.arrayValue),0!==t?t:(t=i$(n.directionalValue,e.directionalValue),0!==t?t:mt.comparator(n.documentKey,e.documentKey)))}function i$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class VJ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=$M(e);if(void 0!==t&&!this.Qe(t))return!1;const i=Mg(e);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const l=i[r];if(!this.je(this.Ke,l)||!this.We(this.Ue[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],l))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class UJ{constructor(){this.ze=new hP}addToCollectionParentIndex(e,t){return this.ze.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(_l.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(_l.min())}updateCollectionGroup(e,t,i){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class hP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ui(Vn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ui(Vn.comparator)).toArray()}}const nI=new Uint8Array(0);class jJ{constructor(e,t){this.user=e,this.databaseId=t,this.He=new hP,this.Je=new $f(i=>Ug(i),(i,r)=>Mw(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:i,parent:Zo(r)};return r$(e).put(s)}return De.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[M3(t),""],!1,!0);return r$(e).K(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(dd(l.parent))}return i})}addFieldIndex(e,t){const i=iI(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=Yw(e);return s.next(d=>{l.put(XG(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=iI(e),r=Yw(e),s=Kw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Kw(e);let r=!0;const s=new Map;return De.forEach(this.Ye(t),l=>this.Xe(e,l).next(d=>{r&&(r=!!d),s.set(l,d)})).next(()=>{if(r){let l=Cn();const d=[];return De.forEach(s,(f,g)=>{var b;ot("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${Ug(t)}`);const E=function(Fe,Me){const Je=$M(Me);if(void 0===Je)return null;for(const rt of WS(Fe,Je.fieldPath))switch(rt.op){case"array-contains-any":return rt.value.arrayValue.values||[];case"array-contains":return[rt.value]}return null}(g,f),O=function(Fe,Me){const Je=new Map;for(const rt of Mg(Me))for(const bt of WS(Fe,rt.fieldPath))switch(bt.op){case"==":case"in":Je.set(rt.fieldPath.canonicalString(),bt.value);break;case"not-in":case"!=":return Je.set(rt.fieldPath.canonicalString(),bt.value),Array.from(Je.values())}return null}(g,f),M=function(Fe,Me){const Je=[];let rt=!0;for(const bt of Mg(Me)){const Ht=0===bt.kind?X3(Fe,bt.fieldPath,Fe.startAt):eG(Fe,bt.fieldPath,Fe.startAt);Je.push(Ht.value),rt&&(rt=Ht.inclusive)}return new Gf(Je,rt)}(g,f),V=function(Fe,Me){const Je=[];let rt=!0;for(const bt of Mg(Me)){const Ht=0===bt.kind?eG(Fe,bt.fieldPath,Fe.endAt):X3(Fe,bt.fieldPath,Fe.endAt);Je.push(Ht.value),rt&&(rt=Ht.inclusive)}return new Gf(Je,rt)}(g,f),z=this.Ze(f,g,M),ne=this.Ze(f,g,V),be=this.tn(f,g,O),Se=this.en(f.indexId,E,z,M.inclusive,ne,V.inclusive,be);return De.forEach(Se,Fe=>i.j(Fe,t.limit).next(Me=>{Me.forEach(Je=>{const rt=mt.fromSegments(Je.documentKey);l.has(rt)||(l=l.add(rt),d.push(rt))})}))}).next(()=>d)}return De.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,s,l,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),g=f/(null!=t?t.length:1),b=[];for(let E=0;E<f;++E){const O=t?this.nn(t[E/g]):nI,M=this.sn(e,O,i[E%g],r),V=this.rn(e,O,s[E%g],l),z=d.map(ne=>this.sn(e,O,ne,!0));b.push(...this.createRange(M,V,z))}return b}sn(e,t,i,r){const s=new qg(e,mt.empty(),t,i);return r?s:s.Le()}rn(e,t,i,r){const s=new qg(e,mt.empty(),t,i);return r?s.Le():s}Xe(e,t){const i=new VJ(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const d of s)i.Ge(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(e,t){let i=2;return De.forEach(this.Ye(t),r=>this.Xe(e,r).next(s=>{s?0!==i&&s.fields.length<function(l){let d=new ui(pr.comparator),f=!1;for(const g of l.filters){const b=g;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?f=!0:d=d.add(b.field))}for(const g of l.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new Zw;for(const r of Mg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.Be(r.kind);Wg.ye.re(s,l)}return i.Me()}nn(e){const t=new Zw;return Wg.ye.re(e,t.Be(0)),t.Me()}un(e,t){const i=new Zw;return Wg.ye.re(Vg(this.databaseId,t),i.Be(function(r){const s=Mg(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Me()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new Zw);let s=0;for(const l of Mg(e)){const d=i[s++];for(const f of r)if(this.cn(t,l.fieldPath)&&kw(d))r=this.an(r,l,d);else{const g=f.Be(l.kind);Wg.ye.re(d,g)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Me();return t}an(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const d of r){const f=new Zw;f.seed(d.Me()),Wg.ye.re(l,f.Be(t.kind)),s.push(f)}return s}cn(e,t){return!!e.filters.find(i=>i instanceof $s&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=iI(e),r=Yw(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(s=>{const l=[];return De.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{l.push(function(g,b){const E=b?new Sw(b.sequenceNumber,new _l($g(b.readTime),new mt(dd(b.documentKey)),b.largestBatchId)):Sw.empty(),O=g.fields.map(([M,V])=>new US(pr.fromServerFormat(M),V));return new VS(g.indexId,g.collectionGroup,O,E)}(d,f))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:pn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=iI(e),s=Yw(e);return this.ln(e).next(l=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>De.forEach(d,f=>s.put(XG(f.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return De.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?De.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),De.forEach(d,f=>this.fn(e,r,f).next(g=>{const b=this.dn(s,f);return g.isEqual(b)?De.resolve():this._n(e,s,f,g,b)}))))})}wn(e,t,i,r){return Kw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return Kw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=Kw(e);let s=new ui(Zg);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(l,d)=>{s=s.add(new qg(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}dn(e,t){let i=new ui(Zg);const r=this.on(t,e);if(null==r)return i;const s=$M(t);if(null!=s){const l=e.data.field(s.fieldPath);if(kw(l))for(const d of l.arrayValue.values||[])i=i.add(new qg(t.indexId,e.key,this.nn(d),r))}else i=i.add(new qg(t.indexId,e.key,nI,r));return i}_n(e,t,i,r,s){ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,g,b,E){const O=d.getIterator(),M=f.getIterator();let V=Dy(O),z=Dy(M);for(;V||z;){let ne=!1,be=!1;if(V&&z){const Se=g(V,z);Se<0?be=!0:Se>0&&(ne=!0)}else null!=V?be=!0:ne=!0;ne?(b(z),z=Dy(M)):be?(E(V),V=Dy(O)):(V=Dy(O),z=Dy(M))}}(r,s,Zg,d=>{l.push(this.wn(e,t,i,d))},d=>{l.push(this.mn(e,t,i,d))}),De.waitFor(l)}ln(e){let t=1;return Yw(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,d)=>Zg(l,d)).filter((l,d,f)=>!d||0!==Zg(l,f[d-1]));const r=[];r.push(e);for(const l of i){const d=Zg(l,e),f=Zg(l,t);if(0===d)r[0]=e.Le();else if(d>0&&f<0)r.push(l),r.push(l.Le());else if(f>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2)s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,nI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,nI,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(s$)}getMinOffset(e,t){return De.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||Nt())).next(s$)}}function r$(n){return ps(n,"collectionParents")}function Kw(n){return ps(n,"indexEntries")}function iI(n){return ps(n,"indexConfiguration")}function Yw(n){return ps(n,"indexState")}function s$(n){sn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;zM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new _l(e.readTime,e.documentKey,t)}const o$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ba{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ba(e,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let d=0;const f=i.J({range:l},(b,E,O)=>(d++,O.delete()));s.push(f.next(()=>{sn(1===d)}));const g=[];for(const b of t.mutations){const E=zG(e,b.key.path,t.batchId);s.push(r.delete(E)),g.push(b.key)}return De.waitFor(s).next(()=>g)}function rI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Nt();e=n.noDocument}return JSON.stringify(e).length}Ba.DEFAULT_COLLECTION_PERCENTILE=10,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ba.DEFAULT=new Ba(41943040,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ba.DISABLED=new Ba(-1,0,0);class sI{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){sn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new sI(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wf(e).J({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Py(e),l=Wf(e);return l.add({}).next(d=>{sn("number"==typeof d);const f=new aP(d,t,i,r),g=function(O,M,V){const z=V.baseMutations.map(be=>zw(O.ne,be)),ne=V.mutations.map(be=>zw(O.ne,be));return{userId:M,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:z,mutations:ne}}(this.wt,this.userId,f),b=[];let E=new ui((O,M)=>pn(O.canonicalString(),M.canonicalString()));for(const O of r){const M=zG(this.userId,O.key.path,d);E=E.add(O.key.path.popLast()),b.push(l.put(g)),b.push(s.put(M,mJ))}return E.forEach(O=>{b.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.gn[d]=f.keys()}),De.waitFor(b).next(()=>f)})}lookupMutationBatch(e,t){return Wf(e).get(t).next(i=>i?(sn(i.userId===this.userId),zg(this.wt,i)):null)}yn(e,t){return this.gn[t]?De.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Wf(e).J({index:"userMutationsIndex",range:r},(l,d,f)=>{d.userId===this.userId&&(sn(d.batchId>=i),s=zg(this.wt,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wf(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wf(e).K("userMutationsIndex",t).next(i=>i.map(r=>zg(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=XS(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Py(e).J({range:r},(l,d,f)=>{const[g,b,E]=l,O=dd(b);if(g===this.userId&&t.path.isEqual(O))return Wf(e).get(E).next(M=>{if(!M)throw Nt();sn(M.userId===this.userId),s.push(zg(this.wt,M))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(pn);const r=[];return t.forEach(s=>{const l=XS(this.userId,s.path),d=IDBKeyRange.lowerBound(l),f=Py(e).J({range:d},(g,b,E)=>{const[O,M,V]=g,z=dd(M);O===this.userId&&s.path.isEqual(z)?i=i.add(V):E.done()});r.push(f)}),De.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=XS(this.userId,i),l=IDBKeyRange.lowerBound(s);let d=new ui(pn);return Py(e).J({range:l},(f,g,b)=>{const[E,O,M]=f,V=dd(O);E===this.userId&&i.isPrefixOf(V)?V.length===r&&(d=d.add(M)):b.done()}).next(()=>this.pn(e,d))}pn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Wf(e).get(s).next(l=>{if(null===l)throw Nt();sn(l.userId===this.userId),i.push(zg(this.wt,l))}))}),De.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return a$(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),De.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Py(e).J({range:i},(s,l,d)=>{if(s[0]===this.userId){const f=dd(s[1]);r.push(f)}else d.done()}).next(()=>{sn(0===r.length)})})}containsKey(e,t){return l$(e,this.userId,t)}Tn(e){return c$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function l$(n,e,t){const i=XS(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Py(n).J({range:s,H:!0},(d,f,g)=>{const[b,E,O]=d;b===e&&E===r&&(l=!0),g.done()}).next(()=>l)}function Wf(n){return ps(n,"mutations")}function Py(n){return ps(n,"documentMutations")}function c$(n){return ps(n,"mutationQueues")}class Kg{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Kg(0)}static Rn(){return new Kg(-1)}}class HJ{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new Kg(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>tn.fromTimestamp(new Wi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fy(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(sn(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Fy(e).J((l,d)=>{const f=Ww(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>De.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Fy(e).J((i,r)=>{const s=Ww(r);t(s)})}bn(e){return u$(e).get("targetGlobalKey").next(t=>(sn(null!==t),t))}Pn(e,t){return u$(e).put("targetGlobalKey",t)}vn(e,t){return Fy(e).put(QG(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ug(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Fy(e).J({range:r,index:"queryTargetsIndex"},(l,d,f)=>{const g=Ww(d);Mw(t,g.target)&&(s=g,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=qf(e);return t.forEach(l=>{const d=Zo(l.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,l))}),De.waitFor(r)}removeMatchingKeys(e,t,i){const r=qf(e);return De.forEach(t,s=>{const l=Zo(s.path);return De.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=qf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=qf(e);let s=Cn();return r.J({range:i,H:!0},(l,d,f)=>{const g=dd(l[1]),b=new mt(g);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=Zo(t.path),r=IDBKeyRange.bound([i],[M3(i)],!1,!0);let s=0;return qf(e).J({index:"documentTargetsIndex",H:!0,range:r},([l,d],f,g)=>{0!==l&&(s++,g.done())}).next(()=>s>0)}te(e,t){return Fy(e).get(t).next(i=>i?Ww(i):null)}}function Fy(n){return ps(n,"targets")}function u$(n){return ps(n,"targetGlobal")}function qf(n){return ps(n,"targetDocuments")}function d$([n,e],[t,i]){const r=pn(n,t);return 0===r?pn(e,i):r}class GJ{constructor(e){this.Sn=e,this.buffer=new ui(d$),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();d$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $J{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Vf(i)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Bf(i)}yield t.kn(3e5)}))}}class zJ{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return De.resolve(Pa.ot);const i=new GJ(t);return this.Mn.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(o$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o$):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let i,r,s,l,d,f,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,l=Date.now(),this.nthSequenceNumber(e,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(s=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),HM()<=hu.in.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(d-l)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${E} documents in `+(g-f)+`ms\nTotal Duration: ${g-b}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:E})))}}class WJ{constructor(e,t){this.db=e,this.garbageCollector=new zJ(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return oI(e,i)}removeReference(e,t,i){return oI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return oI(e,t)}Un(e,t){return function(i,r){let s=!1;return c$(i).Y(l=>l$(i,l,r).next(d=>(d&&(s=!0),De.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(e,(l,d)=>{if(d<=t){const f=this.Un(e,l).next(g=>{if(!g)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,tn.min()),qf(e).delete([0,Zo(l.path)])))});r.push(f)}}).next(()=>De.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return oI(e,t)}Ln(e,t){const i=qf(e);let r,s=Pa.ot;return i.J({index:"documentTargetsIndex"},([l,d],{path:f,sequenceNumber:g})=>{0===l?(s!==Pa.ot&&t(new mt(dd(r)),s),s=g,r=f):s=Pa.ot}).next(()=>{s!==Pa.ot&&t(new mt(dd(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function oI(n,e){return qf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zo(e.path),sequenceNumber:i}));var i}class h${constructor(){this.changes=new $f(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?De.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qJ{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Yg(e).put(i)}removeEntry(e,t,i){return Yg(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],eI(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Ni.newInvalidDocument(t);return Yg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qw(t))},(r,s)=>{i=this.Kn(t,s)}).next(()=>i)}Gn(e,t){let i={size:0,document:Ni.newInvalidDocument(t)};return Yg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qw(t))},(r,s)=>{i={document:this.Kn(t,s),size:rI(s)}}).next(()=>i)}getEntries(e,t){let i=La();return this.Qn(e,t,(r,s)=>{const l=this.Kn(r,s);i=i.insert(r,l)}).next(()=>i)}jn(e,t){let i=La(),r=new gr(mt.comparator);return this.Qn(e,t,(s,l)=>{const d=this.Kn(s,l);i=i.insert(s,d),r=r.insert(s,rI(l))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return De.resolve();let r=new ui(m$);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Qw(r.first()),Qw(r.last())),l=r.getIterator();let d=l.getNext();return Yg(e).J({index:"documentKeyIndex",range:s},(f,g,b)=>{const E=mt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&m$(d,E)<0;)i(d,null),d=l.getNext();d&&d.isEqual(E)&&(i(d,g),d=l.hasNext()?l.getNext():null),d?b.q(Qw(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),eI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yg(e).K(IDBKeyRange.bound(r,s,!0)).next(l=>{let d=La();for(const f of l){const g=this.Kn(mt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(g.key,g)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=La();const l=g$(t,i),d=g$(t,_l.max());return Yg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(f,g,b)=>{const E=this.Kn(mt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(E.key,E),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new ZJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return p$(e).get("remoteDocumentGlobalKey").next(t=>(sn(!!t),t))}qn(e,t){return p$(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function RJ(n,e){let t;if(e.document)t=LG(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=mt.fromSegments(e.noDocument.path),r=$g(e.noDocument.readTime);t=Ni.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nt();{const i=mt.fromSegments(e.unknownDocument.path),r=$g(e.unknownDocument.version);t=Ni.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Wi(i[0],i[1]);return tn.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(tn.min()))return i}return Ni.newInvalidDocument(e)}}function f$(n){return new qJ(n)}class ZJ extends h${constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new $f(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ui((s,l)=>pn(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const d=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,d.readTime)),l.isValidDocument()){const f=YG(this.zn.wt,l);r=r.add(s.path.popLast()),i+=rI(f)-d.size,t.push(this.zn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=YG(this.zn.wt,l.convertToNoDocument(tn.min()));t.push(this.zn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,i)),De.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((s,l)=>{this.Hn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function p$(n){return ps(n,"remoteDocumentGlobal")}function Yg(n){return ps(n,"remoteDocumentsV14")}function Qw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function g$(n,e){const t=e.documentKey.path.toArray();return[n,eI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function m$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=pn(t[s],i[s]),r)return r;return r=pn(t.length,i.length),r||(r=pn(t[t.length-2],i[i.length-2]),r||pn(t[t.length-1],i[i.length-1]))}class KJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Lw(i.mutation,r,yl.empty(),Wi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Cn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Cn()){const r=cd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=Bw();return s.forEach((d,f)=>{l=l.insert(d,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=cd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Cn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,i,r){let s=La();const l=Vw(),d=Vw();return t.forEach((f,g)=>{const b=i.get(g.key);r.has(g.key)&&(void 0===b||b.mutation instanceof wh)?s=s.insert(g.key,g):void 0!==b&&(l.set(g.key,b.mutation.getFieldMask()),Lw(b.mutation,g,b.mutation.getFieldMask(),Wi.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,b)=>l.set(g,b)),t.forEach((g,b)=>{var E;return d.set(g,new KJ(b,null!==(E=l.get(g))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Vw();let r=new gr((l,d)=>l-d),s=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let b=i.get(f)||yl.empty();b=d.applyToLocalView(g,b),i.set(f,b);const E=(r.get(d.batchId)||Cn()).add(f);r=r.insert(d.batchId,E)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,E=SG();b.forEach(O=>{if(!s.has(O)){const M=_G(t.get(O),i.get(O));null!==M&&E.set(O,M),s=s.add(O)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,E))}return De.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return mt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):XM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):De.resolve(cd());let d=-1,f=s;return l.next(g=>De.forEach(g,(b,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),s.get(b)?De.resolve():this.getBaseDocument(e,b,E).next(O=>{f=f.insert(b,O)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,Cn())).next(b=>({batchId:d,changes:TG(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mt(t)).next(i=>{let r=Bw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Bw();return this.indexManager.getCollectionParents(e,r).next(l=>De.forEach(l,d=>{const f=(g=t,b=d.child(r),new bh(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(g=>{g.forEach((b,E)=>{s=s.insert(b,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const g=f.getKey();null===r.get(g)&&(r=r.insert(g,Ni.newInvalidDocument(g)))});let l=Bw();return r.forEach((d,f)=>{const g=s.get(d);void 0!==g&&Lw(g.mutation,f,yl.empty(),Wi.now()),tP(t,f)&&(l=l.insert(d,f))}),l})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):De.resolve(Ni.newInvalidDocument(t))}}class YJ{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return De.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:fs(i.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:uP(i.bundledQuery),readTime:fs(i.readTime)}),De.resolve();var i}}class QJ{constructor(){this.overlays=new gr(mt.comparator),this.Xn=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const i=cd();return De.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ie(e,t,s)}),De.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),De.resolve()}getOverlaysForCollection(e,t,i){const r=cd(),s=t.length+1,l=new mt(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return De.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new gr((g,b)=>g-b);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let b=s.get(g.largestBatchId);null===b&&(b=cd(),s=s.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=cd(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=r)););return De.resolve(d)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new cP(t,i));let s=this.Xn.get(t);void 0===s&&(s=Cn(),this.Xn.set(t,s)),this.Xn.set(t,s.add(i.key))}}class fP{constructor(){this.Zn=new ui(gs.ts),this.es=new ui(gs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new gs(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new gs(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new mt(new Vn([])),i=new gs(t,e),r=new gs(t,e+1),s=[];return this.es.forEachInRange([i,r],l=>{this.rs(l),s.push(l.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new mt(new Vn([])),i=new gs(t,e),r=new gs(t,e+1);let s=Cn();return this.es.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new gs(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class gs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return mt.comparator(e.key,t.key)||pn(e.ls,t.ls)}static ns(e,t){return pn(e.ls,t.ls)||mt.comparator(e.key,t.key)}}class JJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new ui(gs.ts)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.fs;this.fs++;const l=new aP(s,t,i,r);this.mutationQueue.push(l);for(const d of r)this.ds=this.ds.add(new gs(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return De.resolve(l)}lookupMutationBatch(e,t){return De.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),s=r<0?0:r;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gs(t,0),r=new gs(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],l=>{const d=this._s(l.ls);s.push(d)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(pn);return t.forEach(r=>{const s=new gs(r,0),l=new gs(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,l],d=>{i=i.add(d.ls)})}),De.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;mt.isDocumentKey(s)||(s=s.child(""));const l=new gs(new mt(s),0);let d=new ui(pn);return this.ds.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.ls)),!0)},l),De.resolve(this.gs(d))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){sn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return De.forEach(t.mutations,r=>{const s=new gs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new gs(t,0),r=this.ds.firstAfterOrEqual(i);return De.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return De.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XJ{constructor(e){this.ps=e,this.docs=new gr(mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return De.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(t))}getEntries(e,t){let i=La();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ni.newInvalidDocument(r))}),De.resolve(i)}getAllFromCollection(e,t,i){let r=La();const s=new mt(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||zM(F3(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return De.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Nt()}Is(e,t){return De.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eX(this)}getSize(e){return De.resolve(this.size)}}class eX extends h${constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),De.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class tX{constructor(e){this.persistence=e,this.Ts=new $f(t=>Ug(t),Mw),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Es=0,this.As=new fP,this.targetCount=0,this.Rs=Kg.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),De.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Kg(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.vn(t),De.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Ts.forEach((l,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Ts.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),De.waitFor(s).next(()=>r)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return De.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),De.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),De.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return De.resolve(i)}containsKey(e,t){return De.resolve(this.As.containsKey(t))}}class y${constructor(e,t){this.bs={},this.overlays={},this.Ps=new Pa(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new tX(this),this.indexManager=new UJ,this.remoteDocumentCache=new XJ(i=>this.referenceDelegate.Ss(i)),this.wt=new KG(t),this.Ds=new YJ(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new JJ(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){ot("MemoryPersistence","Starting transaction:",e);const r=new nX(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(e,t){return De.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class nX extends B3{constructor(e){super(),this.currentSequenceNumber=e}}class aI{constructor(e){this.persistence=e,this.ks=new fP,this.Ms=null}static Os(e){return new aI(e)}get Fs(){if(this.Ms)return this.Ms;throw Nt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),De.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),De.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Fs,i=>{const r=mt.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r,tn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return De.or([()=>De.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class iX{constructor(e){this.wt=e}M(e,t,i,r){const s=new jS("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$G,{unique:!0}),d.createObjectStore("documentMutations"),v$(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=De.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),v$(e)),l=l.next(()=>function(d){const f=d.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",g)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(d,f){return f.store("mutations").K().next(g=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$G,{unique:!0});const b=f.store("mutations"),E=g.map(O=>b.put(O));return De.waitFor(E)})}(e,s))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Bs(s))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),i<7&&r>=7&&(l=l.next(()=>this.Us(s))),i<8&&r>=8&&(l=l.next(()=>this.qs(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.Ks(s))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:AJ});f.createIndex("collectionPathOverlayIndex",NJ,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",xJ,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:_J});f.createIndex("documentKeyIndex",yJ),f.createIndex("collectionGroupIndex",vJ)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.Qs(e,s))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:DJ}).createIndex("sequenceNumberIndex",TJ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:SJ}).createIndex("documentKeyIndex",IJ,{unique:!1})}(e))),l}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=rI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>De.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",l).next(d=>De.forEach(d,f=>{sn(f.userId===s.userId);const g=zg(this.wt,f);return a$(e,s.userId,g).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((l,d)=>{const f=new Vn(l),g=[0,Zo(f)];s.push(t.get(g).next(b=>b?De.resolve():t.put({targetId:0,path:Zo(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>De.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:EJ});const i=t.store("collectionParents"),r=new hP,s=l=>{if(r.add(l)){const d=l.lastSegment(),f=l.popLast();return i.put({collectionId:d,parent:Zo(f)})}};return t.store("remoteDocuments").J({H:!0},(l,d)=>{const f=new Vn(l);return s(f.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([l,d,f],g)=>{const b=dd(d);return s(b.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const s=Ww(r),l=QG(this.wt,s);return t.put(l)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,l)=>{const d=t.store("remoteDocumentsV14"),f=(g=l,g.document?new mt(Vn.fromString(g.document.name).popFirst(5)):g.noDocument?mt.fromSegments(g.noDocument.path):g.unknownDocument?mt.fromSegments(g.unknownDocument.path):Nt()).path.toArray();var g;const b={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(d.put(b))}).next(()=>De.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=f$(this.wt),s=new y$(aI.Os,this.wt.ne);return i.K().next(l=>{const d=new Map;return l.forEach(f=>{var g;let b=null!==(g=d.get(f.userId))&&void 0!==g?g:Cn();zg(this.wt,f).keys().forEach(E=>b=b.add(E)),d.set(f.userId,b)}),De.forEach(d,(f,g)=>{const b=new ds(g),E=tI.se(this.wt,b),O=s.getIndexManager(b),M=sI.se(b,this.wt,O,s.referenceDelegate);return new _$(r,M,E,O).recalculateAndSaveOverlaysForDocumentKeys(new oP(t,Pa.ot),f).next()})})}}function v$(n){n.createObjectStore("targetDocuments",{keyPath:wJ}).createIndex("documentTargetsIndex",CJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bJ,{unique:!0}),n.createObjectStore("targetGlobal")}const pP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gP{constructor(e,t,i,r,s,l,d,f,g,b,E=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=s,this.window=l,this.document=d,this.Ws=g,this.zs=b,this.Hs=E,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!gP.V())throw new Xe(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WJ(this,r),this.ei=t+"main",this.wt=new KG(f),this.ni=new mu(this.ei,this.Hs,new iX(this.wt)),this.Vs=new HJ(this.referenceDelegate,this.wt),this.remoteDocumentCache=f$(this.wt),this.Ds=new MJ,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===b&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Ne.FAILED_PRECONDITION,pP);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Pa(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Pe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Pe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Vf(e))return ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Jw(e).get("owner").next(t=>De.resolve(this.di(t)))}_i(e){return lI(e).delete(this.clientId)}wi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ps(i,"clientMetadata");return r.K().next(s=>{const l=e.gi(s,18e5),d=s.filter(f=>-1===l.indexOf(f));return De.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?De.resolve(!0):Jw(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Xe(Ne.FAILED_PRECONDITION,pP);return!1}}return!(!this.networkEnabled||!this.inForeground)||lI(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new oP(t,Pa.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>lI(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return sI.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jJ(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return tI.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){ot("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.Hs)?kJ:14===l?ZG:13===l?qG:12===l?OJ:11===l?WG:void Nt();var l;let d;return this.ni.runTransaction(e,r,s,f=>(d=new oP(f,this.Ps?this.Ps.next():Pa.ot),"readwrite-primary"===t?this.ai(d).next(g=>!!g||this.hi(d)).next(g=>{if(!g)throw wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Xe(Ne.FAILED_PRECONDITION,L3);return i(d)}).next(g=>this.fi(d).next(()=>g)):this.bi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}bi(e){return Jw(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Xe(Ne.FAILED_PRECONDITION,pP)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jw(e).put("owner",t)}static V(){return mu.V()}li(e){const t=Jw(e);return t.get("owner").next(i=>this.di(i)?(ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(wr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,U.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ot("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return wr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jw(n){return ps(n,"owner")}function lI(n){return ps(n,"clientMetadata")}function mP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _P{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Cn(),r=Cn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new _P(e,t.fromCache,i,r)}}class b${constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(s=>s||this.xi(e,t,r,i)).next(s=>s||this.Ni(e,t))}Ci(e,t){if(sG(t))return De.resolve(null);let i=Fa(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qS(t,null,"F"),i=Fa(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=Cn(...s);return this.Di.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.ki(t,d);return this.Mi(t,g,l,f.readTime)?this.Ci(e,qS(t,null,"F")):this.Oi(e,g,t,f)}))})))}xi(e,t,i,r){return sG(t)||r.isEqual(tn.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(s=>{const l=this.ki(t,s);return this.Mi(t,l,i,r)?this.Ni(e,t):(HM()<=hu.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),eP(t)),this.Oi(e,l,t,P3(r,-1)))})}ki(e,t){let i=new ui(lG(e));return t.forEach((r,s)=>{tP(e,s)&&(i=i.add(s))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(e,t){return HM()<=hu.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",eP(t)),this.Di.getDocumentsMatchingQuery(e,t,_l.min())}Oi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class rX{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new gr(pn),this.Bi=new $f(s=>Ug(s),Mw),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _$(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function w$(n,e,t,i){return new rX(n,e,t,i)}function C$(n,e){return yP.apply(this,arguments)}function yP(){return yP=(0,Pe.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],d=[];let f=Cn();for(const g of r){l.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of s){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(i,f).next(g=>({Ki:g,removedBatchIds:l,addedBatchIds:d}))})})}),yP.apply(this,arguments)}function sX(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(l,d,f,g){const b=f.batch,E=b.keys();let O=De.resolve();return E.forEach(M=>{O=O.next(()=>g.getEntry(d,M)).next(V=>{const z=f.docVersions.get(M);sn(null!==z),V.version.compareTo(z)<0&&(b.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),g.addEntry(V)))})}),O.next(()=>l.mutationQueue.removeMutationBatch(d,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=Cn();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function E$(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function oX(n,e){const t=yt(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const d=[];e.targetChanges.forEach((b,E)=>{const O=r.get(E);if(!O)return;d.push(t.Vs.removeMatchingKeys(s,b.removedDocuments,E).next(()=>t.Vs.addMatchingKeys(s,b.addedDocuments,E)));let M=O.withSequenceNumber(s.currentSequenceNumber);var V,z,ne;e.targetMismatches.has(E)?M=M.withResumeToken(Kr.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,i)),r=r.insert(E,M),z=M,ne=b,(0===(V=O).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&d.push(t.Vs.updateTargetData(s,M))});let f=La(),g=Cn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(D$(s,l,e.documentUpdates).next(b=>{f=b.Gi,g=b.Qi})),!i.isEqual(tn.min())){const b=t.Vs.getLastRemoteSnapshotVersion(s).next(E=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return De.waitFor(d).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.$i=r,s))}function D$(n,e,t){let i=Cn(),r=Cn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=La();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(tn.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):ot("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Gi:l,Qi:r}})}function aX(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ly(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(s=>s?(r=s,De.resolve(r)):t.Vs.allocateTargetId(i).next(l=>(r=new zf(e,l,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function By(n,e,t){return vP.apply(this,arguments)}function vP(){return vP=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=i.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Vf(l))throw l;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),vP.apply(this,arguments)}function cI(n,e,t){const i=yt(n);let r=tn.min(),s=Cn();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,f,g){const b=yt(d),E=b.Bi.get(g);return void 0!==E?De.resolve(b.$i.get(E)):b.Vs.getTargetData(f,g)}(i,l,Fa(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(l,d.targetId).next(f=>{s=f})}).next(()=>i.Fi.getDocumentsMatchingQuery(l,e,t?r:tn.min(),t?s:Cn())).next(d=>(I$(i,aG(e),d),{documents:d,ji:s})))}function T$(n,e){const t=yt(n),i=yt(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.te(s,e).next(l=>l?l.target:null))}function S$(n,e){const t=yt(n),i=t.Li.get(e)||tn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,P3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(I$(t,e,r),r))}function I$(n,e,t){let i=tn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(e,i)}function bP(){return bP=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n);let s=Cn(),l=La();for(const g of t){const b=e.Wi(g.metadata.name);g.document&&(s=s.add(b));const E=e.zi(g);E.setReadTime(e.Hi(g.metadata.readTime)),l=l.insert(b,E)}const d=r.Ui.newChangeBuffer({trackRemovals:!0}),f=yield Ly(r,(g=i,Fa(Iy(Vn.fromString(`__bundle__/docs/${g}`)))));var g;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>D$(g,d,l).next(b=>(d.apply(g),b)).next(b=>r.Vs.removeMatchingKeysForTargetId(g,f.targetId).next(()=>r.Vs.addMatchingKeys(g,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,b.Gi,b.Qi)).next(()=>b.Gi)))}),bP.apply(this,arguments)}function cX(n,e){return wP.apply(this,arguments)}function wP(){return wP=(0,Pe.Z)(function*(n,e,t=Cn()){const i=yield Ly(n,Fa(uP(e.bundledQuery))),r=yt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=fs(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ds.saveNamedQuery(s,e);const d=i.withResumeToken(Kr.EMPTY_BYTE_STRING,l);return r.$i=r.$i.insert(d.targetId,d),r.Vs.updateTargetData(s,d).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,e))})}),wP.apply(this,arguments)}function A$(n,e){return`firestore_clients_${n}_${e}`}function N$(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function CP(n,e){return`firestore_targets_${n}_${e}`}class uI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Xe(r.error.code,r.error.message))),l?new uI(e,t,r.state,s):(wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Xe(i.error.code,i.error.message))),s?new Xw(e,i.state,r):(wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=QS();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=$3(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new dI(e,s):(wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class EP{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new EP(t.clientId,t.onlineState):(wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DP{constructor(){this.activeTargetIds=QS()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TP{constructor(e,t,i,r,s){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new gr(pn),this.started=!1,this.ir=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=A$(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new DP),this.cr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const s=e.getItem(A$(e.persistenceKey,r));if(s){const l=dI.Ji(r,s);l&&(e.sr=e.sr.insert(l.clientId,l))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(CP(this.persistenceKey,e));if(i){const r=Xw.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(CP(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ot("SharedClientState","READ",e,t),t}setItem(e,t){ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ot("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(s){let l=Pa.ot;if(null!=s)try{const d=JSON.parse(s);sn("number"==typeof d),l=d}catch(d){wr("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(i.newValue);r!==Pa.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new uI(this.currentUser,e,t,i),s=N$(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=N$(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=CP(this.persistenceKey,e),s=new Xw(e,t,i);this.setItem(r,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return dI.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return uI.Ji(new ds(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return Xw.Ji(r,t)}wr(e){return EP.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),l=[],d=[];return s.forEach(f=>{r.has(f)||l.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Or(l,d).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=QS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class x${constructor(){this.Fr=new DP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new DP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uX{Br(e){}shutdown(){}}class O${constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hX{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class fX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,s){const l=this.oo(e,t);ot("RestConnection","Sending: ",l,i);const d={};return this.uo(d,r,s),this.co(e,l,d,i).then(f=>(ot("RestConnection","Received: ",f),f),f=>{throw Rg("RestConnection",`${e} failed with error: `,f,"url: ",l,"request:",i),f})}ao(e,t,i,r,s,l){return this.ro(e,t,i,r,s)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}oo(e,t){return`${this.so}/v1/${t}:${dX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,l)=>{const d=new dQ;d.listenOnce(lQ.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jM.NO_ERROR:const g=d.getResponseJson();ot("Connection","XHR received:",JSON.stringify(g)),s(g);break;case jM.TIMEOUT:ot("Connection",'RPC "'+e+'" timed out'),l(new Xe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case jM.HTTP_ERROR:const b=d.getStatus();if(ot("Connection",'RPC "'+e+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const O=function(M){const V=M.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(V)>=0?V:Ne.UNKNOWN}(E.status);l(new Xe(O,E.message))}else l(new Xe(Ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Xe(Ne.UNAVAILABLE,"Connection failed."));break;default:Nt()}}finally{ot("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oQ(),l=aQ(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new uQ({})),this.uo(d.initMessageHeaders,t,i),(0,U.uI)()||(0,U.b$)()||(0,U.d)()||(0,U.w1)()||(0,U.Mn)()||(0,U.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");ot("Connection","Creating WebChannel: "+f,d);const g=s.createWebChannel(f,d);let b=!1,E=!1;const O=new hX({jr:V=>{E?ot("Connection","Not sending because WebChannel is closed:",V):(b||(ot("Connection","Opening WebChannel transport."),g.open(),b=!0),ot("Connection","WebChannel sending:",V),g.send(V))},Wr:()=>g.close()}),M=(V,z,ne)=>{V.listen(z,be=>{try{ne(be)}catch(Se){setTimeout(()=>{throw Se},0)}})};return M(g,BS.EventType.OPEN,()=>{E||ot("Connection","WebChannel transport opened.")}),M(g,BS.EventType.CLOSE,()=>{E||(E=!0,ot("Connection","WebChannel transport closed"),O.eo())}),M(g,BS.EventType.ERROR,V=>{E||(E=!0,Rg("Connection","WebChannel transport errored:",V),O.eo(new Xe(Ne.UNAVAILABLE,"The operation could not be completed")))}),M(g,BS.EventType.MESSAGE,V=>{var z;if(!E){const ne=V.data[0];sn(!!ne);const be=ne,Se=be.error||(null===(z=be[0])||void 0===z?void 0:z.error);if(Se){ot("Connection","WebChannel received error:",Se);const Fe=Se.status;let Me=function(rt){const bt=Fr[rt];if(void 0!==bt)return EG(bt)}(Fe),Je=Se.message;void 0===Me&&(Me=Ne.INTERNAL,Je="Unknown error status: "+Fe+" with message "+Se.message),E=!0,O.eo(new Xe(Me,Je)),g.close()}else ot("Connection","WebChannel received:",ne),O.no(ne)}}),M(l,cQ.STAT_EVENT,V=>{V.stat===N3.PROXY?ot("Connection","Detected buffering proxy"):V.stat===N3.NOPROXY&&ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function k$(){return typeof window<"u"?window:null}function hI(){return typeof document<"u"?document:null}function eC(n){return new rJ(n,!0)}class SP{constructor(e,t,i=1e3,r=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&ot("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class R${constructor(e,t,i,r,s,l,d,f){this.js=e,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new SP(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Pe.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Pe.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Ne.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Xe(Ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Pe.Z)(function*(){e.state=0,e.start()}))}qo(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pX extends R${constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function aJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Nt(),r=e.targetChange.targetIds||[],s=function(f,g){return f.dt?(sn(void 0===g||"string"==typeof g),Kr.fromBase64String(g||"")):(sn(void 0===g||g instanceof Uint8Array),Kr.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(f){const g=void 0===f.code?Ne.UNKNOWN:EG(f.code);return new Xe(g,f.message||"")}(l);t=new AG(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=ud(n,i.document.name),s=fs(i.document.updateTime),l=new Gs({mapValue:{fields:i.document.fields}}),d=Ni.newFoundDocument(r,s,l);t=new JS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=ud(n,i.document),s=i.readTime?fs(i.readTime):tn.min(),l=Ni.newNoDocument(r,s);t=new JS([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=ud(n,i.document);t=new JS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Nt();{const i=e.filter,s=new YQ(i.count||0);t=new IG(i.targetId,s)}}var f;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return tn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?tn.min():s.readTime?fs(s.readTime):tn.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=$w(this.wt),t.addTarget=function(r,s){let l;const d=s.target;return l=zS(d)?{documents:BG(r,d)}:{query:VG(r,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=kG(r,s.resumeToken):s.snapshotVersion.compareTo(tn.min())>0&&(l.readTime=Hw(r,s.snapshotVersion.toTimestamp())),l}(this.wt,e);const i=function cJ(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=$w(this.wt),t.removeTarget=e,this.Oo(t)}}class gX extends R${constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function lJ(n,e){return n&&n.length>0?(sn(void 0!==e),n.map(t=>function(i,r){let s=fs(i.updateTime?i.updateTime:r);return s.isEqual(tn.min())&&(s=fs(r)),new qQ(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=fs(e.commitTime);return this.listener.Jo(i,t)}return sn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=$w(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>zw(this.wt,i))};this.Oo(t)}}class mX extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Xe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Xe(Ne.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.bo.ao(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Ne.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class _X{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(wr(t),this.su=!1):ot("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class yX{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(d=>{i.enqueueAndForget((0,Pe.Z)(function*(){var f;Zf(l)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Pe.Z)(function*(g){const b=yt(g);b.lu.add(4),yield Vy(b),b._u.set("Unknown"),b.lu.delete(4),yield tC(b)}),function(g){return f.apply(this,arguments)})(l))}))}),this._u=new _X(i,r)}}function tC(n){return IP.apply(this,arguments)}function IP(){return IP=(0,Pe.Z)(function*(n){if(Zf(n))for(const e of n.fu)yield e(!0)}),IP.apply(this,arguments)}function Vy(n){return AP.apply(this,arguments)}function AP(){return AP=(0,Pe.Z)(function*(n){for(const e of n.fu)yield e(!1)}),AP.apply(this,arguments)}function fI(n,e){const t=yt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),OP(t)?xP(t):jy(t).Co()&&NP(t,e))}function nC(n,e){const t=yt(n),i=jy(t);t.hu.delete(e),i.Co()&&M$(t,e),0===t.hu.size&&(i.Co()?i.ko():Zf(t)&&t._u.set("Unknown"))}function NP(n,e){n.wu.Nt(e.targetId),jy(n).Qo(e)}function M$(n,e){n.wu.Nt(e),jy(n).jo(e)}function xP(n){n.wu=new tJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),jy(n).start(),n._u.iu()}function OP(n){return Zf(n)&&!jy(n).Do()&&n.hu.size>0}function Zf(n){return 0===yt(n).lu.size}function P$(n){n.wu=void 0}function vX(n){return kP.apply(this,arguments)}function kP(){return kP=(0,Pe.Z)(function*(n){n.hu.forEach((e,t)=>{NP(n,e)})}),kP.apply(this,arguments)}function bX(n,e){return RP.apply(this,arguments)}function RP(){return RP=(0,Pe.Z)(function*(n,e){P$(n),OP(n)?(n._u.uu(e),xP(n)):n._u.set("Unknown")}),RP.apply(this,arguments)}function wX(n,e,t){return MP.apply(this,arguments)}function MP(){return MP=(0,Pe.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof AG&&2===e.state&&e.cause)try{yield(i=(0,Pe.Z)(function*(r,s){const l=s.cause;for(const d of s.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield pI(n,i)}else if(e instanceof JS?n.wu.Ut(e):e instanceof IG?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(tn.min()))try{const i=yield E$(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.wu.Yt(s);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=r.hu.get(f);g&&r.hu.set(f,g.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach(d=>{const f=r.hu.get(d);if(!f)return;r.hu.set(d,f.withResumeToken(Kr.EMPTY_BYTE_STRING,f.snapshotVersion)),M$(r,d);const g=new zf(f.target,d,1,f.sequenceNumber);NP(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){ot("RemoteStore","Failed to raise snapshot:",i),yield pI(n,i)}var i}),MP.apply(this,arguments)}function pI(n,e,t){return PP.apply(this,arguments)}function PP(){return PP=(0,Pe.Z)(function*(n,e,t){if(!Vf(e))throw e;n.lu.add(1),yield Vy(n),n._u.set("Offline"),t||(t=()=>E$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield tC(n)}))}),PP.apply(this,arguments)}function F$(n,e){return e().catch(t=>pI(n,t,e))}function Uy(n){return FP.apply(this,arguments)}function FP(){return FP=(0,Pe.Z)(function*(n){const e=yt(n),t=Kf(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;CX(e);)try{const r=yield aX(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,EX(e,r)}catch(r){yield pI(e,r)}L$(e)&&B$(e)}),FP.apply(this,arguments)}function CX(n){return Zf(n)&&n.au.length<10}function EX(n,e){n.au.push(e);const t=Kf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function L$(n){return Zf(n)&&!Kf(n).Do()&&n.au.length>0}function B$(n){Kf(n).start()}function DX(n){return LP.apply(this,arguments)}function LP(){return LP=(0,Pe.Z)(function*(n){Kf(n).Xo()}),LP.apply(this,arguments)}function TX(n){return BP.apply(this,arguments)}function BP(){return BP=(0,Pe.Z)(function*(n){const e=Kf(n);for(const t of n.au)e.Ho(t.mutations)}),BP.apply(this,arguments)}function SX(n,e,t){return VP.apply(this,arguments)}function VP(){return VP=(0,Pe.Z)(function*(n,e,t){const i=n.au.shift(),r=lP.from(i,e,t);yield F$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Uy(n)}),VP.apply(this,arguments)}function IX(n,e){return UP.apply(this,arguments)}function UP(){return UP=(0,Pe.Z)(function*(n,e){var t;e&&Kf(n).zo&&(yield(t=(0,Pe.Z)(function*(i,r){if(CG(s=r.code)&&s!==Ne.ABORTED){const l=i.au.shift();Kf(i).No(),yield F$(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Uy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),L$(n)&&B$(n)}),UP.apply(this,arguments)}function V$(n,e){return jP.apply(this,arguments)}function jP(){return jP=(0,Pe.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const i=Zf(t);t.lu.add(3),yield Vy(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield tC(t)}),jP.apply(this,arguments)}function HP(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,Pe.Z)(function*(n,e){const t=yt(n);e?(t.lu.delete(2),yield tC(t)):e||(t.lu.add(2),yield Vy(t),t._u.set("Unknown"))}),GP.apply(this,arguments)}function jy(n){return n.mu||(n.mu=function(e,t,i){const r=yt(e);return r.tu(),new pX(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:vX.bind(null,n),Jr:bX.bind(null,n),Go:wX.bind(null,n)}),n.fu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.mu.No(),OP(n)?xP(n):n._u.set("Unknown")):(yield n.mu.stop(),P$(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Kf(n){return n.gu||(n.gu=function(e,t,i){const r=yt(e);return r.tu(),new gX(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:DX.bind(null,n),Jr:IX.bind(null,n),Yo:TX.bind(null,n),Jo:SX.bind(null,n)}),n.fu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.gu.No(),yield Uy(n)):(yield n.gu.stop(),n.au.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class $P{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,d=new $P(e,t,l,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(n,e){if(wr("AsyncQueue",`${e}: ${n}`),Vf(n))return new Xe(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Gy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||mt.comparator(t.key,i.key):(t,i)=>mt.comparator(t.key,i.key),this.keyedMap=Bw(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new Gy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Gy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class U${constructor(){this.yu=new gr(mt.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Nt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class $y{constructor(e,t,i,r,s,l,d,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new $y(e,t,Gy.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class AX{constructor(){this.Iu=void 0,this.listeners=[]}}class NX{constructor(){this.queries=new $f(e=>oG(e),Pw),this.onlineState="Unknown",this.Tu=new Set}}function zP(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new AX),r)try{s.Iu=yield t.onListen(i)}catch(l){const d=Hy(l,`Initialization of query '${eP(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&KP(t)}),WP.apply(this,arguments)}function qP(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ZP.apply(this,arguments)}function xX(n,e){const t=yt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const d of l.listeners)d.Au(r)&&(i=!0);l.Iu=r}}i&&KP(t)}function OX(n,e,t){const i=yt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function KP(n){n.Tu.forEach(e=>{e.next()})}class YP{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new $y(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=$y.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class kX{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class j${constructor(e){this.wt=e}Wi(e){return ud(this.wt,e)}zi(e){return e.metadata.exists?LG(this.wt,e.document,!1):Ni.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return fs(e)}}class RX{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H$(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new j$(this.wt);for(const r of e)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const l of r.metadata.queries){const d=(t.get(l)||Cn()).add(s);t.set(l,d)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function lX(n,e,t,i){return bP.apply(this,arguments)}(e.localStore,new j$(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield cX(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function H$(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class G${constructor(e){this.key=e}}class $${constructor(e){this.key=e}}class z${constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Cn(),this.mutatedKeys=Cn(),this.Lu=lG(e),this.Uu=new Gy(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new U$,r=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,E)=>{const O=r.get(b),M=tP(this.query,E)?E:null,V=!!O&&this.mutatedKeys.has(O.key),z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let ne=!1;O&&M?O.data.isEqual(M.data)?V!==z&&(i.track({type:3,doc:M}),ne=!0):this.Qu(O,M)||(i.track({type:2,doc:M}),ne=!0,(f&&this.Lu(M,f)>0||g&&this.Lu(M,g)<0)&&(d=!0)):!O&&M?(i.track({type:0,doc:M}),ne=!0):O&&!M&&(i.track({type:1,doc:O}),ne=!0,(f||g)&&(d=!0)),ne&&(M?(l=l.add(M),s=z?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Uu:l,Gu:i,Mi:d,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((g,b)=>function(E,O){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt()}};return M(E)-M(O)}(g.type,b.type)||this.Lu(g.doc,b.doc)),this.ju(i);const l=t?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,f=d!==this.$u;return this.$u=d,0!==s.length||f?{snapshot:new $y(this.query,e.Uu,r,s,e.mutatedKeys,0===d,f,!1),zu:l}:{zu:l}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new U$,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Cn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new $$(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new G$(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Cn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return $y.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class MX{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class PX{constructor(e){this.key=e,this.Xu=!1}}class FX{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Zu={},this.tc=new $f(d=>oG(d),Pw),this.ec=new Map,this.nc=new Set,this.sc=new gr(mt.comparator),this.ic=new Map,this.rc=new fP,this.oc={},this.uc=new Map,this.cc=Kg.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function LX(n,e){return QP.apply(this,arguments)}function QP(){return QP=(0,Pe.Z)(function*(n,e){const t=bF(n);let i,r;const s=t.tc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const l=yield Ly(t.localStore,Fa(e));t.isPrimaryClient&&fI(t.remoteStore,l);const d=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield JP(t,e,i,"current"===d)}return r}),QP.apply(this,arguments)}function JP(n,e,t,i){return XP.apply(this,arguments)}function XP(){return XP=(0,Pe.Z)(function*(n,e,t,i){n.hc=(b,E,O)=>{return(M=(0,Pe.Z)(function*(V,z,ne,be){let Se=z.view.Ku(ne);Se.Mi&&(Se=yield cI(V.localStore,z.query,!1).then(({documents:Je})=>z.view.Ku(Je,Se)));const Fe=be&&be.targetChanges.get(z.targetId),Me=z.view.applyChanges(Se,V.isPrimaryClient,Fe);return cF(V,z.targetId,Me.zu),Me.snapshot}),function(V,z,ne,be){return M.apply(this,arguments)})(n,b,E,O);var M};const r=yield cI(n.localStore,e,!0),s=new z$(e,r.ji),l=s.Ku(r.documents),d=jw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),f=s.applyChanges(l,n.isPrimaryClient,d);cF(n,t,f.zu);const g=new MX(e,t,s);return n.tc.set(e,g),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),f.snapshot}),XP.apply(this,arguments)}function BX(n,e){return eF.apply(this,arguments)}function eF(){return eF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(s=>!Pw(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield By(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),nC(t.remoteStore,i.targetId),zy(t,i.targetId)}).catch(Bf))):(zy(t,i.targetId),yield By(t.localStore,i.targetId,!0))}),eF.apply(this,arguments)}function tF(){return tF=(0,Pe.Z)(function*(n,e,t){const i=wF(n);try{const r=yield function(s,l){const d=yt(s),f=Wi.now(),g=l.reduce((O,M)=>O.add(M.key),Cn());let b,E;return d.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=La(),V=Cn();return d.Ui.getEntries(O,g).next(z=>{M=z,M.forEach((ne,be)=>{be.isValidDocument()||(V=V.add(ne))})}).next(()=>d.localDocuments.getOverlayedDocuments(O,M)).next(z=>{b=z;const ne=[];for(const be of l){const Se=KQ(be,b.get(be.key).overlayedDocument);null!=Se&&ne.push(new wh(be.key,Se,Q3(Se.value.mapValue),ir.exists(!0)))}return d.mutationQueue.addMutationBatch(O,f,ne,l)}).next(z=>{E=z;const ne=z.applyToLocalDocumentSet(b,V);return d.documentOverlayCache.saveOverlays(O,z.batchId,ne)})}).then(()=>({batchId:E.batchId,changes:TG(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,d){let f=s.oc[s.currentUser.toKey()];f||(f=new gr(pn)),f=f.insert(l,d),s.oc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield Ch(i,r.changes),yield Uy(i.remoteStore)}catch(r){const s=Hy(r,"Failed to persist write");t.reject(s)}}),tF.apply(this,arguments)}function W$(n,e){return nF.apply(this,arguments)}function nF(){return nF=(0,Pe.Z)(function*(n,e){const t=yt(n);try{const i=yield oX(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.ic.get(s);l&&(sn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Xu=!0:r.modifiedDocuments.size>0?sn(l.Xu):r.removedDocuments.size>0&&(sn(l.Xu),l.Xu=!1))}),yield Ch(t,i,e)}catch(i){yield Bf(i)}}),nF.apply(this,arguments)}function q$(n,e,t){const i=yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((s,l)=>{const d=l.view.Eu(e);d.snapshot&&r.push(d.snapshot)}),function(s,l){const d=yt(s);d.onlineState=l;let f=!1;d.queries.forEach((g,b)=>{for(const E of b.listeners)E.Eu(l)&&(f=!0)}),f&&KP(d)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function UX(n,e,t){return iF.apply(this,arguments)}function iF(){return iF=(0,Pe.Z)(function*(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),s=r&&r.key;if(s){let l=new gr(mt.comparator);l=l.insert(s,Ni.newNoDocument(s,tn.min()));const d=Cn().add(s),f=new Uw(tn.min(),new Map,new ui(pn),l,d);yield W$(i,f),i.sc=i.sc.remove(s),i.ic.delete(e),uF(i)}else yield By(i.localStore,e,!1).then(()=>zy(i,e,t)).catch(Bf)}),iF.apply(this,arguments)}function jX(n,e){return rF.apply(this,arguments)}function rF(){return rF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=e.batch.batchId;try{const r=yield sX(t.localStore,e);lF(t,i,null),aF(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ch(t,r)}catch(r){yield Bf(r)}}),rF.apply(this,arguments)}function HX(n,e,t){return sF.apply(this,arguments)}function sF(){return sF=(0,Pe.Z)(function*(n,e,t){const i=yt(n);try{const r=yield function(s,l){const d=yt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,l).next(b=>(sn(null!==b),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,e);lF(i,e,t),aF(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ch(i,r)}catch(r){yield Bf(r)}}),sF.apply(this,arguments)}function oF(){return oF=(0,Pe.Z)(function*(n,e){const t=yt(n);Zf(t.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=yt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=Hy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),oF.apply(this,arguments)}function aF(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function lF(n,e,t){const i=yt(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function zy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||Z$(n,i)})}function Z$(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(nC(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),uF(n))}function cF(n,e,t){for(const i of t)i instanceof G$?(n.rc.addReference(i.key,e),$X(n,i)):i instanceof $$?(ot("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||Z$(n,i.key)):Nt()}function $X(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(ot("SyncEngine","New document in limbo: "+t),n.nc.add(i),uF(n))}function uF(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new mt(Vn.fromString(e)),i=n.cc.next();n.ic.set(i,new PX(t)),n.sc=n.sc.insert(t,i),fI(n.remoteStore,new zf(Fa(Iy(t.path)),i,2,Pa.ot))}}function Ch(n,e,t){return dF.apply(this,arguments)}function dF(){return dF=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=[],s=[],l=[];var d;i.tc.isEmpty()||(i.tc.forEach((d,f)=>{l.push(i.hc(f,e,t).then(g=>{if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,g.fromCache?"not-current":"current"),r.push(g);const b=_P.Vi(f.targetId,g);s.push(b)}}))}),yield Promise.all(l),i.Zu.Go(r),yield(d=(0,Pe.Z)(function*(f,g){const b=yt(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>De.forEach(g,O=>De.forEach(O.Pi,M=>b.persistence.referenceDelegate.addReference(E,O.targetId,M)).next(()=>De.forEach(O.vi,M=>b.persistence.referenceDelegate.removeReference(E,O.targetId,M)))))}catch(E){if(!Vf(E))throw E;ot("LocalStore","Failed to update sequence numbers: "+E)}for(const E of g){const O=E.targetId;if(!E.fromCache){const M=b.$i.get(O),z=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);b.$i=b.$i.insert(O,z)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,s))}),dF.apply(this,arguments)}function zX(n,e){return hF.apply(this,arguments)}function hF(){return hF=(0,Pe.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const i=yield C$(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(l=>{l.forEach(d=>{d.reject(new Xe(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ch(t,i.Ki)}var r}),hF.apply(this,arguments)}function WX(n,e){const t=yt(n),i=t.ic.get(e);if(i&&i.Xu)return Cn().add(i.key);{let r=Cn();const s=t.ec.get(e);if(!s)return r;for(const l of s){const d=t.tc.get(l);r=r.unionWith(d.view.qu)}return r}}function qX(n,e){return fF.apply(this,arguments)}function fF(){return fF=(0,Pe.Z)(function*(n,e){const t=yt(n),i=yield cI(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&cF(t,e.targetId,r.zu),r}),fF.apply(this,arguments)}function ZX(n,e){return pF.apply(this,arguments)}function pF(){return pF=(0,Pe.Z)(function*(n,e){const t=yt(n);return S$(t.localStore,e).then(i=>Ch(t,i))}),pF.apply(this,arguments)}function KX(n,e,t,i){return gF.apply(this,arguments)}function gF(){return gF=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n),s=yield function(l,d){const f=yt(l),g=yt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",b=>g.yn(b,d).next(E=>E?f.localDocuments.getDocuments(b,E):De.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Uy(r.remoteStore):"acknowledged"===t||"rejected"===t?(lF(r,e,i||null),aF(r,e),d=e,yt(yt(r.localStore).mutationQueue).In(d)):Nt(),yield Ch(r,s)):ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),gF.apply(this,arguments)}function mF(){return mF=(0,Pe.Z)(function*(n,e){const t=yt(n);if(bF(t),wF(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield K$(t,i.toArray());t.ac=!0,yield HP(t.remoteStore,!0);for(const s of r)fI(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(zy(t,l),By(t.localStore,l,!0))),nC(t.remoteStore,l)}),yield r,yield K$(t,i),function(s){const l=yt(s);l.ic.forEach((d,f)=>{nC(l.remoteStore,f)}),l.rc.cs(),l.ic=new Map,l.sc=new gr(mt.comparator)}(t),t.ac=!1,yield HP(t.remoteStore,!1)}}),mF.apply(this,arguments)}function K$(n,e,t){return _F.apply(this,arguments)}function _F(){return _F=(0,Pe.Z)(function*(n,e,t){const i=yt(n),r=[],s=[];for(const l of e){let d;const f=i.ec.get(l);if(f&&0!==f.length){d=yield Ly(i.localStore,Fa(f[0]));for(const g of f){const b=i.tc.get(g),E=yield qX(i,b);E.snapshot&&s.push(E.snapshot)}}else{const g=yield T$(i.localStore,l);d=yield Ly(i.localStore,g),yield JP(i,Y$(g),l,!1)}r.push(d)}return i.Zu.Go(s),r}),_F.apply(this,arguments)}function Y$(n){return rG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function QX(n){const e=yt(n);return yt(yt(e.localStore).persistence).Ri()}function JX(n,e,t,i){return yF.apply(this,arguments)}function yF(){return yF=(0,Pe.Z)(function*(n,e,t,i){const r=yt(n);if(r.ac)return void ot("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield S$(r.localStore,aG(s[0])),d=Uw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ch(r,l,d);break}case"rejected":yield By(r.localStore,e,!0),zy(r,e,i);break;default:Nt()}}),yF.apply(this,arguments)}function XX(n,e,t){return vF.apply(this,arguments)}function vF(){return vF=(0,Pe.Z)(function*(n,e,t){const i=bF(n);if(i.ac){for(const r of e){if(i.ec.has(r)){ot("SyncEngine","Adding an already active target "+r);continue}const s=yield T$(i.localStore,r),l=yield Ly(i.localStore,s);yield JP(i,Y$(s),l.targetId,!1),fI(i.remoteStore,l)}for(const r of t)i.ec.has(r)&&(yield By(i.localStore,r,!1).then(()=>{nC(i.remoteStore,r),zy(i,r)}).catch(Bf))}}),vF.apply(this,arguments)}function bF(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UX.bind(null,e),e.Zu.Go=xX.bind(null,e.eventManager),e.Zu.lc=OX.bind(null,e.eventManager),e}function wF(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HX.bind(null,e),e}class Q${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.wt=eC(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return w$(this.persistence,new b$,e.initialUser,this.wt)}_c(e){return new y$(aI.Os,this.wt)}dc(e){return new x$}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class J$ extends Q${constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield wF(i.yc.syncEngine),yield Uy(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return w$(this.persistence,new b$,e.initialUser,this.wt)}mc(e,t){return new $J(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new IQ(t,this.persistence);return new SQ(e.asyncQueue,i)}_c(e){const t=mP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ba.withCacheSize(this.cacheSizeBytes):Ba.DEFAULT;return new gP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,k$(),hI(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new x$}}class tee extends J${constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Pe.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof TP&&(i.sharedClientState.syncEngine={kr:KX.bind(null,r),Mr:JX.bind(null,r),Or:XX.bind(null,r),Ri:QX.bind(null,r),Nr:ZX.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,Pe.Z)(function*(l){yield function YX(n,e){return mF.apply(this,arguments)}(i.yc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}dc(e){const t=k$();if(!TP.V(t))throw new Xe(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TP(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class CF{initialize(e,t){var i=this;return(0,Pe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>q$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=zX.bind(null,i.syncEngine),yield HP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NX}createDatastore(e){const t=eC(e.databaseInfo.databaseId),i=new fX(e.databaseInfo);return new mX(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>q$(this.syncEngine,d,0),l=O$.V()?new O$:new uX,new yX(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,d,f,g){const b=new FX(i,r,s,l,d,f);return g&&(b.ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const i=yt(t);ot("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Vy(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function X$(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nee{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new hs,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new kX(JSON.parse(s),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Pe.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class iee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Xe(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Pe.Z)(function*(s,l){const d=yt(s),f=$w(d.wt)+"/documents",g={documents:l.map(M=>Gw(d.wt,M))},b=yield d.ao("BatchGetDocuments",f,g,l.length),E=new Map;b.forEach(M=>{const V=function oJ(n,e){return"found"in e?function(t,i){sn(!!i.found);const r=ud(t,i.found.name),s=fs(i.found.updateTime),l=new Gs({mapValue:{fields:i.found.fields}});return Ni.newFoundDocument(r,s,l)}(n,e):"missing"in e?function(t,i){sn(!!i.missing),sn(!!i.readTime);const r=ud(t,i.missing),s=fs(i.readTime);return Ni.newNoDocument(r,s)}(n,e):Nt()}(d.wt,M);E.set(V.key.toString(),V)});const O=[];return l.forEach(M=>{const V=E.get(M.toString());sn(!!V),O.push(V)}),O}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ky(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=mt.fromPath(r);e.mutations.push(new nP(s,e.precondition(s)))}),yield(i=(0,Pe.Z)(function*(r,s){const l=yt(r),d=$w(l.wt)+"/documents",f={writes:s.map(g=>zw(l.wt,g))};yield l.ro("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nt();t=tn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Xe(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tn.min()))throw new Xe(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ree{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new SP(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Pe.Z)(function*(){const t=new iee(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Nc(s)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!Nw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!CG(t)}return!1}}class see{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ds.UNAUTHENTICATED,this.clientId=R3.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Pe.Z)(function*(d){ot("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(ot("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Xe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function e4(n,e){return EF.apply(this,arguments)}function EF(){return EF=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Pe.Z)(function*(s){i.isEqual(s)||(yield C$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),EF.apply(this,arguments)}function t4(n,e){return DF.apply(this,arguments)}function DF(){return DF=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield TF(n);ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>V$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>V$(e.remoteStore,s)),n.onlineComponents=e}),DF.apply(this,arguments)}function TF(n){return SF.apply(this,arguments)}function SF(){return SF=(0,Pe.Z)(function*(n){return n.offlineComponents||(ot("FirestoreClient","Using default OfflineComponentProvider"),yield e4(n,new Q$)),n.offlineComponents}),SF.apply(this,arguments)}function mI(n){return IF.apply(this,arguments)}function IF(){return IF=(0,Pe.Z)(function*(n){return n.onlineComponents||(ot("FirestoreClient","Using default OnlineComponentProvider"),yield t4(n,new CF)),n.onlineComponents}),IF.apply(this,arguments)}function n4(n){return TF(n).then(e=>e.persistence)}function _I(n){return TF(n).then(e=>e.localStore)}function i4(n){return mI(n).then(e=>e.remoteStore)}function AF(n){return mI(n).then(e=>e.syncEngine)}function Wy(n){return NF.apply(this,arguments)}function NF(){return NF=(0,Pe.Z)(function*(n){const e=yield mI(n),t=e.eventManager;return t.onListen=LX.bind(null,e.syncEngine),t.onUnlisten=BX.bind(null,e.syncEngine),t}),NF.apply(this,arguments)}function r4(n,e,t={}){const i=new hs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,l,d,f){const g=new gI({next:E=>{s.enqueueAndForget(()=>qP(r,b));const O=E.docs.has(l);!O&&E.fromCache?f.reject(new Xe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&E.fromCache&&d&&"server"===d.source?f.reject(new Xe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),b=new YP(Iy(l.path),g,{includeMetadataChanges:!0,Du:!0});return zP(r,b)}(yield Wy(n),n.asyncQueue,e,t,i)})),i.promise}function s4(n,e,t={}){const i=new hs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(r,s,l,d,f){const g=new gI({next:E=>{s.enqueueAndForget(()=>qP(r,b)),E.fromCache&&"server"===d.source?f.reject(new Xe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),b=new YP(l,g,{includeMetadataChanges:!0,Du:!0});return zP(r,b)}(yield Wy(n),n.asyncQueue,e,t,i)})),i.promise}const o4=new Map;function xF(n,e,t){if(!t)throw new Xe(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function a4(n,e,t,i){if(!0===e&&!0===i)throw new Xe(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l4(n){if(!mt.isDocumentKey(n))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c4(n){if(mt.isDocumentKey(n))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nt()}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Xe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yI(n);throw new Xe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function u4(n,e){if(e<=0)throw new Xe(Ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class d4{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Xe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Xe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,a4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iC{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d4({}),this._settingsFrozen=!1,e instanceof vh?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Xe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(r.options.projectId)}(e))}get app(){if(!this._app)throw new Xe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pQ;switch(t.type){case"gapi":const i=t.client;return sn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new yQ(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Xe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=o4.get(e);t&&(ot("ComponentProvider","Removing Datastore"),o4.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class go{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class hd extends go{constructor(e,t,i){super(e,t,Iy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new mt(e))}withConverter(e){return new hd(this.firestore,e,this._path)}}function h4(n,e,...t){if(n=(0,U.m9)(n),xF("collection","path",e),n instanceof iC){const i=Vn.fromString(e,...t);return c4(i),new hd(n,null,i)}{if(!(n instanceof Bi||n instanceof hd))throw new Xe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return c4(i),new hd(n.firestore,null,i)}}function vI(n,e,...t){if(n=(0,U.m9)(n),1===arguments.length&&(e=R3.I()),xF("doc","path",e),n instanceof iC){const i=Vn.fromString(e,...t);return l4(i),new Bi(n,null,new mt(i))}{if(!(n instanceof Bi||n instanceof hd))throw new Xe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return l4(i),new Bi(n.firestore,n instanceof hd?n.converter:null,new mt(i))}}function f4(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),(n instanceof Bi||n instanceof hd)&&(e instanceof Bi||e instanceof hd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function p4(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),n instanceof go&&e instanceof go&&n.firestore===e.firestore&&Pw(n._query,e._query)&&n.converter===e.converter}class mee{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new SP(this,"async_queue_retry"),this.Kc=()=>{const t=hI();t&&ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=hI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=hI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new hs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Vf(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=$P.createAndSchedule(this,e,t,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&Nt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function OF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class _ee{constructor(){this._progressObserver={},this._taskCompletionResolver=new hs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qi extends iC{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new mee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||g4(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||g4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function g4(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xQ(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new see(n._authCredentials,n._appCheckCredentials,n._queue,i)}function m4(n,e,t){const i=new hs;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield e4(n,t),yield t4(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(l=s).name?l.code===Ne.FAILED_PRECONDITION||l.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;Rg("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var l})).then(()=>i.promise)}function _4(n){if(n._initialized||n._terminated)throw new Xe(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Eh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(Kr.fromBase64String(e))}catch(t){throw new Xe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fd(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qg{constructor(e){this._methodName=e}}class bI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Xe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}const Iee=/^__.*__$/;class Aee{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oy(e,this.data,t,this.fieldTransforms)}}class y4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt()}}class wI{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new wI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return DI(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(v4(this.Zc)&&Iee.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Nee{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||eC(e)}aa(e,t,i,r=!1){return new wI({Zc:e,methodName:t,ca:i,path:pr.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Jg(n){const e=n._freezeSettings(),t=eC(n._databaseId);return new Nee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CI(n,e,t,i,r,s={}){const l=n.aa(s.merge||s.mergeFields?2:0,e,t,r);PF("Data must be an object, but it was:",l,i);const d=C4(i,l);let f,g;if(s.merge)f=new yl(l.fieldMask),g=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const E of s.mergeFields){const O=FF(e,E,t);if(!l.contains(O))throw new Xe(Ne.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);D4(b,O)||b.push(O)}f=new yl(b),g=l.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,g=l.fieldTransforms;return new Aee(new Gs(d),f,g)}class rC extends Qg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rC}}function b4(n,e,t){return new wI({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class kF extends Qg{_toFieldTransform(e){return new Fw(e.path,new Ny)}isEqual(e){return e instanceof kF}}class xee extends Qg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=b4(this,e,!0),i=this.ha.map(s=>Xg(s,t)),r=new jg(i);return new Fw(e.path,r)}isEqual(e){return this===e}}class Oee extends Qg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=b4(this,e,!0),i=this.ha.map(s=>Xg(s,t)),r=new Hg(i);return new Fw(e.path,r)}isEqual(e){return this===e}}class kee extends Qg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new xy(e.wt,dG(e.wt,this.la));return new Fw(e.path,t)}isEqual(e){return this===e}}function RF(n,e,t,i){const r=n.aa(1,e,t);PF("Data must be an object, but it was:",r,i);const s=[],l=Gs.empty();Fg(i,(f,g)=>{const b=EI(e,f,t);g=(0,U.m9)(g);const E=r.ia(b);if(g instanceof rC)s.push(b);else{const O=Xg(g,E);null!=O&&(s.push(b),l.set(b,O))}});const d=new yl(s);return new y4(l,d,r.fieldTransforms)}function MF(n,e,t,i,r,s){const l=n.aa(1,e,t),d=[FF(e,i,t)],f=[r];if(s.length%2!=0)throw new Xe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)d.push(FF(e,s[O])),f.push(s[O+1]);const g=[],b=Gs.empty();for(let O=d.length-1;O>=0;--O)if(!D4(g,d[O])){const M=d[O];let V=f[O];V=(0,U.m9)(V);const z=l.ia(M);if(V instanceof rC)g.push(M);else{const ne=Xg(V,z);null!=ne&&(g.push(M),b.set(M,ne))}}const E=new yl(g);return new y4(b,E,l.fieldTransforms)}function w4(n,e,t,i=!1){return Xg(t,n.aa(i?4:3,e))}function Xg(n,e){if(E4(n=(0,U.m9)(n)))return PF("Unsupported field value:",e,n),C4(n,e);if(n instanceof Qg)return function(t,i){if(!v4(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let d=Xg(l,i.ra(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,U.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dG(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Wi.fromDate(t);return{timestampValue:Hw(i.wt,r)}}if(t instanceof Wi){const r=new Wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hw(i.wt,r)}}if(t instanceof bI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fd)return{bytesValue:kG(i.wt,t._byteString)};if(t instanceof Bi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:iP(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${yI(t)}`)}(n,e)}function C4(n,e){const t={};return j3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fg(n,(i,r)=>{const s=Xg(r,e.ea(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function E4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wi||n instanceof bI||n instanceof fd||n instanceof Bi||n instanceof Qg)}function PF(n,e,t){if(!E4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=yI(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function FF(n,e,t){if((e=(0,U.m9)(e))instanceof Eh)return e._internalPath;if("string"==typeof e)return EI(n,e);throw DI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ree=new RegExp("[~\\*/\\[\\]]");function EI(n,e,t){if(e.search(Ree)>=0)throw DI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eh(...e.split("."))._internalPath}catch{throw DI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DI(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new Xe(Ne.INVALID_ARGUMENT,d+n+f)}function D4(n,e){return n.some(t=>t.isEqual(e))}class sC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mee extends sC{data(){return super.data()}}function TI(n,e){return"string"==typeof e?EI(n,e):e instanceof Eh?e._internalPath:e._delegate._internalPath}class em{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dh extends sC{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class oC extends Dh{data(e={}){return super.data(e)}}class Yf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new em(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new oC(this._firestore,this._userDataWriter,i.key,i,new em(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new oC(i._firestore,i._userDataWriter,l.doc.key,l.doc,new em(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new oC(i._firestore,i._userDataWriter,l.doc.key,l.doc,new em(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==l.type&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:Pee(l.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Pee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt()}}function T4(n,e){return n instanceof Dh&&e instanceof Dh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yf&&e instanceof Yf&&n._firestore===e._firestore&&p4(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function S4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Xe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aC{}function Qf(n,...e){for(const t of e)n=t._apply(n);return n}class Fee extends aC{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=Jg(e.firestore),i=function(r,s,l,d,f,g,b){let E;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){k4(b,g);const M=[];for(const V of b)M.push(O4(d,r,V));E={arrayValue:{values:M}}}else E=O4(d,r,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||k4(b,g),E=w4(l,"where",b,"in"===g||"not-in"===g);const O=$s.create(f,g,E);return function(M,V){if(V.ht()){const ne=JM(M);if(null!==ne&&!ne.isEqual(V.field))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${V.field.toString()}'`);const be=QM(M);null!==be&&R4(0,V.field,be)}const z=function(ne,be){for(const Se of ne.filters)if(be.indexOf(Se.op)>=0)return Se.op;return null}(M,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==z)throw new Xe(Ne.INVALID_ARGUMENT,z===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${z.toString()}' filters.`)}(r,O),O}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new go(e.firestore,e.converter,function(r,s){const l=r.filters.concat([s]);return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),l,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Bee extends aC{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Sy(r,s);return function(d,f){if(null===QM(d)){const g=JM(d);null!==g&&R4(0,g,f.field)}}(i,l),l}(e._query,this.fa,this.wa);return new go(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new bh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class I4 extends aC{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new go(e.firestore,e.converter,qS(e._query,this.ma,this.ga))}}class A4 extends aC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=x4(e,this.type,this.ya,this.pa);return new go(e.firestore,e.converter,(r=t,new bh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class N4 extends aC{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=x4(e,this.type,this.ya,this.pa);return new go(e.firestore,e.converter,(r=t,new bh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function x4(n,e,t,i){if(t[0]=(0,U.m9)(t[0]),t[0]instanceof sC)return function(r,s,l,d,f){if(!d)throw new Xe(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const g=[];for(const b of Ay(r))if(b.field.isKeyField())g.push(Vg(s,d.key));else{const E=d.data.field(b.field);if(ZM(E))throw new Xe(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const O=b.field.canonicalString();throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}g.push(E)}return new Gf(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Jg(n.firestore);return function(s,l,d,f,g,b){const E=s.explicitOrderBy;if(g.length>E.length)throw new Xe(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let M=0;M<g.length;M++){const V=g[M];if(E[M].field.isKeyField()){if("string"!=typeof V)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!XM(s)&&-1!==V.indexOf("/"))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const z=s.path.child(Vn.fromString(V));if(!mt.isDocumentKey(z))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const ne=new mt(z);O.push(Vg(l,ne))}else{const z=w4(d,f,V);O.push(z)}}return new Gf(O,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function O4(n,e,t){if("string"==typeof(t=(0,U.m9)(t))){if(""===t)throw new Xe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XM(e)&&-1!==t.indexOf("/"))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Vn.fromString(t));if(!mt.isDocumentKey(i))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vg(n,new mt(i))}if(t instanceof Bi)return Vg(n,t._key);throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yI(t)}.`)}function k4(n,e){if(!Array.isArray(n)||0===n.length)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function R4(n,e,t){if(!t.isEqual(e))throw new Xe(Ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Wee={maxAttempts:5};class LF{convertValue(e,t="none"){switch(Bg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nt()}}convertObject(e,t){const i={};return Fg(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new bI(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=G3(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Aw(e));default:return null}}convertTimestamp(e){const t=Uf(e);return new Wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vn.fromString(e);sn(HG(i));const r=new vh(i.get(1),i.get(3)),s=new mt(i.popFirst(5));return r.isEqual(t)||wr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function SI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class qee extends LF{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}class M4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Jg(e)}set(e,t,i){this._verifyNotCommitted();const r=Jf(e,this._firestore),s=SI(r.converter,t,i),l=CI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,ir.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Jf(e,this._firestore);let l;return l="string"==typeof(t=(0,U.m9)(t))||t instanceof Eh?MF(this._dataReader,"WriteBatch.update",s._key,t,i,r):RF(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jf(e,this._firestore);return this._mutations=this._mutations.concat(new ky(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jf(n,e){if((n=(0,U.m9)(n)).firestore!==e)throw new Xe(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tm extends LF{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function P4(n,e,t){n=Ln(n,Bi);const i=Ln(n.firestore,qi),r=SI(n.converter,e,t);return qy(i,[CI(Jg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ir.none())])}function F4(n,e,t,...i){n=Ln(n,Bi);const r=Ln(n.firestore,qi),s=Jg(r);let l;return l="string"==typeof(e=(0,U.m9)(e))||e instanceof Eh?MF(s,"updateDoc",n._key,e,t,i):RF(s,"updateDoc",n._key,e),qy(r,[l.toMutation(n._key,ir.exists(!0))])}function L4(n,...e){var t,i,r;n=(0,U.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||OF(e[l])||(s=e[l],l++);const d={includeMetadataChanges:s.includeMetadataChanges};if(OF(e[l])){const E=e[l];e[l]=null===(t=E.next)||void 0===t?void 0:t.bind(E),e[l+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),e[l+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let f,g,b;if(n instanceof Bi)g=Ln(n.firestore,qi),b=Iy(n._key.path),f={next:E=>{e[l]&&e[l](BF(g,n,E))},error:e[l+1],complete:e[l+2]};else{const E=Ln(n,go);g=Ln(E.firestore,qi),b=E._query;const O=new tm(g);f={next:M=>{e[l]&&e[l](new Yf(g,O,E,M))},error:e[l+1],complete:e[l+2]},S4(n._query)}return function(E,O,M,V){const z=new gI(V),ne=new YP(O,z,M);return E.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return zP(yield Wy(E),ne)})),()=>{z.Tc(),E.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return qP(yield Wy(E),ne)}))}}(Lr(g),b,d,f)}function qy(n,e){return function(t,i){const r=new hs;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function VX(n,e,t){return tF.apply(this,arguments)}(yield AF(t),i,r)})),r.promise}(Lr(n),e)}function BF(n,e,t){const i=t.docs.get(e._key),r=new tm(n);return new Dh(n,r,e._key,i,new em(t.hasPendingWrites,t.fromCache),e.converter)}class ite extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Jg(e)}get(e){const t=Jf(e,this._firestore),i=new qee(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Nt();const s=r[0];if(s.isFoundDocument())return new sC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new sC(this._firestore,i,t._key,null,t.converter);throw Nt()})}set(e,t,i){const r=Jf(e,this._firestore),s=SI(r.converter,t,i),l=CI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Jf(e,this._firestore);let l;return l="string"==typeof(t=(0,U.m9)(t))||t instanceof Eh?MF(this._dataReader,"Transaction.update",s._key,t,i,r):RF(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Jf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jf(e,this._firestore),i=new tm(this._firestore);return super.get(e).then(r=>new Dh(this._firestore,i,t._key,r._document,new em(!1,!1),t.converter))}}function VF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function V4(){if(typeof Uint8Array>"u")throw new Xe("unimplemented","Uint8Arrays are not available in this environment.")}function U4(){if(!function AQ(){return typeof atob<"u"}())throw new Xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cy=jo.SDK_VERSION,(0,jo._registerComponent)(new fu.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new qi(r,new mQ(t.getProvider("auth-internal")),new vQ(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,jo.registerVersion)(x3,"3.4.14",n),(0,jo.registerVersion)(x3,"3.4.14","esm2017")}();class lC{constructor(e){this._delegate=e}static fromBase64String(e){return U4(),new lC(fd.fromBase64String(e))}static fromUint8Array(e){return V4(),new lC(fd.fromUint8Array(e))}toBase64(){return U4(),this._delegate.toBase64()}toUint8Array(){return V4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UF(n){return function hte(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class fte{enableIndexedDbPersistence(e,t){return function vee(n,e){_4(n=Ln(n,qi));const t=Lr(n),i=n._freezeSettings(),r=new CF;return m4(t,r,new J$(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bee(n){_4(n=Ln(n,qi));const e=Lr(n),t=n._freezeSettings(),i=new CF;return m4(e,i,new tee(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function wee(n){if(n._initialized&&!n._terminated)throw new Xe(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(i){if(!mu.V())return Promise.resolve();const r=i+"main";yield mu.delete(r)}),function(i){return t.apply(this,arguments)})(mP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class j4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof vh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function pee(n,e,t,i={}){var r;const s=(n=Ln(n,iC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Rg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=ds.MOCK_USER;else{l=(0,U.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Xe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ds(f)}n._authCredentials=new gQ(new O3(l,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Eee(n){return function oee(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield n4(n),t=yield i4(n);return e.setNetworkEnabled(!0),function(i){const r=yt(i);return r.lu.delete(0),tC(r)}(t)}))}(Lr(n=Ln(n,qi)))}(this._delegate)}disableNetwork(){return function Dee(n){return function aee(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield n4(n),t=yield i4(n);return e.setNetworkEnabled(!1),(i=(0,Pe.Z)(function*(r){const s=yt(r);s.lu.add(0),yield Vy(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Lr(n=Ln(n,qi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,a4("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Cee(n){return function(e){const t=new hs;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function GX(n,e){return oF.apply(this,arguments)}(yield AF(e),t)})),t.promise}(Lr(n=Ln(n,qi)))}(this._delegate)}onSnapshotsInSync(e){return function nte(n,e){return function uee(n,e){const t=new gI(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield Wy(n),r=t,yt(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return i=yield Wy(n),r=t,void yt(i).Tu.delete(r);var i,r}))}}(Lr(n=Ln(n,qi)),OF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zy(this,h4(this._delegate,e))}catch(t){throw Ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new lc(this,vI(this._delegate,e))}catch(t){throw Ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yo(this,function gee(n,e){if(n=Ln(n,iC),xF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xe(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(n,null,(t=e,new bh(Vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rte(n,e,t){n=Ln(n,qi);const i=Object.assign(Object.assign({},Wee),t);return function(r){if(r.maxAttempts<1)throw new Xe(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function dee(n,e,t){const i=new hs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const r=yield(s=n,mI(s).then(l=>l.datastore));var s;new ree(n.asyncQueue,r,t,e,i).run()})),i.promise}(Lr(n),r=>e(new ite(n,r)),i)}(this._delegate,t=>e(new H4(this,t)))}batch(){return Lr(this._delegate),new G4(new M4(this._delegate,e=>qy(this._delegate,e)))}loadBundle(e){return function Tee(n,e){const t=Lr(n=Ln(n,qi)),i=new _ee;return function hee(n,e,t,i){const r=function(s,l){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,g){if(f instanceof Uint8Array)return X$(f,g);if(f instanceof ArrayBuffer)return X$(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new nee(f,l);var f}(t,eC(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function eee(n,e,t){const i=yt(n);var r;(r=(0,Pe.Z)(function*(s,l,d){try{const f=yield l.getMetadata();if(yield function(O,M){const V=yt(O),z=fs(M.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ne=>V.Ds.getBundleMetadata(ne,M.id)).then(ne=>!!ne&&ne.createTime.compareTo(z)>=0)}(s.localStore,f))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(O=f).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);d._updateProgress(H$(f));const g=new RX(f,s.localStore,l.wt);let b=yield l.fc();for(;b;){const O=yield g.Nu(b);O&&d._updateProgress(O),b=yield l.fc()}const E=yield g.complete();return yield Ch(s,E.Ou,void 0),yield function(O,M){const V=yt(O);return V.persistence.runTransaction("Save bundle","readwrite",z=>V.Ds.saveBundleMetadata(z,M))}(s.localStore,f),d._completeWith(E.progress),Promise.resolve(E.Mu)}catch(f){return Rg("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var O}),function(s,l,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield AF(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function See(n,e){return function fee(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,i){const r=yt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield _I(n),e)}))}(Lr(n=Ln(n,qi)),e).then(t=>t?new go(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Yo(this,t):null)}}class II extends LF{constructor(e){super(),this.firestore=e}convertBytes(e){return new lC(new fd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return lc.forKey(t,this.firestore,null)}}class H4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new II(e)}get(e){const t=im(e);return this._delegate.get(t).then(i=>new cC(this._firestore,new Dh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=im(e);return i?(VF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=im(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=im(e);return this._delegate.delete(t),this}}class G4{constructor(e){this._delegate=e}set(e,t,i){const r=im(e);return i?(VF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=im(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=im(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new oC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=nm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new nm(e,new II(e),t),r.set(t,s)),s}}nm.INSTANCES=new WeakMap;class lc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new lc(t,new Bi(t._delegate,i,new mt(e)))}static forKey(e,t,i){return new lc(t,new Bi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zy(this.firestore,h4(this._delegate,e))}catch(t){throw Ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,U.m9)(e))instanceof Bi&&f4(this._delegate,e)}set(e,t){t=VF("DocumentReference.set",t);try{return t?P4(this._delegate,e,t):P4(this._delegate,e)}catch(i){throw Ko(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?F4(this._delegate,e):F4(this._delegate,e,t,...i)}catch(r){throw Ko(r,"updateDoc()","DocumentReference.update()")}}delete(){return function ete(n){return qy(Ln(n.firestore,qi),[new ky(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=$4(e),i=z4(e,r=>new cC(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return L4(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Kee(n){n=Ln(n,Bi);const e=Ln(n.firestore,qi),t=Lr(e),i=new tm(e);return function lee(n,e){const t=new hs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,l){try{const d=yield function(f,g){const b=yt(f);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,g))}(r,s);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new Xe(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Hy(d,`Failed to get document '${s} from cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield _I(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Dh(e,i,n._key,r,new em(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Yee(n){n=Ln(n,Bi);const e=Ln(n.firestore,qi);return r4(Lr(e),n._key,{source:"server"}).then(t=>BF(e,n,t))}(this._delegate):function Zee(n){n=Ln(n,Bi);const e=Ln(n.firestore,qi);return r4(Lr(e),n._key).then(t=>BF(e,n,t))}(this._delegate),t.then(i=>new cC(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new lc(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}function Ko(n,e,t){return n.message=n.message.replace(e,t),n}function $4(n){for(const e of n)if("object"==typeof e&&!UF(e))return e;return{}}function z4(n,e){var t,i;let r;return r=UF(n[0])?n[0]:UF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class cC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new lc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return T4(this._delegate,e._delegate)}}class uC extends cC{data(e){const t=this._delegate.data(e);return function fQ(n,e){n||Nt()}(void 0!==t),t}}class Yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new II(e)}where(e,t,i){try{return new Yo(this.firestore,Qf(this._delegate,function Lee(n,e,t){const i=e,r=TI("where",n);return new Fee(r,i,t)}(e,t,i)))}catch(r){throw Ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yo(this.firestore,Qf(this._delegate,function Vee(n,e="asc"){const t=e,i=TI("orderBy",n);return new Bee(i,t)}(e,t)))}catch(i){throw Ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yo(this.firestore,Qf(this._delegate,function Uee(n){return u4("limit",n),new I4("limit",n,"F")}(e)))}catch(t){throw Ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yo(this.firestore,Qf(this._delegate,function jee(n){return u4("limitToLast",n),new I4("limitToLast",n,"L")}(e)))}catch(t){throw Ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yo(this.firestore,Qf(this._delegate,function Hee(...n){return new A4("startAt",n,!0)}(...e)))}catch(t){throw Ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yo(this.firestore,Qf(this._delegate,function Gee(...n){return new A4("startAfter",n,!1)}(...e)))}catch(t){throw Ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yo(this.firestore,Qf(this._delegate,function $ee(...n){return new N4("endBefore",n,!1)}(...e)))}catch(t){throw Ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yo(this.firestore,Qf(this._delegate,function zee(...n){return new N4("endAt",n,!0)}(...e)))}catch(t){throw Ko(t,"endAt()","Query.endAt()")}}isEqual(e){return p4(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Jee(n){n=Ln(n,go);const e=Ln(n.firestore,qi),t=Lr(e),i=new tm(e);return function cee(n,e){const t=new hs;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(i=(0,Pe.Z)(function*(r,s,l){try{const d=yield cI(r,s,!0),f=new z$(s,d.ji),g=f.Ku(d.documents),b=f.applyChanges(g,!1);l.resolve(b.snapshot)}catch(d){const f=Hy(d,`Failed to execute query '${s} against cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield _I(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate):"server"===e?.source?function Xee(n){n=Ln(n,go);const e=Ln(n.firestore,qi),t=Lr(e),i=new tm(e);return s4(t,n._query,{source:"server"}).then(r=>new Yf(e,i,n,r))}(this._delegate):function Qee(n){n=Ln(n,go);const e=Ln(n.firestore,qi),t=Lr(e),i=new tm(e);return S4(n._query),s4(t,n._query).then(r=>new Yf(e,i,n,r))}(this._delegate),t.then(i=>new jF(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=$4(e),i=z4(e,r=>new jF(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return L4(this._delegate,t,i)}withConverter(e){return new Yo(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}class gte{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new gte(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new uC(this._firestore,i))})}isEqual(e){return T4(this._delegate,e._delegate)}}class Zy extends Yo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new lc(this.firestore,e):null}doc(e){try{return new lc(this.firestore,void 0===e?vI(this._delegate):vI(this._delegate,e))}catch(t){throw Ko(t,"doc()","CollectionReference.doc()")}}add(e){return function tte(n,e){const t=Ln(n.firestore,qi),i=vI(n),r=SI(n.converter,e);return qy(t,[CI(Jg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ir.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new lc(this.firestore,t))}isEqual(e){return f4(this._delegate,e._delegate)}withConverter(e){return new Zy(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}function im(n){return Ln(n,Bi)}class HF{constructor(...e){this._delegate=new Eh(...e)}static documentId(){return new HF(pr.keyField().canonicalString())}isEqual(e){return(e=(0,U.m9)(e))instanceof Eh&&this._delegate._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ote(){return new kF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rm(e)}static delete(){const e=function ste(){return new rC("deleteField")}();return e._methodName="FieldValue.delete",new rm(e)}static arrayUnion(...e){const t=function ate(...n){return new xee("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new rm(t)}static arrayRemove(...e){const t=function lte(...n){return new Oee("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new rm(t)}static increment(e){const t=function cte(n){return new kee("increment",n)}(e);return t._methodName="FieldValue.increment",new rm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const mte={Firestore:j4,GeoPoint:bI,Timestamp:Wi,Blob:lC,Transaction:H4,WriteBatch:G4,DocumentReference:lc,DocumentSnapshot:cC,Query:Yo,QueryDocumentSnapshot:uC,QuerySnapshot:jF,CollectionReference:Zy,FieldPath:HF,FieldValue:rm,setLogLevel:function pte(n){!function hQ(n){Lf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function W4(n,e){return function vte(n,e=eu.z){return new $i.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function GF(n,e){return W4(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function AI(n,e){return GF(n,e).pipe(jl(void 0),YR(),(0,Dt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,d)=>{const f=r.find(b=>b.doc.ref.isEqual(l.ref)),g=t?.payload.docs.find(b=>b.ref.isEqual(l.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(l.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),s}))}function q4(n,e,t){return AI(n,t).pipe(qd((i,r)=>function wte(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Cte(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $F(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $F(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $F(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Gp(),(0,Dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function $F(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Z4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function yte(n){(function _te(n,e){n.INTERNAL.registerComponent(new fu.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},mte)))})(n,(e,t)=>new j4(e,t,new fte)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(LR.Z);class K4{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=AI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(jl(void 0),YR(),nr(([i,r])=>r.length>0||!i),(0,Dt.U)(([i,r])=>r),Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Z4(e);return q4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return GF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Wn.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(Wn.iC)}add(e){return this.ref.add(e)}doc(e){return new Y4(this.ref.doc(e),this.afs)}}class Y4{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=X4(i,t);return new K4(r,s,this.afs)}snapshotChanges(){return function bte(n,e){return W4(n,e).pipe(jl(void 0),YR(),(0,Dt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xn.D)(this.ref.get(e)).pipe(Wn.iC)}}class Ete{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),nr(t=>t.length>0),Wn.iC):AI(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Z4(e);return q4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return GF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Wn.iC)}get(e){return(0,Xn.D)(this.query.get(e)).pipe(Wn.iC)}}const Q4=new u.OlP("angularfire2.enableFirestorePersistence"),J4=new u.OlP("angularfire2.firestore.persistenceSettings"),Dte=new u.OlP("angularfire2.firestore.settings"),Tte=new u.OlP("angularfire2.firestore.use-emulator");function X4(n,e=(t=>t)){return{query:e(n),ref:n}}let Ste=(()=>{class n{constructor(t,i,r,s,l,d,f,g,b,E,O,M,V,z,ne,be,Se){this.schedulers=f;const Fe=(0,Zr.on)(t,d,i),Me=b;E&&uR(Fe,d,O,V,z,ne,M,be),[this.firestore,this.persistenceEnabled$]=(0,Zr.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const Je=d.runOutsideAngular(()=>Fe.firestore());if(s&&Je.settings(s),Me&&Je.useEmulator(...Me),r&&!Tl(l)){const rt=()=>{try{return(0,Xn.D)(Je.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(bt){return typeof console<"u"&&console.warn(bt),It(!1)}};return[Je,d.runOutsideAngular(rt)]}return[Je,It(!1)]},[s,Me,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=X4(r,i),d=this.schedulers.ngZone.run(()=>s);return new K4(d,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new Ete(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Y4(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zr.Dh),u.LFG(Zr.xv,8),u.LFG(Q4,8),u.LFG(Dte,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wn.HU),u.LFG(J4,8),u.LFG(Tte,8),u.LFG(Jb,8),u.LFG(rR,8),u.LFG(sR,8),u.LFG(oR,8),u.LFG(aR,8),u.LFG(lR,8),u.LFG(cR,8),u.LFG(Qb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ite=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Q4,useValue:!0},{provide:J4,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ste]}),n})();const e5="@firebase/database";let zF="";function n5(n){zF=n}class Nte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const i5=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nte(e)}}catch{}return new xte},sm=i5("localStorage"),WF=i5("sessionStorage"),Ky=new hu.Yd("@firebase/database"),r5=function(){let n=1;return function(){return n++}}(),s5=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const i=t.digest();return U.US.encodeByteArray(i)},dC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=dC.apply(null,i):e+="object"==typeof i?(0,U.Pz)(i):i,e+=" "}return e};let om=null,o5=!0;const a5=function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ky.logLevel=hu.in.VERBOSE,om=Ky.log.bind(Ky),e&&WF.set("logging_enabled",!0)):"function"==typeof n?om=n:(om=null,WF.remove("logging_enabled"))},ms=function(...n){if(!0===o5&&(o5=!1,null===om&&!0===WF.get("logging_enabled")&&a5(!0)),om){const e=dC.apply(null,n);om(e)}},hC=function(n){return function(...e){ms(n,...e)}},qF=function(...n){const e="FIREBASE INTERNAL ERROR: "+dC(...n);Ky.error(e)},pd=function(...n){const e=`FIREBASE FATAL ERROR: ${dC(...n)}`;throw Ky.error(e),new Error(e)},mo=function(...n){const e="FIREBASE WARNING: "+dC(...n);Ky.warn(e)},NI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Th="[MIN_NAME]",gd="[MAX_NAME]",am=function(n,e){if(n===e)return 0;if(n===Th||e===gd)return-1;if(e===Th||n===gd)return 1;{const t=xI(n),i=xI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Rte=function(n,e){return n===e?0:n<e?-1:1},fC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Pz)(e))},ZF=function(n){if("object"!=typeof n||null===n)return(0,U.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,U.Pz)(e[i]),t+=":",t+=ZF(n[e[i]]);return t+="}",t},l5=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function _s(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const c5=function(n){(0,U.hu)(!NI(n),"Invalid JSON number");const i=1023;let r,s,l,d,f;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const g=[];for(f=52;f;f-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)g.push(s%2?1:0),s=Math.floor(s/2);g.push(r?1:0),g.reverse();const b=g.join("");let E="";for(f=0;f<64;f+=8){let O=parseInt(b.substr(f,8),2).toString(16);1===O.length&&(O="0"+O),E+=O}return E.toLowerCase()},Lte=new RegExp("^-?(0*)\\d{1,10}$"),u5=-2147483648,KF=2147483647,xI=function(n){if(Lte.test(n)){const e=Number(n);if(e>=u5&&e<=KF)return e}return null},Yy=function(n){try{n()}catch(e){setTimeout(()=>{throw mo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},pC=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Vte{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ute{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ms("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mo(e)}}let gC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const g5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y5="websocket",v5="long_polling";class QF{constructor(e,t,i,r,s=!1,l="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function b5(n,e,t){let i;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===y5)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==v5)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function jte(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return _s(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class Hte{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const JF={},XF={};function eL(n){const e=n.toString();return JF[e]||(JF[e]=new Hte),JF[e]}class $te{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Yy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xf{constructor(e,t,i,r,s,l,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hC(e),this.stats_=eL(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),b5(t,v5,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $te(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tL((...s)=>{const[l,d,f,g,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&g5.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xf.forceAllow_=!0}static forceDisallow(){Xf.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Xf.forceAllow_&&(Xf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,U.h$)(t),r=l5(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=r5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=tL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){ms("frame writing exception"),d.stack&&ms(d.stack),ms(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ms("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ms("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kI=null;typeof MozWebSocket<"u"?kI=MozWebSocket:typeof WebSocket<"u"&&(kI=WebSocket);let Qy=(()=>{class n{constructor(t,i,r,s,l,d,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hC(this.connId),this.stats_=eL(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const d={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&g5.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),l&&(d.p=l),b5(t,y5,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sm.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){r={headers:{"User-Agent":`Firebase/5/${zF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new kI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==kI&&!n.forceDisallow_}static previouslyFailed(){return sm.isInMemoryStorage||!0===sm.get("previous_websocket_failure")}markConnectionHealthy(){sm.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,U.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=l5(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),I5=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Xf,Qy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Qy&&Qy.isAvailable();let r=i&&!Qy.previouslyFailed();if(t.webSocketOnly&&(i||mo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qy];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class M5{constructor(e,t,i,r,s,l,d,f,g,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hC("c:"+this.id+":"),this.transportManager_=new I5(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=pC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=fC("t",e),i=fC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=fC("t",e),i=fC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=fC("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?qF("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qF("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&mo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),pC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class P5{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class F5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class RI extends F5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RI}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ei{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function qn(){return new ei("")}function In(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ep(n){return n.pieces_.length-n.pieceNum_}function bi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ei(n.pieces_,e)}function iL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function mC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function V5(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ei(e,0)}function Zi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ei)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ei(t,0)}function An(n){return n.pieceNum_>=n.pieces_.length}function Qo(n,e){const t=In(n),i=In(e);if(null===t)return e;if(t===i)return Qo(bi(n),bi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function hne(n,e){const t=mC(n,0),i=mC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=am(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function rL(n,e){if(ep(n)!==ep(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function cc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ep(n)>ep(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class fne{constructor(e,t){this.errorPrefix_=t,this.parts_=mC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);U5(this)}}function U5(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lm(n))}function lm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class sL extends F5{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new sL}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const _C=1e3;let PI,cm=(()=>{class n extends P5{constructor(t,i,r,s,l,d,f,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=hC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_C,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&RI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,U.Pz)(l)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new U.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,f=>{const g=f.d,b=f.s;n.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,g))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const r=(0,U.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();mo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,U.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,d=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const d={p:i,d:r};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):qF("Unrecognized action received from server: "+(0,U.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_C),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Pe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let f=!1,g=null;const b=function(){g?g.close():(f=!0,s())};t.realtime_={close:b,sendRequest:function(M){(0,U.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(M)}};const O=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[M,V]=yield Promise.all([t.authTokenProvider_.getToken(O),t.appCheckTokenProvider_.getToken(O)]);f?ms("getToken() completed but was canceled"):(ms("getToken() completed. Creating connection."),t.authToken_=M&&M.accessToken,t.appCheckToken_=V&&V.token,g=new M5(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,z=>{mo(z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(M){t.log_("Failed to get token: "+M),f||(t.repoInfo_.nodeAdmin&&mo(M),b())}}})()}interrupt(t){ms("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ms("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_C,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>ZF(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ei(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){ms("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ms("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+zF.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=RI.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xn(e,t)}}class MI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xn(Th,e),r=new xn(Th,t);return 0!==this.compare(i,r)}minPost(){return xn.MIN}}class G5 extends MI{static get __EMPTY_NODE(){return PI}static set __EMPTY_NODE(e){PI=e}compare(e,t){return am(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xn.MIN}maxPost(){return new xn(gd,PI)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new xn(e,PI)}toString(){return".key"}}const md=new G5;class FI{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let aL,_u=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Va.EMPTY_NODE,this.right=l??Va.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Va.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Va.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Va{constructor(e,t=Va.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Va(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,_u.BLACK,null,null))}remove(e){return new Va(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_u.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new FI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new FI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new FI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new FI(this.root_,null,this.comparator_,!0,e)}}function wne(n,e){return am(n.name,e.name)}function oL(n,e){return am(n,e)}Va.EMPTY_NODE=new class bne{copy(e,t,i,r,s){return this}insert(e,t,i){return new _u(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $5=function(n){return"number"==typeof n?"number:"+c5(n):"string:"+n},z5=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===aL||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===aL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W5,q5,Z5,Jy=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),z5(this.priorityNode_)}static set __childrenNodeConstructor(t){W5=t}static get __childrenNodeConstructor(){return W5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return An(t)?this:".priority"===In(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=In(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===ep(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(bi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$5(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?c5(this.value_):this.value_,this.lazyHash_=s5(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(s>=0,"Unknown leaf type: "+i),(0,U.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xi=new class Tne extends MI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?am(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xn.MIN}maxPost(){return new xn(gd,new Jy("[PRIORITY-POST]",Z5))}makePost(e,t){const i=q5(e);return new xn(t,new Jy("[PRIORITY-POST]",i))}toString(){return".priority"}},Sne=Math.log(2);class Ine{constructor(e){this.count=parseInt(Math.log(e+1)/Sne,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const LI=function(n,e,t,i){n.sort(e);const r=function(f,g){const b=g-f;let E,O;if(0===b)return null;if(1===b)return E=n[f],O=t?t(E):E,new _u(O,E.node,_u.BLACK,null,null);{const M=parseInt(b/2,10)+f,V=r(f,M),z=r(M+1,g);return E=n[M],O=t?t(E):E,new _u(O,E.node,_u.BLACK,V,z)}},d=function(f){let g=null,b=null,E=n.length;const O=function(V,z){const ne=E-V,be=E;E-=V;const Se=r(ne+1,be),Fe=n[ne],Me=t?t(Fe):Fe;M(new _u(Me,Fe.node,z,null,Se))},M=function(V){g?(g.left=V,g=V):(b=V,g=V)};for(let V=0;V<f.count;++V){const z=f.nextBitIsOne(),ne=Math.pow(2,f.count-(V+1));z?O(ne,_u.BLACK):(O(ne,_u.BLACK),O(ne,_u.RED))}return b}(new Ine(n.length));return new Va(i||e,d)};let lL;const Xy={};class Sh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(Xy&&xi,"ChildrenNode.ts has not been loaded"),lL=lL||new Sh({".priority":Xy},{".priority":xi}),lL}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Va?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==md,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(xn.Wrap);let d,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();d=r?LI(i,e.getCompare()):Xy;const f=e.toString(),g=Object.assign({},this.indexSet_);g[f]=e;const b=Object.assign({},this.indexes_);return b[f]=d,new Sh(b,g)}addToIndexes(e,t){const i=(0,U.UI)(this.indexes_,(r,s)=>{const l=(0,U.DV)(this.indexSet_,s);if((0,U.hu)(l,"Missing index implementation for "+s),r===Xy){if(l.isDefinedOn(e.node)){const d=[],f=t.getIterator(xn.Wrap);let g=f.getNext();for(;g;)g.name!==e.name&&d.push(g),g=f.getNext();return d.push(e),LI(d,l.getCompare())}return Xy}{const d=t.get(e.name);let f=r;return d&&(f=f.remove(new xn(e.name,d))),f.insert(e,e.node)}});return new Sh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,U.UI)(this.indexes_,r=>{if(r===Xy)return r;{const s=t.get(e.name);return s?r.remove(new xn(e.name,s)):r}});return new Sh(i,this.indexSet_)}}let yC,_n=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&z5(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yC||(yC=new n(new Va(oL),null,Sh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?yC:i}}getChild(t){const i=In(t);return null===i?this:this.getImmediateChild(i).getChild(bi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new xn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?yC:this.priorityNode_;return new n(s,d,l)}}updateChild(t,i){const r=In(t);if(null===r)return i;{(0,U.hu)(".priority"!==In(t)||1===ep(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(bi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(xi,(d,f)=>{i[d]=f.val(t),r++,l&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):l=!1}),!t&&l&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$5(this.getPriority().val())+":"),this.forEachChild(xi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":s5(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new xn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new xn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new xn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vC?-1:0}withIndex(t){if(t===md||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===md||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(xi),s=i.getIterator(xi);let l=r.getNext(),d=s.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=r.getNext(),d=s.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(t){return t===md?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vC=new class Ane extends _n{constructor(){super(new Va(oL),_n.EMPTY_NODE,Sh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _n.EMPTY_NODE}isEmpty(){return!1}};function rr(n,e=null){if(null===n)return _n.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Jy(n,rr(e));if(n instanceof Array){let t=_n.EMPTY_NODE;return _s(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const s=rr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(rr(e))}{const t=[];let i=!1;if(_s(n,(l,d)=>{if("."!==l.substring(0,1)){const f=rr(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new xn(l,f)))}}),0===t.length)return _n.EMPTY_NODE;const s=LI(t,wne,l=>l.name,oL);if(i){const l=LI(t,xi.getCompare());return new _n(s,rr(e),new Sh({".priority":l},{".priority":xi}))}return new _n(s,rr(e),Sh.Default)}}Object.defineProperties(xn,{MIN:{value:new xn(Th,_n.EMPTY_NODE)},MAX:{value:new xn(gd,vC)}}),G5.__EMPTY_NODE=_n.EMPTY_NODE,Jy.__childrenNodeConstructor=_n,function Cne(n){aL=n}(vC),function Dne(n){Z5=n}(vC),function Ene(n){q5=n}(rr);class cL extends MI{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!An(e)&&".priority"!==In(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?am(e.name,t.name):s}makePost(e,t){const i=rr(e),r=_n.EMPTY_NODE.updateChild(this.indexPath_,i);return new xn(t,r)}maxPost(){const e=_n.EMPTY_NODE.updateChild(this.indexPath_,vC);return new xn(gd,e)}toString(){return mC(this.indexPath_,0).join("/")}}const uL=new class xne extends MI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?am(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xn.MIN}maxPost(){return xn.MAX}makePost(e,t){const i=rr(e);return new xn(t,i)}toString(){return".value"}},ev="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",One=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=ev.charAt(t%64),t=Math.floor(t/64);(0,U.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=ev.charAt(e[r]);return(0,U.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),Q5=function(n){if(n===""+KF)return"-";const e=xI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let l=0;l<t.length;l++)t[l]=n.charAt(l);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return gd;const s=ev.charAt(ev.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},J5=function(n){if(n===""+u5)return Th;const e=xI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+KF:(delete t[t.length-1],t.join("")):(t[t.length-1]=ev.charAt(ev.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function X5(n){return{type:"value",snapshotNode:n}}function tv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function bC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function wC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class hL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(bC(t,d)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?l.trackChildChange(tv(t,i)):l.trackChildChange(wC(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(xi,(r,s)=>{t.hasChild(r)||i.trackChildChange(bC(r,s))}),t.isLeafNode()||t.forEachChild(xi,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(wC(r,s,l))}else i.trackChildChange(tv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?_n.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class CC{constructor(e){this.indexedFilter_=new hL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=CC.getStartPost_(e),this.endPost_=CC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,l){return this.matches(new xn(t,i))||(i=_n.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=_n.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(_n.EMPTY_NODE);const s=this;return t.forEachChild(xi,(l,d)=>{s.matches(new xn(l,d))||(r=r.updateImmediateChild(l,_n.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Rne{constructor(e){this.rangedFilter_=new CC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new xn(t,i))||(i=_n.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=_n.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=_n.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const d=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),l++}}else{let s,l,d,f;if(r=t.withIndex(this.index_),r=r.updatePriority(_n.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(O,M)=>E(M,O)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let g=0,b=!1;for(;f.hasNext();){const E=f.getNext();!b&&d(s,E)<=0&&(b=!0),b&&g<this.limit_&&d(E,l)<=0?g++:r=r.updateImmediateChild(E.name,_n.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const E=this.index_.getCompare();l=(O,M)=>E(M,O)}else l=this.index_.getCompare();const d=e;(0,U.hu)(d.numChildren()===this.limit_,"");const f=new xn(t,i),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(d.hasChild(t)){const E=d.getImmediateChild(t);let O=r.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=O&&(O.name===t||d.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const M=null==O?1:l(O,f);if(b&&!i.isEmpty()&&M>=0)return s?.trackChildChange(wC(t,i,E)),d.updateImmediateChild(t,i);{s?.trackChildChange(bC(t,E));const z=d.updateImmediateChild(t,_n.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(s?.trackChildChange(tv(O.name,O.node)),z.updateImmediateChild(O.name,O.node)):z}}return i.isEmpty()?e:b&&l(g,f)>=0?(null!=s&&(s.trackChildChange(bC(g.name,g.node)),s.trackChildChange(tv(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(g.name,_n.EMPTY_NODE)):e}}class BI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Th}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xi}copy(){const e=new BI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function pL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function VI(n,e){const t=n.copy();return t.index_=e,t}function ez(n){const e={};if(n.isDefault())return e;let t;return n.index_===xi?t="$priority":n.index_===uL?t="$value":n.index_===md?t="$key":((0,U.hu)(n.index_ instanceof cL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Pz)(t),n.startSet_&&(e.startAt=(0,U.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,U.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,U.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,U.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function tz(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==xi&&(e.i=n.index_.toString()),e}class UI extends P5{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=UI.getListenId_(e,i),d={};this.listens_[l]=d;const f=ez(e._queryParams);this.restRequest_(s+".json",f,(g,b)=>{let E=b;if(404===g&&(E=null,g=null),null===g&&this.onDataUpdate_(s,E,!1,i),(0,U.DV)(this.listens_,l)===d){let O;O=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(O,null)}})}unlisten(e,t){const i=UI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=ez(e._queryParams),i=e._path.toString(),r=new U.BH;return this.restRequest_(i+".json",t,(s,l)=>{let d=l;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,U.cI)(d.responseText)}catch{mo("Failed to parse JSON response for "+l+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&mo("Got unsuccessful REST response for "+l+" Status: "+d.status),i(d.status);i=null}},d.open("GET",l,!0),d.send()})}}class Vne{constructor(){this.rootNode_=_n.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jI(){return{value:null,children:new Map}}function nv(n,e,t){if(An(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=In(e);n.children.has(i)||n.children.set(i,jI()),nv(n.children.get(i),e=bi(e),t)}}function gL(n,e){if(An(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(xi,(i,r)=>{nv(n,new ei(i),r)}),gL(n,e)}}if(n.children.size>0){const t=In(e);return e=bi(e),n.children.has(t)&&gL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function mL(n,e,t){null!==n.value?t(e,n.value):function Une(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{mL(r,new ei(e.toString()+"/"+i),t)})}class jne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&_s(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class $ne{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jne(e);const i=1e4+2e4*Math.random();pC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;_s(e,(r,s)=>{s>0&&(0,U.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),pC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var uc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(uc||(uc={})),uc))();function vL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class HI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=uc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(An(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ei(e));return new HI(qn(),t,this.revert)}}return(0,U.hu)(In(this.path)===e,"operationForChild called for unrelated child."),new HI(bi(this.path),this.affectedTree,this.revert)}}class EC{constructor(e,t){this.source=e,this.path=t,this.type=uc.LISTEN_COMPLETE}operationForChild(e){return An(this.path)?new EC(this.source,qn()):new EC(this.source,bi(this.path))}}class um{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=uc.OVERWRITE}operationForChild(e){return An(this.path)?new um(this.source,qn(),this.snap.getImmediateChild(e)):new um(this.source,bi(this.path),this.snap)}}class iv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=uc.MERGE}operationForChild(e){if(An(this.path)){const t=this.children.subtree(new ei(e));return t.isEmpty()?null:t.value?new um(this.source,qn(),t.value):new iv(this.source,qn(),t)}return(0,U.hu)(In(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new iv(this.source,bi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(An(e))return this.isFullyInitialized()&&!this.filtered_;const t=In(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class zne{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function DC(n,e,t,i,r,s){const l=i.filter(d=>d.type===t);l.sort((d,f)=>function Zne(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new xn(e.childName,e.snapshotNode),r=new xn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),l.forEach(d=>{const f=function qne(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(g=>{g.respondsTo(d.type)&&e.push(g.createEvent(f,n.query_))})})}function GI(n,e){return{eventCache:n,serverCache:e}}function TC(n,e,t,i){return GI(new tp(e,t,i),n.serverCache)}function iz(n,e,t,i){return GI(n.eventCache,new tp(e,t,i))}function $I(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let bL;class Oi{constructor(e,t=(()=>(bL||(bL=new Va(Rte)),bL))()){this.value=e,this.children=t}static fromObject(e){let t=new Oi(null);return _s(e,(i,r)=>{t=t.set(new ei(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:qn(),value:this.value};if(An(e))return null;{const i=In(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(bi(e),t);return null!=s?{path:Zi(new ei(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(An(e))return this;{const t=In(e),i=this.children.get(t);return null!==i?i.subtree(bi(e)):new Oi(null)}}set(e,t){if(An(e))return new Oi(t,this.children);{const i=In(e),s=(this.children.get(i)||new Oi(null)).set(bi(e),t),l=this.children.insert(i,s);return new Oi(this.value,l)}}remove(e){if(An(e))return this.children.isEmpty()?new Oi(null):new Oi(null,this.children);{const t=In(e),i=this.children.get(t);if(i){const r=i.remove(bi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Oi(null):new Oi(this.value,s)}return this}}get(e){if(An(e))return this.value;{const t=In(e),i=this.children.get(t);return i?i.get(bi(e)):null}}setTree(e,t){if(An(e))return t;{const i=In(e),s=(this.children.get(i)||new Oi(null)).setTree(bi(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Oi(this.value,l)}}fold(e){return this.fold_(qn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Zi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,qn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(An(e))return null;{const s=In(e),l=this.children.get(s);return l?l.findOnPath_(bi(e),Zi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,qn(),t)}foreachOnPath_(e,t,i){if(An(e))return this;{this.value&&i(t,this.value);const r=In(e),s=this.children.get(r);return s?s.foreachOnPath_(bi(e),Zi(t,r),i):new Oi(null)}}foreach(e){this.foreach_(qn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Zi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class yu{constructor(e){this.writeTree_=e}static empty(){return new yu(new Oi(null))}}function SC(n,e,t){if(An(e))return new yu(new Oi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=Qo(r,e);return s=s.updateChild(l,t),new yu(n.writeTree_.set(r,s))}{const r=new Oi(t),s=n.writeTree_.setTree(e,r);return new yu(s)}}}function wL(n,e,t){let i=n;return _s(t,(r,s)=>{i=SC(i,Zi(e,r),s)}),i}function rz(n,e){if(An(e))return yu.empty();{const t=n.writeTree_.setTree(e,new Oi(null));return new yu(t)}}function CL(n,e){return null!=hm(n,e)}function hm(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Qo(t.path,e)):null}function sz(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xi,(i,r)=>{e.push(new xn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new xn(i,r.value))}),e}function np(n,e){if(An(e))return n;{const t=hm(n,e);return new yu(null!=t?new Oi(t):n.writeTree_.subtree(e))}}function EL(n){return n.writeTree_.isEmpty()}function rv(n,e){return oz(qn(),n.writeTree_,e)}function oz(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,U.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=oz(Zi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Zi(n,".priority"),i)),t}}function zI(n,e){return dz(e,n)}function eie(n,e){if(n.snap)return cc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&cc(Zi(n.path,t),e))return!0;return!1}function nie(n){return n.visible}function az(n,e,t){let i=yu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let d;if(s.snap)cc(t,l)?(d=Qo(t,l),i=SC(i,d,s.snap)):cc(l,t)&&(d=Qo(l,t),i=SC(i,qn(),s.snap.getChild(d)));else{if(!s.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(cc(t,l))d=Qo(t,l),i=wL(i,d,s.children);else if(cc(l,t))if(d=Qo(l,t),An(d))i=wL(i,qn(),s.children);else{const f=(0,U.DV)(s.children,In(d));if(f){const g=f.getChild(bi(d));i=SC(i,qn(),g)}}}}}return i}function lz(n,e,t,i,r){if(i||r){const s=np(n.visibleWrites,e);return!r&&EL(s)?t:r||null!=t||CL(s,qn())?rv(az(n.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(cc(g.path,e)||cc(e,g.path))},e),t||_n.EMPTY_NODE):null}{const s=hm(n.visibleWrites,e);if(null!=s)return s;{const l=np(n.visibleWrites,e);return EL(l)?t:null!=t||CL(l,qn())?rv(l,t||_n.EMPTY_NODE):null}}}function WI(n,e,t,i){return lz(n.writeTree,n.treePath,e,t,i)}function DL(n,e){return function iie(n,e,t){let i=_n.EMPTY_NODE;const r=hm(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(xi,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=np(n.visibleWrites,e);return t.forEachChild(xi,(l,d)=>{const f=rv(np(s,new ei(l)),d);i=i.updateImmediateChild(l,f)}),sz(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return sz(np(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function cz(n,e,t,i){return function rie(n,e,t,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Zi(e,t);if(CL(n.visibleWrites,s))return null;{const l=np(n.visibleWrites,s);return EL(l)?r.getChild(t):rv(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function qI(n,e){return function oie(n,e){return hm(n.visibleWrites,e)}(n.writeTree,Zi(n.treePath,e))}function TL(n,e,t){return function sie(n,e,t,i){const r=Zi(e,t),s=hm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?rv(np(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function uz(n,e){return dz(Zi(n.treePath,e),n.writeTree)}function dz(n,e){return{treePath:n,writeTree:e}}class uie{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,wC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,bC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,tv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,wC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const hz=new class die{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class SL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new tp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dm(this.viewCache_),s=function cie(n,e,t,i,r,s){return function aie(n,e,t,i,r,s,l){let d;const f=np(n.visibleWrites,e),g=hm(f,qn());if(null!=g)d=g;else{if(null==t)return[];d=rv(f,t)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const b=[],E=l.getCompare(),O=s?d.getReverseIteratorFrom(i,l):d.getIteratorFrom(i,l);let M=O.getNext();for(;M&&b.length<r;)0!==E(M,i)&&b.push(M),M=O.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function fz(n,e,t,i,r,s){const l=e.eventCache;if(null!=qI(i,t))return e;{let d,f;if(An(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=dm(e),E=DL(i,g instanceof _n?g:_n.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),E,s)}else{const g=WI(i,dm(e));d=n.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const g=In(t);if(".priority"===g){(0,U.hu)(1===ep(t),"Can't have a priority with additional path components");const b=l.getNode();f=e.serverCache.getNode();const E=cz(i,t,b,f);d=null!=E?n.filter.updatePriority(b,E):l.getNode()}else{const b=bi(t);let E;if(l.isCompleteForChild(g)){f=e.serverCache.getNode();const O=cz(i,t,l.getNode(),f);E=null!=O?l.getNode().getImmediateChild(g).updateChild(b,O):l.getNode().getImmediateChild(g)}else E=TL(i,g,e.serverCache);d=null!=E?n.filter.updateChild(l.getNode(),g,E,b,r,s):l.getNode()}}return TC(e,d,l.isFullyInitialized()||An(t),n.filter.filtersNodes())}}function ZI(n,e,t,i,r,s,l,d){const f=e.serverCache;let g;const b=l?n.filter:n.filter.getIndexedFilter();if(An(t))g=b.updateFullNode(f.getNode(),i,null);else if(b.filtersNodes()&&!f.isFiltered()){const M=f.getNode().updateChild(t,i);g=b.updateFullNode(f.getNode(),M,null)}else{const M=In(t);if(!f.isCompleteForPath(t)&&ep(t)>1)return e;const V=bi(t),ne=f.getNode().getImmediateChild(M).updateChild(V,i);g=".priority"===M?b.updatePriority(f.getNode(),ne):b.updateChild(f.getNode(),M,ne,V,hz,null)}const E=iz(e,g,f.isFullyInitialized()||An(t),b.filtersNodes());return fz(n,E,t,r,new SL(r,E,s),d)}function IL(n,e,t,i,r,s,l){const d=e.eventCache;let f,g;const b=new SL(r,e,s);if(An(t))g=n.filter.updateFullNode(e.eventCache.getNode(),i,l),f=TC(e,g,!0,n.filter.filtersNodes());else{const E=In(t);if(".priority"===E)g=n.filter.updatePriority(e.eventCache.getNode(),i),f=TC(e,g,d.isFullyInitialized(),d.isFiltered());else{const O=bi(t),M=d.getNode().getImmediateChild(E);let V;if(An(O))V=i;else{const z=b.getCompleteChild(E);V=null!=z?".priority"===iL(O)&&z.getChild(V5(O)).isEmpty()?z:z.updateChild(O,i):_n.EMPTY_NODE}f=M.equals(V)?e:TC(e,n.filter.updateChild(d.getNode(),E,V,O,b,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function pz(n,e){return n.eventCache.isCompleteForChild(e)}function gz(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function AL(n,e,t,i,r,s,l,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,f=e;g=An(t)?i:new Oi(null).setTree(t,i);const b=e.serverCache.getNode();return g.children.inorderTraversal((E,O)=>{if(b.hasChild(E)){const V=gz(0,e.serverCache.getNode().getImmediateChild(E),O);f=ZI(n,f,new ei(E),V,r,s,l,d)}}),g.children.inorderTraversal((E,O)=>{const M=!e.serverCache.isCompleteForChild(E)&&void 0===O.value;if(!b.hasChild(E)&&!M){const z=gz(0,e.serverCache.getNode().getImmediateChild(E),O);f=ZI(n,f,new ei(E),z,r,s,l,d)}}),f}class bie{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new hL(i.getIndex()),s=function Mne(n){return n.loadsAllData()?new hL(n.getIndex()):n.hasLimit()?new Rne(n):new CC(n)}(i);this.processor_=function hie(n){return{filter:n}}(s);const l=t.serverCache,d=t.eventCache,f=r.updateFullNode(_n.EMPTY_NODE,l.getNode(),null),g=s.updateFullNode(_n.EMPTY_NODE,d.getNode(),null),b=new tp(f,l.isFullyInitialized(),r.filtersNodes()),E=new tp(g,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=GI(E,b),this.eventGenerator_=new zne(this.query_)}get query(){return this.query_}}function Eie(n,e){const t=dm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!An(e)&&!t.getImmediateChild(In(e)).isEmpty())?t.getChild(e):null}function mz(n){return 0===n.eventRegistrations_.length}function _z(n,e,t){const i=[];if(t){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function yz(n,e,t,i){e.type===uc.MERGE&&null!==e.source.queryId&&((0,U.hu)(dm(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)($I(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function pie(n,e,t,i,r){const s=new uie;let l,d;if(t.type===uc.OVERWRITE){const g=t;g.source.fromUser?l=IL(n,e,g.path,g.snap,i,r,s):((0,U.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered()&&!An(g.path),l=ZI(n,e,g.path,g.snap,i,r,d,s))}else if(t.type===uc.MERGE){const g=t;g.source.fromUser?l=function mie(n,e,t,i,r,s,l){let d=e;return i.foreach((f,g)=>{const b=Zi(t,f);pz(e,In(b))&&(d=IL(n,d,b,g,r,s,l))}),i.foreach((f,g)=>{const b=Zi(t,f);pz(e,In(b))||(d=IL(n,d,b,g,r,s,l))}),d}(n,e,g.path,g.children,i,r,s):((0,U.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||e.serverCache.isFiltered(),l=AL(n,e,g.path,g.children,i,r,d,s))}else if(t.type===uc.ACK_USER_WRITE){const g=t;l=g.revert?function vie(n,e,t,i,r,s){let l;if(null!=qI(i,t))return e;{const d=new SL(i,e,r),f=e.eventCache.getNode();let g;if(An(t)||".priority"===In(t)){let b;if(e.serverCache.isFullyInitialized())b=WI(i,dm(e));else{const E=e.serverCache.getNode();(0,U.hu)(E instanceof _n,"serverChildren would be complete if leaf node"),b=DL(i,E)}g=n.filter.updateFullNode(f,b,s)}else{const b=In(t);let E=TL(i,b,e.serverCache);null==E&&e.serverCache.isCompleteForChild(b)&&(E=f.getImmediateChild(b)),g=null!=E?n.filter.updateChild(f,b,E,bi(t),d,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(f,b,_n.EMPTY_NODE,bi(t),d,s):f,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=WI(i,dm(e)),l.isLeafNode()&&(g=n.filter.updateFullNode(g,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=qI(i,qn()),TC(e,g,l,n.filter.filtersNodes())}}(n,e,g.path,i,r,s):function _ie(n,e,t,i,r,s,l){if(null!=qI(r,t))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(An(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return ZI(n,e,t,f.getNode().getChild(t),r,s,d,l);if(An(t)){let g=new Oi(null);return f.getNode().forEachChild(md,(b,E)=>{g=g.set(new ei(b),E)}),AL(n,e,t,g,r,s,d,l)}return e}{let g=new Oi(null);return i.foreach((b,E)=>{const O=Zi(t,b);f.isCompleteForPath(O)&&(g=g.set(b,f.getNode().getChild(O)))}),AL(n,e,t,g,r,s,d,l)}}(n,e,g.path,g.affectedTree,i,r,s)}else{if(t.type!==uc.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);l=function yie(n,e,t,i,r){const s=e.serverCache;return fz(n,iz(e,s.getNode(),s.isFullyInitialized()||An(t),s.isFiltered()),t,i,hz,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function gie(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$I(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(X5($I(e)))}}(e,l,f),{viewCache:l,changes:f}}(n.processor_,r,e,t,i);return function fie(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,U.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,vz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function vz(n,e,t,i){return function Wne(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function kne(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),DC(n,r,"child_removed",e,i,t),DC(n,r,"child_added",e,i,t),DC(n,r,"child_moved",s,i,t),DC(n,r,"child_changed",e,i,t),DC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let KI,QI;class bz{constructor(){this.views=new Map}}function NL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,U.hu)(null!=s,"SyncTree gave us an op for an invalid query."),yz(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(yz(l,e,t,i));return s}}function xL(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let d=WI(t,r?i:null),f=!1;d?f=!0:i instanceof _n?(d=DL(t,i),f=!1):(d=_n.EMPTY_NODE,f=!1);const g=GI(new tp(d,f,!1),new tp(i,r,!1));return new bie(e,g)}return l}function wz(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ip(n,e){let t=null;for(const i of n.views.values())t=t||Eie(i,e);return t}function Cz(n,e){return e._queryParams.loadsAllData()?YI(n):n.views.get(e._queryIdentifier)}function Ez(n,e){return null!=Cz(n,e)}function rp(n){return null!=YI(n)}function YI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Rie=1;class Dz{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oi(null),this.pendingWriteTree_=function lie(){return{visibleWrites:yu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function OL(n,e,t,i,r){return function Yne(n,e,t,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=SC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?sv(n,new um({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function sp(n,e,t=!1){const i=function Jne(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Xne(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=t&&eie(d,i.path)?r=!1:cc(i.path,d.path)&&(s=!0)),l--}return!!r&&(s?(function tie(n){n.visibleWrites=az(n.allWrites,nie,qn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=rz(n.visibleWrites,i.path):_s(i.children,f=>{n.visibleWrites=rz(n.visibleWrites,Zi(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new Oi(null);return null!=i.snap?s=s.set(qn(),!0):_s(i.children,l=>{s=s.set(new ei(l),!0)}),sv(n,new HI(i.path,s,t))}return[]}function IC(n,e,t){return sv(n,new um({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function JI(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let l=[];if(s&&("default"===e._queryIdentifier||Ez(s,e))){const d=function xie(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const d=rp(n);if("default"===r)for(const[f,g]of n.views.entries())l=l.concat(_z(g,t,i)),mz(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||s.push(g.query));else{const f=n.views.get(r);f&&(l=l.concat(_z(f,t,i)),mz(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!rp(n)&&s.push(new(function Iie(){return(0,U.hu)(KI,"Reference.ts has not been loaded"),KI}())(e._repo,e._path)),{removed:s,events:l}}(s,e,t,i);(function Aie(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=d.removed;l=d.events;const g=-1!==f.findIndex(E=>E._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(r,(E,O)=>rp(O));if(g&&!b){const E=n.syncPointTree_.subtree(r);if(!E.isEmpty()){const O=function jie(n){return n.fold((e,t,i)=>{if(t&&rp(t))return[YI(t)];{let r=[];return t&&(r=wz(t)),_s(i,(s,l)=>{r=r.concat(l)}),r}})}(E);for(let M=0;M<O.length;++M){const V=O[M],z=V.query,ne=xz(n,V);n.listenProvider_.startListening(NC(z),AC(n,z),ne.hashFn,ne.onComplete)}}}!b&&f.length>0&&!i&&(g?n.listenProvider_.stopListening(NC(e),null):f.forEach(E=>{const O=n.queryToTagMap.get(eA(E));n.listenProvider_.stopListening(NC(E),O)})),function Hie(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=eA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return l}function Tz(n,e,t,i){const r=kL(n,i);if(null!=r){const s=RL(r),l=s.path,d=s.queryId,f=Qo(l,e);return ML(n,l,new um(vL(d),f,t))}return[]}function Sz(n,e){const t=n._path;let i=null,r=!1;e.syncPointTree_.foreachOnPath(t,(g,b)=>{const E=Qo(g,t);i=i||ip(b,E),r=r||rp(b)});let l,s=e.syncPointTree_.get(t);s?(r=r||rp(s),i=i||ip(s,qn())):(s=new bz,e.syncPointTree_=e.syncPointTree_.set(t,s)),null!=i?l=!0:(l=!1,i=_n.EMPTY_NODE,e.syncPointTree_.subtree(t).foreachChild((b,E)=>{const O=ip(E,qn());O&&(i=i.updateImmediateChild(b,O))}));const d=Ez(s,n);if(!d&&!n._queryParams.loadsAllData()){const g=eA(n);(0,U.hu)(!e.queryToTagMap.has(g),"View does not exist, but we have a tag");const b=function Gie(){return Rie++}();e.queryToTagMap.set(g,b),e.tagToQueryMap.set(b,g)}return{syncPoint:s,writesCache:zI(e.pendingWriteTree_,t),serverCache:i,serverCacheComplete:l,foundAncestorDefaultView:r,viewAlreadyExists:d}}function Iz(n,e,t){const{syncPoint:i,serverCache:r,writesCache:s,serverCacheComplete:l,viewAlreadyExists:d,foundAncestorDefaultView:f}=Sz(e,n);let g=function Nie(n,e,t,i,r,s){const l=xL(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function Die(n,e){n.eventRegistrations_.push(e)}(l,t),function Tie(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(xi,(s,l)=>{i.push(tv(s,l))}),t.isFullyInitialized()&&i.push(X5(t.getNode())),vz(n,i,t.getNode(),e)}(l,t)}(i,e,t,s,r,l);if(!d&&!f){const b=Cz(i,e);g=g.concat(function $ie(n,e,t){const i=e._path,r=AC(n,e),s=xz(n,t),l=n.listenProvider_.startListening(NC(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!rp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((g,b,E)=>{if(!An(g)&&b&&rp(b))return[YI(b).query];{let O=[];return b&&(O=O.concat(wz(b).map(M=>M.query))),_s(E,(M,V)=>{O=O.concat(V)}),O}});for(let g=0;g<f.length;++g){const b=f[g];n.listenProvider_.stopListening(NC(b),AC(n,b))}}return l}(n,e,b))}return g}function XI(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,d)=>{const g=ip(d,Qo(l,e));if(g)return g});return lz(r,e,s,t,!0)}function sv(n,e){return Az(e,n.syncPointTree_,null,zI(n.pendingWriteTree_,qn()))}function Az(n,e,t,i){if(An(n.path))return Nz(n,e,t,i);{const r=e.get(qn());null==t&&null!=r&&(t=ip(r,qn()));let s=[];const l=In(n.path),d=n.operationForChild(l),f=e.children.get(l);if(f&&d){const g=t?t.getImmediateChild(l):null,b=uz(i,l);s=s.concat(Az(d,f,g,b))}return r&&(s=s.concat(NL(r,n,i,t))),s}}function Nz(n,e,t,i){const r=e.get(qn());null==t&&null!=r&&(t=ip(r,qn()));let s=[];return e.children.inorderTraversal((l,d)=>{const f=t?t.getImmediateChild(l):null,g=uz(i,l),b=n.operationForChild(l);b&&(s=s.concat(Nz(b,d,f,g)))}),r&&(s=s.concat(NL(r,n,i,t))),s}function xz(n,e){const t=e.query,i=AC(n,t);return{hashFn:()=>(function wie(n){return n.viewCache_.serverCache.getNode()}(e)||_n.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Lie(n,e,t){const i=kL(n,t);if(i){const r=RL(i),s=r.path,l=r.queryId,d=Qo(s,e);return ML(n,s,new EC(vL(l),d))}return[]}(n,t._path,i):function Fie(n,e){return sv(n,new EC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Fte(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return JI(n,t,null,s)}}}}function AC(n,e){const t=eA(e);return n.queryToTagMap.get(t)}function eA(n){return n._path.toString()+"$"+n._queryIdentifier}function kL(n,e){return n.tagToQueryMap.get(e)}function RL(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ei(n.substr(0,e))}}function ML(n,e,t){const i=n.syncPointTree_.get(e);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),NL(i,t,zI(n.pendingWriteTree_,e),null)}function NC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function kie(){return(0,U.hu)(QI,"Reference.ts has not been loaded"),QI}())(n._repo,n._path):n}class PL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new PL(t)}node(){return this.node_}}class FL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Zi(this.path_,e);return new FL(this.syncTree_,t)}node(){return XI(this.syncTree_,this.path_)}}const Oz=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Wie(n[".sv"],e,t):"object"==typeof n[".sv"]?qie(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Wie=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},qie=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},kz=function(n,e,t,i){return BL(e,new FL(t,n),i)},LL=function(n,e,t){return BL(n,new PL(e),t)};function BL(n,e,t){const i=n.getPriority().val(),r=Oz(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,d=Oz(l.getValue(),e,t);return d!==l.getValue()||r!==l.getPriority().val()?new Jy(d,rr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Jy(r))),l.forEachChild(xi,(d,f)=>{const g=BL(f,e.getImmediateChild(d),t);g!==f&&(s=s.updateImmediateChild(d,g))}),s}}class VL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function tA(n,e){let t=e instanceof ei?e:new ei(e),i=n,r=In(t);for(;null!==r;){const s=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new VL(r,i,s),t=bi(t),r=In(t)}return i}function fm(n){return n.node.value}function UL(n,e){n.node.value=e,jL(n)}function Rz(n){return n.node.childCount>0}function nA(n,e){_s(n.node.children,(t,i)=>{e(new VL(t,n,i))})}function Mz(n,e,t,i){t&&!i&&e(n),nA(n,r=>{Mz(r,e,!0,i)}),t&&i&&e(n)}function xC(n){return new ei(null===n.parent?n.name:xC(n.parent)+"/"+n.name)}function jL(n){null!==n.parent&&function Yie(n,e,t){const i=function Zie(n){return void 0===fm(n)&&!Rz(n)}(t),r=(0,U.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,jL(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,jL(n))}(n.parent,n.name,n)}const Qie=/[\[\].#$\/\u0000-\u001F\u007F]/,Jie=/[\[\].#$\u0000-\u001F\u007F]/,HL=10485760,iA=function(n){return"string"==typeof n&&0!==n.length&&!Qie.test(n)},Pz=function(n){return"string"==typeof n&&0!==n.length&&!Jie.test(n)},OC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!NI(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},_d=function(n,e,t,i){i&&void 0===e||kC((0,U.gK)(n,"value"),e,t)},kC=function(n,e,t){const i=t instanceof ei?new fne(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+lm(i));if("function"==typeof e)throw new Error(n+"contains a function "+lm(i)+" with contents = "+e.toString());if(NI(e))throw new Error(n+"contains "+e.toString()+" "+lm(i));if("string"==typeof e&&e.length>HL/3&&(0,U.ug)(e)>HL)throw new Error(n+"contains a string greater than "+HL+" utf8 bytes "+lm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(_s(e,(l,d)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!iA(l)))throw new Error(n+" contains an invalid key ("+l+") "+lm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pne(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),U5(n)})(i,l),kC(n,d,i),function gne(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+lm(i)+" in addition to actual children.")}},Fz=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,U.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];_s(e,(l,d)=>{const f=new ei(l);if(kC(r,d,Zi(t,f)),".priority"===iL(f)&&!OC(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=mC(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!iA(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(hne);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&cc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},GL=function(n,e,t){if(!t||void 0!==e){if(NI(e))throw new Error((0,U.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!OC(e))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},RC=function(n,e,t,i){if(!(i&&void 0===t||iA(t)))throw new Error((0,U.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},MC=function(n,e,t,i){if(!(i&&void 0===t||Pz(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dc=function(n,e){if(".info"===In(e))throw new Error(n+" failed = Can't modify data under /.info/")},Lz=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!iA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pz(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!rL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Bz(n,e,t){rA(n,t),Vz(n,i=>rL(i,e))}function hc(n,e,t){rA(n,t),Vz(n,i=>cc(i,e)||cc(e,i))}function Vz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(ire(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function ire(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();om&&ms("event: "+t.toString()),Yy(i)}}}const Uz="repo_interrupt";class sre{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jI(),this.transactionQueueTree_=new VL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jz(n){const t=n.infoData_.getNode(new ei(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function PC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:jz(n)})}function Hz(n,e,t,i,r){n.dataUpdateCount++;const s=new ei(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const f=(0,U.UI)(t,g=>rr(g));l=function Vie(n,e,t,i){const r=kL(n,i);if(r){const s=RL(r),l=s.path,d=s.queryId,f=Qo(l,e),g=Oi.fromObject(t);return ML(n,l,new iv(vL(d),f,g))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=rr(t);l=Tz(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,U.UI)(t,g=>rr(g));l=function Pie(n,e,t){const i=Oi.fromObject(t);return sv(n,new iv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=rr(t);l=IC(n.serverSyncTree_,s,f)}let d=s;l.length>0&&(d=ov(n,s)),hc(n.eventQueue_,d,l)}function Gz(n,e){$L(n,"connected",e),!1===e&&function ure(n){pm(n,"onDisconnectEvents");const e=PC(n),t=jI();mL(n.onDisconnect_,qn(),(r,s)=>{const l=kz(r,s,n.serverSyncTree_,e);nv(t,r,l)});let i=[];mL(t,qn(),(r,s)=>{i=i.concat(IC(n.serverSyncTree_,r,s));const l=ZL(n,r);ov(n,l)}),n.onDisconnect_=jI(),hc(n.eventQueue_,qn(),i)}(n)}function $L(n,e,t){const i=new ei("/.info/"+e),r=rr(t);n.infoData_.updateSnapshot(i,r);const s=IC(n.infoSyncTree_,i,r);hc(n.eventQueue_,i,s)}function sA(n){return n.nextWriteId_++}function lre(n,e){const t=function Uie(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(g,b)=>{const E=Qo(g,t);i=i||ip(b,E)});let r=n.syncPointTree_.get(t);r?i=i||ip(r,qn()):(r=new bz,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new tp(i,!0,!1):null;return function Cie(n){return $I(n.viewCache_)}(xL(r,e,zI(n.pendingWriteTree_,e._path),s?l.getNode():_n.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=rr(i).withIndex(e._queryParams.getIndex());if(e._queryParams.loadsAllData())IC(n.serverSyncTree_,e._path,r);else{const l=function Bie(n,e){const{syncPoint:t,serverCache:i,writesCache:r,serverCacheComplete:s}=Sz(e,n),l=xL(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),e._queryParams.loadsAllData()?null:AC(n,e)}(n.serverSyncTree_,e);Tz(n.serverSyncTree_,e._path,r,l)}return JI(n.serverSyncTree_,e,null).length>0&&pm(n,"unexpected cancel events in repoGetValue"),r},i=>(pm(n,"get for query "+(0,U.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}function zL(n,e,t,i,r){pm(n,"set",{path:e.toString(),value:t,priority:i});const s=PC(n),l=rr(t,i),d=XI(n.serverSyncTree_,e),f=LL(l,d,s),g=sA(n),b=OL(n.serverSyncTree_,e,f,g,!0);rA(n.eventQueue_,b),n.server_.put(e.toString(),l.val(!0),(O,M)=>{const V="ok"===O;V||mo("set at "+e+" failed: "+O);const z=sp(n.serverSyncTree_,g,!V);hc(n.eventQueue_,e,z),op(0,r,O,M)});const E=ZL(n,e);ov(n,E),hc(n.eventQueue_,E,[])}function dre(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&gL(n.onDisconnect_,e),op(0,t,i,r)})}function $z(n,e,t,i){const r=rr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&nv(n.onDisconnect_,e,r),op(0,i,s,l)})}function WL(n,e,t){let i;i=".info"===In(e._path)?JI(n.infoSyncTree_,e,t):JI(n.serverSyncTree_,e,t),Bz(n.eventQueue_,e._path,i)}function zz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Uz)}function pm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ms(t,...e)}function op(n,e,t,i){e&&Yy(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function qL(n,e,t){return XI(n.serverSyncTree_,e,t)||_n.EMPTY_NODE}function oA(n,e=n.transactionQueueTree_){if(e||aA(n,e),fm(e)){const t=qz(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function _re(n,e,t){const i=t.map(g=>g.currentWriteId),r=qL(n,e,i);let s=r;const l=r.hash();for(let g=0;g<t.length;g++){const b=t[g];(0,U.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=Qo(e,b.path);s=s.updateChild(E,b.currentOutputSnapshotRaw)}const d=s.val(!0),f=e;n.server_.put(f.toString(),d,g=>{pm(n,"transaction put response",{path:f.toString(),status:g});let b=[];if("ok"===g){const E=[];for(let O=0;O<t.length;O++)t[O].status=2,b=b.concat(sp(n.serverSyncTree_,t[O].currentWriteId)),t[O].onComplete&&E.push(()=>t[O].onComplete(null,!0,t[O].currentOutputSnapshotResolved)),t[O].unwatcher();aA(n,tA(n.transactionQueueTree_,e)),oA(n,n.transactionQueueTree_),hc(n.eventQueue_,e,b);for(let O=0;O<E.length;O++)Yy(E[O])}else{if("datastale"===g)for(let E=0;E<t.length;E++)t[E].status=3===t[E].status?4:0;else{mo("transaction at "+f.toString()+" failed: "+g);for(let E=0;E<t.length;E++)t[E].status=4,t[E].abortReason=g}ov(n,e)}},l)}(n,xC(e),t)}else Rz(e)&&nA(e,t=>{oA(n,t)})}function ov(n,e){const t=Wz(n,e),i=xC(t);return function yre(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],g=Qo(t,f.path);let E,b=!1;if((0,U.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,E=f.abortReason,r=r.concat(sp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)b=!0,E="maxretry",r=r.concat(sp(n.serverSyncTree_,f.currentWriteId,!0));else{const O=qL(n,f.path,l);f.currentInputSnapshot=O;const M=e[d].update(O.val());if(void 0!==M){kC("transaction failed: Data returned ",M,f.path);let V=rr(M);"object"==typeof M&&null!=M&&(0,U.r3)(M,".priority")||(V=V.updatePriority(O.getPriority()));const ne=f.currentWriteId,be=PC(n),Se=LL(V,O,be);f.currentOutputSnapshotRaw=V,f.currentOutputSnapshotResolved=Se,f.currentWriteId=sA(n),l.splice(l.indexOf(ne),1),r=r.concat(OL(n.serverSyncTree_,f.path,Se,f.currentWriteId,f.applyLocally)),r=r.concat(sp(n.serverSyncTree_,ne,!0))}else b=!0,E="nodata",r=r.concat(sp(n.serverSyncTree_,f.currentWriteId,!0))}hc(n.eventQueue_,t,r),r=[],b&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===E?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(E),!1,null)))}aA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Yy(i[d]);oA(n,n.transactionQueueTree_)}(n,qz(n,t),i),i}function Wz(n,e){let t,i=n.transactionQueueTree_;for(t=In(e);null!==t&&void 0===fm(i);)i=tA(i,t),t=In(e=bi(e));return i}function qz(n,e){const t=[];return Zz(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Zz(n,e,t){const i=fm(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);nA(e,r=>{Zz(n,r,t)})}function aA(n,e){const t=fm(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,UL(e,t.length>0?t:void 0)}nA(e,i=>{aA(n,i)})}function ZL(n,e){const t=xC(Wz(n,e)),i=tA(n.transactionQueueTree_,e);return function Kie(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{KL(n,r)}),KL(n,i),Mz(i,r=>{KL(n,r)}),t}function KL(n,e){const t=fm(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,U.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,U.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(sp(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?UL(e,void 0):t.length=s+1,hc(n.eventQueue_,xC(e),r);for(let l=0;l<i.length;l++)Yy(i[l])}}const YL=function(n,e){const t=wre(n),i=t.namespace;return"firebase.com"===t.domain&&pd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&pd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new QF(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ei(t.pathString)}},wre=function(n){let e="",t="",i="",r="",s="",l=!0,d="https",f=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(d=n.substring(0,g-1),n=n.substring(g+2));let b=n.indexOf("/");-1===b&&(b=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),e=n.substring(0,Math.min(b,E)),b<E&&(r=function vre(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,E)));const O=function bre(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,E)));g=e.indexOf(":"),g>=0?(l="https"===d||"wss"===d,f=parseInt(e.substring(g+1),10)):g=e.length;const M=e.slice(0,g);if("localhost"===M.toLowerCase())t="localhost";else if(M.split(".").length<=2)t=M;else{const V=e.indexOf(".");i=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=i}"ns"in O&&(s=O.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:l,scheme:d,pathString:r,namespace:s}};class Kz{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Pz)(this.snapshot.exportVal())}}class Yz{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Qz{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Jz{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new U.BH;return dre(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){dc("OnDisconnect.remove",this._path);const e=new U.BH;return $z(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){dc("OnDisconnect.set",this._path),_d("OnDisconnect.set",e,this._path,!1);const t=new U.BH;return $z(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){dc("OnDisconnect.setWithPriority",this._path),_d("OnDisconnect.setWithPriority",e,this._path,!1),GL("OnDisconnect.setWithPriority",t,!1);const i=new U.BH;return function hre(n,e,t,i,r){const s=rr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,d)=>{"ok"===l&&nv(n.onDisconnect_,e,s),op(0,r,l,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){dc("OnDisconnect.update",this._path),Fz("OnDisconnect.update",e,this._path,!1);const t=new U.BH;return function fre(n,e,t,i){if((0,U.xb)(t))return ms("onDisconnect().update() called with empty data.  Don't do anything."),void op(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&_s(t,(l,d)=>{const f=rr(d);nv(n.onDisconnect_,Zi(e,l),f)}),op(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ua{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return An(this._path)?null:iL(this._path)}get ref(){return new fc(this._repo,this._path)}get _queryIdentifier(){const e=tz(this._queryParams),t=ZF(e);return"{}"===t?"default":t}get _queryObject(){return tz(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof Ua))return!1;const t=this._repo===e._repo,i=rL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dne(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function lA(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ap(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===md){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Th)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==gd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===xi){if(null!=e&&!OC(e)||null!=t&&!OC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof cL||n.getIndex()===uL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fc extends Ua{constructor(e,t){super(e,t,new BI,!1)}get parent(){const e=V5(this._path);return null===e?null:new fc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class gm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ei(e),i=mm(this.ref,e);return new gm(this._node.getChild(t),i,xi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new gm(r,mm(this.ref,i),xi)))}hasChild(e){const t=new ei(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xz(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?mm(n._root,e):n._root}function e6(n,e){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const t=YL(e,n._repo.repoInfo_.nodeAdmin);Lz("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&pd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Xz(n,t.path.toString())}function mm(n,e){return null===In((n=(0,U.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MC("child","path",t,!1)):MC("child","path",e,!1),new fc(n._repo,Zi(n._path,e));var t}function QL(n,e){n=(0,U.m9)(n),dc("set",n._path),_d("set",e,n._path,!1);const t=new U.BH;return zL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Sre(n,e){Fz("update",e,n._path,!1);const t=new U.BH;return function cre(n,e,t,i){pm(n,"update",{path:e.toString(),value:t});let r=!0;const s=PC(n),l={};if(_s(t,(d,f)=>{r=!1,l[d]=kz(Zi(e,d),rr(f),n.serverSyncTree_,s)}),r)ms("update() called with empty data.  Don't do anything."),op(0,i,"ok",void 0);else{const d=sA(n),f=function Mie(n,e,t,i){!function Qne(n,e,t,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=wL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Oi.fromObject(t);return sv(n,new iv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,d);rA(n.eventQueue_,f),n.server_.merge(e.toString(),t,(g,b)=>{const E="ok"===g;E||mo("update at "+e+" failed: "+g);const O=sp(n.serverSyncTree_,d,!E),M=O.length>0?ov(n,e):e;hc(n.eventQueue_,M,O),op(0,i,g,b)}),_s(t,g=>{const b=ZL(n,Zi(e,g));ov(n,b)}),hc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class uA{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Kz("value",this,new gm(e.snapshotNode,new fc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Yz(this,e,t):null}matches(e){return e instanceof uA&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dA{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Yz(this,e,t):null}createEvent(e,t){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const i=mm(new fc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Kz(e.type,this,new gm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof dA&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function FC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=t,g=(b,E)=>{WL(n._repo,n,d),f(b,E)};g.userCallback=t.userCallback,g.context=t.context,t=g}const l=new Qz(t,s||void 0),d="value"===e?new uA(l):new dA(e,l);return function pre(n,e,t){let i;i=".info"===In(e._path)?Iz(n.infoSyncTree_,e,t):Iz(n.serverSyncTree_,e,t),Bz(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>WL(n._repo,n,d)}function JL(n,e,t,i){return FC(n,"value",e,t,i)}function t6(n,e,t,i){return FC(n,"child_added",e,t,i)}function n6(n,e,t,i){return FC(n,"child_changed",e,t,i)}function i6(n,e,t,i){return FC(n,"child_moved",e,t,i)}function r6(n,e,t,i){return FC(n,"child_removed",e,t,i)}function s6(n,e,t){let i=null;const r=t?new Qz(t):null;"value"===e?i=new uA(r):e&&(i=new dA(e,r)),WL(n._repo,n,i)}class vu{}class o6 extends vu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_d("endAt",this._value,e._path,!0);const t=pL(e._queryParams,this._value,this._key);if(cA(t),ap(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ua(e._repo,e._path,t,e._orderByCalled)}}class Nre extends vu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_d("endBefore",this._value,e._path,!1);const t=function Bne(n,e,t){let i,r;return n.index_===md?("string"==typeof e&&(e=J5(e)),r=pL(n,e,t)):(i=null==t?Th:J5(t),r=pL(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(cA(t),ap(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ua(e._repo,e._path,t,e._orderByCalled)}}class a6 extends vu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_d("startAt",this._value,e._path,!0);const t=fL(e._queryParams,this._value,this._key);if(cA(t),ap(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ua(e._repo,e._path,t,e._orderByCalled)}}class kre extends vu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){_d("startAfter",this._value,e._path,!1);const t=function Lne(n,e,t){let i;if(n.index_===md)"string"==typeof e&&(e=Q5(e)),i=fL(n,e,t);else{let r;r=null==t?gd:Q5(t),i=fL(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(cA(t),ap(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ua(e._repo,e._path,t,e._orderByCalled)}}class Mre extends vu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ua(e._repo,e._path,function Pne(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Fre extends vu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ua(e._repo,e._path,function Fne(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Bre extends vu{constructor(e){super(),this._path=e}_apply(e){lA(e,"orderByChild");const t=new ei(this._path);if(An(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new cL(t),r=VI(e._queryParams,i);return ap(r),new Ua(e._repo,e._path,r,!0)}}class Ure extends vu{_apply(e){lA(e,"orderByKey");const t=VI(e._queryParams,md);return ap(t),new Ua(e._repo,e._path,t,!0)}}class Hre extends vu{_apply(e){lA(e,"orderByPriority");const t=VI(e._queryParams,xi);return ap(t),new Ua(e._repo,e._path,t,!0)}}class $re extends vu{_apply(e){lA(e,"orderByValue");const t=VI(e._queryParams,uL);return ap(t),new Ua(e._repo,e._path,t,!0)}}class Wre extends vu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(_d("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new o6(this._value,this._key)._apply(new a6(this._value,this._key)._apply(e))}}function bu(n,...e){let t=(0,U.m9)(n);for(const i of e)t=i._apply(t);return t}(function Sie(n){(0,U.hu)(!KI,"__referenceConstructor has already been defined"),KI=n})(fc),function Oie(n){(0,U.hu)(!QI,"__referenceConstructor has already been defined"),QI=n}(fc);const XL={};function c6(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||pd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ms("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,g,l=YL(s,r),d=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(f=!0,s=`http://${g}?ns=${d.namespace}`,l=YL(s,r),d=l.repoInfo):f=!l.repoInfo.secure;const b=r&&f?new gC(gC.OWNER):new Ute(n.name,n.options,e);Lz("Invalid Firebase Database URL",l),An(l.path)||pd("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function Qre(n,e,t,i){let r=XL[e.name];r||(r={},XL[e.name]=r);let s=r[n.toURLString()];return s&&pd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sre(n,false,t,i),r[n.toURLString()]=s,s}(d,n,b,new Vte(n.name,t));return new Xre(E,n)}class Xre{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ore(n,e,t){if(n.stats_=eL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new UI(n.repoInfo_,(i,r,s,l)=>{Hz(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Gz(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new cm(n.repoInfo_,e,(i,r,s,l)=>{Hz(n,i,r,s,l)},i=>{Gz(n,i)},i=>{!function are(n,e){_s(e,(t,i)=>{$L(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Gte(n,e){const t=n.toString();return XF[t]||(XF[t]=e()),XF[t]}(n.repoInfo_,()=>new $ne(n.stats_,n.server_)),n.infoData_=new Vne,n.infoSyncTree_=new Dz({startListening:(i,r,s,l)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=IC(n.infoSyncTree_,i._path,f),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),$L(n,"connected",!1),n.serverSyncTree_=new Dz({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(d,f)=>{const g=l(d,f);hc(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fc(this._repo,qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Yre(n,e){const t=XL[e];(!t||t[n.key]!==n)&&pd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),zz(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&pd("Cannot call "+e+" on a deleted database.")}}function u6(){I5.IS_TRANSPORT_INITIALIZED&&mo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ese(){u6(),Xf.forceDisallow()}function tse(){u6(),Qy.forceDisallow(),Xf.forceAllow()}function sse(n,e){a5(n,e)}const ase={".sv":"timestamp"};class use{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},cm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function ose(n){n5(jo.SDK_VERSION),(0,jo._registerComponent)(new fu.wA("database",(e,{instanceIdentifier:t})=>c6(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,jo.registerVersion)(e5,"0.13.4",n),(0,jo.registerVersion)(e5,"0.13.4","esm2017")}();const pse=new hu.Yd("@firebase/database-compat"),d6=function(n){pse.warn("FIREBASE WARNING: "+n)};class _se{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,d6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class yse{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class lp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),MC("DataSnapshot.child","path",e,!1),new lp(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),MC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new lp(this._database,t)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new vl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class zs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",t,!1);const l=zs.getCancelAndContextArgs_("Query.on",i,r),d=(g,b)=>{t.call(l.context,new lp(this.database,g),b)};d.userCallback=t,d.context=l.context;const f=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return JL(this._delegate,d,f),t;case"child_added":return t6(this._delegate,d,f),t;case"child_removed":return r6(this._delegate,d,f),t;case"child_changed":return n6(this._delegate,d,f),t;case"child_moved":return i6(this._delegate,d,f),t;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",t,!0),(0,U.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,s6(this._delegate,e,r)}else s6(this._delegate,e)}get(){return function Ire(n){return lre((n=(0,U.m9)(n))._repo,n).then(e=>new gm(e,new fc(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(e=>new lp(this.database,e))}once(e,t,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",t,!0);const s=zs.getCancelAndContextArgs_("Query.once",i,r),l=new U.BH,d=(g,b)=>{const E=new lp(this.database,g);t&&t.call(s.context,E,b),l.resolve(E)};d.userCallback=t,d.context=s.context;const f=g=>{s.cancel&&s.cancel.call(s.context,g),l.reject(g)};switch(e){case"value":JL(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":t6(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":r6(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":n6(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":i6(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new zs(this.database,bu(this._delegate,function Pre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mre(n)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new zs(this.database,bu(this._delegate,function Lre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Fre(n)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new zs(this.database,bu(this._delegate,function Vre(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return MC("orderByChild","path",n,!1),new Bre(n)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new zs(this.database,bu(this._delegate,function jre(){return new Ure}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new zs(this.database,bu(this._delegate,function Gre(){return new Hre}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new zs(this.database,bu(this._delegate,function zre(){return new $re}()))}startAt(e=null,t){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new zs(this.database,bu(this._delegate,function Ore(n=null,e){return RC("startAt","key",e,!0),new a6(n,e)}(e,t)))}startAfter(e=null,t){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new zs(this.database,bu(this._delegate,function Rre(n,e){return RC("startAfter","key",e,!0),new kre(n,e)}(e,t)))}endAt(e=null,t){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new zs(this.database,bu(this._delegate,function Are(n,e){return RC("endAt","key",e,!0),new o6(n,e)}(e,t)))}endBefore(e=null,t){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new zs(this.database,bu(this._delegate,function xre(n,e){return RC("endBefore","key",e,!0),new Nre(n,e)}(e,t)))}equalTo(e,t){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new zs(this.database,bu(this._delegate,function qre(n,e){return RC("equalTo","key",e,!0),new Wre(n,e)}(e,t)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof zs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,U.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new vl(this.database,new fc(this._delegate._repo,this._delegate._path))}}class vl extends zs{constructor(e,t){super(e,new Ua(t._repo,t._path,new BI,!1)),this.database=e,this._delegate=t}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new vl(this.database,mm(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new vl(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new vl(this.database,this._delegate.root)}set(e,t){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",t,!0);const i=QL(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,d6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dc("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",t,!0);const i=Sre(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Tre(n,e,t){if(dc("setWithPriority",n._path),_d("setWithPriority",e,n._path,!1),GL("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return zL(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const t=function Ere(n){return dc("remove",n._path),QL(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function dse(n,e,t){var i;if(n=(0,U.m9)(n),dc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new U.BH,d=JL(n,()=>{});return function mre(n,e,t,i,r,s){pm(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:r5(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=qL(n,e,void 0);l.currentInputSnapshot=d;const f=l.update(d.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{kC("transaction failed: Data returned ",f,l.path),l.status=0;const g=tA(n.transactionQueueTree_,e),b=fm(g)||[];let E;b.push(l),UL(g,b),"object"==typeof f&&null!==f&&(0,U.r3)(f,".priority")?(E=(0,U.DV)(f,".priority"),(0,U.hu)(OC(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(XI(n.serverSyncTree_,e)||_n.EMPTY_NODE).getPriority().val();const O=PC(n),M=rr(f,E),V=LL(M,d,O);l.currentOutputSnapshotRaw=M,l.currentOutputSnapshotResolved=V,l.currentWriteId=sA(n);const z=OL(n.serverSyncTree_,e,V,l.currentWriteId,l.applyLocally);hc(n.eventQueue_,e,z),oA(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,g,b)=>{let E=null;f?s.reject(f):(E=new gm(b,new fc(n._repo,n._path),xi),s.resolve(new use(g,E)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new yse(s.committed,new lp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",t,!0);const i=function Dre(n,e){n=(0,U.m9)(n),dc("setPriority",n._path),GL("setPriority",e,!1);const t=new U.BH;return zL(n._repo,Zi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",t,!0);const i=function Cre(n,e){n=(0,U.m9)(n),dc("push",n._path),_d("push",e,n._path,!0);const t=jz(n._repo),i=One(t),r=mm(n,i),s=mm(n,i);let l;return l=null!=e?QL(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new vl(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new vl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return dc("Reference.onDisconnect",this._delegate._path),new _se(new Jz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class LC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ese,forceLongPolling:tse}}useEmulator(e,t,i={}){!function nse(n,e,t,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&pd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&pd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gC(gC.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);s=new gC(l)}!function Kre(n,e,t,i){n.repoInfo_=new QF(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof vl){const t=e6(this._delegate,e.toString());return new vl(this,t)}{const t=Xz(this._delegate,e);return new vl(this,t)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=e6(this._delegate,e);return new vl(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function ise(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),zz(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function rse(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function gre(n){n.persistentConnection_&&n.persistentConnection_.resume(Uz)}(n._repo)}(this._delegate)}}LC.ServerValue={TIMESTAMP:function lse(){return ase}(),increment:n=>function cse(n){return{".sv":{increment:n}}}(n)};var bse=Object.freeze({__proto__:null,initStandalone:function vse({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){n5(t);const l=new fu.zt("auth-internal",new fu.H0("database-standalone"));return l.setComponent(new fu.wA("auth-internal",()=>i,"PRIVATE")),{instance:new LC(c6(n,l,void 0,e,s),n),namespace:r}}});const wse=LC.ServerValue;function h6(n){return null==n}function f6(n){return"function"==typeof n.set}function p6(n,e){return f6(e)?e:n.ref(e)}function g6(n,e){if(function Ese(n){return"string"==typeof n}(n))return e.stringCase();if(f6(n))return e.firebaseCase();if(function Dse(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function BC(n,e,t="on",i=eu.z){return new $i.y(r=>{let s=null;return s=n[t](e,(l,d)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Dt.U)(r=>{const{snapshot:s,prevKey:l}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:l,key:d}}),(0,gU.B)())}function m6(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Ise(n,e){const{payload:t,prevKey:i,key:r}=e,s=m6(n,r),l=function Sse(n,e){if(h6(e))return 0;{const t=m6(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const g={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,g],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,d),n}return n;default:return n}}function _6(n){return(h6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function y6(n,e,t){return function Tse(n,e,t){return BC(n,"value","once",t).pipe(Ai(i=>{const r=[It(i)];return e.forEach(s=>r.push(BC(n,s,"on",t))),(0,zb.T)(...r).pipe(qd(Ise,[]))}),Gp())}(n,e=_6(e),t)}function v6(n,e,t){const i=(e=_6(e)).map(r=>BC(n,r,"on",t));return(0,zb.T)(...i)}function b6(n,e){return function(i,r){return g6(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Ose(n){return function(t){return t?g6(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function w6(n,e){return function(){return BC(n,"value","on",e)}}!function Cse(n){n.INTERNAL.registerComponent(new fu.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new LC(r,i)},"PUBLIC").setServiceProps({Reference:vl,Query:zs,Database:LC,DataSnapshot:lp,enableLogging:sse,INTERNAL:bse,ServerValue:wse}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.4")}(LR.Z);const Mse=new u.OlP("angularfire2.realtimeDatabaseURL"),Pse=new u.OlP("angularfire2.database.use-emulator");let Fse=(()=>{class n{constructor(t,i,r,s,l,d,f,g,b,E,O,M,V,z,ne){this.schedulers=d;const be=f,Se=(0,Zr.on)(t,l,i);g&&uR(Se,l,b,O,M,V,E,z),this.database=(0,Zr.cc)(`${Se.name}.database.${r}`,"AngularFireDatabase",Se.name,()=>{const Fe=l.runOutsideAngular(()=>Se.database(r||void 0));return be&&Fe.useEmulator(...be),Fe},[be])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>p6(this.database,t));let s=r;return i&&(s=i(r)),function kse(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:b6(i,"update"),set:b6(i,"set"),push:r=>i.push(r),remove:Ose(i),snapshotChanges:r=>y6(n,r,t).pipe(Wn.iC),stateChanges:r=>v6(n,r,t).pipe(Wn.iC),auditTrail:r=>function Ase(n,e,t){return function xse(n,e,t){return function Nse(n,e){return BC(n,"value","on",e).pipe((0,Dt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(Yu(e),(0,Dt.U)(([r,s])=>{const l=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:l,loadedKeys:d}}),function Ate(n){return(0,tr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,yi.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Dt.U)(r=>r.actions))}(n,v6(n,e).pipe(qd((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Wn.iC),valueChanges:(r,s)=>y6(n,r,t).pipe((0,Dt.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),Wn.iC)}}(s,this)}object(t){return function Rse(n,e){return{query:n,snapshotChanges:()=>w6(n,e.schedulers.outsideAngular)().pipe(Wn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>w6(n,e.schedulers.outsideAngular)().pipe(Wn.iC,(0,Dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>p6(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zr.Dh),u.LFG(Zr.xv,8),u.LFG(Mse,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Wn.HU),u.LFG(Pse,8),u.LFG(Jb,8),u.LFG(rR,8),u.LFG(sR,8),u.LFG(oR,8),u.LFG(aR,8),u.LFG(lR,8),u.LFG(cR,8),u.LFG(Qb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lse=(()=>{class n{constructor(){HT.Z.registerVersion("angularfire",Wn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Fse]}),n})();const C6_firebase={apiKey:"AIzaSyAdS2MTnLKsvrT8IC33IJrvImalPTrPdOU",authDomain:"angular-portfolio-c5874.firebaseapp.com",projectId:"angular-portfolio-c5874",storageBucket:"angular-portfolio-c5874.appspot.com",messagingSenderId:"911416649259",appId:"1:911416649259:web:ac11fe299f592c92362c6e",measurementId:"G-Q9NHSSHBBJ"};let Bse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[p7]}),n.\u0275inj=u.cJS({imports:[dr,l7,NA,Z8,pK,vf,M8,qW,Zr.hO.initializeApp(C6_firebase),o7,Ite,r9,Lse,v_]}),n})();(0,u.G48)(),Al().bootstrapModule(Bse).catch(n=>console.error(n))},5867:(St,Ve,j)=>{"use strict";j.d(Ve,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=j(9681);(0,u.registerVersion)("firebase","9.9.2","app")},127:(St,Ve,j)=>{"use strict";j.d(Ve,{Z:()=>u.Z});var u=j(3942);u.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(St,Ve,j)=>{"use strict";j.r(Ve);var u=j(5861),W=j(3942),B=j(6457),ge=j(2090),_e=(j(9681),j(1877),j(4859));function Ce(){return window}function te(){return(te=(0,u.Z)(function*(de,J,X){var ke;const{BuildInfo:et}=Ce();(0,B.aq)(J.sessionId,"AuthEvent did not contain a session ID");const Pt=yield Te(J.sessionId),Ge={};return(0,B.ar)()?Ge.ibi=et.packageName:(0,B.as)()?Ge.apn=et.packageName:(0,B.at)(de,"operation-not-supported-in-this-environment"),et.displayName&&(Ge.appDisplayName=et.displayName),Ge.sessionId=Pt,(0,B.au)(de,X,J.type,void 0,null!==(ke=J.eventId)&&void 0!==ke?ke:void 0,Ge)})).apply(this,arguments)}function st(){return(st=(0,u.Z)(function*(de){const{BuildInfo:J}=Ce(),X={};(0,B.ar)()?X.iosBundleId=J.packageName:(0,B.as)()?X.androidPackageName=J.packageName:(0,B.at)(de,"operation-not-supported-in-this-environment"),yield(0,B.av)(de,X)})).apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(de,J,X){const{cordova:ke}=Ce();let et=()=>{};try{yield new Promise((Pt,Ge)=>{let dt=null;function Ut(){var Lt;Pt();const Mi=null===(Lt=ke.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof Mi&&Mi(),"function"==typeof X?.close&&X.close()}function Fn(){dt||(dt=window.setTimeout(()=>{Ge((0,B.aw)(de,"redirect-cancelled-by-user"))},2e3))}function Ri(){"visible"===document?.visibilityState&&Fn()}J.addPassiveListener(Ut),document.addEventListener("resume",Fn,!1),(0,B.as)()&&document.addEventListener("visibilitychange",Ri,!1),et=()=>{J.removePassiveListener(Ut),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",Ri,!1),dt&&window.clearTimeout(dt)}})}finally{et()}})).apply(this,arguments)}function Te(de){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(de){const J=ft(de),X=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array(X)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(de){if((0,B.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const J=new ArrayBuffer(de.length),X=new Uint8Array(J);for(let ke=0;ke<de.length;ke++)X[ke]=de.charCodeAt(ke);return X}class ze extends B.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(J)),super.onEvent(J)}initialized(){var J=this;return(0,u.Z)(function*(){yield J.initPromise})()}}function G(de){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*(de){const J=yield le()._get(he(de));return J&&(yield le()._remove(he(de))),J})).apply(this,arguments)}function ae(){const de=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<20;X++){const ke=Math.floor(Math.random()*J.length);de.push(J.charAt(ke))}return de.join("")}function le(){return(0,B.ay)(B.b)}function he(de){return(0,B.az)("authEvent",de.config.apiKey,de.name)}function Ye(de){if(!de?.includes("?"))return{};const[J,...X]=de.split("?");return(0,ge.zd)(X.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aw)("no-auth-event")}}function Yt(){var de;return(null===(de=self?.location)||void 0===de?void 0:de.protocol)||null}function Ci(de=(0,ge.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yi(){try{const de=self.localStorage,J=B.aI();if(de)return de.setItem(J,"1"),de.removeItem(J),!function Dr(de=(0,ge.z$)()){return function Ki(){return(0,ge.w1)()&&11===document?.documentMode}()||function jn(de=(0,ge.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,ge.hl)()}catch{return Tr()&&(0,ge.hl)()}return!1}function Tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hn(){return(function Qt(){return"http:"===Yt()||"https:"===Yt()}()||(0,ge.ru)()||Ci())&&!function Qr(){return(0,ge.b$)()||(0,ge.UG)()}()&&Yi()&&!Tr()}function Zn(){return Ci()&&typeof document<"u"}function Pn(){return(Pn=(0,u.Z)(function*(){return!!Zn()&&new Promise(de=>{const J=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),de(!0)})})})).apply(this,arguments)}const vn={LOCAL:"local",NONE:"none",SESSION:"session"},di=B.ax,Ui="persistence";function dn(de){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(de){yield de._initializationPromise;const J=ct(),X=B.az(Ui,de.config.apiKey,de.name);J&&J.setItem(X,de._getPersistence())})).apply(this,arguments)}function ct(){var de;try{return(null===(de=function Bn(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const at=B.ax;class Gn{constructor(){this.browserResolver=B.ay(B.k),this.cordovaResolver=B.ay(class gn{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(J){var X=this;return(0,u.Z)(function*(){const ke=J._key();let et=X.eventManagers.get(ke);return et||(et=new ze(J),X.eventManagers.set(ke,et),X.attachCallbackListeners(J,et)),et})()}_openPopup(J){(0,B.at)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,X,ke,et){var Pt=this;return(0,u.Z)(function*(){!function Oe(de){var J,X,ke,et,Pt,Ge,dt,Ut,Fn,Ri;const Lt=Ce();(0,B.ax)("function"==typeof(null===(J=Lt?.universalLinks)||void 0===J?void 0:J.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.ax)(typeof(null===(X=Lt?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.ax)("function"==typeof(null===(Pt=null===(et=null===(ke=Lt?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===et?void 0:et.browsertab)||void 0===Pt?void 0:Pt.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Ut=null===(dt=null===(Ge=Lt?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Ut?void 0:Ut.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.ax)("function"==typeof(null===(Ri=null===(Fn=Lt?.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===Ri?void 0:Ri.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Ge=yield Pt._initialize(J);yield Ge.initialized(),Ge.resetRedirect(),(0,B.aD)(),yield Pt._originValidation(J);const dt=function Be(de,J,X=null){return{type:J,eventId:X,urlResponse:null,sessionId:ae(),postBody:null,tenantId:de.tenantId,error:(0,B.aw)(de,"no-auth-event")}}(J,ke,et);yield function lt(de,J){return le()._set(he(de),J)}(J,dt);const Ut=yield function ee(de,J,X){return te.apply(this,arguments)}(J,dt,X),Fn=yield function Ze(de){const{cordova:J}=Ce();return new Promise(X=>{J.plugins.browsertab.isAvailable(ke=>{let et=null;ke?J.plugins.browsertab.openUrl(de):et=J.InAppBrowser.open(de,(0,B.ap)()?"_blank":"_system","location=yes"),X(et)})})}(Ut);return function Le(de,J,X){return _t.apply(this,arguments)}(J,Ge,Fn)})()}_isIframeWebStorageSupported(J,X){throw new Error("Method not implemented.")}_originValidation(J){const X=J._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function ce(de){return st.apply(this,arguments)}(J)),this.originValidationPromises[X]}attachCallbackListeners(J,X){const{universalLinks:ke,handleOpenURL:et,BuildInfo:Pt}=Ce(),Ge=setTimeout((0,u.Z)(function*(){yield G(J),X.onEvent(tt())}),500),dt=function(){var Ri=(0,u.Z)(function*(Lt){clearTimeout(Ge);const Mi=yield G(J);let $n=null;Mi&&Lt?.url&&($n=function Ee(de,J){var X,ke;const et=function Qe(de){const J=Ye(de),X=J.link?decodeURIComponent(J.link):void 0,ke=Ye(X).link,et=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return Ye(et).link||et||ke||X||de}(J);if(et.includes("/__/auth/callback")){const Pt=Ye(et),Ge=Pt.firebaseError?function me(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(Pt.firebaseError)):null,dt=null===(ke=null===(X=Ge?.code)||void 0===X?void 0:X.split("auth/"))||void 0===ke?void 0:ke[1],Ut=dt?(0,B.aw)(dt):null;return Ut?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:et,postBody:null}}return null}(Mi,Lt.url)),X.onEvent($n||tt())});return function(Mi){return Ri.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,dt);const Ut=et,Fn=`${Pt.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Ri=(0,u.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(Fn)&&dt({url:Lt}),"function"==typeof Ut)try{Ut(Lt)}catch(Mi){console.error(Mi)}});return function(Lt){return Ri.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aB,this._overrideRedirectResult=B.aC}_initialize(J){var X=this;return(0,u.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,X,ke,et){var Pt=this;return(0,u.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openPopup(J,X,ke,et)})()}_openRedirect(J,X,ke,et){var Pt=this;return(0,u.Z)(function*(){return yield Pt.selectUnderlyingResolver(),Pt.assertedUnderlyingResolver._openRedirect(J,X,ke,et)})()}_isIframeWebStorageSupported(J,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,X)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,u.Z)(function*(){if(J.underlyingResolver)return;const X=yield function wt(){return Pn.apply(this,arguments)}();J.underlyingResolver=X?J.cordovaResolver:J.browserResolver})()}}function ki(de){return de.unwrap()}function Xt(de){return Qi(de)}function Qi(de){const{_tokenResponse:J}=de instanceof ge.ZR?de.customData:de;if(!J)return null;if(!(de instanceof ge.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return B.P.credentialFromResult(de);const X=J.providerId;if(!X||X===B.o.PASSWORD)return null;let ke;switch(X){case B.o.GOOGLE:ke=B.Q;break;case B.o.FACEBOOK:ke=B.N;break;case B.o.GITHUB:ke=B.T;break;case B.o.TWITTER:ke=B.W;break;default:const{oauthIdToken:et,oauthAccessToken:Pt,oauthTokenSecret:Ge,pendingToken:dt,nonce:Ut}=J;return Pt||Ge||et||dt?dt?X.startsWith("saml.")?B.aL._create(X,dt):B.J._fromParams({providerId:X,signInMethod:X,pendingToken:dt,idToken:et,accessToken:Pt}):new B.U(X).credential({idToken:et,accessToken:Pt,rawNonce:Ut}):null}return de instanceof ge.ZR?ke.credentialFromError(de):ke.credentialFromResult(de)}function Wt(de,J){return J.catch(X=>{throw X instanceof ge.ZR&&function Kn(de,J){var X,ke;const et=null===(X=J.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ke=J)||void 0===ke?void 0:ke.code))J.resolver=new oe(de,B.an(de,J));else if(et){const Pt=Qi(J),Ge=J;Pt&&(Ge.credential=Pt,Ge.tenantId=et.tenantId||void 0,Ge.email=et.email||void 0,Ge.phoneNumber=et.phoneNumber||void 0)}}(de,X),X}).then(X=>{const et=X.user;return{operationType:X.operationType,credential:Xt(X),additionalUserInfo:B.al(X),user:q.getOrCreate(et)}})}function Sr(de,J){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(de,J){const X=yield J;return{verificationId:X.verificationId,confirm:ke=>Wt(de,X.confirm(ke))}})).apply(this,arguments)}class oe{constructor(J,X){this.resolver=X,this.auth=function mn(de){return de.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return Wt(ki(this.auth),this.resolver.resolveSignIn(J))}}class q{constructor(J){this._delegate=J,this.multiFactor=B.ao(J)}static getOrCreate(J){return q.USER_MAP.has(J)||q.USER_MAP.set(J,new q(J)),q.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var X=this;return(0,u.Z)(function*(){return Wt(X.auth,B.Z(X._delegate,J))})()}linkWithPhoneNumber(J,X){var ke=this;return(0,u.Z)(function*(){return Sr(ke.auth,B.l(ke._delegate,J,X))})()}linkWithPopup(J){var X=this;return(0,u.Z)(function*(){return Wt(X.auth,B.d(X._delegate,J,Gn))})()}linkWithRedirect(J){var X=this;return(0,u.Z)(function*(){return yield dn(B.aE(X.auth)),B.g(X._delegate,J,Gn)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var X=this;return(0,u.Z)(function*(){return Wt(X.auth,B._(X._delegate,J))})()}reauthenticateWithPhoneNumber(J,X){return Sr(this.auth,B.r(this._delegate,J,X))}reauthenticateWithPopup(J){return Wt(this.auth,B.e(this._delegate,J,Gn))}reauthenticateWithRedirect(J){var X=this;return(0,u.Z)(function*(){return yield dn(B.aE(X.auth)),B.h(X._delegate,J,Gn)})()}sendEmailVerification(J){return B.ab(this._delegate,J)}unlink(J){var X=this;return(0,u.Z)(function*(){return yield B.ak(X._delegate,J),X})()}updateEmail(J){return B.ag(this._delegate,J)}updatePassword(J){return B.ah(this._delegate,J)}updatePhoneNumber(J){return B.u(this._delegate,J)}updateProfile(J){return B.af(this._delegate,J)}verifyBeforeUpdateEmail(J,X){return B.ac(this._delegate,J,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}q.USER_MAP=new WeakMap;const Q=B.ax;let ie=(()=>{class de{constructor(X,ke){if(this.app=X,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=X.options;Q(et,"invalid-api-key",{appName:X.name}),Q(et,"invalid-api-key",{appName:X.name});const Pt=typeof window<"u"?Gn:void 0;this._delegate=ke.initialize({options:{persistence:Ue(et,X.name),popupRedirectResolver:Pt}}),this._delegate._updateErrorMap(B.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,ke){B.G(this._delegate,X,ke)}applyActionCode(X){return B.a2(this._delegate,X)}checkActionCode(X){return B.a3(this._delegate,X)}confirmPasswordReset(X,ke){return B.a1(this._delegate,X,ke)}createUserWithEmailAndPassword(X,ke){var et=this;return(0,u.Z)(function*(){return Wt(et._delegate,B.a5(et._delegate,X,ke))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return B.aa(this._delegate,X)}isSignInWithEmailLink(X){return B.a8(this._delegate,X)}getRedirectResult(){var X=this;return(0,u.Z)(function*(){Q(Hn(),X._delegate,"operation-not-supported-in-this-environment");const ke=yield B.j(X._delegate,Gn);return ke?Wt(X._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function yn(de,J){(0,B.aE)(de)._logFramework(J)}(this._delegate,X)}onAuthStateChanged(X,ke,et){const{next:Pt,error:Ge,complete:dt}=re(X,ke,et);return this._delegate.onAuthStateChanged(Pt,Ge,dt)}onIdTokenChanged(X,ke,et){const{next:Pt,error:Ge,complete:dt}=re(X,ke,et);return this._delegate.onIdTokenChanged(Pt,Ge,dt)}sendSignInLinkToEmail(X,ke){return B.a7(this._delegate,X,ke)}sendPasswordResetEmail(X,ke){return B.a0(this._delegate,X,ke||void 0)}setPersistence(X){var ke=this;return(0,u.Z)(function*(){let et;switch(function Vt(de,J){di(Object.values(vn).includes(J),de,"invalid-persistence-type"),(0,ge.b$)()?di(J!==vn.SESSION,de,"unsupported-persistence-type"):(0,ge.UG)()?di(J===vn.NONE,de,"unsupported-persistence-type"):Tr()?di(J===vn.NONE||J===vn.LOCAL&&(0,ge.hl)(),de,"unsupported-persistence-type"):di(J===vn.NONE||Yi(),de,"unsupported-persistence-type")}(ke._delegate,X),X){case vn.SESSION:et=B.a;break;case vn.LOCAL:et=(yield B.ay(B.i)._isAvailable())?B.i:B.b;break;case vn.NONE:et=B.L;break;default:return B.at("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Wt(this._delegate,B.X(this._delegate))}signInWithCredential(X){return Wt(this._delegate,B.Y(this._delegate,X))}signInWithCustomToken(X){return Wt(this._delegate,B.$(this._delegate,X))}signInWithEmailAndPassword(X,ke){return Wt(this._delegate,B.a6(this._delegate,X,ke))}signInWithEmailLink(X,ke){return Wt(this._delegate,B.a9(this._delegate,X,ke))}signInWithPhoneNumber(X,ke){return Sr(this._delegate,B.s(this._delegate,X,ke))}signInWithPopup(X){var ke=this;return(0,u.Z)(function*(){return Q(Hn(),ke._delegate,"operation-not-supported-in-this-environment"),Wt(ke._delegate,B.c(ke._delegate,X,Gn))})()}signInWithRedirect(X){var ke=this;return(0,u.Z)(function*(){return Q(Hn(),ke._delegate,"operation-not-supported-in-this-environment"),yield dn(ke._delegate),B.f(ke._delegate,X,Gn)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return B.a4(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=vn,de})();function re(de,J,X){let ke=de;"function"!=typeof de&&({next:ke,error:J,complete:X}=de);const et=ke;return{next:Ge=>et(Ge&&q.getOrCreate(Ge)),error:J,complete:X}}function Ue(de,J){const X=function Tn(de,J){const X=ct();if(!X)return[];const ke=B.az(Ui,de,J);switch(X.getItem(ke)){case vn.NONE:return[B.L];case vn.LOCAL:return[B.i,B.a];case vn.SESSION:return[B.a];default:return[]}}(de,J);if(typeof self<"u"&&!X.includes(B.i)&&X.push(B.i),typeof window<"u")for(const ke of[B.b,B.a])X.includes(ke)||X.push(ke);return X.includes(B.L)||X.push(B.L),X}class nt{constructor(){this.providerId="phone",this._delegate=new B.P(ki(W.Z.auth()))}static credential(J,X){return B.P.credential(J,X)}verifyPhoneNumber(J,X){return this._delegate.verifyPhoneNumber(J,X)}unwrap(){return this._delegate}}nt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,nt.PROVIDER_ID=B.P.PROVIDER_ID;const Ft=B.ax;class Nn{constructor(J,X,ke=W.Z.app()){var et;Ft(null===(et=ke.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new B.R(J,X,ke.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hi(de){de.INTERNAL.registerComponent(new _e.wA("auth-compat",J=>{const X=J.getProvider("app-compat").getImmediate(),ke=J.getProvider("auth");return new ie(X,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.M,FacebookAuthProvider:B.N,GithubAuthProvider:B.T,GoogleAuthProvider:B.Q,OAuthProvider:B.U,SAMLAuthProvider:B.V,PhoneAuthProvider:nt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:Nn,TwitterAuthProvider:B.W,Auth:ie,AuthCredential:B.H,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.18")}(W.Z)},9751:(St,Ve,j)=>{"use strict";j.d(Ve,{y:()=>Ce});var u=j(930),W=j(727),B=j(8822),ge=j(9635),ve=j(2416),Ie=j(576),_e=j(2806);let Ce=(()=>{class ce{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const Le=new ce;return Le.source=this,Le.operator=Ze,Le}subscribe(Ze,Le,_t){const Oe=function te(ce){return ce&&ce instanceof u.Lv||function ee(ce){return ce&&(0,Ie.m)(ce.next)&&(0,Ie.m)(ce.error)&&(0,Ie.m)(ce.complete)}(ce)&&(0,W.Nn)(ce)}(Ze)?Ze:new u.Hp(Ze,Le,_t);return(0,_e.x)(()=>{const{operator:Te,source:ht}=this;Oe.add(Te?Te.call(Oe,ht):ht?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(Le){Ze.error(Le)}}forEach(Ze,Le){return new(Le=Ae(Le))((_t,Oe)=>{const Te=new u.Hp({next:ht=>{try{Ze(ht)}catch(ft){Oe(ft),Te.unsubscribe()}},error:Oe,complete:_t});this.subscribe(Te)})}_subscribe(Ze){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ze)}[B.L](){return this}pipe(...Ze){return(0,ge.U)(Ze)(this)}toPromise(Ze){return new(Ze=Ae(Ze))((Le,_t)=>{let Oe;this.subscribe(Te=>Oe=Te,Te=>_t(Te),()=>Le(Oe))})}}return ce.create=st=>new ce(st),ce})();function Ae(ce){var st;return null!==(st=ce??ve.v.Promise)&&void 0!==st?st:Promise}},7579:(St,Ve,j)=>{"use strict";j.d(Ve,{x:()=>_e});var u=j(9751),W=j(727);const ge=(0,j(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=j(8737),Ie=j(2806);let _e=(()=>{class Ae extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ce=new Ce(this,this);return ce.operator=te,ce}_throwIfClosed(){if(this.closed)throw new ge}next(te){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(te)}})}error(te){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ce}=this;for(;ce.length;)ce.shift().error(te)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ce,isStopped:st,observers:Ze}=this;return ce||st?W.Lc:(this.currentObservers=null,Ze.push(te),new W.w0(()=>{this.currentObservers=null,(0,ve.P)(Ze,te)}))}_checkFinalizedStatuses(te){const{hasError:ce,thrownError:st,isStopped:Ze}=this;ce?te.error(st):Ze&&te.complete()}asObservable(){const te=new u.y;return te.source=this,te}}return Ae.create=(ee,te)=>new Ce(ee,te),Ae})();class Ce extends _e{constructor(ee,te){super(),this.destination=ee,this.source=te}next(ee){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ce||ce.call(te,ee)}error(ee){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ce||ce.call(te,ee)}complete(){var ee,te;null===(te=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===te||te.call(ee)}_subscribe(ee){var te,ce;return null!==(ce=null===(te=this.source)||void 0===te?void 0:te.subscribe(ee))&&void 0!==ce?ce:W.Lc}}},930:(St,Ve,j)=>{"use strict";j.d(Ve,{Hp:()=>_t,Lv:()=>ce});var u=j(576),W=j(727),B=j(2416),ge=j(7849),ve=j(5032);const Ie=Ae("C",void 0,void 0);function Ae(Ke,ze,Be){return{kind:Ke,value:ze,error:Be}}var ee=j(3410),te=j(2806);class ce extends W.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,W.Nn)(ze)&&ze.add(this)):this.destination=ft}static create(ze,Be,lt){return new _t(ze,Be,lt)}next(ze){this.isStopped?ht(function Ce(Ke){return Ae("N",Ke,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?ht(function _e(Ke){return Ae("E",void 0,Ke)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?ht(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function Ze(Ke,ze){return st.call(Ke,ze)}class Le{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:Be}=this;if(Be.next)try{Be.next(ze)}catch(lt){Oe(lt)}}error(ze){const{partialObserver:Be}=this;if(Be.error)try{Be.error(ze)}catch(lt){Oe(lt)}else Oe(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(Be){Oe(Be)}}}class _t extends ce{constructor(ze,Be,lt){let G;if(super(),(0,u.m)(ze)||!ze)G={next:ze??void 0,error:Be??void 0,complete:lt??void 0};else{let ye;this&&B.v.useDeprecatedNextContext?(ye=Object.create(ze),ye.unsubscribe=()=>this.unsubscribe(),G={next:ze.next&&Ze(ze.next,ye),error:ze.error&&Ze(ze.error,ye),complete:ze.complete&&Ze(ze.complete,ye)}):G=ze}this.destination=new Le(G)}}function Oe(Ke){B.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Ke):(0,ge.h)(Ke)}function ht(Ke,ze){const{onStoppedNotification:Be}=B.v;Be&&ee.z.setTimeout(()=>Be(Ke,ze))}const ft={closed:!0,next:ve.Z,error:function Te(Ke){throw Ke},complete:ve.Z}},727:(St,Ve,j)=>{"use strict";j.d(Ve,{Lc:()=>Ie,w0:()=>ve,Nn:()=>_e});var u=j(576);const B=(0,j(3888).d)(Ae=>function(te){Ae(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ce,st)=>`${st+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var ge=j(8737);class ve{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ze of te)Ze.remove(this);else te.remove(this);const{initialTeardown:ce}=this;if((0,u.m)(ce))try{ce()}catch(Ze){ee=Ze instanceof B?Ze.errors:[Ze]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const Ze of st)try{Ce(Ze)}catch(Le){ee=ee??[],Le instanceof B?ee=[...ee,...Le.errors]:ee.push(Le)}}if(ee)throw new B(ee)}}add(ee){var te;if(ee&&ee!==this)if(this.closed)Ce(ee);else{if(ee instanceof ve){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(ee)}}_hasParent(ee){const{_parentage:te}=this;return te===ee||Array.isArray(te)&&te.includes(ee)}_addParent(ee){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(ee),te):te?[te,ee]:ee}_removeParent(ee){const{_parentage:te}=this;te===ee?this._parentage=null:Array.isArray(te)&&(0,ge.P)(te,ee)}remove(ee){const{_finalizers:te}=this;te&&(0,ge.P)(te,ee),ee instanceof ve&&ee._removeParent(this)}}ve.EMPTY=(()=>{const Ae=new ve;return Ae.closed=!0,Ae})();const Ie=ve.EMPTY;function _e(Ae){return Ae instanceof ve||Ae&&"closed"in Ae&&(0,u.m)(Ae.remove)&&(0,u.m)(Ae.add)&&(0,u.m)(Ae.unsubscribe)}function Ce(Ae){(0,u.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(St,Ve,j)=>{"use strict";j.d(Ve,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(St,Ve,j)=>{"use strict";j.d(Ve,{E:()=>W});const W=new(j(9751).y)(ve=>ve.complete())},8996:(St,Ve,j)=>{"use strict";j.d(Ve,{D:()=>ze});var u=j(8421),W=j(5363),B=j(9468),Ie=j(9751),Ce=j(2202),Ae=j(576),ee=j(9672);function ce(Be,lt){if(!Be)throw new Error("Iterable cannot be null");return new Ie.y(G=>{(0,ee.f)(G,lt,()=>{const ye=Be[Symbol.asyncIterator]();(0,ee.f)(G,lt,()=>{ye.next().then(Ee=>{Ee.done?G.complete():G.next(Ee.value)})},0,!0)})})}var st=j(3670),Ze=j(8239),Le=j(1144),_t=j(6495),Oe=j(2206),Te=j(4532),ht=j(3260);function ze(Be,lt){return lt?function Ke(Be,lt){if(null!=Be){if((0,st.c)(Be))return function ge(Be,lt){return(0,u.Xf)(Be).pipe((0,B.R)(lt),(0,W.Q)(lt))}(Be,lt);if((0,Le.z)(Be))return function _e(Be,lt){return new Ie.y(G=>{let ye=0;return lt.schedule(function(){ye===Be.length?G.complete():(G.next(Be[ye++]),G.closed||this.schedule())})})}(Be,lt);if((0,Ze.t)(Be))return function ve(Be,lt){return(0,u.Xf)(Be).pipe((0,B.R)(lt),(0,W.Q)(lt))}(Be,lt);if((0,Oe.D)(Be))return ce(Be,lt);if((0,_t.T)(Be))return function te(Be,lt){return new Ie.y(G=>{let ye;return(0,ee.f)(G,lt,()=>{ye=Be[Ce.h](),(0,ee.f)(G,lt,()=>{let Ee,ae;try{({value:Ee,done:ae}=ye.next())}catch(le){return void G.error(le)}ae?G.complete():G.next(Ee)},0,!0)}),()=>(0,Ae.m)(ye?.return)&&ye.return()})}(Be,lt);if((0,ht.L)(Be))return function ft(Be,lt){return ce((0,ht.Q)(Be),lt)}(Be,lt)}throw(0,Te.z)(Be)}(Be,lt):(0,u.Xf)(Be)}},8421:(St,Ve,j)=>{"use strict";j.d(Ve,{Xf:()=>st});var u=j(655),W=j(1144),B=j(8239),ge=j(9751),ve=j(3670),Ie=j(2206),_e=j(4532),Ce=j(6495),Ae=j(3260),ee=j(576),te=j(7849),ce=j(8822);function st(Ke){if(Ke instanceof ge.y)return Ke;if(null!=Ke){if((0,ve.c)(Ke))return function Ze(Ke){return new ge.y(ze=>{const Be=Ke[ce.L]();if((0,ee.m)(Be.subscribe))return Be.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,W.z)(Ke))return function Le(Ke){return new ge.y(ze=>{for(let Be=0;Be<Ke.length&&!ze.closed;Be++)ze.next(Ke[Be]);ze.complete()})}(Ke);if((0,B.t)(Ke))return function _t(Ke){return new ge.y(ze=>{Ke.then(Be=>{ze.closed||(ze.next(Be),ze.complete())},Be=>ze.error(Be)).then(null,te.h)})}(Ke);if((0,Ie.D)(Ke))return Te(Ke);if((0,Ce.T)(Ke))return function Oe(Ke){return new ge.y(ze=>{for(const Be of Ke)if(ze.next(Be),ze.closed)return;ze.complete()})}(Ke);if((0,Ae.L)(Ke))return function ht(Ke){return Te((0,Ae.Q)(Ke))}(Ke)}throw(0,_e.z)(Ke)}function Te(Ke){return new ge.y(ze=>{(function ft(Ke,ze){var Be,lt,G,ye;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Be=(0,u.KL)(Ke);!(lt=yield Be.next()).done;)if(ze.next(lt.value),ze.closed)return}catch(Ee){G={error:Ee}}finally{try{lt&&!lt.done&&(ye=Be.return)&&(yield ye.call(Be))}finally{if(G)throw G.error}}ze.complete()})})(Ke,ze).catch(Be=>ze.error(Be))})}},6451:(St,Ve,j)=>{"use strict";j.d(Ve,{T:()=>Ie});var u=j(8189),W=j(8421),B=j(515),ge=j(3269),ve=j(8996);function Ie(..._e){const Ce=(0,ge.yG)(_e),Ae=(0,ge._6)(_e,1/0),ee=_e;return ee.length?1===ee.length?(0,W.Xf)(ee[0]):(0,u.J)(Ae)((0,ve.D)(ee,Ce)):B.E}},5403:(St,Ve,j)=>{"use strict";j.d(Ve,{x:()=>W});var u=j(930);function W(ge,ve,Ie,_e,Ce){return new B(ge,ve,Ie,_e,Ce)}class B extends u.Lv{constructor(ve,Ie,_e,Ce,Ae,ee){super(ve),this.onFinalize=Ae,this.shouldUnsubscribe=ee,this._next=Ie?function(te){try{Ie(te)}catch(ce){ve.error(ce)}}:super._next,this._error=Ce?function(te){try{Ce(te)}catch(ce){ve.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(te){ve.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4004:(St,Ve,j)=>{"use strict";j.d(Ve,{U:()=>B});var u=j(4482),W=j(5403);function B(ge,ve){return(0,u.e)((Ie,_e)=>{let Ce=0;Ie.subscribe((0,W.x)(_e,Ae=>{_e.next(ge.call(ve,Ae,Ce++))}))})}},8189:(St,Ve,j)=>{"use strict";j.d(Ve,{J:()=>B});var u=j(5577),W=j(4671);function B(ge=1/0){return(0,u.z)(W.y,ge)}},5577:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>Ce});var u=j(4004),W=j(8421),B=j(4482),ge=j(9672),ve=j(5403),_e=j(576);function Ce(Ae,ee,te=1/0){return(0,_e.m)(ee)?Ce((ce,st)=>(0,u.U)((Ze,Le)=>ee(ce,Ze,st,Le))((0,W.Xf)(Ae(ce,st))),te):("number"==typeof ee&&(te=ee),(0,B.e)((ce,st)=>function Ie(Ae,ee,te,ce,st,Ze,Le,_t){const Oe=[];let Te=0,ht=0,ft=!1;const Ke=()=>{ft&&!Oe.length&&!Te&&ee.complete()},ze=lt=>Te<ce?Be(lt):Oe.push(lt),Be=lt=>{Ze&&ee.next(lt),Te++;let G=!1;(0,W.Xf)(te(lt,ht++)).subscribe((0,ve.x)(ee,ye=>{st?.(ye),Ze?ze(ye):ee.next(ye)},()=>{G=!0},void 0,()=>{if(G)try{for(Te--;Oe.length&&Te<ce;){const ye=Oe.shift();Le?(0,ge.f)(ee,Le,()=>Be(ye)):Be(ye)}Ke()}catch(ye){ee.error(ye)}}))};return Ae.subscribe((0,ve.x)(ee,ze,()=>{ft=!0,Ke()})),()=>{_t?.()}}(ce,st,Ae,te)))}},5363:(St,Ve,j)=>{"use strict";j.d(Ve,{Q:()=>ge});var u=j(9672),W=j(4482),B=j(5403);function ge(ve,Ie=0){return(0,W.e)((_e,Ce)=>{_e.subscribe((0,B.x)(Ce,Ae=>(0,u.f)(Ce,ve,()=>Ce.next(Ae),Ie),()=>(0,u.f)(Ce,ve,()=>Ce.complete(),Ie),Ae=>(0,u.f)(Ce,ve,()=>Ce.error(Ae),Ie)))})}},3099:(St,Ve,j)=>{"use strict";j.d(Ve,{B:()=>ve});var u=j(8421),W=j(7579),B=j(930),ge=j(4482);function ve(_e={}){const{connector:Ce=(()=>new W.x),resetOnError:Ae=!0,resetOnComplete:ee=!0,resetOnRefCountZero:te=!0}=_e;return ce=>{let st,Ze,Le,_t=0,Oe=!1,Te=!1;const ht=()=>{Ze?.unsubscribe(),Ze=void 0},ft=()=>{ht(),st=Le=void 0,Oe=Te=!1},Ke=()=>{const ze=st;ft(),ze?.unsubscribe()};return(0,ge.e)((ze,Be)=>{_t++,!Te&&!Oe&&ht();const lt=Le=Le??Ce();Be.add(()=>{_t--,0===_t&&!Te&&!Oe&&(Ze=Ie(Ke,te))}),lt.subscribe(Be),!st&&_t>0&&(st=new B.Hp({next:G=>lt.next(G),error:G=>{Te=!0,ht(),Ze=Ie(ft,Ae,G),lt.error(G)},complete:()=>{Oe=!0,ht(),Ze=Ie(ft,ee),lt.complete()}}),(0,u.Xf)(ze).subscribe(st))})(ce)}}function Ie(_e,Ce,...Ae){if(!0===Ce)return void _e();if(!1===Ce)return;const ee=new B.Hp({next:()=>{ee.unsubscribe(),_e()}});return Ce(...Ae).subscribe(ee)}},9468:(St,Ve,j)=>{"use strict";j.d(Ve,{R:()=>W});var u=j(4482);function W(B,ge=0){return(0,u.e)((ve,Ie)=>{Ie.add(B.schedule(()=>ve.subscribe(Ie),ge))})}},8505:(St,Ve,j)=>{"use strict";j.d(Ve,{b:()=>ve});var u=j(576),W=j(4482),B=j(5403),ge=j(4671);function ve(Ie,_e,Ce){const Ae=(0,u.m)(Ie)||_e||Ce?{next:Ie,error:_e,complete:Ce}:Ie;return Ae?(0,W.e)((ee,te)=>{var ce;null===(ce=Ae.subscribe)||void 0===ce||ce.call(Ae);let st=!0;ee.subscribe((0,B.x)(te,Ze=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Ze),te.next(Ze)},()=>{var Ze;st=!1,null===(Ze=Ae.complete)||void 0===Ze||Ze.call(Ae),te.complete()},Ze=>{var Le;st=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Ze),te.error(Ze)},()=>{var Ze,Le;st&&(null===(Ze=Ae.unsubscribe)||void 0===Ze||Ze.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):ge.y}},4408:(St,Ve,j)=>{"use strict";j.d(Ve,{o:()=>ve});var u=j(727);class W extends u.w0{constructor(_e,Ce){super()}schedule(_e,Ce=0){return this}}const B={setInterval(Ie,_e,...Ce){const{delegate:Ae}=B;return Ae?.setInterval?Ae.setInterval(Ie,_e,...Ce):setInterval(Ie,_e,...Ce)},clearInterval(Ie){const{delegate:_e}=B;return(_e?.clearInterval||clearInterval)(Ie)},delegate:void 0};var ge=j(8737);class ve extends W{constructor(_e,Ce){super(_e,Ce),this.scheduler=_e,this.work=Ce,this.pending=!1}schedule(_e,Ce=0){if(this.closed)return this;this.state=_e;const Ae=this.id,ee=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(ee,Ae,Ce)),this.pending=!0,this.delay=Ce,this.id=this.id||this.requestAsyncId(ee,this.id,Ce),this}requestAsyncId(_e,Ce,Ae=0){return B.setInterval(_e.flush.bind(_e,this),Ae)}recycleAsyncId(_e,Ce,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ce;B.clearInterval(Ce)}execute(_e,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(_e,Ce);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ce){let ee,Ae=!1;try{this.work(_e)}catch(te){Ae=!0,ee=te||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ce}=this,{actions:Ae}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Ae,this),null!=_e&&(this.id=this.recycleAsyncId(Ce,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(St,Ve,j)=>{"use strict";j.d(Ve,{v:()=>B});var u=j(6063);class W{constructor(ve,Ie=W.now){this.schedulerActionCtor=ve,this.now=Ie}schedule(ve,Ie=0,_e){return new this.schedulerActionCtor(this,ve).schedule(_e,Ie)}}W.now=u.l.now;class B extends W{constructor(ve,Ie=W.now){super(ve,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ve){const{actions:Ie}=this;if(this._active)return void Ie.push(ve);let _e;this._active=!0;do{if(_e=ve.execute(ve.state,ve.delay))break}while(ve=Ie.shift());if(this._active=!1,_e){for(;ve=Ie.shift();)ve.unsubscribe();throw _e}}}},4986:(St,Ve,j)=>{"use strict";j.d(Ve,{P:()=>ge,z:()=>B});var u=j(4408);const B=new(j(7565).v)(u.o),ge=B},6063:(St,Ve,j)=>{"use strict";j.d(Ve,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>u});const u={setTimeout(W,B,...ge){const{delegate:ve}=u;return ve?.setTimeout?ve.setTimeout(W,B,...ge):setTimeout(W,B,...ge)},clearTimeout(W){const{delegate:B}=u;return(B?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(St,Ve,j)=>{"use strict";j.d(Ve,{h:()=>W});const W=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(St,Ve,j)=>{"use strict";j.d(Ve,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(St,Ve,j)=>{"use strict";j.d(Ve,{_6:()=>Ie,jO:()=>ge,yG:()=>ve});var u=j(576),W=j(3532);function B(_e){return _e[_e.length-1]}function ge(_e){return(0,u.m)(B(_e))?_e.pop():void 0}function ve(_e){return(0,W.K)(B(_e))?_e.pop():void 0}function Ie(_e,Ce){return"number"==typeof B(_e)?_e.pop():Ce}},8737:(St,Ve,j)=>{"use strict";function u(W,B){if(W){const ge=W.indexOf(B);0<=ge&&W.splice(ge,1)}}j.d(Ve,{P:()=>u})},3888:(St,Ve,j)=>{"use strict";function u(W){const ge=W(ve=>{Error.call(ve),ve.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}j.d(Ve,{d:()=>u})},2806:(St,Ve,j)=>{"use strict";j.d(Ve,{O:()=>ge,x:()=>B});var u=j(2416);let W=null;function B(ve){if(u.v.useDeprecatedSynchronousErrorHandling){const Ie=!W;if(Ie&&(W={errorThrown:!1,error:null}),ve(),Ie){const{errorThrown:_e,error:Ce}=W;if(W=null,_e)throw Ce}}else ve()}function ge(ve){u.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=ve)}},9672:(St,Ve,j)=>{"use strict";function u(W,B,ge,ve=0,Ie=!1){const _e=B.schedule(function(){ge(),Ie?W.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(W.add(_e),!Ie)return _e}j.d(Ve,{f:()=>u})},4671:(St,Ve,j)=>{"use strict";function u(W){return W}j.d(Ve,{y:()=>u})},1144:(St,Ve,j)=>{"use strict";j.d(Ve,{z:()=>u});const u=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(St,Ve,j)=>{"use strict";j.d(Ve,{D:()=>W});var u=j(576);function W(B){return Symbol.asyncIterator&&(0,u.m)(B?.[Symbol.asyncIterator])}},576:(St,Ve,j)=>{"use strict";function u(W){return"function"==typeof W}j.d(Ve,{m:()=>u})},3670:(St,Ve,j)=>{"use strict";j.d(Ve,{c:()=>B});var u=j(8822),W=j(576);function B(ge){return(0,W.m)(ge[u.L])}},6495:(St,Ve,j)=>{"use strict";j.d(Ve,{T:()=>B});var u=j(2202),W=j(576);function B(ge){return(0,W.m)(ge?.[u.h])}},8239:(St,Ve,j)=>{"use strict";j.d(Ve,{t:()=>W});var u=j(576);function W(B){return(0,u.m)(B?.then)}},3260:(St,Ve,j)=>{"use strict";j.d(Ve,{L:()=>ge,Q:()=>B});var u=j(655),W=j(576);function B(ve){return(0,u.FC)(this,arguments,function*(){const _e=ve.getReader();try{for(;;){const{value:Ce,done:Ae}=yield(0,u.qq)(_e.read());if(Ae)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ce)}}finally{_e.releaseLock()}})}function ge(ve){return(0,W.m)(ve?.getReader)}},3532:(St,Ve,j)=>{"use strict";j.d(Ve,{K:()=>W});var u=j(576);function W(B){return B&&(0,u.m)(B.schedule)}},4482:(St,Ve,j)=>{"use strict";j.d(Ve,{A:()=>W,e:()=>B});var u=j(576);function W(ge){return(0,u.m)(ge?.lift)}function B(ge){return ve=>{if(W(ve))return ve.lift(function(Ie){try{return ge(Ie,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(St,Ve,j)=>{"use strict";function u(){}j.d(Ve,{Z:()=>u})},9635:(St,Ve,j)=>{"use strict";j.d(Ve,{U:()=>B,z:()=>W});var u=j(4671);function W(...ge){return B(ge)}function B(ge){return 0===ge.length?u.y:1===ge.length?ge[0]:function(Ie){return ge.reduce((_e,Ce)=>Ce(_e),Ie)}}},7849:(St,Ve,j)=>{"use strict";j.d(Ve,{h:()=>B});var u=j(2416),W=j(3410);function B(ge){W.z.setTimeout(()=>{const{onUnhandledError:ve}=u.v;if(!ve)throw ge;ve(ge)})}},4532:(St,Ve,j)=>{"use strict";function u(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ve,{z:()=>u})},5226:function(St){St.exports=function(){"use strict";const Ve="SweetAlert2:",u=T=>T.charAt(0).toUpperCase()+T.slice(1),W=T=>{console.warn("".concat(Ve," ").concat("object"==typeof T?T.join(" "):T))},B=T=>{console.error("".concat(Ve," ").concat(T))},ge=[],Ie=(T,S)=>{(T=>{ge.includes(T)||(ge.push(T),W(T))})('"'.concat(T,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},_e=T=>"function"==typeof T?T():T,Ce=T=>T&&"function"==typeof T.toPromise,Ae=T=>Ce(T)?T.toPromise():Promise.resolve(T),ee=T=>T&&Promise.resolve(T)===T,ce={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},st=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ze={},Le=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_t=T=>Object.prototype.hasOwnProperty.call(ce,T),Oe=T=>-1!==st.indexOf(T),Te=T=>Ze[T],ht=T=>{_t(T)||W('Unknown parameter "'.concat(T,'"'))},ft=T=>{Le.includes(T)&&W('The parameter "'.concat(T,'" is incompatible with toasts'))},Ke=T=>{Te(T)&&Ie(T,Te(T))},lt=T=>{const S={};for(const R in T)S[T[R]]="swal2-"+T[R];return S},G=lt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),ye=lt(["success","warning","info","question","error"]),Ee=()=>document.body.querySelector(".".concat(G.container)),ae=T=>{const S=Ee();return S?S.querySelector(T):null},le=T=>ae(".".concat(T)),he=()=>le(G.popup),me=()=>le(G.icon),Qe=()=>le(G.title),Ye=()=>le(G["html-container"]),Ot=()=>le(G.image),gn=()=>le(G["progress-steps"]),Jt=()=>le(G["validation-message"]),tt=()=>ae(".".concat(G.actions," .").concat(G.confirm)),yn=()=>ae(".".concat(G.actions," .").concat(G.deny)),un=()=>ae(".".concat(G.loader)),on=()=>ae(".".concat(G.actions," .").concat(G.cancel)),Yt=()=>le(G.actions),Qt=()=>le(G.footer),Ci=()=>le(G["timer-progress-bar"]),Qr=()=>le(G.close),jn=()=>{const T=Array.from(he().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,Y)=>{const Re=parseInt(R.getAttribute("tabindex")),xe=parseInt(Y.getAttribute("tabindex"));return Re>xe?1:Re<xe?-1:0}),S=Array.from(he().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(T=>{const S=[];for(let R=0;R<T.length;R++)-1===S.indexOf(T[R])&&S.push(T[R]);return S})(T.concat(S)).filter(R=>mn(R))},Dr=()=>wt(document.body,G.shown)&&!wt(document.body,G["toast-shown"])&&!wt(document.body,G["no-backdrop"]),Yi=()=>he()&&wt(he(),G.toast),Hn={previousBodyPadding:null},Zn=(T,S)=>{if(T.textContent="",S){const Y=(new DOMParser).parseFromString(S,"text/html");Array.from(Y.querySelector("head").childNodes).forEach(Re=>{T.appendChild(Re)}),Array.from(Y.querySelector("body").childNodes).forEach(Re=>{T.appendChild(Re)})}},wt=(T,S)=>{if(!S)return!1;const R=S.split(/\s+/);for(let Y=0;Y<R.length;Y++)if(!T.classList.contains(R[Y]))return!1;return!0},Bn=(T,S,R)=>{if(((T,S)=>{Array.from(T.classList).forEach(R=>{!Object.values(G).includes(R)&&!Object.values(ye).includes(R)&&!Object.values(S.showClass).includes(R)&&T.classList.remove(R)})})(T,S),S.customClass&&S.customClass[R]){if("string"!=typeof S.customClass[R]&&!S.customClass[R].forEach)return W("Invalid type of customClass.".concat(R,'! Expected string or iterable object, got "').concat(typeof S.customClass[R],'"'));Vt(T,S.customClass[R])}},vn=(T,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return T.querySelector(".".concat(G.popup," > .").concat(G[S]));case"checkbox":return T.querySelector(".".concat(G.popup," > .").concat(G.checkbox," input"));case"radio":return T.querySelector(".".concat(G.popup," > .").concat(G.radio," input:checked"))||T.querySelector(".".concat(G.popup," > .").concat(G.radio," input:first-child"));case"range":return T.querySelector(".".concat(G.popup," > .").concat(G.range," input"));default:return T.querySelector(".".concat(G.popup," > .").concat(G.input))}},di=T=>{if(T.focus(),"file"!==T.type){const S=T.value;T.value="",T.value=S}},Ui=(T,S,R)=>{!T||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(Y=>{Array.isArray(T)?T.forEach(Re=>{R?Re.classList.add(Y):Re.classList.remove(Y)}):R?T.classList.add(Y):T.classList.remove(Y)}))},Vt=(T,S)=>{Ui(T,S,!0)},dn=(T,S)=>{Ui(T,S,!1)},ii=(T,S)=>{const R=Array.from(T.children);for(let Y=0;Y<R.length;Y++){const Re=R[Y];if(Re instanceof HTMLElement&&wt(Re,S))return Re}},Tn=(T,S,R)=>{R==="".concat(parseInt(R))&&(R=parseInt(R)),R||0===parseInt(R)?T.style[S]="number"==typeof R?"".concat(R,"px"):R:T.style.removeProperty(S)},ct=function(T){T.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},at=T=>{T.style.display="none"},Gn=(T,S,R,Y)=>{const Re=T.querySelector(S);Re&&(Re.style[R]=Y)},ki=function(T,S){S?ct(T,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):at(T)},mn=T=>!(!T||!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)),Kn=T=>T.scrollHeight>T.clientHeight,Qi=T=>{const S=window.getComputedStyle(T),R=parseFloat(S.getPropertyValue("animation-duration")||"0"),Y=parseFloat(S.getPropertyValue("transition-duration")||"0");return R>0||Y>0},Wt=function(T){let S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Ci();mn(R)&&(S&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition="width ".concat(T/1e3,"s linear"),R.style.width="0%"},10))},qt=()=>typeof window>"u"||typeof document>"u",q={},ie=T=>new Promise(S=>{if(!T)return S();const R=window.scrollX,Y=window.scrollY;q.restoreFocusTimeout=setTimeout(()=>{q.previousActiveElement instanceof HTMLElement?(q.previousActiveElement.focus(),q.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(R,Y)}),re='\n <div aria-labelledby="'.concat(G.title,'" aria-describedby="').concat(G["html-container"],'" class="').concat(G.popup,'" tabindex="-1">\n   <button type="button" class="').concat(G.close,'"></button>\n   <ul class="').concat(G["progress-steps"],'"></ul>\n   <div class="').concat(G.icon,'"></div>\n   <img class="').concat(G.image,'" />\n   <h2 class="').concat(G.title,'" id="').concat(G.title,'"></h2>\n   <div class="').concat(G["html-container"],'" id="').concat(G["html-container"],'"></div>\n   <input class="').concat(G.input,'" />\n   <input type="file" class="').concat(G.file,'" />\n   <div class="').concat(G.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(G.select,'"></select>\n   <div class="').concat(G.radio,'"></div>\n   <label for="').concat(G.checkbox,'" class="').concat(G.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(G.label,'"></span>\n   </label>\n   <textarea class="').concat(G.textarea,'"></textarea>\n   <div class="').concat(G["validation-message"],'" id="').concat(G["validation-message"],'"></div>\n   <div class="').concat(G.actions,'">\n     <div class="').concat(G.loader,'"></div>\n     <button type="button" class="').concat(G.confirm,'"></button>\n     <button type="button" class="').concat(G.deny,'"></button>\n     <button type="button" class="').concat(G.cancel,'"></button>\n   </div>\n   <div class="').concat(G.footer,'"></div>\n   <div class="').concat(G["timer-progress-bar-container"],'">\n     <div class="').concat(G["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),nt=()=>{q.currentInstance.resetValidationMessage()},de=T=>{const S=(()=>{const T=Ee();return!!T&&(T.remove(),dn([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0)})();if(qt())return void B("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=G.container,S&&Vt(R,G["no-transition"]),Zn(R,re);const Y=(T=>"string"==typeof T?document.querySelector(T):T)(T.target);Y.appendChild(R),(T=>{const S=he();S.setAttribute("role",T.toast?"alert":"dialog"),S.setAttribute("aria-live",T.toast?"polite":"assertive"),T.toast||S.setAttribute("aria-modal","true")})(T),(T=>{"rtl"===window.getComputedStyle(T).direction&&Vt(Ee(),G.rtl)})(Y),(()=>{const T=he(),S=ii(T,G.input),R=ii(T,G.file),Y=T.querySelector(".".concat(G.range," input")),Re=T.querySelector(".".concat(G.range," output")),xe=ii(T,G.select),Zt=T.querySelector(".".concat(G.checkbox," input")),Qn=ii(T,G.textarea);S.oninput=nt,R.onchange=nt,xe.onchange=nt,Zt.onchange=nt,Qn.oninput=nt,Y.oninput=()=>{nt(),Re.value=Y.value},Y.onchange=()=>{nt(),Re.value=Y.value}})()},J=(T,S)=>{T instanceof HTMLElement?S.appendChild(T):"object"==typeof T?X(T,S):T&&Zn(S,T)},X=(T,S)=>{T.jquery?ke(S,T):Zn(S,T.toString())},ke=(T,S)=>{if(T.textContent="",0 in S)for(let R=0;R in S;R++)T.appendChild(S[R].cloneNode(!0));else T.appendChild(S.cloneNode(!0))},et=(()=>{if(qt())return!1;const T=document.createElement("div"),S={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in S)if(Object.prototype.hasOwnProperty.call(S,R)&&typeof T.style[R]<"u")return S[R];return!1})(),Ge=(T,S)=>{const R=Yt(),Y=un();S.showConfirmButton||S.showDenyButton||S.showCancelButton?ct(R):at(R),Bn(R,S,"actions"),function dt(T,S,R){const Y=tt(),Re=yn(),xe=on();Fn(Y,"confirm",R),Fn(Re,"deny",R),Fn(xe,"cancel",R),function Ut(T,S,R,Y){if(!Y.buttonsStyling)return dn([T,S,R],G.styled);Vt([T,S,R],G.styled),Y.confirmButtonColor&&(T.style.backgroundColor=Y.confirmButtonColor,Vt(T,G["default-outline"])),Y.denyButtonColor&&(S.style.backgroundColor=Y.denyButtonColor,Vt(S,G["default-outline"])),Y.cancelButtonColor&&(R.style.backgroundColor=Y.cancelButtonColor,Vt(R,G["default-outline"]))}(Y,Re,xe,R),R.reverseButtons&&(R.toast?(T.insertBefore(xe,Y),T.insertBefore(Re,Y)):(T.insertBefore(xe,S),T.insertBefore(Re,S),T.insertBefore(Y,S)))}(R,Y,S),Zn(Y,S.loaderHtml),Bn(Y,S,"loader")};function Fn(T,S,R){ki(T,R["show".concat(u(S),"Button")],"inline-block"),Zn(T,R["".concat(S,"ButtonText")]),T.setAttribute("aria-label",R["".concat(S,"ButtonAriaLabel")]),T.className=G[S],Bn(T,R,"".concat(S,"Button")),Vt(T,R["".concat(S,"ButtonClass")])}const Ri=(T,S)=>{const R=Ee();!R||(function Lt(T,S){"string"==typeof S?T.style.background=S:S||Vt([document.documentElement,document.body],G["no-backdrop"])}(R,S.backdrop),function Mi(T,S){S in G?Vt(T,G[S]):(W('The "position" parameter is not valid, defaulting to "center"'),Vt(T,G.center))}(R,S.position),function $n(T,S){if(S&&"string"==typeof S){const R="grow-".concat(S);R in G&&Vt(T,G[R])}}(R,S.grow),Bn(R,S,"container"))};var Gt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const qs=["input","file","range","select","radio","checkbox","textarea"],fi=T=>{if(!ai[T.input])return B('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(T.input,'"'));const S=vs(T.input),R=ai[T.input](S,T);ct(S),setTimeout(()=>{di(R)})},pc=(T,S)=>{const R=vn(he(),T);if(R){(T=>{for(let S=0;S<T.attributes.length;S++){const R=T.attributes[S].name;["type","value","style"].includes(R)||T.removeAttribute(R)}})(R);for(const Y in S)R.setAttribute(Y,S[Y])}},Zs=T=>{const S=vs(T.input);"object"==typeof T.customClass&&Vt(S,T.customClass.input)},oi=(T,S)=>{(!T.placeholder||S.inputPlaceholder)&&(T.placeholder=S.inputPlaceholder)},_r=(T,S,R)=>{if(R.inputLabel){T.id=G.input;const Y=document.createElement("label"),Re=G["input-label"];Y.setAttribute("for",T.id),Y.className=Re,"object"==typeof R.customClass&&Vt(Y,R.customClass.inputLabel),Y.innerText=R.inputLabel,S.insertAdjacentElement("beforebegin",Y)}},vs=T=>ii(he(),G[T]||G.input),ri=(T,S)=>{["string","number"].includes(typeof S)?T.value="".concat(S):ee(S)||W('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof S,'"'))},ai={};ai.text=ai.email=ai.password=ai.number=ai.tel=ai.url=(T,S)=>(ri(T,S.inputValue),_r(T,T,S),oi(T,S),T.type=S.input,T),ai.file=(T,S)=>(_r(T,T,S),oi(T,S),T),ai.range=(T,S)=>{const R=T.querySelector("input"),Y=T.querySelector("output");return ri(R,S.inputValue),R.type=S.input,ri(Y,S.inputValue),_r(R,T,S),T},ai.select=(T,S)=>{if(T.textContent="",S.inputPlaceholder){const R=document.createElement("option");Zn(R,S.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,T.appendChild(R)}return _r(T,T,S),T},ai.radio=T=>(T.textContent="",T),ai.checkbox=(T,S)=>{const R=vn(he(),"checkbox");R.value="1",R.id=G.checkbox,R.checked=Boolean(S.inputValue);const Y=T.querySelector("span");return Zn(Y,S.inputPlaceholder),R},ai.textarea=(T,S)=>{ri(T,S.inputValue),oi(T,S),_r(T,T,S);return setTimeout(()=>{if("MutationObserver"in window){const Y=parseInt(window.getComputedStyle(he()).width);new MutationObserver(()=>{const xe=T.offsetWidth+(Y=>parseInt(window.getComputedStyle(Y).marginLeft)+parseInt(window.getComputedStyle(Y).marginRight))(T);he().style.width=xe>Y?"".concat(xe,"px"):null}).observe(T,{attributes:!0,attributeFilter:["style"]})}}),T};const ji=(T,S)=>{const R=Ye();Bn(R,S,"htmlContainer"),S.html?(J(S.html,R),ct(R,"block")):S.text?(R.textContent=S.text,ct(R,"block")):at(R),((T,S)=>{const R=he(),Y=Gt.innerParams.get(T),Re=!Y||S.input!==Y.input;qs.forEach(xe=>{const Zt=ii(R,G[xe]);pc(xe,S.inputAttributes),Zt.className=G[xe],Re&&at(Zt)}),S.input&&(Re&&fi(S),Zs(S))})(T,S)},bs=(T,S)=>{for(const R in ye)S.icon!==R&&dn(T,ye[R]);Vt(T,ye[S.icon]),Ei(T,S),Cl(),Bn(T,S,"icon")},Cl=()=>{const T=he(),S=window.getComputedStyle(T).getPropertyValue("background-color"),R=T.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Y=0;Y<R.length;Y++)R[Y].style.backgroundColor=S},Br=(T,S)=>{let Y,R=T.innerHTML;S.iconHtml?Y=Cs(S.iconHtml):"success"===S.icon?(Y='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):Y="error"===S.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Cs({question:"?",warning:"!",info:"i"}[S.icon]),R.trim()!==Y.trim()&&Zn(T,Y)},Ei=(T,S)=>{if(S.iconColor){T.style.color=S.iconColor,T.style.borderColor=S.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gn(T,R,"backgroundColor",S.iconColor);Gn(T,".swal2-success-ring","borderColor",S.iconColor)}},Cs=T=>'<div class="'.concat(G["icon-content"],'">').concat(T,"</div>"),El=T=>{const S=document.createElement("li");return Vt(S,G["progress-step"]),Zn(S,T),S},yo=T=>{const S=document.createElement("li");return Vt(S,G["progress-step-line"]),T.progressStepsDistance&&Tn(S,"width",T.progressStepsDistance),S},mc=(T,S)=>{T.className="".concat(G.popup," ").concat(mn(T)?S.showClass.popup:""),S.toast?(Vt([document.documentElement,document.body],G["toast-shown"]),Vt(T,G.toast)):Vt(T,G.modal),Bn(T,S,"popup"),"string"==typeof S.customClass&&Vt(T,S.customClass),S.icon&&Vt(T,G["icon-".concat(S.icon)])},_c=(T,S)=>{((T,S)=>{const R=Ee(),Y=he();S.toast?(Tn(R,"width",S.width),Y.style.width="100%",Y.insertBefore(un(),me())):Tn(Y,"width",S.width),Tn(Y,"padding",S.padding),S.color&&(Y.style.color=S.color),S.background&&(Y.style.background=S.background),at(Jt()),mc(Y,S)})(0,S),Ri(0,S),((T,S)=>{const R=gn();if(!S.progressSteps||0===S.progressSteps.length)return at(R);ct(R),R.textContent="",S.currentProgressStep>=S.progressSteps.length&&W("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.progressSteps.forEach((Y,Re)=>{const xe=El(Y);if(R.appendChild(xe),Re===S.currentProgressStep&&Vt(xe,G["active-progress-step"]),Re!==S.progressSteps.length-1){const Zt=yo(S);R.appendChild(Zt)}})})(0,S),((T,S)=>{const R=Gt.innerParams.get(T),Y=me();R&&S.icon===R.icon?(Br(Y,S),bs(Y,S)):S.icon||S.iconHtml?S.icon&&-1===Object.keys(ye).indexOf(S.icon)?(B('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),at(Y)):(ct(Y),Br(Y,S),bs(Y,S),Vt(Y,S.showClass.icon)):at(Y)})(T,S),((T,S)=>{const R=Ot();if(!S.imageUrl)return at(R);ct(R,""),R.setAttribute("src",S.imageUrl),R.setAttribute("alt",S.imageAlt),Tn(R,"width",S.imageWidth),Tn(R,"height",S.imageHeight),R.className=G.image,Bn(R,S,"image")})(0,S),((T,S)=>{const R=Qe();ki(R,S.title||S.titleText,"block"),S.title&&J(S.title,R),S.titleText&&(R.innerText=S.titleText),Bn(R,S,"title")})(0,S),((T,S)=>{const R=Qr();Zn(R,S.closeButtonHtml),Bn(R,S,"closeButton"),ki(R,S.showCloseButton),R.setAttribute("aria-label",S.closeButtonAriaLabel)})(0,S),ji(T,S),Ge(0,S),((T,S)=>{const R=Qt();ki(R,S.footer),S.footer&&J(S.footer,R),Bn(R,S,"footer")})(0,S),"function"==typeof S.didRender&&S.didRender(he())},Xo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Es=()=>{Array.from(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},Ks=["swal-title","swal-html","swal-footer"],Ih=T=>{const S={};return Array.from(T.querySelectorAll("swal-param")).forEach(Y=>{Ys(Y,["name","value"]);const Re=Y.getAttribute("name"),xe=Y.getAttribute("value");"boolean"==typeof ce[Re]&&"false"===xe&&(S[Re]=!1),"object"==typeof ce[Re]&&(S[Re]=JSON.parse(xe))}),S},Ds=T=>{const S={};return Array.from(T.querySelectorAll("swal-button")).forEach(Y=>{Ys(Y,["type","color","aria-label"]);const Re=Y.getAttribute("type");S["".concat(Re,"ButtonText")]=Y.innerHTML,S["show".concat(u(Re),"Button")]=!0,Y.hasAttribute("color")&&(S["".concat(Re,"ButtonColor")]=Y.getAttribute("color")),Y.hasAttribute("aria-label")&&(S["".concat(Re,"ButtonAriaLabel")]=Y.getAttribute("aria-label"))}),S},Ah=T=>{const S={},R=T.querySelector("swal-image");return R&&(Ys(R,["src","width","height","alt"]),R.hasAttribute("src")&&(S.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(S.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(S.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(S.imageAlt=R.getAttribute("alt"))),S},Cu=T=>{const S={},R=T.querySelector("swal-icon");return R&&(Ys(R,["type","color"]),R.hasAttribute("type")&&(S.icon=R.getAttribute("type")),R.hasAttribute("color")&&(S.iconColor=R.getAttribute("color")),S.iconHtml=R.innerHTML),S},Nh=T=>{const S={},R=T.querySelector("swal-input");R&&(Ys(R,["type","label","placeholder","value"]),S.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(S.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(S.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(S.inputValue=R.getAttribute("value")));const Y=Array.from(T.querySelectorAll("swal-input-option"));return Y.length&&(S.inputOptions={},Y.forEach(Re=>{Ys(Re,["value"]);const xe=Re.getAttribute("value");S.inputOptions[xe]=Re.innerHTML})),S},Ha=(T,S)=>{const R={};for(const Y in S){const Re=S[Y],xe=T.querySelector(Re);xe&&(Ys(xe,[]),R[Re.replace(/^swal-/,"")]=xe.innerHTML.trim())}return R},ea=T=>{const S=Ks.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(T.children).forEach(R=>{const Y=R.tagName.toLowerCase();-1===S.indexOf(Y)&&W("Unrecognized element <".concat(Y,">"))})},Ys=(T,S)=>{Array.from(T.attributes).forEach(R=>{-1===S.indexOf(R.name)&&W(['Unrecognized attribute "'.concat(R.name,'" on <').concat(T.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})};var vd={email:(T,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(T)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(T,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(T)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function Qs(T){(function xh(T){T.inputValidator||Object.keys(vd).forEach(S=>{T.input===S&&(T.inputValidator=vd[S])})})(T),T.showLoaderOnConfirm&&!T.preConfirm&&W("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Eu(T){(!T.target||"string"==typeof T.target&&!document.querySelector(T.target)||"string"!=typeof T.target&&!T.target.appendChild)&&(W('Target parameter is not valid, defaulting to "body"'),T.target="body")}(T),"string"==typeof T.title&&(T.title=T.title.split("\n").join("<br />")),de(T)}class vc{constructor(S,R){this.callback=S,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(S){const R=this.running;return R&&this.stop(),this.remaining+=S,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const dp=()=>{null===Hn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Hn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Hn.previousBodyPadding+(()=>{const T=document.createElement("div");T.className=G["scrollbar-measure"],document.body.appendChild(T);const S=T.getBoundingClientRect().width-T.clientWidth;return document.body.removeChild(T),S})(),"px"))},Vr=()=>{const T=navigator.userAgent,S=!!T.match(/iPad/i)||!!T.match(/iPhone/i),R=!!T.match(/WebKit/i);S&&R&&!T.match(/CriOS/i)&&he().scrollHeight>window.innerHeight-44&&(Ee().style.paddingBottom="".concat(44,"px"))},Jr=()=>{const T=Ee();let S;T.ontouchstart=R=>{S=Js(R)},T.ontouchmove=R=>{S&&(R.preventDefault(),R.stopPropagation())}},Js=T=>{const S=T.target,R=Ee();return!(vo(T)||bd(T)||S!==R&&(Kn(R)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||Kn(Ye())&&Ye().contains(S)))},vo=T=>T.touches&&T.touches.length&&"stylus"===T.touches[0].touchType,bd=T=>T.touches&&T.touches.length>1,Du=T=>{const S=Ee(),R=he();"function"==typeof T.willOpen&&T.willOpen(R);const Re=window.getComputedStyle(document.body).overflowY;li(S,R,T),setTimeout(()=>{lr(S,R)},10),Dr()&&(Xr(S,T.scrollbarPadding,Re),Array.from(document.body.children).forEach(S=>{S===Ee()||S.contains(Ee())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))})),!Yi()&&!q.previousActiveElement&&(q.previousActiveElement=document.activeElement),"function"==typeof T.didOpen&&setTimeout(()=>T.didOpen(R)),dn(S,G["no-transition"])},na=T=>{const S=he();if(T.target!==S)return;const R=Ee();S.removeEventListener(et,na),R.style.overflowY="auto"},lr=(T,S)=>{et&&Qi(S)?(T.style.overflowY="hidden",S.addEventListener(et,na)):T.style.overflowY="auto"},Xr=(T,S,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!wt(document.body,G.iosfix)){const S=document.body.scrollTop;document.body.style.top="".concat(-1*S,"px"),Vt(document.body,G.iosfix),Jr(),Vr()}})(),S&&"hidden"!==R&&dp(),setTimeout(()=>{T.scrollTop=0})},li=(T,S,R)=>{Vt(T,R.showClass.backdrop),S.style.setProperty("opacity","0","important"),ct(S,"grid"),setTimeout(()=>{Vt(S,R.showClass.popup),S.style.removeProperty("opacity")},10),Vt([document.documentElement,document.body],G.shown),R.heightAuto&&R.backdrop&&!R.toast&&Vt([document.documentElement,document.body],G["height-auto"])},Ts=T=>{let S=he();S||new Gi,S=he();const R=un();Yi()?at(me()):$a(S,T),ct(R),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()},$a=(T,S)=>{const R=Yt(),Y=un();!S&&mn(tt())&&(S=tt()),ct(R),S&&(at(S),Y.setAttribute("data-button-to-replace",S.className)),Y.parentNode.insertBefore(Y,S),Vt([T,R],G.loading)},fp=T=>T.checked?1:0,Yn=T=>T.checked?T.value:null,bc=T=>T.files.length?null!==T.getAttribute("multiple")?T.files:T.files[0]:null,wd=(T,S)=>{const R=he(),Y=Re=>pi[S.input](R,bo(Re),S);Ce(S.inputOptions)||ee(S.inputOptions)?(Ts(tt()),Ae(S.inputOptions).then(Re=>{T.hideLoading(),Y(Re)})):"object"==typeof S.inputOptions?Y(S.inputOptions):B("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof S.inputOptions))},za=(T,S)=>{const R=T.getInput();at(R),Ae(S.inputValue).then(Y=>{R.value="number"===S.input?parseFloat(Y)||0:"".concat(Y),ct(R),R.focus(),T.hideLoading()}).catch(Y=>{B("Error in inputValue promise: ".concat(Y)),R.value="",ct(R),R.focus(),T.hideLoading()})},pi={select:(T,S,R)=>{const Y=ii(T,G.select),Re=(xe,Zt,Qn)=>{const mi=document.createElement("option");mi.value=Qn,Zn(mi,Zt),mi.selected=wo(Qn,R.inputValue),xe.appendChild(mi)};S.forEach(xe=>{const Zt=xe[0],Qn=xe[1];if(Array.isArray(Qn)){const mi=document.createElement("optgroup");mi.label=Zt,mi.disabled=!1,Y.appendChild(mi),Qn.forEach(Nr=>Re(mi,Nr[1],Nr[0]))}else Re(Y,Qn,Zt)}),Y.focus()},radio:(T,S,R)=>{const Y=ii(T,G.radio);S.forEach(xe=>{const Zt=xe[0],Qn=xe[1],mi=document.createElement("input"),Nr=document.createElement("label");mi.type="radio",mi.name=G.radio,mi.value=Zt,wo(Zt,R.inputValue)&&(mi.checked=!0);const Os=document.createElement("span");Zn(Os,Qn),Os.className=G.label,Nr.appendChild(mi),Nr.appendChild(Os),Y.appendChild(Nr)});const Re=Y.querySelectorAll("input");Re.length&&Re[0].focus()}},bo=T=>{const S=[];return typeof Map<"u"&&T instanceof Map?T.forEach((R,Y)=>{let Re=R;"object"==typeof Re&&(Re=bo(Re)),S.push([Y,Re])}):Object.keys(T).forEach(R=>{let Y=T[R];"object"==typeof Y&&(Y=bo(Y)),S.push([R,Y])}),S},wo=(T,S)=>S&&S.toString()===T.toString();function Ur(){const T=Gt.innerParams.get(this);if(!T)return;const S=Gt.domCache.get(this);at(S.loader),Yi()?T.icon&&ct(me()):Di(S),dn([S.popup,S.actions],G.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const Di=T=>{const S=T.popup.getElementsByClassName(T.loader.getAttribute("data-button-to-replace"));S.length?ct(S[0],"inline-block"):!mn(tt())&&!mn(yn())&&!mn(on())&&at(T.actions)};var cr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xi=()=>tt()&&tt().click(),Ct=T=>{T.keydownTarget&&T.keydownHandlerAdded&&(T.keydownTarget.removeEventListener("keydown",T.keydownHandler,{capture:T.keydownListenerCapture}),T.keydownHandlerAdded=!1)},ra=(T,S,R)=>{const Y=jn();if(Y.length)return(S+=R)===Y.length?S=0:-1===S&&(S=Y.length-1),Y[S].focus();he().focus()},Ec=["ArrowRight","ArrowDown"],eo=["ArrowLeft","ArrowUp"],Wa=(T,S,R)=>{const Y=Gt.innerParams.get(T);!Y||S.isComposing||229===S.keyCode||(Y.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?Eo(T,S,Y):"Tab"===S.key?Sl(S,Y):[...Ec,...eo].includes(S.key)?Ss(S.key):"Escape"===S.key&&$e(S,Y,R))},Eo=(T,S,R)=>{if(_e(R.allowEnterKey)&&S.target&&T.getInput()&&S.target instanceof HTMLElement&&S.target.outerHTML===T.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;Xi(),S.preventDefault()}},Sl=(T,S)=>{const R=T.target,Y=jn();let Re=-1;for(let xe=0;xe<Y.length;xe++)if(R===Y[xe]){Re=xe;break}ra(0,Re,T.shiftKey?-1:1),T.stopPropagation(),T.preventDefault()},Ss=T=>{const S=tt(),R=yn(),Y=on();if(document.activeElement instanceof HTMLElement&&![S,R,Y].includes(document.activeElement))return;const Re=Ec.includes(T)?"nextElementSibling":"previousElementSibling";let xe=document.activeElement;for(let Zt=0;Zt<Yt().children.length;Zt++){if(xe=xe[Re],!xe)return;if(xe instanceof HTMLButtonElement&&mn(xe))break}xe instanceof HTMLButtonElement&&xe.focus()},$e=(T,S,R)=>{_e(S.allowEscapeKey)&&(T.preventDefault(),R(Xo.esc))};function nn(T,S,R,Y){Yi()?Cd(T,Y):(ie(R).then(()=>Cd(T,Y)),Ct(q)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),Dr()&&(null!==Hn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Hn.previousBodyPadding,"px"),Hn.previousBodyPadding=null),(()=>{if(wt(document.body,G.iosfix)){const T=parseInt(document.body.style.top,10);dn(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=-1*T}})(),Es()),function Do(){dn([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}()}function sa(T){T=To(T);const S=cr.swalPromiseResolve.get(this),R=Dc(this);this.isAwaitingPromise()?T.isDismissed||(ur(this),S(T)):R&&S(T)}const Dc=T=>{const S=he();if(!S)return!1;const R=Gt.innerParams.get(T);if(!R||wt(S,R.hideClass.popup))return!1;dn(S,R.showClass.popup),Vt(S,R.hideClass.popup);const Y=Ee();return dn(Y,R.showClass.backdrop),Vt(Y,R.hideClass.backdrop),to(T,S,R),!0};const ur=T=>{T.isAwaitingPromise()&&(Gt.awaitingPromise.delete(T),Gt.innerParams.get(T)||T._destroy())},To=T=>typeof T>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},T),to=(T,S,R)=>{const Y=Ee(),Re=et&&Qi(S);"function"==typeof R.willClose&&R.willClose(S),Re?qa(T,S,Y,R.returnFocus,R.didClose):nn(T,Y,R.returnFocus,R.didClose)},qa=(T,S,R,Y,Re)=>{q.swalCloseEventFinishedCallback=nn.bind(null,T,R,Y,Re),S.addEventListener(et,function(xe){xe.target===S&&(q.swalCloseEventFinishedCallback(),delete q.swalCloseEventFinishedCallback)})},Cd=(T,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(T.params)(),T._destroy()})};function no(T,S,R){const Y=Gt.domCache.get(T);S.forEach(Re=>{Y[Re].disabled=R})}function So(T,S){if(!T)return!1;if("radio"===T.type){const Y=T.parentNode.parentNode.querySelectorAll("input");for(let Re=0;Re<Y.length;Re++)Y[Re].disabled=S}else T.disabled=S}const Ic=T=>{const S={};return Object.keys(T).forEach(R=>{Oe(R)?S[R]=T[R]:W("Invalid parameter to update: ".concat(R))}),S};const Io=T=>{Ac(T),delete T.params,delete q.keydownHandler,delete q.keydownTarget,delete q.currentInstance},Ac=T=>{T.isAwaitingPromise()?(Ns(Gt,T),Gt.awaitingPromise.set(T,!0)):(Ns(cr,T),Ns(Gt,T))},Ns=(T,S)=>{for(const R in T)T[R].delete(S)};var Il=Object.freeze({hideLoading:Ur,disableLoading:Ur,getInput:function Xs(T){const S=Gt.innerParams.get(T||this),R=Gt.domCache.get(T||this);return R?vn(R.popup,S.input):null},close:sa,isAwaitingPromise:function zn(){return!!Gt.awaitingPromise.get(this)},rejectPromise:function Is(T){const S=cr.swalPromiseReject.get(this);ur(this),S&&S(T)},handleAwaitingPromise:ur,closePopup:sa,closeModal:sa,closeToast:sa,enableButtons:function Ti(){no(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function es(){no(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Tc(){return So(this.getInput(),!1)},disableInput:function io(){return So(this.getInput(),!0)},showValidationMessage:function As(T){const S=Gt.domCache.get(this),R=Gt.innerParams.get(this);Zn(S.validationMessage,T),S.validationMessage.className=G["validation-message"],R.customClass&&R.customClass.validationMessage&&Vt(S.validationMessage,R.customClass.validationMessage),ct(S.validationMessage);const Y=this.getInput();Y&&(Y.setAttribute("aria-invalid",!0),Y.setAttribute("aria-describedby",G["validation-message"]),di(Y),Vt(Y,G.inputerror))},resetValidationMessage:function Tu(){const T=Gt.domCache.get(this);T.validationMessage&&at(T.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),dn(S,G.inputerror))},getProgressSteps:function Za(){return Gt.domCache.get(this).progressSteps},update:function Sc(T){const S=he(),R=Gt.innerParams.get(this);if(!S||wt(S,R.hideClass.popup))return W("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Y=Ic(T),Re=Object.assign({},R,Y);_c(this,Re),Gt.innerParams.set(this,Re),Object.defineProperties(this,{params:{value:Object.assign({},this.params,T),writable:!1,enumerable:!0}})},_destroy:function Ka(){const T=Gt.domCache.get(this),S=Gt.innerParams.get(this);S?(T.popup&&q.swalCloseEventFinishedCallback&&(q.swalCloseEventFinishedCallback(),delete q.swalCloseEventFinishedCallback),"function"==typeof S.didDestroy&&S.didDestroy(),Io(this)):Ac(this)}});const xc=(T,S)=>{const R=Gt.innerParams.get(T);if(!R.input)return void B('The "input" parameter is needed to be set when using returnInputValueOn'.concat(u(S)));const Y=((T,S)=>{const R=T.getInput();if(!R)return null;switch(S.input){case"checkbox":return fp(R);case"radio":return Yn(R);case"file":return bc(R);default:return S.inputAutoTrim?R.value.trim():R.value}})(T,R);R.inputValidator?aa(T,Y,S):T.getInput().checkValidity()?"deny"===S?Qa(T,Y):Ao(T,Y):(T.enableButtons(),T.showValidationMessage(R.validationMessage))},aa=(T,S,R)=>{const Y=Gt.innerParams.get(T);T.disableInput(),Promise.resolve().then(()=>Ae(Y.inputValidator(S,Y.validationMessage))).then(xe=>{T.enableButtons(),T.enableInput(),xe?T.showValidationMessage(xe):"deny"===R?Qa(T,S):Ao(T,S)})},Qa=(T,S)=>{const R=Gt.innerParams.get(T||void 0);R.showLoaderOnDeny&&Ts(yn()),R.preDeny?(Gt.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ae(R.preDeny(S,R.validationMessage))).then(Re=>{!1===Re?(T.hideLoading(),ur(T)):T.close({isDenied:!0,value:typeof Re>"u"?S:Re})}).catch(Re=>la(T||void 0,Re))):T.close({isDenied:!0,value:S})},Al=(T,S)=>{T.close({isConfirmed:!0,value:S})},la=(T,S)=>{T.rejectPromise(S)},Ao=(T,S)=>{const R=Gt.innerParams.get(T||void 0);R.showLoaderOnConfirm&&Ts(),R.preConfirm?(T.resetValidationMessage(),Gt.awaitingPromise.set(T||void 0,!0),Promise.resolve().then(()=>Ae(R.preConfirm(S,R.validationMessage))).then(Re=>{mn(Jt())||!1===Re?(T.hideLoading(),ur(T)):Al(T,typeof Re>"u"?S:Re)}).catch(Re=>la(T||void 0,Re))):Al(T,S)},dr=(T,S,R)=>{S.popup.onclick=()=>{const Y=Gt.innerParams.get(T);Y&&(Jn(Y)||Y.timer||Y.input)||R(Xo.close)}},Jn=T=>T.showConfirmButton||T.showDenyButton||T.showCancelButton||T.showCloseButton;let Nl=!1;const Ed=T=>{T.popup.onmousedown=()=>{T.container.onmouseup=function(S){T.container.onmouseup=void 0,S.target===T.container&&(Nl=!0)}}},Oc=T=>{T.container.onmousedown=()=>{T.popup.onmouseup=function(S){T.popup.onmouseup=void 0,(S.target===T.popup||T.popup.contains(S.target))&&(Nl=!0)}}},Su=(T,S,R)=>{S.container.onclick=Y=>{const Re=Gt.innerParams.get(T);Nl?Nl=!1:Y.target===S.container&&_e(Re.allowOutsideClick)&&R(Xo.backdrop)}},Dd=T=>T instanceof Element||(T=>"object"==typeof T&&T.jquery)(T);const Id=()=>{if(q.timeout)return(()=>{const T=Ci(),S=parseInt(window.getComputedStyle(T).width);T.style.removeProperty("transition"),T.style.width="100%";const Y=S/parseInt(window.getComputedStyle(T).width)*100;T.style.removeProperty("transition"),T.style.width="".concat(Y,"%")})(),q.timeout.stop()},xl=()=>{if(q.timeout){const T=q.timeout.start();return Wt(T),T}};let Rc=!1;const No={};const Ad=T=>{for(let S=T.target;S&&S!==document;S=S.parentNode)for(const R in No){const Y=S.getAttribute(R);if(Y)return void No[R].fire({template:Y})}};var Oh=Object.freeze({isValidParameter:_t,isUpdatableParameter:Oe,isDeprecatedParameter:Te,argsToParams:T=>{const S={};return"object"!=typeof T[0]||Dd(T[0])?["title","html","icon"].forEach((R,Y)=>{const Re=T[Y];"string"==typeof Re||Dd(Re)?S[R]=Re:void 0!==Re&&B("Unexpected type of ".concat(R,'! Expected "string" or "Element", got ').concat(typeof Re))}):Object.assign(S,T[0]),S},isVisible:()=>mn(he()),clickConfirm:Xi,clickDeny:()=>yn()&&yn().click(),clickCancel:()=>on()&&on().click(),getContainer:Ee,getPopup:he,getTitle:Qe,getHtmlContainer:Ye,getImage:Ot,getIcon:me,getInputLabel:()=>le(G["input-label"]),getCloseButton:Qr,getActions:Yt,getConfirmButton:tt,getDenyButton:yn,getCancelButton:on,getLoader:un,getFooter:Qt,getTimerProgressBar:Ci,getFocusableElements:jn,getValidationMessage:Jt,isLoading:()=>he().hasAttribute("data-loading"),fire:function Sd(){const T=this;for(var S=arguments.length,R=new Array(S),Y=0;Y<S;Y++)R[Y]=arguments[Y];return new T(...R)},mixin:function ca(T){return class S extends(this){_main(Y,Re){return super._main(Y,Object.assign({},T,Re))}}},showLoading:Ts,enableLoading:Ts,getTimerLeft:()=>q.timeout&&q.timeout.getTimerLeft(),stopTimer:Id,resumeTimer:xl,toggleTimer:()=>{const T=q.timeout;return T&&(T.running?Id():xl())},increaseTimer:T=>{if(q.timeout){const S=q.timeout.increase(T);return Wt(S,!0),S}},isTimerRunning:()=>q.timeout&&q.timeout.isRunning(),bindClickHandler:function gi(){No[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Rc||(document.body.addEventListener("click",Ad),Rc=!0)}});let ts;class da{constructor(){if(typeof window>"u")return;ts=this;for(var S=arguments.length,R=new Array(S),Y=0;Y<S;Y++)R[Y]=arguments[Y];const Re=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:Re,writable:!1,enumerable:!0,configurable:!0}});const xe=ts._main(ts.params);Gt.promise.set(this,xe)}_main(S){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(T=>{!T.backdrop&&T.allowOutsideClick&&W('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in T)ht(S),T.toast&&ft(S),Ke(S)})(Object.assign({},R,S)),q.currentInstance&&(q.currentInstance._destroy(),Dr()&&Es()),q.currentInstance=ts;const Y=Xa(S,R);Qs(Y),Object.freeze(Y),q.timeout&&(q.timeout.stop(),delete q.timeout),clearTimeout(q.restoreFocusTimeout);const Re=Ol(ts);return _c(ts,Y),Gt.innerParams.set(ts,Y),Ja(ts,Re,Y)}then(S){return Gt.promise.get(this).then(S)}finally(S){return Gt.promise.get(this).finally(S)}}const Ja=(T,S,R)=>new Promise((Y,Re)=>{const xe=Zt=>{T.closePopup({isDismissed:!0,dismiss:Zt})};cr.swalPromiseResolve.set(T,Y),cr.swalPromiseReject.set(T,Re),S.confirmButton.onclick=()=>(T=>{const S=Gt.innerParams.get(T);T.disableButtons(),S.input?xc(T,"confirm"):Ao(T,!0)})(T),S.denyButton.onclick=()=>(T=>{const S=Gt.innerParams.get(T);T.disableButtons(),S.returnInputValueOnDeny?xc(T,"deny"):Qa(T,!1)})(T),S.cancelButton.onclick=()=>((T,S)=>{T.disableButtons(),S(Xo.cancel)})(T,xe),S.closeButton.onclick=()=>xe(Xo.close),((T,S,R)=>{Gt.innerParams.get(T).toast?dr(T,S,R):(Ed(S),Oc(S),Su(T,S,R))})(T,S,xe),((T,S,R,Y)=>{Ct(S),R.toast||(S.keydownHandler=Re=>Wa(T,Re,Y),S.keydownTarget=R.keydownListenerCapture?window:he(),S.keydownListenerCapture=R.keydownListenerCapture,S.keydownTarget.addEventListener("keydown",S.keydownHandler,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0)})(T,q,R,xe),((T,S)=>{"select"===S.input||"radio"===S.input?wd(T,S):["text","email","number","tel","textarea"].includes(S.input)&&(Ce(S.inputValue)||ee(S.inputValue))&&(Ts(tt()),za(T,S))})(T,R),Du(R),Mc(q,R,xe),Nd(S,R),setTimeout(()=>{S.container.scrollTop=0})}),Xa=(T,S)=>{const R=(T=>{const S="string"==typeof T.template?document.querySelector(T.template):T.template;if(!S)return{};const R=S.content;return ea(R),Object.assign(Ih(R),Ds(R),Ah(R),Cu(R),Nh(R),Ha(R,Ks))})(T),Y=Object.assign({},ce,S,R,T);return Y.showClass=Object.assign({},ce.showClass,Y.showClass),Y.hideClass=Object.assign({},ce.hideClass,Y.hideClass),Y},Ol=T=>{const S={popup:he(),container:Ee(),actions:Yt(),confirmButton:tt(),denyButton:yn(),cancelButton:on(),loader:un(),closeButton:Qr(),validationMessage:Jt(),progressSteps:gn()};return Gt.domCache.set(T,S),S},Mc=(T,S,R)=>{const Y=Ci();at(Y),S.timer&&(T.timeout=new vc(()=>{R("timer"),delete T.timeout},S.timer),S.timerProgressBar&&(ct(Y),Bn(Y,S,"timerProgressBar"),setTimeout(()=>{T.timeout&&T.timeout.running&&Wt(S.timer)})))},Nd=(T,S)=>{if(!S.toast){if(!_e(S.allowEnterKey))return kl();xd(T,S)||ra(0,-1,1)}},xd=(T,S)=>S.focusDeny&&mn(T.denyButton)?(T.denyButton.focus(),!0):S.focusCancel&&mn(T.cancelButton)?(T.cancelButton.focus(),!0):!(!S.focusConfirm||!mn(T.confirmButton)||(T.confirmButton.focus(),0)),kl=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const T=document.createElement("div");T.className="leave-russia-now-and-apply-your-skills-to-the-world";const S=(T=>T[Math.floor(Math.random()*T.length)])([{text:"\u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c,\n        <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:",id:"4CfDhaRkw7I"},{text:"\u042d\u043c\u043f\u0430\u0442\u0438\u044f - \u0433\u043b\u0430\u0432\u043d\u043e\u0435 <strong>\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u0435\u0441\u043a\u043e\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043e. \u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c. <strong>\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e.</strong>",id:"s-GLAIY4DXA"}]);Zn(T,"\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        ".concat(S.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(S.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      '));const R=document.createElement("button");R.innerHTML="&times;",R.onclick=()=>T.remove(),T.appendChild(R),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(T)},1e3)})}Object.assign(da.prototype,Il),Object.assign(da,Oh),Object.keys(Il).forEach(T=>{da[T]=function(){if(ts)return ts[T](...arguments)}}),da.DismissReason=Xo,da.version="11.4.26";const Gi=da;return Gi.default=Gi,Gi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ve,j){var u=Ve.createElement("style");if(Ve.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=j);else try{u.innerHTML=j}catch{u.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(St,Ve,j)=>{"use strict";function ge(ae,le){var he={};for(var me in ae)Object.prototype.hasOwnProperty.call(ae,me)&&le.indexOf(me)<0&&(he[me]=ae[me]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(me=Object.getOwnPropertySymbols(ae);Qe<me.length;Qe++)le.indexOf(me[Qe])<0&&Object.prototype.propertyIsEnumerable.call(ae,me[Qe])&&(he[me[Qe]]=ae[me[Qe]])}return he}function Ce(ae,le,he,me){return new(he||(he=Promise))(function(Ye,Ot){function gn(yn){try{tt(me.next(yn))}catch(ni){Ot(ni)}}function Jt(yn){try{tt(me.throw(yn))}catch(ni){Ot(ni)}}function tt(yn){yn.done?Ye(yn.value):function Qe(Ye){return Ye instanceof he?Ye:new he(function(Ot){Ot(Ye)})}(yn.value).then(gn,Jt)}tt((me=me.apply(ae,le||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Te(ae,le,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,me=he.apply(ae,le||[]),Ye=[];return Qe={},Ot("next"),Ot("throw"),Ot("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Ot(un){me[un]&&(Qe[un]=function(on){return new Promise(function(Yt,Qt){Ye.push([un,on,Yt,Qt])>1||gn(un,on)})})}function gn(un,on){try{!function Jt(un){un.value instanceof Oe?Promise.resolve(un.value.v).then(tt,yn):ni(Ye[0][2],un)}(me[un](on))}catch(Yt){ni(Ye[0][3],Yt)}}function tt(un){gn("next",un)}function yn(un){gn("throw",un)}function ni(un,on){un(on),Ye.shift(),Ye.length&&gn(Ye[0][0],Ye[0][1])}}function ft(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function ce(ae){var le="function"==typeof Symbol&&Symbol.iterator,he=le&&ae[le],me=0;if(he)return he.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&me>=ae.length&&(ae=void 0),{value:ae&&ae[me++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),he={},me("next"),me("throw"),me("return"),he[Symbol.asyncIterator]=function(){return this},he);function me(Ye){he[Ye]=ae[Ye]&&function(Ot){return new Promise(function(gn,Jt){!function Qe(Ye,Ot,gn,Jt){Promise.resolve(Jt).then(function(tt){Ye({value:tt,done:gn})},Ot)}(gn,Jt,(Ot=ae[Ye](Ot)).done,Ot.value)})}}}j.d(Ve,{FC:()=>Te,KL:()=>ft,_T:()=>ge,mG:()=>Ce,qq:()=>Oe})},4650:(St,Ve,j)=>{"use strict";j.d(Ve,{$8M:()=>Ml,$Z:()=>o_,AFp:()=>td,AaK:()=>Ce,AsE:()=>ng,BQk:()=>gf,CHM:()=>Do,CRH:()=>O1,CZH:()=>Nf,CqO:()=>F0,D6c:()=>WB,DdM:()=>_b,EJc:()=>$O,EpF:()=>S_,F$t:()=>YN,F4k:()=>P0,FYo:()=>Zc,FiY:()=>We,G48:()=>kB,Gf:()=>N1,GfV:()=>$i,Gpc:()=>te,Hsn:()=>QN,Ikx:()=>rg,JOm:()=>dl,KtG:()=>sa,LFG:()=>Ii,LMc:()=>qB,LSH:()=>mv,Lbi:()=>HO,Lck:()=>pb,MAs:()=>k0,MGl:()=>Ju,MMx:()=>mb,NdJ:()=>qp,OlP:()=>kn,Oqu:()=>H0,PXZ:()=>rc,Q6J:()=>pf,QGY:()=>I_,QP$:()=>If,QbO:()=>EB,Qsj:()=>It,QtT:()=>c1,R0b:()=>Ra,RDi:()=>Bh,Rgc:()=>yg,SBq:()=>Vm,SDv:()=>Ef,Sil:()=>K1,Suo:()=>x1,TTD:()=>Js,TgZ:()=>$p,Tol:()=>ox,Udp:()=>R_,VKq:()=>b1,W1O:()=>M1,WLB:()=>Kx,X6Q:()=>ak,XFs:()=>wt,Xpm:()=>Q,Xts:()=>_v,Y36:()=>tf,YKP:()=>fb,YNc:()=>O0,Yjl:()=>de,Yz7:()=>on,ZZ4:()=>dT,_Bn:()=>hb,_UZ:()=>R0,_Vd:()=>Bm,_c5:()=>$B,_uU:()=>B_,aQg:()=>hT,c2e:()=>GO,cJS:()=>Qt,cg1:()=>V_,dDg:()=>KO,dqk:()=>at,eFA:()=>QO,ekj:()=>M_,eoX:()=>eT,f3M:()=>Gr,g9A:()=>jO,h0i:()=>lh,hGG:()=>zB,hij:()=>tg,iGM:()=>yO,ifc:()=>ct,ip1:()=>nc,kEZ:()=>mg,kL8:()=>J0,lG2:()=>hi,lqb:()=>zh,lri:()=>wg,n5z:()=>Au,oAB:()=>Ft,oxw:()=>ru,pQV:()=>q_,q4F:()=>nE,qLn:()=>Ip,qOj:()=>S0,qZA:()=>zp,rWj:()=>X1,s9C:()=>A_,sBO:()=>RB,sIi:()=>C_,s_b:()=>bb,soG:()=>J_,tb:()=>ch,tp0:()=>Mt,uIk:()=>I0,vHH:()=>Le,vpe:()=>tc,wAp:()=>$t,xp6:()=>IE,ynx:()=>Wp,z2F:()=>Rb,zSh:()=>JC,zs3:()=>zu});var u=j(7579),W=j(727),B=j(9751),ge=j(6451),ve=j(3099);function Ie(o){for(let a in o)if(o[a]===Ie)return a;throw Error("Could not find renamed property on target object.")}function _e(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ae(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ee=Ie({__forward_ref__:Ie});function te(o){return o.__forward_ref__=te,o.toString=function(){return Ce(this())},o}function ce(o){return st(o)?o():o}function st(o){return"function"==typeof o&&o.hasOwnProperty(ee)&&o.__forward_ref__===te}class Le extends Error{constructor(a,c){super(function _t(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Oe(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,a){throw new Le(-201,!1)}function tt(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}function on(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Qt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ci(o){return Qr(o,Yi)||Qr(o,Hn)}function Qr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Dr(o){return o&&(o.hasOwnProperty(Tr)||o.hasOwnProperty(Zn))?o[Tr]:null}const Yi=Ie({\u0275prov:Ie}),Tr=Ie({\u0275inj:Ie}),Hn=Ie({ngInjectableDef:Ie}),Zn=Ie({ngInjectorDef:Ie});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Pn;function vn(o){const a=Pn;return Pn=o,a}function di(o,a,c){const h=Ci(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&wt.Optional?null:void 0!==a?a:void ze(Ce(o))}function Vt(o){return{toString:o}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),ct=(()=>{return(o=ct||(ct={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ct;var o})();const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mn={},Xt=[],Kn=Ie({\u0275cmp:Ie}),Qi=Ie({\u0275dir:Ie}),Wt=Ie({\u0275pipe:Ie}),Sr=Ie({\u0275mod:Ie}),qt=Ie({\u0275fac:Ie}),oe=Ie({__NG_ELEMENT_ID__:Ie});let q=0;function Q(o){return Vt(()=>{const c=!0===o.standalone,h={},p={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Xt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,id:"c"+q++,styles:o.styles||Xt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return p.inputs=Sn(o.inputs,h),p.outputs=Sn(o.outputs),v&&v.forEach(C=>C(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(re).filter(Ue):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(ke).filter(Ue):null,p})}function re(o){return J(o)||X(o)}function Ue(o){return null!==o}const nt={};function Ft(o){return Vt(()=>{const a={type:o.type,bootstrap:o.bootstrap||Xt,declarations:o.declarations||Xt,imports:o.imports||Xt,exports:o.exports||Xt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(nt[o.id]=o.type),a})}function Sn(o,a){if(null==o)return mn;const c={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=h,a&&(a[p]=m)}return c}const hi=Q;function de(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function J(o){return o[Kn]||null}function X(o){return o[Qi]||null}function ke(o){return o[Wt]||null}function et(o,a){const c=o[Sr]||null;if(!c&&!0===a)throw new Error(`Type ${Ce(o)} does not have '\u0275mod' property.`);return c}function ar(o){return Array.isArray(o)&&"object"==typeof o[1]}function Hi(o){return Array.isArray(o)&&!0===o[1]}function El(o){return 0!=(8&o.flags)}function yo(o){return 2==(2&o.flags)}function gc(o){return 1==(1&o.flags)}function Ir(o){return null!==o.template}function mc(o){return 0!=(256&o[2])}function Vr(o,a){return o.hasOwnProperty(qt)?o[qt]:null}class Jr{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Js(){return vo}function vo(o){return o.type.prototype.ngOnChanges&&(o.setInput=Dl),bd}function bd(){const o=Du(this),a=o?.current;if(a){const c=o.previous;if(c===mn)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Dl(o,a,c,h){const p=Du(o)||function na(o,a){return o[Ga]=a}(o,{previous:mn,current:null}),m=p.current||(p.current={}),v=p.previous,C=this.declaredInputs[c],I=v[C];m[C]=new Jr(I&&I.currentValue,a,v===mn),o[h]=a}Js.ngInherit=!0;const Ga="__ngSimpleChanges__";function Du(o){return o[Ga]||null}function Yn(o){for(;Array.isArray(o);)o=o[0];return o}function za(o,a){return Yn(a[o])}function pi(o,a){return Yn(a[o.index])}function wo(o,a){return o.data[a]}function Di(o,a){const c=a[o];return ar(c)?c:c[0]}function Xs(o){return 4==(4&o[2])}function cr(o){return 64==(64&o[2])}function Xi(o,a){return null==a?null:o[a]}function ia(o){o[18]=0}function Co(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const Ct={lFrame:xc(null),bindingsEnabled:!0};function Eo(){return Ct.bindingsEnabled}function $e(){return Ct.lFrame.lView}function nn(){return Ct.lFrame.tView}function Do(o){return Ct.lFrame.contextLView=o,o[8]}function sa(o){return Ct.lFrame.contextLView=null,o}function zn(){let o=Dc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Dc(){return Ct.lFrame.currentTNode}function Is(){const o=Ct.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function ur(o,a){const c=Ct.lFrame;c.currentTNode=o,c.isParent=a}function To(){return Ct.lFrame.isParent}function to(){Ct.lFrame.isParent=!1}function Ti(){const o=Ct.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function es(){return Ct.lFrame.bindingIndex}function io(){return Ct.lFrame.bindingIndex++}function As(o){const a=Ct.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Za(o){Ct.lFrame.inI18n=o}function Sc(o,a){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=o,Ka(a)}function Ka(o){Ct.lFrame.currentDirectiveIndex=o}function Ac(){return Ct.lFrame.currentQueryIndex}function Ns(o){Ct.lFrame.currentQueryIndex=o}function Il(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Ya(o,a,c){if(c&wt.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||c&wt.Host||(p=Il(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=Ct.lFrame=oa();return h.currentTNode=a,h.lView=o,!0}function Nc(o){const a=oa(),c=o[1];Ct.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function oa(){const o=Ct.lFrame,a=null===o?null:o.child;return null===a?xc(o):a}function xc(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function aa(){const o=Ct.lFrame;return Ct.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Qa=aa;function Al(){const o=aa();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pi(){return Ct.lFrame.selectedIndex}function dr(o){Ct.lFrame.selectedIndex=o}function Jn(){const o=Ct.lFrame;return wo(o.tView,o.selectedIndex)}function Td(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:k,ngOnDestroy:L}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),I&&(o.viewHooks||(o.viewHooks=[])).push(-c,I),k&&((o.viewHooks||(o.viewHooks=[])).push(c,k),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,k)),null!=L&&(o.destroyHooks||(o.destroyHooks=[])).push(c,L)}}function Sd(o,a,c){Id(o,a,3,c)}function ca(o,a,c,h){(3&o[2])===c&&Id(o,a,c,h)}function ro(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Id(o,a,c,h){const m=h??-1,v=a.length-1;let C=0;for(let I=void 0!==h?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=h&&C>=h)break}else a[I]<0&&(o[18]+=65536),(C<m||-1==m)&&(xl(o,c,a,I),o[18]=(4294901760&o[18])+I+2),I++}function xl(o,a,c,h){const p=c[h]<0,m=c[h+1],C=o[p?-c[h]:c[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class so{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Ja(o,a,c){let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const m=c[h++],v=c[h++],C=c[h++];o.setAttribute(a,v,C,m)}else{const m=p,v=c[++h];Ol(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),h++}}return h}function Xa(o){return 3===o||4===o||6===o}function Ol(o){return 64===o.charCodeAt(0)}function Mc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?c=p:0===c||Nd(o,c,p,null,-1===c||2===c?a[++h]:null)}}return o}function Nd(o,a,c,h,p){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===c){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,c),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function xd(o){return-1!==o}function kl(o){return 32767&o}function T(o,a){let c=function Gi(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let S=!0;function R(o){const a=S;return S=o,a}let Zt=0;const Qn={};function Nr(o,a){const c=Od(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Os(h.data,o),Os(a,null),Os(h.blueprint,null));const p=Iu(o,a),m=o.injectorIndex;if(xd(p)){const v=kl(p),C=T(p,a),I=C[1].data;for(let k=0;k<8;k++)a[m+k]=C[v+k]|I[v+k]}return a[m+8]=p,m}function Os(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Od(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Iu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,p=a;for(;null!==p;){if(h=Md(p),null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function ha(o,a,c){!function mi(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(oe)&&(h=c[oe]),null==h&&(h=c[oe]=Zt++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,c)}function fa(o,a,c){if(c&wt.Optional)return o;ze()}function Fc(o,a,c,h){if(c&wt.Optional&&void 0===h&&(h=null),0==(c&(wt.Self|wt.Host))){const p=o[9],m=vn(void 0);try{return p?p.get(a,h,c&wt.Optional):di(a,h,c&wt.Optional)}finally{vn(m)}}return fa(h,0,c)}function Rl(o,a,c,h=wt.Default,p){if(null!==o){if(1024&a[2]){const v=function Nu(o,a,c,h,p){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=el(m,v,c,h|wt.Self,Qn);if(C!==Qn)return C;let I=m.parent;if(!I){const k=v[21];if(k){const L=k.get(c,Qn,h);if(L!==Qn)return L}I=Md(v),v=v[15]}m=I}return p}(o,a,c,h,Qn);if(v!==Qn)return v}const m=el(o,a,c,h,Qn);if(m!==Qn)return m}return Fc(a,c,h,p)}function el(o,a,c,h,p){const m=function Lc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(oe)?o[oe]:void 0;return"number"==typeof a?a>=0?255&a:kd:a}(c);if("function"==typeof m){if(!Ya(a,o,h))return h&wt.Host?fa(p,0,h):Fc(a,c,h,p);try{const v=m(h);if(null!=v||h&wt.Optional)return v;ze()}finally{Qa()}}else if("number"==typeof m){let v=null,C=Od(o,a),I=-1,k=h&wt.Host?a[16][6]:null;for((-1===C||h&wt.SkipSelf)&&(I=-1===C?Iu(o,a):a[C+8],-1!==I&&tl(h,!1)?(v=a[1],C=kl(I),a=T(I,a)):C=-1);-1!==C;){const L=a[1];if(kh(m,C,L.data)){const $=pp(C,a,c,v,h,k);if($!==Qn)return $}I=a[C+8],-1!==I&&tl(h,a[1].data[C+8]===k)&&kh(m,C,a)?(v=L,C=kl(I),a=T(I,a)):C=-1}}return p}function pp(o,a,c,h,p,m){const v=a[1],C=v.data[o+8],L=xo(C,v,c,null==h?yo(C)&&S:h!=v&&0!=(3&C.type),p&wt.Host&&m===C);return null!==L?pa(a,v,L,C):Qn}function xo(o,a,c,h,p){const m=o.providerIndexes,v=a.data,C=1048575&m,I=o.directiveStart,L=m>>20,se=p?C+L:o.directiveEnd;for(let pe=h?C:C+L;pe<se;pe++){const He=v[pe];if(pe<I&&c===He||pe>=I&&He.type===c)return pe}if(p){const pe=v[I];if(pe&&Ir(pe)&&pe.type===c)return I}return null}function pa(o,a,c,h){let p=o[c];const m=a.data;if(function ua(o){return o instanceof so}(p)){const v=p;v.resolving&&function ht(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Le(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Te(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Oe(o)}(m[c]));const C=R(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?vn(v.injectImpl):null;Ya(o,h,wt.Default);try{p=o[c]=v.factory(void 0,m,o,h),a.firstCreatePass&&c>=h.directiveStart&&function Dd(o,a,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const v=vo(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==I&&vn(I),R(C),v.resolving=!1,Qa()}}return p}function kh(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function tl(o,a){return!(o&wt.Self||o&wt.Host&&a)}class ks{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,h){return Rl(this._tNode,this._lView,a,h,c)}}function kd(){return new ks(zn(),$e())}function Au(o){return Vt(()=>{const a=o.prototype.constructor,c=a[qt]||Rd(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[qt]||Rd(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Rd(o){return st(o)?()=>{const a=Rd(ce(o));return a&&a()}:Vr(o)}function Md(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Ml(o){return function Pc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const m=c[p];if(Xa(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(m===a)return c[p+1];p+=2}}}return null}(zn(),o)}const ln="__parameters__";function yr(o,a,c){return Vt(()=>{const h=function Pl(o){return function(...c){if(o){const h=o(...c);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const v=new p(...m);return C.annotation=v,C;function C(I,k,L){const $=I.hasOwnProperty(ln)?I[ln]:Object.defineProperty(I,ln,{value:[]})[ln];for(;$.length<=L;)$.push(null);return($[L]=$[L]||[]).push(v),I}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class kn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=on({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),xr(h,a)):a!==o&&a.push(h)}return a}function ns(o,a){o.forEach(c=>Array.isArray(c)?ns(c,a):a(c))}function Ph(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Fl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Oo(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function Hr(o,a,c){let h=ya(o,a);return h>=0?o[1|h]=c:(h=~h,function _a(o,a,c,h){let p=o.length;if(p==a)o.push(c,h);else if(1===p)o.push(h,o[0]),o[0]=c;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Pd(o,a){const c=ya(o,a);if(c>=0)return o[1|c]}function ya(o,a){return function Rt(o,a,c){let h=0,p=o.length>>c;for(;p!==h;){const m=h+(p-h>>1),v=o[m<<c];if(a===v)return m<<c;v>a?p=m:h=m+1}return~(p<<c)}(o,a,1)}const vr={},Mu="__NG_DI_FLAG__",rl="ngTempTokenPath",ko=/\n/gm,wa="__source";let sl;function ol(o){const a=sl;return sl=o,a}function jc(o,a=wt.Default){if(void 0===sl)throw new Le(-203,!1);return null===sl?di(o,void 0,a):sl.get(o,a&wt.Optional?null:void 0,a)}function Ii(o,a=wt.Default){return(function Bn(){return Pn}()||jc)(ce(o),a)}function Gr(o,a=wt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Ii(o,a)}function N(o){const a=[];for(let c=0;c<o.length;c++){const h=ce(o[c]);if(Array.isArray(h)){if(0===h.length)throw new Le(900,!1);let p,m=wt.Default;for(let v=0;v<h.length;v++){const C=h[v],I=F(C);"number"==typeof I?-1===I?p=C.token:m|=I:p=C}a.push(Ii(p,m))}else a.push(Ii(h))}return a}function x(o,a){return o[Mu]=a,o.prototype[Mu]=a,o}function F(o){return o[Mu]}const We=x(yr("Optional"),8),Mt=x(yr("SkipSelf"),4);let Vd,Fu;function Bh(o){Vd=o}function Po(o){return function Vh(){if(void 0===Fu&&(Fu=null,at.trustedTypes))try{Fu=at.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Fu}()?.createHTML(o)||o}class jh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Da(o){return o instanceof jh?o.changingThisBreaksApplicationSecurity:o}class _{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Po(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class y{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Po(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=Po(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let p=c.length-1;0<p;p--){const v=c.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const P=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function je(o){return(o=String(o)).match(P)||o.match(fe)?o:"unsafe:"+o}function gt(o){return(o=String(o)).split(",").map(a=>je(a.trim())).join(", ")}function Et(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function rn(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const si=Et("area,br,col,hr,img,wbr"),Fo=Et("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cl=Et("rp,rt"),qc=rn(si,rn(Fo,Et("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rn(cl,Et("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rn(cl,Fo)),Hd=Et("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bu=Et("srcset"),Vu=rn(Hd,Bu,Et("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Et("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var er=(()=>((er=er||{})[er.NONE=0]="NONE",er[er.HTML=1]="HTML",er[er.STYLE=2]="STYLE",er[er.SCRIPT=3]="SCRIPT",er[er.URL=4]="URL",er[er.RESOURCE_URL=5]="RESOURCE_URL",er))();function mv(o){const a=function $h(){const o=$e();return o&&o[12]}();return a?a.sanitize(er.URL,o)||"":function jd(o,a){const c=function Gh(o){return o instanceof jh&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(o,"URL")?Da(o):je(Oe(o))}const _v=new kn("ENVIRONMENT_INITIALIZER"),$C=new kn("INJECTOR",-1),yv=new kn("INJECTOR_DEF_TYPES");class zC{get(a,c=vr){if(c===vr){const h=new Error(`NullInjectorError: No provider for ${Ce(a)}!`);throw h.name="NullInjectorError",h}return c}}function WC(...o){return{\u0275providers:qC(0,o)}}function qC(o,...a){const c=[],h=new Set;let p;return ns(a,m=>{const v=m;bv(v,c,[],h)&&(p||(p=[]),p.push(v))}),void 0!==p&&vv(p,c),c}function vv(o,a){for(let c=0;c<o.length;c++){const{providers:p}=o[c];ns(p,m=>{a.push(m)})}}function bv(o,a,c,h){if(!(o=ce(o)))return!1;let p=null,m=Dr(o);const v=!m&&J(o);if(m||v){if(v&&!v.standalone)return!1;p=o}else{const I=o.ngModule;if(m=Dr(I),!m)return!1;p=I}const C=h.has(p);if(v){if(C)return!1;if(h.add(p),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const k of I)bv(k,a,c,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let k;h.add(p);try{ns(m.imports,L=>{bv(L,a,c,h)&&(k||(k=[]),k.push(L))})}finally{}void 0!==k&&vv(k,a)}if(!C){const k=Vr(p)||(()=>new p);a.push({provide:p,useFactory:k,deps:Xt},{provide:yv,useValue:p,multi:!0},{provide:_v,useValue:()=>Ii(p),multi:!0})}const I=m.providers;null==I||C||ns(I,L=>{a.push(L)})}}return p!==o&&void 0!==o.providers}const KC=Ie({provide:String,useValue:Ie});function wv(o){return null!==o&&"object"==typeof o&&KC in o}function $d(o){return"function"==typeof o}const JC=new kn("Set Injector scope."),Cv={},n2={};let XC;function Ev(){return void 0===XC&&(XC=new zC),XC}class zh{}class DA extends zh{constructor(a,c,h,p){super(),this.parent=c,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tE(a,v=>this.processProvider(v)),this.records.set($C,Ep(void 0,this)),p.has("environment")&&this.records.set(zh,Ep(void 0,this));const m=this.records.get(JC);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(yv.multi,Xt,wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=ol(this),h=vn(void 0);try{return a()}finally{ol(c),vn(h)}}get(a,c=vr,h=wt.Default){this.assertNotDestroyed();const p=ol(this),m=vn(void 0);try{if(!(h&wt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function l2(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(a)&&Ci(a);C=I&&this.injectableDefInScope(I)?Ep(eE(a),Cv):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&wt.Self?Ev():this.parent).get(a,c=h&wt.Optional&&c===vr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[rl]=v[rl]||[]).unshift(Ce(a)),p)throw v;return function K(o,a,c,h){const p=o[rl];throw a[wa]&&p.unshift(a[wa]),o.message=function ue(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=Ce(a);if(Array.isArray(a))p=a.map(Ce).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):Ce(C)))}p=`{${m.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${o.replace(ko,"\n  ")}`}("\n"+o.message,p,c,h),o.ngTokenPath=p,o[rl]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{vn(m),ol(p)}}resolveInjectorInitializers(){const a=ol(this),c=vn(void 0);try{const h=this.get(_v.multi,Xt,wt.Self);for(const p of h)p()}finally{ol(a),vn(c)}}toString(){const a=[],c=this.records;for(const h of c.keys())a.push(Ce(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(a){let c=$d(a=ce(a))?a:ce(a&&a.provide);const h=function s2(o){return wv(o)?Ep(void 0,o.useValue):Ep(TA(o),Cv)}(a);if($d(a)||!0!==a.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Ep(void 0,Cv,!0),p.factory=()=>N(p.multi),this.records.set(c,p)),c=a,p.multi.push(a)}this.records.set(c,h)}hydrate(a,c){return c.value===Cv&&(c.value=n2,c.value=c.factory()),"object"==typeof c.value&&c.value&&function a2(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ce(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function eE(o){const a=Ci(o),c=null!==a?a.factory:Vr(o);if(null!==c)return c;if(o instanceof kn)throw new Le(204,!1);if(o instanceof Function)return function r2(o){const a=o.length;if(a>0)throw Oo(a,"?"),new Le(204,!1);const c=function Ki(o){const a=o&&(o[Yi]||o[Hn]);if(a){const c=function jn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Le(204,!1)}function TA(o,a,c){let h;if($d(o)){const p=ce(o);return Vr(p)||eE(p)}if(wv(o))h=()=>ce(o.useValue);else if(function QC(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...N(o.deps||[]));else if(function YC(o){return!(!o||!o.useExisting)}(o))h=()=>Ii(ce(o.useExisting));else{const p=ce(o&&(o.useClass||o.provide));if(!function o2(o){return!!o.deps}(o))return Vr(p)||eE(p);h=()=>new p(...N(o.deps))}return h}function Ep(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function SA(o){return!!o.\u0275providers}function tE(o,a){for(const c of o)Array.isArray(c)?tE(c,a):SA(c)?tE(c.\u0275providers,a):a(c)}class IA{}class d2{resolveComponentFactory(a){throw function u2(o){const a=Error(`No component factory found for ${Ce(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Bm=(()=>{class o{}return o.NULL=new d2,o})();function h2(){return Dp(zn(),$e())}function Dp(o,a){return new Vm(pi(o,a))}let Vm=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=h2,o})();function NA(o){return o instanceof Vm?o.nativeElement:o}class Zc{}let It=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function hn(){const o=$e(),c=Di(zn().index,o);return(ar(c)?c:o)[11]}(),o})(),kr=(()=>{class o{}return o.\u0275prov=on({token:o,providedIn:"root",factory:()=>null}),o})();class $i{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const nE=new $i("14.1.1"),Dv={};function jm(o){return o.ngOriginalError}class Ip{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&jm(a);for(;c&&jm(c);)c=jm(c);return c||null}}const Ul=/^>|^->|<!--|-->|--!>|<!-$/g,Ap=/(<|>)/;const Hm=new Map;let Ai=0;const Gl="__ngContext__";function Mn(o,a){ar(a)?(o[Gl]=a[20],function jl(o){Hm.set(o[20],o)}(a)):o[Gl]=a}function Ta(o){const a=o[Gl];return"number"==typeof a?function nr(o){return Hm.get(o)||null}(a):a||null}function Nv(o){const a=Ta(o);return a?ar(a)?a:a.lView:null}const LA=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(at))();function zl(o){return o instanceof Function?o():o}var dl=(()=>((dl=dl||{})[dl.Important=1]="Important",dl[dl.DashCase=2]="DashCase",dl))();let $m;function Mv(o,a){return $m(o,a)}function Zh(o){const a=o[3];return Hi(a)?a[3]:a}function wn(o){return dE(o[13])}function Kd(o){return dE(o[4])}function dE(o){for(;null!==o&&!Hi(o);)o=o[4];return o}function Yh(o,a,c,h,p){if(null!=h){let m,v=!1;Hi(h)?m=h:ar(h)&&(v=!0,h=h[0]);const C=Yn(h);0===o&&null!==c?null==p?mE(a,c,C):Yd(a,c,C,p||null,!0):1===o&&null!==c?Yd(a,c,C,p||null,!0):2===o?Hv(a,C,v):3===o&&a.destroyNode(C),null!=m&&function wE(o,a,c,h,p){const m=c[7];m!==Yn(c)&&Yh(a,o,h,m,p);for(let C=10;C<c.length;C++){const I=c[C];Wl(I[1],I,o,a,h,m)}}(a,o,m,c,p)}}function Wm(o,a){return o.createText(a)}function Pv(o,a,c){o.setValue(a,c)}function VA(o,a){return o.createComment(function Wd(o){return o.replace(Ul,a=>a.replace(Ap,"\u200b$1\u200b"))}(a))}function Qh(o,a,c){return o.createElement(a,c)}function Lv(o,a){const c=o[9],h=c.indexOf(a),p=a[3];512&a[2]&&(a[2]&=-513,Co(p,-1)),c.splice(h,1)}function Km(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const p=h[17];null!==p&&p!==o&&Lv(p,h),a>0&&(o[c-1][4]=h[4]);const m=Fl(o,10+a);!function Np(o,a){Wl(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function fE(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Wl(o,a,c,3,null,null),function UA(o){let a=o[13];if(!a)return Bv(o[1],o);for(;a;){let c=null;if(ar(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)ar(a)&&Bv(a[1],a),a=a[3];null===a&&(a=o),ar(a)&&Bv(a[1],a),c=a&&a[4]}a=c}}(a)}}function Bv(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Ym(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const p=a[c[h]];if(!(p instanceof so)){const m=c[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=p[m[v]],I=m[v+1];try{I.call(C)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function jA(o,a){const c=o.cleanup,h=a[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(a):Yn(a[v]),I=h[p=c[m+2]],k=c[m+3];"boolean"==typeof k?C.removeEventListener(c[m],I,k):k>=0?h[p=k]():h[p=-k].unsubscribe(),m+=2}else{const v=h[p=c[m+1]];c[m].call(v)}if(null!==h){for(let m=p+1;m<h.length;m++)(0,h[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&Hi(a[3])){c!==a[3]&&Lv(c,a);const h=a[19];null!==h&&h.detachView(o)}!function $r(o){Hm.delete(o[20])}(a)}}function pE(o,a,c){return gE(o,a.parent,c)}function gE(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===ct.None||p===ct.Emulated)return null}return pi(h,c)}function Yd(o,a,c,h,p){o.insertBefore(a,c,h,p)}function mE(o,a,c){o.appendChild(a,c)}function _E(o,a,c,h,p){null!==h?Yd(o,a,c,h,p):mE(o,a,c)}function Qm(o,a){return o.parentNode(a)}function Jm(o,a,c){return yE(o,a,c)}function HA(o,a,c){return 40&o.type?pi(o,c):null}let jv,yE=HA;function vE(o,a){yE=o,jv=a}function Gu(o,a,c,h){const p=pE(o,h,a),m=a[11],C=Jm(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(c))for(let I=0;I<c.length;I++)_E(m,p,c[I],C,!1);else _E(m,p,c,C,!1);void 0!==jv&&jv(m,h,a,c,p)}function $u(o,a){if(null!==a){const c=a.type;if(3&c)return pi(a,o);if(4&c)return Xm(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return $u(o,h);{const p=o[a.index];return Hi(p)?Xm(-1,p):Yn(p)}}if(32&c)return Mv(a,o)()||Yn(o[a.index]);{const h=Jd(o,a);return null!==h?Array.isArray(h)?h[0]:$u(Zh(o[16]),h):$u(o,a.next)}}return null}function Jd(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Xm(o,a){const c=10+o+1;if(c<a.length){const h=a[c],p=h[1].firstChild;if(null!==p)return $u(h,p)}return a[7]}function Hv(o,a,c){const h=Qm(o,a);h&&function Vv(o,a,c,h){o.removeChild(a,c,h)}(o,h,a,c)}function e_(o,a,c,h,p,m,v){for(;null!=c;){const C=h[c.index],I=c.type;if(v&&0===a&&(C&&Mn(Yn(C),h),c.flags|=4),64!=(64&c.flags))if(8&I)e_(o,a,c.child,h,p,m,!1),Yh(a,o,p,C,m);else if(32&I){const k=Mv(c,h);let L;for(;L=k();)Yh(a,o,p,L,m);Yh(a,o,p,C,m)}else 16&I?bE(o,a,h,c,p,m):Yh(a,o,p,C,m);c=v?c.projectionNext:c.next}}function Wl(o,a,c,h,p,m){e_(c,h,o.firstChild,a,p,m,!1)}function bE(o,a,c,h,p,m){const v=c[16],I=v[6].projection[h.projection];if(Array.isArray(I))for(let k=0;k<I.length;k++)Yh(a,o,p,I[k],m);else e_(o,a,I,v[3],p,m,!0)}function t_(o,a,c){o.setAttribute(a,"style",c)}function Xd(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function CE(o,a,c){let h=o.length;for(;;){const p=o.indexOf(a,c);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}c=p+1}}const DE="ng-template";function TE(o,a,c){let h=0;for(;h<o.length;){let p=o[h++];if(c&&"class"===p){if(p=o[h],-1!==CE(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function Gv(o){return 4===o.type&&o.value!==DE}function Yc(o,a,c){return a===(4!==o.type||c?o.value:DE)}function $v(o,a,c){let h=4;const p=o.attrs||[],m=function WA(o){for(let a=0;a<o.length;a++)if(Xa(o[a]))return a;return o.length}(p);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&h){if(h=2|1&h,""!==I&&!Yc(o,I,c)||""===I&&1===a.length){if(Wr(h))return!1;v=!0}}else{const k=8&h?I:a[++C];if(8&h&&null!==o.attrs){if(!TE(o.attrs,k,c)){if(Wr(h))return!1;v=!0}continue}const $=n_(8&h?"class":I,p,Gv(o),c);if(-1===$){if(Wr(h))return!1;v=!0;continue}if(""!==k){let se;se=$>m?"":p[$+1].toLowerCase();const pe=8&h?se:null;if(pe&&-1!==CE(pe,k,0)||2&h&&k!==se){if(Wr(h))return!1;v=!0}}}}else{if(!v&&!Wr(h)&&!Wr(I))return!1;if(v&&Wr(I))continue;v=!1,h=I|1&h}}return Wr(h)||v}function Wr(o){return 0==(1&o)}function n_(o,a,c,h){if(null===a)return-1;let p=0;if(h||!c){let m=!1;for(;p<a.length;){const v=a[p];if(v===o)return p;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++p];for(;"string"==typeof C;)C=a[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=m?1:2}return-1}return function qA(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function zv(o,a,c=!1){for(let h=0;h<a.length;h++)if($v(o,a[h],c))return!0;return!1}function ZA(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function SE(o,a){return o?":not("+a.trim()+")":a}function KA(o){let a=o[0],c=1,h=2,p="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&h){const C=o[++c];p+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+v:4&h&&(p+=" "+v);else""!==p&&!Wr(v)&&(a+=SE(m,p),p=""),h=v,m=m||!Wr(h);c++}return""!==p&&(a+=SE(m,p)),a}const cn={};function IE(o){AE(nn(),$e(),Pi()+o,!1)}function AE(o,a,c,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Sd(a,m,c)}else{const m=o.preOrderHooks;null!==m&&ca(a,m,0,c)}dr(c)}function OE(o,a=null,c=null,h){const p=eh(o,a,c,h);return p.resolveInjectorInitializers(),p}function eh(o,a=null,c=null,h,p=new Set){const m=[c||Xt,WC(o)];return h=h||("object"==typeof o?void 0:Ce(o)),new DA(m,a||Ev(),h||null,p)}let zu=(()=>{class o{static create(c,h){if(Array.isArray(c))return OE({name:""},h,c,"");{const p=c.name??"";return OE({name:p},c.parent,c.providers,p)}}}return o.THROW_IF_NOT_FOUND=vr,o.NULL=new zC,o.\u0275prov=on({token:o,providedIn:"any",factory:()=>Ii($C)}),o.__NG_ELEMENT_ID__=-1,o})();function tf(o,a=wt.Default){const c=$e();return null===c?Ii(o,a):Rl(zn(),c,ce(o),a)}function o_(){throw new Error("invalid")}function Rp(o,a){return o<<17|a<<2}function Sa(o){return o>>17&32767}function a_(o){return 2|o}function Ia(o){return(131068&o)>>2}function Jv(o,a){return-131069&o|a<<2}function nf(o){return 1|o}function qE(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],m=c[h+1];if(-1!==m){const v=o.data[m];Ns(p),v.contentQueries(2,a[m],m)}}}function th(o,a,c,h,p,m,v,C,I,k,L){const $=a.blueprint.slice();return $[0]=p,$[2]=76|h,(null!==L||o&&1024&o[2])&&($[2]|=1024),ia($),$[3]=$[15]=o,$[8]=c,$[10]=v||o&&o[10],$[11]=C||o&&o[11],$[12]=I||o&&o[12]||null,$[9]=k||o&&o[9]||null,$[6]=m,$[20]=function br(){return Ai++}(),$[21]=L,$[16]=2==a.type?o[16]:$,$}function af(o,a,c,h,p){let m=o.data[a];if(null===m)m=l0(o,a,c,h,p),function Tu(){return Ct.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=h,m.attrs=p;const v=Is();m.injectorIndex=null===v?-1:v.injectorIndex}return ur(m,!0),m}function l0(o,a,c,h,p){const m=Dc(),v=To(),I=o.data[a]=function DN(o,a,c,h,p,m){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,h,p);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}function lf(o,a,c,h){if(0===c)return-1;const p=a.length;for(let m=0;m<c;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function d_(o,a,c){Nc(a);try{const h=o.viewQuery;null!==h&&y_(1,h,c);const p=o.template;null!==p&&ZE(o,a,p,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&qE(o,a),o.staticViewQueries&&y_(2,o.viewQuery,c);const m=o.components;null!==m&&function bN(o,a){for(let c=0;c<a.length;c++)RN(o,a[c])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Al()}}function Lp(o,a,c,h){const p=a[2];if(128!=(128&p)){Nc(a);try{ia(a),function Tc(o){return Ct.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&ZE(o,a,c,2,h);const v=3==(3&p);if(v){const k=o.preOrderCheckHooks;null!==k&&Sd(a,k,null)}else{const k=o.preOrderHooks;null!==k&&ca(a,k,0,null),ro(a,0)}if(function m_(o){for(let a=wn(o);null!==a;a=Kd(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const p=c[h],m=p[3];0==(512&p[2])&&Co(m,1),p[2]|=512}}}(a),function iD(o){for(let a=wn(o);null!==a;a=Kd(a))for(let c=10;c<a.length;c++){const h=a[c],p=h[1];cr(h)&&Lp(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&qE(o,a),v){const k=o.contentCheckHooks;null!==k&&Sd(a,k)}else{const k=o.contentHooks;null!==k&&ca(a,k,1),ro(a,1)}!function yN(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)dr(~p);else{const m=p,v=c[++h],C=c[++h];Sc(v,m),C(2,a[m])}}}finally{dr(-1)}}(o,a);const C=o.components;null!==C&&function vN(o,a){for(let c=0;c<a.length;c++)Vp(o,a[c])}(a,C);const I=o.viewQuery;if(null!==I&&y_(2,I,h),v){const k=o.viewCheckHooks;null!==k&&Sd(a,k)}else{const k=o.viewHooks;null!==k&&ca(a,k,2),ro(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Co(a[3],-1))}finally{Al()}}}function wN(o,a,c,h){const p=a[10],v=Xs(a);try{!v&&p.begin&&p.begin(),v&&d_(o,a,h),Lp(o,a,c,h)}finally{!v&&p.end&&p.end()}}function ZE(o,a,c,h,p){const m=Pi(),v=2&h;try{dr(-1),v&&a.length>22&&AE(o,a,22,!1),c(h,p)}finally{dr(m)}}function c0(o,a,c){if(El(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function u0(o,a,c){!Eo()||(function AN(o,a,c,h){const p=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||Nr(c,a),Mn(h,a);const v=c.initialInputs;for(let C=p;C<m;C++){const I=o.data[C],k=Ir(I);k&&ON(a,c,I);const L=pa(a,o,C,c);Mn(L,a),null!==v&&kN(0,C-p,L,I,0,v),k&&(Di(c.index,a)[8]=L)}}(o,a,c,pi(c,a)),128==(128&c.flags)&&function g0(o,a,c){const h=c.directiveStart,p=c.directiveEnd,m=c.index,v=function Ic(){return Ct.lFrame.currentDirectiveIndex}();try{dr(m);for(let C=h;C<p;C++){const I=o.data[C],k=a[C];Ka(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&m0(I,k)}}finally{dr(-1),Ka(v)}}(o,a,c))}function h_(o,a,c=pi){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?c(a,o):o[v];o[p++]=C}}}function d0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=f_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function f_(o,a,c,h,p,m,v,C,I,k){const L=22+h,$=L+p,se=function KE(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:cn);return c}(L,$),pe="function"==typeof k?k():k;return se[1]={type:o,blueprint:se,template:c,queries:null,viewQuery:C,declTNode:a,data:se.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:pe,incompleteFirstPass:!1}}function p_(o,a,c,h){const p=aD(a);null===c?p.push(h):(p.push(c),o.firstCreatePass&&v_(o).push(h,p.length-1))}function YE(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,p):c[h]=[a,p]}return c}function QE(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,v=[];let C=null,I=null;for(let k=a.directiveStart;k<h;k++){const L=p[k],$=L.inputs,se=null===m||Gv(a)?null:tD($,m);v.push(se),C=YE($,k,C),I=YE(L.outputs,k,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}function Bo(o,a,c,h,p,m,v,C){const I=pi(a,c);let L,k=a.inputs;!C&&null!=k&&(L=k[h])?(C0(o,c,L,h,p),yo(a)&&h0(c,a.index)):3&a.type&&(h=function TN(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=v?v(p,a.value||"",h):p,m.setProperty(I,h,p))}function h0(o,a){const c=Di(a,o);16&c[2]||(c[2]|=32)}function p0(o,a,c,h){let p=!1;if(Eo()){const m=function _0(o,a,c){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];zv(c,v.selectors,!1)&&(p||(p=[]),ha(Nr(c,a),o,v.type),Ir(v)?(g_(o,c),p.unshift(v)):p.push(v))}return p}(o,a,c),v=null===h?null:{"":-1};if(null!==m){p=!0,Bp(c,o.data.length,m.length);for(let L=0;L<m.length;L++){const $=m[L];$.providersResolver&&$.providersResolver($)}let C=!1,I=!1,k=lf(o,a,m.length,null);for(let L=0;L<m.length;L++){const $=m[L];c.mergedAttrs=Mc(c.mergedAttrs,$.hostAttrs),eD(o,c,a,k,$),xN(k,$,v),null!==$.contentQueries&&(c.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(c.flags|=128);const se=$.type.prototype;!C&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),C=!0),!I&&(se.ngOnChanges||se.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),I=!0),k++}QE(o,c)}v&&function NN(o,a,c){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=c[a[p+1]];if(null==m)throw new Le(-301,!1);h.push(a[p],m)}}}(c,h,v)}return c.mergedAttrs=Mc(c.mergedAttrs,c.attrs),p}function XE(o,a,c,h,p,m){const v=m.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const I=~a.index;(function IN(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(C)!=I&&C.push(I),C.push(h,p,v)}}function m0(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function g_(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function xN(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;Ir(a)&&(c[""]=o)}}function Bp(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function eD(o,a,c,h,p){o.data[h]=p;const m=p.factory||(p.factory=Vr(p.type)),v=new so(m,Ir(p),tf);o.blueprint[h]=v,c[h]=v,XE(o,a,0,h,lf(o,c,p.hostVars,cn),p)}function ON(o,a,c){const h=pi(a,o),p=d0(c),m=o[10],v=v0(o,th(o,p,null,c.onPush?32:16,h,a,m,m.createRenderer(h,c),null,null,null));o[a.index]=v}function y0(o,a,c,h,p,m,v){if(null==m)o.removeAttribute(a,p,c);else{const C=null==v?Oe(m):v(m,h||"",p);o.setAttribute(a,p,C,c)}}function kN(o,a,c,h,p,m){const v=m[a];if(null!==v){const C=h.setInput;for(let I=0;I<v.length;){const k=v[I++],L=v[I++],$=v[I++];null!==C?h.setInput(c,$,k,L):c[L]=$}}}function tD(o,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return c}function nD(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function Vp(o,a){const c=Di(a,o);if(cr(c)){const h=c[1];48&c[2]?Lp(h,c,h.template,c[8]):c[5]>0&&__(c)}}function __(o){for(let h=wn(o);null!==h;h=Kd(h))for(let p=10;p<h.length;p++){const m=h[p];if(512&m[2]){const v=m[1];Lp(v,m,v.template,m[8])}else m[5]>0&&__(m)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=Di(c[h],o);cr(p)&&p[5]>0&&__(p)}}function RN(o,a){const c=Di(a,o),h=c[1];(function rD(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),d_(h,c,c[8])}function v0(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function sD(o){for(;o;){o[2]|=32;const a=Zh(o);if(mc(o)&&!a)return o;o=a}return null}function Jc(o){!function b0(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],h=Nv(c);if(null!==h){const p=h[1];wN(p,h,p.template,c)}}}(o[8])}function y_(o,a,c){Ns(0),a(o,c)}const PN=(()=>Promise.resolve(null))();function aD(o){return o[7]||(o[7]=[])}function v_(o){return o.cleanup||(o.cleanup=[])}function cD(o,a){const c=o[9],h=c?c.get(Ip,null):null;h&&h.handleError(a)}function C0(o,a,c,h,p){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],I=a[v],k=o.data[v];null!==k.setInput?k.setInput(I,p,h,C):I[C]=p}}function Xc(o,a,c){const h=za(a,o);Pv(o[11],h,c)}function Up(o,a,c){let h=c?o.styles:null,p=c?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?p=Ae(p,C):2==m&&(h=Ae(h,C+": "+a[++v]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=p:o.classesWithoutHost=p}function b_(o,a,c,h,p=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&h.push(Yn(m)),Hi(m))for(let C=10;C<m.length;C++){const I=m[C],k=I[1].firstChild;null!==k&&b_(I[1],I,k,h)}const v=c.type;if(8&v)b_(o,a,c.child,h);else if(32&v){const C=Mv(c,a);let I;for(;I=C();)h.push(I)}else if(16&v){const C=Jd(a,c);if(Array.isArray(C))h.push(...C);else{const I=Zh(a[16]);b_(I[1],I,C,h,!0)}}c=p?c.projectionNext:c.next}return h}class cf{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return b_(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Hi(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(Km(a,h),Fl(c,h))}this._attachedToViewContainer=!1}fE(this._lView[1],this._lView)}onDestroy(a){p_(this._lView[1],this._lView,null,a)}markForCheck(){sD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function w0(o,a,c){const h=a[10];h.begin&&h.begin();try{Lp(o,a,o.template,c)}catch(p){throw cD(a,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qm(o,a){Wl(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=a}}class FN extends cf{constructor(a){super(a),this._view=a}detectChanges(){Jc(this._view)}checkNoChanges(){}get context(){return null}}class E0 extends Bm{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=J(a);return new jp(c,this.ngModule)}}function D0(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class T0{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,h){const p=this.injector.get(a,Dv,h);return p!==Dv||c===Dv?p:this.parentInjector.get(a,c,h)}}class jp extends IA{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function YA(o){return o.map(KA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return D0(this.componentDef.inputs)}get outputs(){return D0(this.componentDef.outputs)}create(a,c,h,p){let m=(p=p||this.ngModule)instanceof zh?p:p?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new T0(a,m):a,C=v.get(Zc,null);if(null===C)throw new Le(407,!1);const I=v.get(kr,null),k=C.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",$=h?function EN(o,a,c){return o.selectRootElement(a,c===ct.ShadowDom)}(k,h,this.componentDef.encapsulation):Qh(C.createRenderer(null,this.componentDef),L,function LN(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(L)),se=this.componentDef.onPush?288:272,pe=function jN(o,a){return{components:[],scheduler:o||LA,clean:PN,playerHandler:a||null,flags:0}}(),He=f_(0,null,null,1,0,null,null,null,null,null),it=th(null,He,pe,se,null,null,C,k,I,v,null);let pt,Tt;Nc(it);try{const jt=function VN(o,a,c,h,p,m){const v=c[1];c[22]=o;const I=af(v,22,2,"#host",null),k=I.mergedAttrs=a.hostAttrs;null!==k&&(Up(I,k,!0),null!==o&&(Ja(p,o,k),null!==I.classes&&Xd(p,o,I.classes),null!==I.styles&&t_(p,o,I.styles)));const L=h.createRenderer(o,a),$=th(c,d0(a),null,a.onPush?32:16,c[22],I,h,L,m||null,null,null);return v.firstCreatePass&&(ha(Nr(I,c),v,a.type),g_(v,I),Bp(I,c.length,1)),v0(c,$),c[22]=$}($,this.componentDef,it,C,k);if($)if(h)Ja(k,$,["ng-version",nE.full]);else{const{attrs:qe,classes:Bt}=function QA(o){const a=[],c=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&c.push(m);else{if(!Wr(p))break;p=m}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);qe&&Ja(k,$,qe),Bt&&Bt.length>0&&Xd(k,$,Bt.join(" "))}if(Tt=wo(He,22),void 0!==c){const qe=Tt.projection=[];for(let Bt=0;Bt<this.ngContentSelectors.length;Bt++){const En=c[Bt];qe.push(null!=En?Array.from(En):null)}}pt=function UN(o,a,c,h,p){const m=c[1],v=function JE(o,a,c){const h=zn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),eD(o,h,a,lf(o,a,1,null),c),QE(o,h));const p=pa(a,o,h.directiveStart,h);Mn(p,a);const m=pi(h,a);return m&&Mn(m,a),p}(m,c,a);if(h.components.push(v),o[8]=v,null!==p)for(const I of p)I(v,a);if(a.contentQueries){const I=zn();a.contentQueries(1,v,I.directiveStart)}const C=zn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(dr(C.index),XE(c[1],C,0,C.directiveStart,C.directiveEnd,a),m0(a,v)),v}(jt,this.componentDef,it,pe,[os]),d_(He,it,null)}finally{Al()}return new O2(this.componentType,pt,Dp(Tt,it),it,Tt)}}class O2 extends class c2{}{constructor(a,c,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new FN(p),this.componentType=a}setInput(a,c){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[a])){const m=this._rootLView;C0(m[1],m,p,a,c),h0(m,this._tNode.index)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function os(){const o=zn();Td($e()[1],o)}function S0(o){let a=function uD(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let p;if(Ir(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Le(903,!1);p=a.\u0275dir}if(p){if(c){h.push(p);const v=o;v.inputs=eu(o.inputs),v.declaredInputs=eu(o.declaredInputs),v.outputs=eu(o.outputs);const C=p.hostBindings;C&&Hp(o,C);const I=p.viewQuery,k=p.contentQueries;if(I&&$N(o,I),k&&zN(o,k),_e(o.inputs,p.inputs),_e(o.declaredInputs,p.declaredInputs),_e(o.outputs,p.outputs),Ir(p)&&p.data.animation){const L=o.data;L.animation=(L.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(o),C===S0&&(c=!1)}}a=Object.getPrototypeOf(a)}!function GN(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Mc(p.hostAttrs,c=Mc(c,p.hostAttrs))}}(h)}function eu(o){return o===mn?{}:o===Xt?[]:o}function $N(o,a){const c=o.viewQuery;o.viewQuery=c?(h,p)=>{a(h,p),c(h,p)}:a}function zN(o,a){const c=o.contentQueries;o.contentQueries=c?(h,p,m)=>{a(h,p,m),c(h,p,m)}:a}function Hp(o,a){const c=o.hostBindings;o.hostBindings=c?(h,p)=>{a(h,p),c(h,p)}:a}let w_=null;function Kl(){if(!w_){const o=at.Symbol;if(o&&o.iterator)w_=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(w_=h)}}}return w_}function C_(o){return!!vi(o)&&(Array.isArray(o)||!(o instanceof Map)&&Kl()in o)}function vi(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Yl(o,a,c){return o[a]=c}function as(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Qu(o,a,c,h){const p=as(o,a,c);return as(o,a+1,h)||p}function I0(o,a,c,h){const p=$e();return as(p,io(),a)&&(nn(),function Zl(o,a,c,h,p,m){const v=pi(o,a);y0(a[11],v,m,o.value,c,h,p)}(Jn(),p,o,a,c,h)),I0}function Na(o,a,c,h){return as(o,io(),c)?a+Oe(c)+h:cn}function O0(o,a,c,h,p,m,v,C){const I=$e(),k=nn(),L=o+22,$=k.firstCreatePass?function _D(o,a,c,h,p,m,v,C,I){const k=a.consts,L=af(a,o,4,v||null,Xi(k,C));p0(a,c,L,Xi(k,I)),Td(a,L);const $=L.tViews=f_(2,L,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k);return null!==a.queries&&(a.queries.template(a,L),$.queries=a.queries.embeddedTView(L)),L}(L,k,I,a,c,h,p,m,v):k.data[L];ur($,!1);const se=I[11].createComment("");Gu(k,I,se,$),Mn(se,I),v0(I,I[L]=nD(se,I,se,$)),gc($)&&u0(k,I,$),null!=v&&h_(I,$,C)}function k0(o){return function Ur(o,a){return o[a]}(function Cd(){return Ct.lFrame.contextLView}(),22+o)}function pf(o,a,c){const h=$e();return as(h,io(),a)&&Bo(nn(),Jn(),h,o,a,h[11],c,!1),pf}function T_(o,a,c,h,p){const v=p?"class":"style";C0(o,c,a.inputs[v],v,h)}function $p(o,a,c,h){const p=$e(),m=nn(),v=22+o,C=p[11],I=p[v]=Qh(C,a,function kc(){return Ct.lFrame.currentNamespace}()),k=m.firstCreatePass?function vD(o,a,c,h,p,m,v){const C=a.consts,k=af(a,o,2,p,Xi(C,m));return p0(a,c,k,Xi(C,v)),null!==k.attrs&&Up(k,k.attrs,!1),null!==k.mergedAttrs&&Up(k,k.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,k),k}(v,m,p,0,a,c,h):m.data[v];ur(k,!0);const L=k.mergedAttrs;null!==L&&Ja(C,I,L);const $=k.classes;null!==$&&Xd(C,I,$);const se=k.styles;return null!==se&&t_(C,I,se),64!=(64&k.flags)&&Gu(m,p,I,k),0===function Ec(){return Ct.lFrame.elementDepthCount}()&&Mn(I,p),function eo(){Ct.lFrame.elementDepthCount++}(),gc(k)&&(u0(m,p,k),c0(m,k,p)),null!==h&&h_(p,k),$p}function zp(){let o=zn();To()?to():(o=o.parent,ur(o,!1));const a=o;!function Wa(){Ct.lFrame.elementDepthCount--}();const c=nn();return c.firstCreatePass&&(Td(c,o),El(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Ad(o){return 0!=(16&o.flags)}(a)&&T_(c,a,$e(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Oh(o){return 0!=(32&o.flags)}(a)&&T_(c,a,$e(),a.stylesWithoutHost,!1),zp}function R0(o,a,c,h){return $p(o,a,c,h),zp(),R0}function Wp(o,a,c){const h=$e(),p=nn(),m=o+22,v=p.firstCreatePass?function bD(o,a,c,h,p){const m=a.consts,v=Xi(m,h),C=af(a,o,8,"ng-container",v);return null!==v&&Up(C,v,!0),p0(a,c,C,Xi(m,p)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,p,h,a,c):p.data[m];ur(v,!0);const C=h[m]=h[11].createComment("");return Gu(p,h,C,v),Mn(C,h),gc(v)&&(u0(p,h,v),c0(p,v,h)),null!=c&&h_(h,v),Wp}function gf(){let o=zn();const a=nn();return To()?to():(o=o.parent,ur(o,!1)),a.firstCreatePass&&(Td(a,o),El(o)&&a.queries.elementEnd(o)),gf}function S_(){return $e()}function I_(o){return!!o&&"function"==typeof o.then}function P0(o){return!!o&&"function"==typeof o.subscribe}const F0=P0;function qp(o,a,c,h){const p=$e(),m=nn(),v=zn();return function L0(o,a,c,h,p,m,v,C){const I=gc(h),L=o.firstCreatePass&&v_(o),$=a[8],se=aD(a);let pe=!0;if(3&h.type||C){const pt=pi(h,a),Tt=C?C(pt):pt,jt=se.length,qe=C?En=>C(Yn(En[h.index])):h.index;let Bt=null;if(!C&&I&&(Bt=function wD(o,a,c,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const v=p[m];if(v===c&&p[m+1]===h){const C=a[7],I=p[m+2];return C.length>I?C[I]:null}"string"==typeof v&&(m+=2)}return null}(o,a,p,h.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=m,Bt.__ngLastListenerFn__=m,pe=!1;else{m=ls(h,a,$,m,!1);const En=c.listen(Tt,p,m);se.push(m,En),L&&L.push(p,qe,jt,jt+1)}}else m=ls(h,a,$,m,!1);const He=h.outputs;let it;if(pe&&null!==He&&(it=He[p])){const pt=it.length;if(pt)for(let Tt=0;Tt<pt;Tt+=2){const ci=a[it[Tt]][it[Tt+1]].subscribe(m),sc=se.length;se.push(m,ci),L&&L.push(p,h.index,sc,-(sc+1))}}}(m,p,p[11],v,o,a,0,h),qp}function B0(o,a,c,h){try{return!1!==c(h)}catch(p){return cD(o,p),!1}}function ls(o,a,c,h,p){return function m(v){if(v===Function)return h;sD(2&o.flags?Di(o.index,a):a);let I=B0(a,0,h,v),k=m.__ngNextListenerFn__;for(;k;)I=B0(a,0,k,v)&&I,k=k.__ngNextListenerFn__;return p&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function ru(o=1){return function la(o){return(Ct.lFrame.contextLView=function Ao(o,a){for(;o>0;)a=a[15],o--;return a}(o,Ct.lFrame.contextLView))[8]}(o)}function CD(o,a){let c=null;const h=function zA(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===h?zv(o,m,!0):ZA(h,m))return p}else c=p}return c}function YN(o){const a=$e()[16][6];if(!a.projection){const h=a.projection=Oo(o?o.length:1,null),p=h.slice();let m=a.child;for(;null!==m;){const v=o?CD(m,o):0;null!==v&&(p[v]?p[v].projectionNext=m:h[v]=m,p[v]=m),m=m.next}}}function QN(o,a=0,c){const h=$e(),p=nn(),m=af(p,22+o,16,null,c||null);null===m.projection&&(m.projection=a),to(),64!=(64&m.flags)&&function GA(o,a,c){bE(a[11],0,a,c,pE(o,c,a),Jm(c.parent||a[6],c,a))}(p,h,m)}function A_(o,a,c){return Ju(o,"",a,"",c),A_}function Ju(o,a,c,h,p){const m=$e(),v=Na(m,a,c,h);return v!==cn&&Bo(nn(),Jn(),m,o,v,m[11],p,!1),Ju}function tx(o,a,c,h,p){const m=o[c+1],v=null===a;let C=h?Sa(m):Ia(m),I=!1;for(;0!==C&&(!1===I||v);){const L=o[C+1];nx(o[C],a)&&(I=!0,o[C+1]=h?nf(L):a_(L)),C=h?Sa(L):Ia(L)}I&&(o[c+1]=h?a_(m):nf(m))}function nx(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ya(o,a)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TD(o){return o.substring(hr.key,hr.keyEnd)}function O_(o,a){const c=hr.textEnd;return c===a?-1:(a=hr.keyEnd=function V0(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,hr.key=a,c),Ql(o,a,c))}function Ql(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function R_(o,a,c){return Xl(o,a,c,!1),R_}function M_(o,a){return Xl(o,a,null,!0),M_}function ox(o){!function lo(o,a,c,h){const p=nn(),m=As(2);p.firstUpdatePass&&Xp(p,null,m,h);const v=$e();if(c!==cn&&as(v,m,c)){const C=p.data[Pi()];if(cx(C,h)&&!mf(p,m)){let I=h?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(c=Ae(I,c||"")),T_(p,C,v,c,h)}else!function xD(o,a,c,h,p,m,v,C){p===cn&&(p=Xt);let I=0,k=0,L=0<p.length?p[0]:null,$=0<m.length?m[0]:null;for(;null!==L||null!==$;){const se=I<p.length?p[I+1]:void 0,pe=k<m.length?m[k+1]:void 0;let it,He=null;L===$?(I+=2,k+=2,se!==pe&&(He=$,it=pe)):null===$||null!==L&&L<$?(I+=2,He=L):(k+=2,He=$,it=pe),null!==He&&OD(o,a,c,h,He,it,v,C),L=I<p.length?p[I]:null,$=k<m.length?m[k]:null}}(p,C,v,v[11],v[m+1],v[m+1]=function AD(o,a,c){if(null==c||""===c)return Xt;const h=[],p=Da(c);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(h,m,p[m]);else"string"==typeof p&&a(h,p);return h}(o,a,c),h,m)}}(Hr,Jl,o,!0)}function Jl(o,a){for(let c=function rx(o){return function rh(o){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=o.length}(o),O_(o,Ql(o,0,hr.textEnd))}(a);c>=0;c=O_(a,c))Hr(o,TD(a),!0)}function Xl(o,a,c,h){const p=$e(),m=nn(),v=As(2);m.firstUpdatePass&&Xp(m,o,v,h),a!==cn&&as(p,v,a)&&OD(m,m.data[Pi()],p,p[11],o,p[v+1]=function kD(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ce(Da(o)))),o}(a,c),h,v)}function mf(o,a){return a>=o.expandoStartIndex}function Xp(o,a,c,h){const p=o.data;if(null===p[c+1]){const m=p[Pi()],v=mf(o,c);cx(m,h)&&null===a&&!v&&(a=!1),a=function P_(o,a,c,h){const p=function Io(o){const a=Ct.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(c=eg(c=j0(null,o,a,c,h),a.attrs,h),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==p)if(c=j0(p,o,a,c,h),null===m){let I=function ax(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==Ia(h))return o[Sa(h)]}(o,a,h);void 0!==I&&Array.isArray(I)&&(I=j0(null,o,a,I[1],h),I=eg(I,a.attrs,h),function U0(o,a,c,h){o[Sa(c?a.classBindings:a.styleBindings)]=h}(o,a,h,I))}else m=function F_(o,a,c){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=eg(h,o[m].hostAttrs,c);return eg(h,a.attrs,c)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),c}(p,m,a,h),function R2(o,a,c,h,p,m){let v=m?a.classBindings:a.styleBindings,C=Sa(v),I=Ia(v);o[h]=c;let L,k=!1;if(Array.isArray(c)){const $=c;L=$[1],(null===L||ya($,L)>0)&&(k=!0)}else L=c;if(p)if(0!==I){const se=Sa(o[C+1]);o[h+1]=Rp(se,C),0!==se&&(o[se+1]=Jv(o[se+1],h)),o[C+1]=function cN(o,a){return 131071&o|a<<17}(o[C+1],h)}else o[h+1]=Rp(C,0),0!==C&&(o[C+1]=Jv(o[C+1],h)),C=h;else o[h+1]=Rp(I,0),0===C?C=h:o[I+1]=Jv(o[I+1],h),I=h;k&&(o[h+1]=a_(o[h+1])),tx(o,L,h,!0),tx(o,L,h,!1),function M2(o,a,c,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ya(m,a)>=0&&(c[h+1]=nf(c[h+1]))}(a,L,o,h,m),v=Rp(C,I),m?a.classBindings=v:a.styleBindings=v}(p,m,a,c,v,h)}}function j0(o,a,c,h,p){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=a[C],h=eg(h,m.hostAttrs,p),m!==o);)C++;return null!==o&&(c.directiveStylingLast=C),h}function eg(o,a,c){const h=c?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?p=v:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hr(o,v,!!c||a[++m]))}return void 0===o?null:o}function OD(o,a,c,h,p,m,v,C){if(!(3&a.type))return;const I=o.data,k=I[C+1];L_(function UE(o){return 1==(1&o)}(k)?lx(I,a,c,p,Ia(k),v):void 0)||(L_(m)||function VE(o){return 2==(2&o)}(k)&&(m=lx(I,null,c,p,C,v)),function $A(o,a,c,h,p){if(a)p?o.addClass(c,h):o.removeClass(c,h);else{let m=-1===h.indexOf("-")?void 0:dl.DashCase;null==p?o.removeStyle(c,h,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=dl.Important),o.setStyle(c,h,p,m))}}(h,v,za(Pi(),c),p,m))}function lx(o,a,c,h,p,m){const v=null===a;let C;for(;p>0;){const I=o[p],k=Array.isArray(I),L=k?I[1]:I,$=null===L;let se=c[p+1];se===cn&&(se=$?Xt:void 0);let pe=$?Pd(se,h):L===h?se:void 0;if(k&&!L_(pe)&&(pe=Pd(I,h)),L_(pe)&&(C=pe,v))return C;const He=o[p+1];p=v?Sa(He):Ia(He)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=Pd(I,h))}return C}function L_(o){return void 0!==o}function cx(o,a){return 0!=(o.flags&(a?16:32))}function B_(o,a=""){const c=$e(),h=nn(),p=o+22,m=h.firstCreatePass?af(h,p,1,a,null):h.data[p],v=c[p]=Wm(c[11],a);Gu(h,c,v,m),ur(m,!1)}function H0(o){return tg("",o,""),H0}function tg(o,a,c){const h=$e(),p=Na(h,o,a,c);return p!==cn&&Xc(h,Pi(),p),tg}function ng(o,a,c,h,p){const m=$e(),v=function Ls(o,a,c,h,p,m){const C=Qu(o,es(),c,p);return As(2),C?a+Oe(c)+h+Oe(p)+m:cn}(m,o,a,c,h,p);return v!==cn&&Xc(m,Pi(),v),ng}function rg(o,a,c){const h=$e();return as(h,io(),a)&&Bo(nn(),Jn(),h,o,a,h[11],c,!0),rg}const su=void 0;var Q0=["en",[["a","p"],["AM","PM"],su],[["AM","PM"],su,su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",su,"{1} 'at' {0}",su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mx(o){const c=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let sh={};function V_(o){const a=function _x(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=zD(a);if(c)return c;const h=a.split("-")[0];if(c=zD(h),c)return c;if("en"===h)return Q0;throw new Le(701,!1)}function J0(o){return V_(o)[$t.PluralCase]}function zD(o){return o in sh||(sh[o]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[o]),sh[o]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const qD=["zero","one","two","few","many"],sg="en-US",U_={marker:"element"},og={marker:"ICU"};var Li=(()=>((Li=Li||{})[Li.SHIFT=2]="SHIFT",Li[Li.APPEND_EAGERLY=1]="APPEND_EAGERLY",Li[Li.COMMENT=2]="COMMENT",Li))();let ZD=sg;function eb(o){(function Jt(o,a){null==o&&tt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(ZD=o.toLowerCase().replace(/_/g,"-"))}function tb(o,a,c){const h=a.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?HA(o,0,c):Yn(c[p])}function KD(o,a,c,h,p){const m=a.insertBeforeIndex;if(Array.isArray(m)){let v=h,C=null;if(3&a.type||(C=v,v=p),null!==v&&0==(2&a.flags))for(let I=1;I<m.length;I++)Yd(o,v,c[m[I]],C,!1)}}function YD(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const h=o[c];j_(h)||QD(h,a)&&null===bx(h)&&JD(h,a.index)}}function j_(o){return!(64&o.type)}function QD(o,a){return j_(a)||o.index>a.index}function bx(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function JD(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(vE(tb,KD),o.insertBeforeIndex=a)}function ag(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function e1(o,a,c){const h=l0(o,c,64,null,null);return YD(a,h),h}function H_(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function nb(o){return o>>>17}function Cx(o){return(131070&o)>>>1}let lg=0,vf=0;function Tx(o,a,c,h){const p=c[11];let v,m=null;for(let C=0;C<a.length;C++){const I=a[C];if("string"==typeof I){const k=a[++C];null===c[k]&&(c[k]=Wm(p,I))}else if("number"==typeof I)switch(1&I){case 0:const k=nb(I);let L,$;if(null===m&&(m=k,v=Qm(p,h)),k===m?(L=h,$=v):(L=null,$=Yn(c[k])),null!==$){const it=Cx(I);Yd(p,$,c[it],L,!1);const Tt=ag(o,it);if(null!==Tt&&"object"==typeof Tt){const jt=H_(Tt,c);null!==jt&&Tx(o,Tt.create[jt],c,c[Tt.anchorIdx])}}break;case 1:const pe=a[++C],He=a[++C];y0(p,za(I>>>1,c),null,null,pe,He,null)}else switch(I){case og:const k=a[++C],L=a[++C];null===c[L]&&Mn(c[L]=VA(p,k),c);break;case U_:const $=a[++C],se=a[++C];null===c[se]&&Mn(c[se]=Qh(p,$,null),c)}}}function Sx(o,a,c,h,p){for(let m=0;m<c.length;m++){const v=c[m],C=c[++m];if(v&p){let I="";for(let k=m+1;k<=m+C;k++){const L=c[k];if("string"==typeof L)I+=L;else if("number"==typeof L)if(L<0)I+=Oe(a[h-L]);else{const $=L>>>2;switch(3&L){case 1:const se=c[++k],pe=c[++k],He=o.data[$];"string"==typeof He?y0(a[11],a[$],null,He,se,I,pe):Bo(o,He,a,se,I,a[11],pe,!1);break;case 0:const it=a[$];null!==it&&Pv(a[11],it,I);break;case 2:q2(o,ag(o,$),a,I);break;case 3:Ix(o,ag(o,$),h,a)}}}}else{const I=c[m+1];if(I>0&&3==(3&I)){const L=ag(o,I>>>2);a[L.currentCaseLViewIndex]<0&&Ix(o,L,h,a)}}m+=C}}function Ix(o,a,c,h){let p=h[a.currentCaseLViewIndex];if(null!==p){let m=lg;p<0&&(p=h[a.currentCaseLViewIndex]=~p,m=-1),Sx(o,h,a.update[p],c,m)}}function q2(o,a,c,h){const p=function Z2(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const h=function yx(o,a){const c=J0(a)(parseInt(o,10)),h=qD[c];return void 0!==h?h:"other"}(a,function vx(){return ZD}());c=o.cases.indexOf(h),-1===c&&"other"!==h&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,h);if(H_(a,c)!==p&&(Ax(o,a,c),c[a.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=c[a.anchorIdx];v&&Tx(o,a.create[p],c,v)}}function Ax(o,a,c){let h=H_(a,c);if(null!==h){const p=a.remove[h];for(let m=0;m<p.length;m++){const v=p[m];if(v>0){const C=za(v,c);null!==C&&Hv(c[11],C)}else Ax(o,ag(o,~v),c)}}}function Nx(){const o=[];let c,h,a=-1;function m(C,I){a=0;const k=H_(C,I);h=null!==k?C.remove[k]:Xt}function v(){if(a<h.length){const C=h[a++];return C>0?c[C]:(o.push(a,h),m(c[1].data[~C],c),v())}return 0===o.length?null:(h=o.pop(),a=o.pop(),v())}return function p(C,I){for(c=I;o.length;)o.pop();return m(C.value,I),v}}const uo=/\ufffd(\d+):?\d*\ufffd/gi,Vo=/\ufffd(\d+)\ufffd/,G_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,bf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ox=/\uE500/g;function n1(o,a,c,h,p,m,v){const C=lf(o,h,1,null);let I=C<<Li.SHIFT,k=Is();a===k&&(k=null),null===k&&(I|=Li.APPEND_EAGERLY),v&&(I|=Li.COMMENT,function lE(o){void 0===$m&&($m=o())}(Nx)),p.push(I,null===m?"":m);const L=l0(o,C,v?32:1,null===m?"":m,null);YD(c,L);const $=L.index;return ur(L,!1),null!==k&&a!==k&&function wx(o,a){let c=o.insertBeforeIndex;null===c?(vE(tb,KD),c=o.insertBeforeIndex=[null,a]):(function Ee(o,a,c){o!=a&&tt(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(k,$),L}function r1(o,a,c,h,p,m,v){const C=v.match(uo),I=n1(o,a,c,m,h,C?null:v,!1);C&&wf(p,v,I.index,null,0,null)}function wf(o,a,c,h,p,m){const v=o.length,C=v+1;o.push(null,null);const I=v+2,k=a.split(uo);let L=0;for(let $=0;$<k.length;$++){const se=k[$];if(1&$){const pe=p+parseInt(se,10);o.push(-1-pe),L|=o1(pe)}else""!==se&&o.push(se)}return o.push(c<<2|(h?1:0)),h&&o.push(h,m),o[v]=L,o[C]=o.length-I,L}function o1(o){return 1<<Math.min(o,31)}function a1(o){let a,m,c="",h=0,p=!1;for(;null!==(a=bf.exec(o));)p?a[0]===`\ufffd/*${m}\ufffd`&&(h=a.index,p=!1):(c+=o.substring(h,a.index+a[0].length),m=a[1],p=!0);return c+=o.slice(h),c}function l1(o,a,c,h,p,m){let v=0;const C={type:p.type,currentCaseLViewIndex:lf(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function sb(o,a,c){o.push(o1(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,p,m),function XD(o,a,c){const h=o.data[a];null===h?o.data[a]=c:h.value=c}(o,m,C);const I=p.values;for(let k=0;k<I.length;k++){const L=I[k],$=[];for(let se=0;se<L.length;se++){const pe=L[se];if("string"!=typeof pe){const He=$.push(pe)-1;L[se]=`\x3c!--\ufffd${He}\ufffd--\x3e`}}v=Fx(o,C,a,c,h,p.cases[k],L.join(""),$)|v}v&&function ed(o,a,c){o.push(a,1,c<<2|3)}(c,v,m)}function Px(o){const a=[],c=[];let h=1,p=0;const m=rb(o=o.replace(G_,function(v,C,I){return h="select"===I?0:1,p=parseInt(C.slice(1),10),""}));for(let v=0;v<m.length;){let C=m[v++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&a.push(C);const I=rb(m[v++]);a.length>c.length&&c.push(I)}return{type:h,mainBinding:p,cases:a,values:c}}function rb(o){if(!o)return[];let a=0;const c=[],h=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(o);){const C=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const I=o.substring(a,C);G_.test(I)?h.push(Px(I)):h.push(I),a=C+1}}else{if(0==c.length){const I=o.substring(a,C);h.push(I),a=C+1}c.push("{")}}const v=o.substring(a);return h.push(v),h}function Fx(o,a,c,h,p,m,v,C){const I=[],k=[],L=[];a.cases.push(m),a.create.push(I),a.remove.push(k),a.update.push(L);const se=function w(o){const a=new y(o);return function D(){try{return!!(new window.DOMParser).parseFromString(Po(""),"text/html")}catch{return!1}}()?new _(a):a}(function Ud(){return void 0!==Vd?Vd:typeof document<"u"?document:void 0}()).getInertBodyElement(v),pe=function Lm(o){return"content"in o&&function gA(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}(se)||se;return pe?Oa(o,a,c,h,I,k,L,pe,p,C,0):0}function Oa(o,a,c,h,p,m,v,C,I,k,L){let $=0,se=C.firstChild;for(;se;){const pe=lf(o,c,1,null);switch(se.nodeType){case Node.ELEMENT_NODE:const He=se,it=He.tagName.toLowerCase();if(qc.hasOwnProperty(it)){lu(p,U_,it,I,pe),o.data[pe]=it;const qe=He.attributes;for(let Bt=0;Bt<qe.length;Bt++){const En=qe.item(Bt),ci=En.name.toLowerCase();En.value.match(uo)?Vu.hasOwnProperty(ci)&&wf(v,En.value,pe,En.name,0,Hd[ci]?je:Bu[ci]?gt:null):$_(p,pe,En)}$=Oa(o,a,c,h,p,m,v,se,pe,k,L+1)|$,oh(m,pe,L)}break;case Node.TEXT_NODE:const pt=se.textContent||"",Tt=pt.match(uo);lu(p,null,Tt?"":pt,I,pe),oh(m,pe,L),Tt&&($=wf(v,pt,pe,null,0,null)|$);break;case Node.COMMENT_NODE:const jt=Vo.exec(se.textContent||"");if(jt){const Bt=k[parseInt(jt[1],10)];lu(p,og,"",I,pe),l1(o,c,h,I,Bt,pe),ka(m,pe,L)}}se=se.nextSibling}return $}function oh(o,a,c){0===c&&o.push(a)}function ka(o,a,c){0===c&&(o.push(~a),o.push(a))}function lu(o,a,c,h,p){null!==a&&o.push(a),o.push(c,p,function $2(o,a,c){return o|a<<17|c<<1}(0,h,p))}function $_(o,a,c){o.push(a<<1|1,c.name,c.value)}function W_(o,a,c=-1){const h=nn(),p=$e(),m=22+o,v=Xi(h.consts,a),C=Is();h.firstCreatePass&&function ug(o,a,c,h,p,m){const v=Is(),C=[],I=[],k=[[]];p=function Mx(o,a){if(function Rx(o){return-1===o}(a))return a1(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return a1(o.substring(c,h))}}(p,m);const L=function t1(o){return o.replace(Ox," ")}(p).split(cg);for(let $=0;$<L.length;$++){let se=L[$];if(0==(1&$)){const pe=rb(se);for(let He=0;He<pe.length;He++){let it=pe[He];if(0==(1&He)){const pt=it;""!==pt&&r1(o,v,k[0],C,I,c,pt)}else{const pt=it;if("object"!=typeof pt)throw new Error(`Unable to parse ICU expression in "${p}" message.`);l1(o,c,I,a,pt,n1(o,v,k[0],c,C,"",!0).index)}}}else{const pe=47===se.charCodeAt(0),it=(se.charCodeAt(pe?1:0),22+Number.parseInt(se.substring(pe?2:1)));if(pe)k.shift(),ur(Is(),!1);else{const pt=e1(o,k[0],it);k.unshift([]),ur(pt,!0)}}}o.data[h]={create:C,update:I}}(h,null===C?0:C.index,p,m,v,c);const I=h.data[m],L=gE(h,C===p[6]?null:C,p);(function W2(o,a,c,h){const p=o[11];for(let m=0;m<a.length;m++){const v=a[m++],C=a[m],I=(v&Li.COMMENT)===Li.COMMENT,k=(v&Li.APPEND_EAGERLY)===Li.APPEND_EAGERLY,L=v>>>Li.SHIFT;let $=o[L];null===$&&($=o[L]=I?p.createComment(C):Wm(p,C)),k&&null!==c&&Yd(p,c,$,h,!1)}})(p,I.create,L,C&&8&C.type?p[C.index]:null),Za(!0)}function Ef(o,a,c){W_(o,a,c),function lb(){Za(!1)}()}function q_(o){return function z2(o){o&&(lg|=1<<Math.min(vf,31)),vf++}(as($e(),io(),o)),q_}function c1(o){!function Dx(o,a,c){if(vf>0){const h=o.data[c];Sx(o,a,Array.isArray(h)?h:h.update,es()-vf-1,lg)}lg=0,vf=0}(nn(),$e(),o+22)}function hg(o,a,c,h,p){if(o=ce(o),Array.isArray(o))for(let m=0;m<o.length;m++)hg(o[m],a,c,h,p);else{const m=nn(),v=$e();let C=$d(o)?o:ce(o.provide),I=TA(o);const k=zn(),L=1048575&k.providerIndexes,$=k.directiveStart,se=k.providerIndexes>>20;if($d(o)||!o.multi){const pe=new so(I,p,tf),He=db(C,a,p?L:L+se,$);-1===He?(ha(Nr(k,v),m,C),cb(m,o,a.length),a.push(C),k.directiveStart++,k.directiveEnd++,p&&(k.providerIndexes+=1048576),c.push(pe),v.push(pe)):(c[He]=pe,v[He]=pe)}else{const pe=db(C,a,L+se,$),He=db(C,a,L,L+se),it=pe>=0&&c[pe],pt=He>=0&&c[He];if(p&&!pt||!p&&!it){ha(Nr(k,v),m,C);const Tt=function d1(o,a,c,h,p){const m=new so(o,c,tf);return m.multi=[],m.index=a,m.componentProviders=0,ub(m,p,h&&!c),m}(p?Df:Ux,c.length,p,h,I);!p&&pt&&(c[He].providerFactory=Tt),cb(m,o,a.length,0),a.push(C),k.directiveStart++,k.directiveEnd++,p&&(k.providerIndexes+=1048576),c.push(Tt),v.push(Tt)}else cb(m,o,pe>-1?pe:He,ub(c[p?He:pe],I,!p&&h));!p&&h&&pt&&c[He].componentProviders++}}}function cb(o,a,c,h){const p=$d(a),m=function EA(o){return!!o.useClass}(a);if(p||m){const I=(m?ce(a.useClass):a).prototype.ngOnDestroy;if(I){const k=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const L=k.indexOf(c);-1===L?k.push(c,[h,I]):k[L+1].push(h,I)}else k.push(c,I)}}}function ub(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function db(o,a,c,h){for(let p=c;p<h;p++)if(a[p]===o)return p;return-1}function Ux(o,a,c,h){return fg(this.multi,[])}function Df(o,a,c,h){const p=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=pa(c,c[1],this.providerFactory.index,h);m=C.slice(0,v),fg(p,m);for(let I=v;I<C.length;I++)m.push(C[I])}else m=[],fg(p,m);return m}function fg(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function hb(o,a=[]){return c=>{c.providersResolver=(h,p)=>function u1(o,a,c){const h=nn();if(h.firstCreatePass){const p=Ir(o);hg(c,h.data,h.blueprint,p,!0),hg(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class lh{}class fb{}function pb(o,a){return new h1(o,a??null)}class h1 extends lh{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const h=et(a);this._bootstrapComponents=zl(h.bootstrap),this._r3Injector=eh(a,c,[{provide:lh,useValue:this},{provide:Bm,useValue:this.componentFactoryResolver}],Ce(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class gb extends fb{constructor(a){super(),this.moduleType=a}create(a){return new h1(this.moduleType,a)}}class jx extends lh{constructor(a,c,h){super(),this.componentFactoryResolver=new E0(this),this.instance=null;const p=new DA([...a,{provide:lh,useValue:this},{provide:Bm,useValue:this.componentFactoryResolver}],c||Ev(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function mb(o,a,c=null){return new jx(o,a,c).injector}function _b(o,a,c){const h=Ti()+o,p=$e();return p[h]===cn?Yl(p,h,c?a.call(c):a()):function Yu(o,a){return o[a]}(p,h)}function b1(o,a,c,h){return function w1(o,a,c,h,p,m){const v=a+c;return as(o,v,p)?Yl(o,v+1,m?h.call(m,p):h(p)):Tf(o,v+1)}($e(),Ti(),o,a,c,h)}function Kx(o,a,c,h,p){return function C1(o,a,c,h,p,m,v){const C=a+c;return Qu(o,C,p,m)?Yl(o,C+2,v?h.call(v,p,m):h(p,m)):Tf(o,C+2)}($e(),Ti(),o,a,c,h,p)}function mg(o,a,c,h,p,m){return function E1(o,a,c,h,p,m,v,C){const I=a+c;return function D_(o,a,c,h,p){const m=Qu(o,a,c,h);return as(o,a+2,p)||m}(o,I,p,m,v)?Yl(o,I+3,C?h.call(C,p,m,v):h(p,m,v)):Tf(o,I+3)}($e(),Ti(),o,a,c,h,p,m)}function Tf(o,a){const c=o[a];return c===cn?void 0:c}function yb(o){return a=>{setTimeout(o,void 0,a)}}const tc=class uO extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){let p=a,m=c||(()=>null),v=h;if(a&&"object"==typeof a){const I=a;p=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=yb(m),p&&(p=yb(p)),v&&(v=yb(v)));const C=super.subscribe({next:p,error:m,complete:v});return a instanceof W.w0&&a.add(C),C}};function tB(){return this._results[Kl()]()}class vb{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Kl(),h=vb.prototype;h[c]||(h[c]=tB)}get changes(){return this._changes||(this._changes=new tc)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const p=xr(a);(this._changesDetected=!function ku(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yg=(()=>{class o{}return o.__NG_ELEMENT_ID__=fO,o})();const dO=yg,hO=class extends dO{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a,c){const h=this._declarationTContainer.tViews,p=th(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,c||null);p[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(p[19]=v.createEmbeddedView(h)),d_(h,p,a),new cf(p)}};function fO(){return Z_(zn(),$e())}function Z_(o,a){return 4&o.type?new hO(a,o,Dp(o,a)):null}let bb=(()=>{class o{}return o.__NG_ELEMENT_ID__=nB,o})();function nB(){return T1(zn(),$e())}const iB=bb,pO=class extends iB{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return Dp(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const a=Iu(this._hostTNode,this._hostLView);if(xd(a)){const c=T(a,this._hostLView),h=kl(a);return new ks(c[1].data[h+8],c)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=gO(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){let p,m;"number"==typeof h?p=h:null!=h&&(p=h.index,m=h.injector);const v=a.createEmbeddedView(c||{},m);return this.insert(v,p),v}createComponent(a,c,h,p,m){const v=a&&!function oo(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const $=c||{};C=$.index,h=$.injector,p=$.projectableNodes,m=$.environmentInjector||$.ngModuleRef}const I=v?a:new jp(J(a)),k=h||this.parentInjector;if(!m&&null==I.ngModule){const se=(v?k:this.parentInjector).get(zh,null);se&&(m=se)}const L=I.create(k,p,void 0,m);return this.insert(L.hostView,C),L}insert(a,c){const h=a._lView,p=h[1];if(function wc(o){return Hi(o[3])}(h)){const L=this.indexOf(a);if(-1!==L)this.detach(L);else{const $=h[3],se=new pO($,$[6],$[3]);se.detach(se.indexOf(a))}}const m=this._adjustIndex(c),v=this._lContainer;!function Fv(o,a,c,h){const p=10+h,m=c.length;h>0&&(c[p-1][4]=a),h<m-10?(a[4]=c[p],Ph(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function Zm(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(p,h,v,m);const C=Xm(m,v),I=h[11],k=Qm(I,v[7]);return null!==k&&function hE(o,a,c,h,p,m){h[0]=p,h[6]=a,Wl(o,h,c,1,p,m)}(p,v[6],I,h,k,C),a.attachToViewContainerRef(),Ph(wb(v),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=gO(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=Km(this._lContainer,c);h&&(Fl(wb(this._lContainer),c),fE(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=Km(this._lContainer,c);return h&&null!=Fl(wb(this._lContainer),c)?new cf(h):null}_adjustIndex(a,c=0){return a??this.length+c}};function gO(o){return o[8]}function wb(o){return o[8]||(o[8]=[])}function T1(o,a){let c;const h=a[o.index];if(Hi(h))c=h;else{let p;if(8&o.type)p=Yn(h);else{const m=a[11];p=m.createComment("");const v=pi(o,a);Yd(m,Qm(m,v),p,function Qd(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=c=nD(h,a,p,o),v0(a,c)}return new pO(c,o,a)}class S1{constructor(a){this.queryList=a,this.matches=null}clone(){return new S1(this.queryList)}setDirty(){this.queryList.setDirty()}}class I1{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,p=[];for(let m=0;m<h;m++){const v=c.getByIndex(m);p.push(this.queries[v.indexInDeclarationView].clone())}return new I1(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==R1(a,c).matches&&this.queries[c].setDirty()}}class _O{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class Cb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==c?c.push(m):c=[m])}return null!==c?new Cb(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Eb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Eb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,c,sB(c,m)),this.matchTNodeWithReadOption(a,c,xo(c,a,m,!1,!1))}else h===yg?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,xo(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Vm||p===bb||p===yg&&4&c.type)this.addMatch(c.index,-2);else{const m=xo(c,a,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function sB(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function aB(o,a,c,h){return-1===c?function oB(o,a){return 11&o.type?Dp(o,a):4&o.type?Z_(o,a):null}(a,o):-2===c?function lB(o,a,c){return c===Vm?Dp(a,o):c===yg?Z_(a,o):c===bb?T1(a,o):void 0}(o,a,h):pa(o,o[1],c,a)}function A1(o,a,c,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,v=c.matches,C=[];for(let I=0;I<v.length;I+=2){const k=v[I];C.push(k<0?null:aB(a,m[k],v[I+1],c.metadata.read))}p.matches=C}return p.matches}function Db(o,a,c,h){const p=o.queries.getByIndex(c),m=p.matches;if(null!==m){const v=A1(o,a,p,c);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)h.push(v[C/2]);else{const k=m[C+1],L=a[-I];for(let $=10;$<L.length;$++){const se=L[$];se[17]===se[3]&&Db(se[1],se,k,h)}if(null!==L[9]){const $=L[9];for(let se=0;se<$.length;se++){const pe=$[se];Db(pe[1],pe,k,h)}}}}}return h}function yO(o){const a=$e(),c=nn(),h=Ac();Ns(h+1);const p=R1(c,h);if(o.dirty&&Xs(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?Db(c,a,h,[]):A1(c,a,p,h);o.reset(m,NA),o.notifyOnChanges()}return!0}return!1}function N1(o,a,c){const h=nn();h.firstCreatePass&&(bO(h,new _O(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),k1(h,$e(),a)}function x1(o,a,c,h){const p=nn();if(p.firstCreatePass){const m=zn();bO(p,new _O(a,c,h),m.index),function wO(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(p,o),2==(2&c)&&(p.staticContentQueries=!0)}k1(p,$e(),c)}function O1(){return function vO(o,a){return o[19].queries[a].queryList}($e(),Ac())}function k1(o,a,c){const h=new vb(4==(4&c));p_(o,a,h,h.destroy),null===a[19]&&(a[19]=new I1),a[19].queries.push(new S1(h))}function bO(o,a,c){null===o.queries&&(o.queries=new Cb),o.queries.track(new Eb(a,c))}function R1(o,a){return o.queries.getByIndex(a)}function M1(o,a){return Z_(o,a)}function If(o){const a=J(o)||X(o)||ke(o);return null!==a&&a.standalone}function Q_(...o){}const nc=new kn("Application Initializer");let Nf=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Q_,this.reject=Q_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(I_(m))c.push(m);else if(F0(m)){const v=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});c.push(v)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Ii(nc,8))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const td=new kn("AppId",{providedIn:"root",factory:function xb(){return`${q1()}${q1()}${q1()}`}});function q1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jO=new kn("Platform Initializer"),HO=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ch=new kn("appBootstrapListener"),EB=new kn("AnimationModuleType");let GO=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const J_=new kn("LocaleId",{providedIn:"root",factory:()=>Gr(J_,wt.Optional|wt.SkipSelf)||function Z1(){return typeof $localize<"u"&&$localize.locale||sg}()}),$O=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zO{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let K1=(()=>{class o{compileModuleSync(c){return new gb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),m=zl(et(c).declarations).reduce((v,C)=>{const I=J(C);return I&&v.push(new jp(I)),v},[]);return new zO(h,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ZO=(()=>Promise.resolve(0))();function ny(o){typeof Zone>"u"?ZO.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ra{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Y1(){let o=at.requestAnimationFrame,a=at.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function IB(o){const a=()=>{!function SB(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(at,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,iy(o),o.isCheckStableRunning=!0,J1(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),iy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,m,v,C)=>{try{return uu(o),c.invokeTask(p,m,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),kb(o)}},onInvoke:(c,h,p,m,v,C,I)=>{try{return uu(o),c.invoke(p,m,v,C,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),kb(o)}},onHasTask:(c,h,p,m)=>{c.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,iy(o),J1(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,h,p,m)=>(c.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Le(909,!1)}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,p){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+p,a,Q1,Q_,Q_);try{return m.runTask(v,c,h)}finally{m.cancelTask(v)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const Q1={};function J1(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function iy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function uu(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function kb(o){o._nesting--,J1(o)}class bg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,p){return a.apply(c,h)}}const wg=new kn(""),X1=new kn("");let ry,KO=(()=>{class o{constructor(c,h,p){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ry||(function YO(o){ry=o}(p),p.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ny(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,p){return[]}}return o.\u0275fac=function(c){return new(c||o)(Ii(Ra),Ii(eT),Ii(X1))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})(),eT=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return ry?.findTestabilityInTree(this,c,h)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),nd=null;const id=new kn("AllowMultipleToken"),tT=new kn("PlatformDestroyListeners");class rc{constructor(a,c){this.name=a,this.token=c}}function QO(o,a,c=[]){const h=`Platform: ${a}`,p=new kn(h);return(m=[])=>{let v=rT();if(!v||v.injector.get(id,!1)){const C=[...c,...m,{provide:p,useValue:!0}];o?o(C):function NB(o){if(nd&&!nd.get(id,!1))throw new Le(400,!1);nd=o;const a=o.get(XO);(function iT(o){const a=o.get(jO,null);a&&a.forEach(c=>c())})(o)}(function JO(o=[],a){return zu.create({name:a,providers:[{provide:JC,useValue:"platform"},{provide:tT,useValue:new Set([()=>nd=null])},...o]})}(C,h))}return function OB(o){const a=rT();if(!a)throw new Le(401,!1);return a}()}}function rT(){return nd?.get(XO)??null}let XO=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const p=function tk(o,a){let c;return c="noop"===o?new bg:("zone.js"===o?void 0:o)||new Ra(a),c}(h?.ngZone,function ek(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Ra,useValue:p}];return p.run(()=>{const v=zu.create({providers:m,parent:this.injector,name:c.moduleType.name}),C=c.create(v),I=C.injector.get(Ip,null);if(!I)throw new Le(402,!1);return p.runOutsideAngular(()=>{const k=p.onError.subscribe({next:L=>{I.handleError(L)}});C.onDestroy(()=>{Mb(this._modules,C),k.unsubscribe()})}),function sT(o,a,c){try{const h=c();return I_(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(I,p,()=>{const k=C.injector.get(Nf);return k.runInitializers(),k.donePromise.then(()=>(eb(C.injector.get(J_,sg)||sg),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,h=[]){const p=nk({},h);return function AB(o,a,c){const h=new gb(c);return Promise.resolve(h)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const h=c.injector.get(Rb);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Le(403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(tT,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Ii(zu))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function nk(o,a){return Array.isArray(a)?a.reduce(nk,o):{...o,...a}}let Rb=(()=>{class o{constructor(c,h,p){this._zone=c,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new B.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new B.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ge.T)(m,v.pipe((0,ve.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const p=c instanceof IA;if(!this._injector.get(Nf).done)throw!p&&If(c),new Le(405,false);let v;v=p?c:this._injector.get(Bm).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function nT(o){return o.isBoundToModule}(v)?void 0:this._injector.get(lh),k=v.create(zu.NULL,[],h||v.selector,C),L=k.location.nativeElement,$=k.injector.get(wg,null);return $?.registerApplication(L),k.onDestroy(()=>{this.detachView(k.hostView),Mb(this.components,k),$?.unregisterApplication(L)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Mb(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ch,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Mb(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Ii(Ra),Ii(zh),Ii(Ip))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Mb(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let sk=!0,ok=!1;function ak(){return ok=!0,sk}function kB(){if(ok)throw new Error("Cannot enable prod mode after platform setup.");sk=!1}let RB=(()=>{class o{}return o.__NG_ELEMENT_ID__=ck,o})();function ck(o){return function MB(o,a,c){if(yo(o)&&!c){const h=Di(o.index,a);return new cf(h,h)}return 47&o.type?new cf(a[16],a):null}(zn(),$e(),16==(16&o))}class cT{constructor(){}supports(a){return C_(a)}create(a){return new hk(a)}}const dk=(o,a)=>a;class hk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||dk}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,p=0,m=null;for(;c||h;){const v=!h||c&&c.currentIndex<Vb(h,p,m)?c:h,C=Vb(v,p,m),I=v.currentIndex;if(v===h)p--,h=h._nextRemoved;else if(c=c._next,null==v.previousIndex)p++;else{m||(m=[]);const k=C-p,L=I-p;if(k!=L){for(let se=0;se<k;se++){const pe=se<m.length?m[se]:m[se]=0,He=pe+se;L<=He&&He<k&&(m[se]=pe+1)}m[v.previousIndex]=L-k}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!C_(a))throw new Le(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,v,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(h&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),h=!0),c=c._next}else p=0,function ZN(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Kl()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,C=>{v=this._trackByFn(p,C),null!==c&&Object.is(c.trackById,v)?(h&&(c=this._verifyReinsertion(c,C,v,p)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,p)):a=this._addAfter(new fk(c,h),m,p),a}_verifyReinsertion(a,c,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const p=null===c?this._itHead:c._next;return a._next=p,a._prev=c,null===p?this._itTail=a:p._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class fk{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class Bb{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new pk,this.map.set(c,h)),h.add(a)}get(a,c){const p=this.map.get(a);return p?p.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vb(o,a,c){const h=o.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+a+p}class uT{constructor(){}supports(a){return a instanceof Map||vi(a)}create(){return new UB}}class UB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||vi(a)))throw new Le(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,c);const m=p._prev,v=p._next;return m&&(m._next=v),v&&(v._prev=m),p._next=null,p._prev=null,p}const h=new gk(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class gk{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mk(){return new dT([new cT])}let dT=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||mk()),deps:[[o,new Mt,new We]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new Le(901,!1)}}return o.\u0275prov=on({token:o,providedIn:"root",factory:mk}),o})();function _k(){return new hT([new uT])}let hT=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||_k()),deps:[[o,new Mt,new We]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new Le(901,!1)}}return o.\u0275prov=on({token:o,providedIn:"root",factory:_k}),o})();const $B=QO(null,"core",[]);let zB=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Ii(Rb))},o.\u0275mod=Ft({type:o}),o.\u0275inj=Qt({}),o})();function WB(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function qB(o,a){const c=J(o),h=a.elementInjector||Ev();return new jp(c).create(h,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(St,Ve,j)=>{"use strict";j.d(Ve,{Z:()=>Le});var u=j(2090),W=j(4859),B=j(9681),ge=j(1877);class ve{constructor(Oe,Te){this._delegate=Oe,this.firebase=Te,(0,B._addComponent)(Oe,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Oe,Te=B._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Oe);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Te})}_removeServiceInstance(Oe,Te=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Te)}_addComponent(Oe){(0,B._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,B._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Ae(){const _t=function Ce(_t){const Oe={},Te={__esModule:!0,initializeApp:function Ke(G,ye={}){const Ee=B.initializeApp(G,ye);if((0,u.r3)(Oe,Ee.name))return Oe[Ee.name];const ae=new _t(Ee,Te);return Oe[Ee.name]=ae,ae},app:ft,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Be(G){const ye=G.name,Ee=ye.replace("-compat","");if(B._registerComponent(G)&&"PUBLIC"===G.type){const ae=(le=ft())=>{if("function"!=typeof le[Ee])throw _e.create("invalid-app-argument",{appName:ye});return le[Ee]()};void 0!==G.serviceProps&&(0,u.ZB)(ae,G.serviceProps),Te[Ee]=ae,_t.prototype[Ee]=function(...le){return this._getService.bind(this,ye).apply(this,G.multipleInstances?le:[])}}return"PUBLIC"===G.type?Te[Ee]:null},removeApp:function ht(G){delete Oe[G]},useAsService:function lt(G,ye){return"serverAuth"===ye?null:ye},modularAPIs:B}};function ft(G){if(!(0,u.r3)(Oe,G=G||B._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:G});return Oe[G]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function ze(){return Object.keys(Oe).map(G=>Oe[G])}}),ft.App=_t,Te}(ve);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Oe(Te){(0,u.ZB)(_t,Te)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),_t}(),te=new ge.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=ee;!function Ze(_t){(0,B.registerVersion)("@firebase/app-compat","0.1.31",_t)}()},9681:(St,Ve,j)=>{"use strict";j.r(Ve),j.d(Ve,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Yi,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>un,_addOrOverwriteComponent:()=>on,_apps:()=>yn,_clearComponents:()=>Qr,_components:()=>ni,_getProvider:()=>Qt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Ci,deleteApp:()=>wt,getApp:()=>Hn,getApps:()=>Zn,initializeApp:()=>Tr,onLog:()=>vn,registerVersion:()=>Bn,setLogLevel:()=>di});var u=j(5861),W=j(4859),B=j(1877),ge=j(2090),ve=j(8766);class Ie{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function _e(Q){return"VERSION"===Q.getComponent()?.type}(re)){const Ue=re.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(re=>re).join(" ")}}const Ce="@firebase/app",ee=new B.Yd("@firebase/app"),Jt="[DEFAULT]",tt={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,ni=new Map;function un(Q,ie){try{Q.container.addComponent(ie)}catch(re){ee.debug(`Component ${ie.name} failed to register with FirebaseApp ${Q.name}`,re)}}function on(Q,ie){Q.container.addOrOverwriteComponent(ie)}function Yt(Q){const ie=Q.name;if(ni.has(ie))return ee.debug(`There were multiple attempts to register component ${ie}.`),!1;ni.set(ie,Q);for(const re of yn.values())un(re,Q);return!0}function Qt(Q,ie){const re=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),Q.container.getProvider(ie)}function Ci(Q,ie,re=Jt){Qt(Q,ie).clearInstance(re)}function Qr(){ni.clear()}const jn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dr{constructor(ie,re,Ue){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Yi="9.9.2";function Tr(Q,ie={}){"object"!=typeof ie&&(ie={name:ie});const re=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},ie),Ue=re.name;if("string"!=typeof Ue||!Ue)throw jn.create("bad-app-name",{appName:String(Ue)});const nt=yn.get(Ue);if(nt){if((0,ge.vZ)(Q,nt.options)&&(0,ge.vZ)(re,nt.config))return nt;throw jn.create("duplicate-app",{appName:Ue})}const Ft=new W.H0(Ue);for(const Sn of ni.values())Ft.addComponent(Sn);const Nn=new Dr(Q,re,Ft);return yn.set(Ue,Nn),Nn}function Hn(Q=Jt){const ie=yn.get(Q);if(!ie)throw jn.create("no-app",{appName:Q});return ie}function Zn(){return Array.from(yn.values())}function wt(Q){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(Q){const ie=Q.name;yn.has(ie)&&(yn.delete(ie),yield Promise.all(Q.container.getProviders().map(re=>re.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function Bn(Q,ie,re){var Ue;let nt=null!==(Ue=tt[Q])&&void 0!==Ue?Ue:Q;re&&(nt+=`-${re}`);const Ft=nt.match(/\s|\//),Nn=ie.match(/\s|\//);if(Ft||Nn){const Sn=[`Unable to register library "${nt}" with version "${ie}":`];return Ft&&Sn.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),Ft&&Nn&&Sn.push("and"),Nn&&Sn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void ee.warn(Sn.join(" "))}Yt(new W.wA(`${nt}-version`,()=>({library:nt,version:ie}),"VERSION"))}function vn(Q,ie){if(null!==Q&&"function"!=typeof Q)throw jn.create("invalid-log-argument");(0,B.Am)(Q,ie)}function di(Q){(0,B.Ub)(Q)}const dn="firebase-heartbeat-store";let ii=null;function Tn(){return ii||(ii=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(Q,ie)=>{0===ie&&Q.createObjectStore(dn)}}).catch(Q=>{throw jn.create("idb-open",{originalErrorMessage:Q.message})})),ii}function at(){return(at=(0,u.Z)(function*(Q){var ie;try{return(yield Tn()).transaction(dn).objectStore(dn).get(mn(Q))}catch(re){if(re instanceof ge.ZR)ee.warn(re.message);else{const Ue=jn.create("idb-get",{originalErrorMessage:null===(ie=re)||void 0===ie?void 0:ie.message});ee.warn(Ue.message)}}})).apply(this,arguments)}function Gn(Q,ie){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(Q,ie){var re;try{const nt=(yield Tn()).transaction(dn,"readwrite");return yield nt.objectStore(dn).put(ie,mn(Q)),nt.done}catch(Ue){if(Ue instanceof ge.ZR)ee.warn(Ue.message);else{const nt=jn.create("idb-set",{originalErrorMessage:null===(re=Ue)||void 0===re?void 0:re.message});ee.warn(nt.message)}}})).apply(this,arguments)}function mn(Q){return`${Q.name}!${Q.options.appId}`}class Qi{constructor(ie){this.container=ie,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new qt(re),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var ie=this;return(0,u.Z)(function*(){const Ue=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=Wt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==nt&&!ie._heartbeatsCache.heartbeats.some(Ft=>Ft.date===nt))return ie._heartbeatsCache.heartbeats.push({date:nt,agent:Ue}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Ft=>{const Nn=new Date(Ft.date).valueOf();return Date.now()-Nn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,u.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const re=Wt(),{heartbeatsToSend:Ue,unsentEntries:nt}=function Sr(Q,ie=1024){const re=[];let Ue=Q.slice();for(const nt of Q){const Ft=re.find(Nn=>Nn.agent===nt.agent);if(Ft){if(Ft.dates.push(nt.date),oe(re)>ie){Ft.dates.pop();break}}else if(re.push({agent:nt.agent,dates:[nt.date]}),oe(re)>ie){re.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:re,unsentEntries:Ue}}(ie._heartbeatsCache.heartbeats),Ft=(0,ge.L)(JSON.stringify({version:2,heartbeats:Ue}));return ie._heartbeatsCache.lastSentHeartbeatDate=re,nt.length>0?(ie._heartbeatsCache.heartbeats=nt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Ft})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class qt{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,u.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function ct(Q){return at.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var re=this;return(0,u.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return Gn(re.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ft.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var re=this;return(0,u.Z)(function*(){var Ue;if(yield re._canUseIndexedDBPromise){const Ft=yield re.read();return Gn(re.app,{lastSentHeartbeatDate:null!==(Ue=ie.lastSentHeartbeatDate)&&void 0!==Ue?Ue:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...ie.heartbeats]})}})()}}function oe(Q){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function q(Q){Yt(new W.wA("platform-logger",ie=>new Ie(ie),"PRIVATE")),Yt(new W.wA("heartbeat",ie=>new Qi(ie),"PRIVATE")),Bn(Ce,"0.7.30",Q),Bn(Ce,"0.7.30","esm2017"),Bn("fire-js","")}("")},4859:(St,Ve,j)=>{"use strict";j.d(Ve,{H0:()=>Ce,wA:()=>B,zt:()=>ve});var u=j(5861),W=j(2090);class B{constructor(ee,te,ce){this.name=ee,this.instanceFactory=te,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ge="[DEFAULT]";class ve{constructor(ee,te){this.name=ee,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const te=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(te)){const ce=new W.BH;if(this.instancesDeferred.set(te,ce),this.isInitialized(te)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:te});st&&ce.resolve(st)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(ee){var te;const ce=this.normalizeInstanceIdentifier(ee?.identifier),st=null!==(te=ee?.optional)&&void 0!==te&&te;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ze){if(st)return null;throw Ze}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function _e(Ae){return"EAGER"===Ae.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[te,ce]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(te);try{const Ze=this.getOrInitializeService({instanceIdentifier:st});ce.resolve(Ze)}catch{}}}}clearInstance(ee=ge){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,u.Z)(function*(){const te=Array.from(ee.instances.values());yield Promise.all([...te.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...te.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ge){return this.instances.has(ee)}getOptions(ee=ge){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:te={}}=ee,ce=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:ce,options:te});for(const[Ze,Le]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ze)&&Le.resolve(st);return st}onInit(ee,te){var ce;const st=this.normalizeInstanceIdentifier(te),Ze=null!==(ce=this.onInitCallbacks.get(st))&&void 0!==ce?ce:new Set;Ze.add(ee),this.onInitCallbacks.set(st,Ze);const Le=this.instances.get(st);return Le&&ee(Le,st),()=>{Ze.delete(ee)}}invokeOnInitCallbacks(ee,te){const ce=this.onInitCallbacks.get(te);if(ce)for(const st of ce)try{st(ee,te)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:te={}}){let ce=this.instances.get(ee);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=ee,Ae===ge?void 0:Ae),options:te}),this.instances.set(ee,ce),this.instancesOptions.set(ee,te),this.invokeOnInitCallbacks(ce,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ce)}catch{}var Ae;return ce||null}normalizeInstanceIdentifier(ee=ge){return this.component?this.component.multipleInstances?ee:ge:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const te=this.getProvider(ee.name);if(te.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);te.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const te=new ve(ee,this);return this.providers.set(ee,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(St,Ve,j)=>{"use strict";j.d(Ve,{Am:()=>Ae,Ub:()=>Ce,Yd:()=>_e,in:()=>W});const u=[];var W=(()=>{return(ee=W||(W={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",W;var ee})();const B={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ge=W.INFO,ve={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Ie=(ee,te,...ce)=>{if(te<ee.logLevel)return;const st=(new Date).toISOString(),Ze=ve[te];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Ze](`[${st}]  ${ee.name}:`,...ce)};class _e{constructor(te){this.name=te,this._logLevel=ge,this._logHandler=Ie,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in W))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?B[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...te),this._logHandler(this,W.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...te),this._logHandler(this,W.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,W.INFO,...te),this._logHandler(this,W.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,W.WARN,...te),this._logHandler(this,W.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...te),this._logHandler(this,W.ERROR,...te)}}function Ce(ee){u.forEach(te=>{te.setLogLevel(ee)})}function Ae(ee,te){for(const ce of u){let st=null;te&&te.level&&(st=B[te.level]),ce.userLogHandler=null===ee?null:(Ze,Le,..._t)=>{const Oe=_t.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");Le>=(st??Ze.logLevel)&&ee({level:W[Le].toLowerCase(),message:Oe,args:_t,type:Ze.name})}}}},8766:(St,Ve,j)=>{"use strict";j.d(Ve,{Lj:()=>Ke,X3:()=>ft});var u=j(5861);let B,ge;const _e=new WeakMap,Ce=new WeakMap,Ae=new WeakMap,ee=new WeakMap,te=new WeakMap;let Ze={get(ye,Ee,ae){if(ye instanceof IDBTransaction){if("done"===Ee)return Ce.get(ye);if("objectStoreNames"===Ee)return ye.objectStoreNames||Ae.get(ye);if("store"===Ee)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Te(ye[Ee])},set:(ye,Ee,ae)=>(ye[Ee]=ae,!0),has:(ye,Ee)=>ye instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in ye};function Oe(ye){return"function"==typeof ye?function _t(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...Ee){return ye.apply(ht(this),Ee),Te(_e.get(this))}:function(...Ee){return Te(ye.apply(ht(this),Ee))}:function(Ee,...ae){const le=ye.call(ht(this),Ee,...ae);return Ae.set(le,Ee.sort?Ee.sort():[Ee]),Te(le)}}(ye):(ye instanceof IDBTransaction&&function st(ye){if(Ce.has(ye))return;const Ee=new Promise((ae,le)=>{const he=()=>{ye.removeEventListener("complete",me),ye.removeEventListener("error",Qe),ye.removeEventListener("abort",Qe)},me=()=>{ae(),he()},Qe=()=>{le(ye.error||new DOMException("AbortError","AbortError")),he()};ye.addEventListener("complete",me),ye.addEventListener("error",Qe),ye.addEventListener("abort",Qe)});Ce.set(ye,Ee)}(ye),((ye,Ee)=>Ee.some(ae=>ye instanceof ae))(ye,function ve(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Ze):ye)}function Te(ye){if(ye instanceof IDBRequest)return function ce(ye){const Ee=new Promise((ae,le)=>{const he=()=>{ye.removeEventListener("success",me),ye.removeEventListener("error",Qe)},me=()=>{ae(Te(ye.result)),he()},Qe=()=>{le(ye.error),he()};ye.addEventListener("success",me),ye.addEventListener("error",Qe)});return Ee.then(ae=>{ae instanceof IDBCursor&&_e.set(ae,ye)}).catch(()=>{}),te.set(Ee,ye),Ee}(ye);if(ee.has(ye))return ee.get(ye);const Ee=Oe(ye);return Ee!==ye&&(ee.set(ye,Ee),te.set(Ee,ye)),Ee}const ht=ye=>te.get(ye);function ft(ye,Ee,{blocked:ae,upgrade:le,blocking:he,terminated:me}={}){const Qe=indexedDB.open(ye,Ee),Ye=Te(Qe);return le&&Qe.addEventListener("upgradeneeded",Ot=>{le(Te(Qe.result),Ot.oldVersion,Ot.newVersion,Te(Qe.transaction))}),ae&&Qe.addEventListener("blocked",()=>ae()),Ye.then(Ot=>{me&&Ot.addEventListener("close",()=>me()),he&&Ot.addEventListener("versionchange",()=>he())}).catch(()=>{}),Ye}function Ke(ye,{blocked:Ee}={}){const ae=indexedDB.deleteDatabase(ye);return Ee&&ae.addEventListener("blocked",()=>Ee()),Te(ae).then(()=>{})}const ze=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],lt=new Map;function G(ye,Ee){if(!(ye instanceof IDBDatabase)||Ee in ye||"string"!=typeof Ee)return;if(lt.get(Ee))return lt.get(Ee);const ae=Ee.replace(/FromIndex$/,""),le=Ee!==ae,he=Be.includes(ae);if(!(ae in(le?IDBIndex:IDBObjectStore).prototype)||!he&&!ze.includes(ae))return;const me=function(){var Qe=(0,u.Z)(function*(Ye,...Ot){const gn=this.transaction(Ye,he?"readwrite":"readonly");let Jt=gn.store;return le&&(Jt=Jt.index(Ot.shift())),(yield Promise.all([Jt[ae](...Ot),he&&gn.done]))[0]});return function(Ot){return Qe.apply(this,arguments)}}();return lt.set(Ee,me),me}!function Le(ye){Ze=ye(Ze)}(ye=>({...ye,get:(Ee,ae,le)=>G(Ee,ae)||ye.get(Ee,ae,le),has:(Ee,ae)=>!!G(Ee,ae)||ye.has(Ee,ae)}))},5861:(St,Ve,j)=>{"use strict";function u(B,ge,ve,Ie,_e,Ce,Ae){try{var ee=B[Ce](Ae),te=ee.value}catch(ce){return void ve(ce)}ee.done?ge(te):Promise.resolve(te).then(Ie,_e)}function W(B){return function(){var ge=this,ve=arguments;return new Promise(function(Ie,_e){var Ce=B.apply(ge,ve);function Ae(te){u(Ce,Ie,_e,Ae,ee,"next",te)}function ee(te){u(Ce,Ie,_e,Ae,ee,"throw",te)}Ae(void 0)})}}j.d(Ve,{Z:()=>W})}},St=>{St(St.s=6478)}]);